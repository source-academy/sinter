!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="Pq/i")}({"+dHa":function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function*i(e,n){if(e instanceof L){if(e.isMemoized)return e.value;t.pushEnvironment(n,e.env);const r=yield*s(e.exp,n);return O(n),e.value=r,e.isMemoized=!0,r}return e}function*s(e,t){const n=yield*d(e,t);return yield*i(n,t)}function o(e,t,n){const r=M(e);if(r.head.hasOwnProperty(t)){const i=Object.getOwnPropertyDescriptors(r.head);return R(e,new m.VariableRedeclaration(n,t,i[t].writable))}return r.head[t]=I,r}function a(e,t){for(const n of t.declarations)o(e,n.id.name,t)}function l(e,t,n,r=!1){const i=e.runtime.environments[0];return i.head[t]!==I?R(e,new m.VariableRedeclaration(e.runtime.nodes[0],t,!r)):(Object.defineProperty(i.head,t,{value:n,writable:!r,enumerable:!0}),i)}function*u(e,t){const n=[];for(const o of t.arguments)"lazy"===e.variant?n.push((r=o,i=M(e),new L(r,i))):"SpreadElement"===o.type?n.push(...yield*s(o.argument,e)):n.push(yield*s(o,e));var r,i;return n}function c(e){return"&&"===e.operator?x.conditionalExpression(e.left,e.right,x.literal(!1),e.loc):x.conditionalExpression(e.left,x.literal(!0),e.right,e.loc)}function*h(e,t){const n=yield*s(e.test,t),r=_.checkIfStatement(e,n,t.chapter);return r?R(t,r):n?e.consequent:e.alternate}function*p(e,t){let n;!function(e,t){for(const n of t.body)switch(n.type){case"VariableDeclaration":a(e,n);break;case"FunctionDeclaration":o(e,n.id.name,n)}}(e,t);for(const r of t.body)if(n=yield*d(r,e),n instanceof k||n instanceof C||n instanceof A||n instanceof E)break;return n}function*d(e,n){yield*function*(e,t){v.checkEditorBreakpoints(e,t),e.runtime.nodes.unshift(t),yield e}(n,e);const r=yield*t.evaluators[e.type](e,n);return yield*function*(e){e.runtime.break=!1,e.runtime.nodes.shift(),yield e}(n),r}function*f(e,n,r,s,o){let a,l=0;for(;!(a instanceof k);)if(n instanceof w.default){D(e,n,r,s);const i=$(n,r,s);a instanceof C?N(e,i):(t.pushEnvironment(e,i),l++);const u=t.createBlockEnvironment(e,"functionBodyEnvironment");u.thisContext=o,t.pushEnvironment(e,u),a=yield*p(e,n.node.body),O(e),a instanceof C?(n=a.callee,s=a.node,r=a.args):a instanceof k||(a=new k(void 0))}else if(n instanceof S.LazyBuiltIn)try{let t=r;if(n.evaluateArgs){t=[];for(const n of r)t.push(yield*i(n,e))}a=n.func.apply(o,t);break}catch(t){e.runtime.environments=e.runtime.environments.slice(-e.numberOfOuterEnvironments);if(!(t instanceof y.RuntimeSourceError||t instanceof m.ExceptionError))return R(e,new m.ExceptionError(t,s?s.loc:g.UNKNOWN_LOCATION));throw a=void 0,t}else{if("function"!=typeof n)return R(e,new m.CallingNonFunctionValue(n,s));D(e,n,r,s);try{const t=[];for(const n of r)t.push(yield*i(n,e));a=n.apply(o,t);break}catch(t){e.runtime.environments=e.runtime.environments.slice(-e.numberOfOuterEnvironments);if(!(t instanceof y.RuntimeSourceError||t instanceof m.ExceptionError))return R(e,new m.ExceptionError(t,s?s.loc:g.UNKNOWN_LOCATION));throw a=void 0,t}}a instanceof k&&(a=a.value);for(let t=1;t<=l;t++)O(e);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.apply=t.evaluate=t.evaluators=t.pushEnvironment=t.createBlockEnvironment=t.actualValue=void 0;const g=n("Otp2"),m=n("JFiO"),y=n("5AhW"),v=n("A6L2"),x=n("my7b"),b=n("B4Ta"),_=n("SG+n"),w=n("TK+R"),S=n("D9C7"),T=n("A0Sc");class A{}class E{}class k{constructor(e){this.value=e}}class C{constructor(e,t,n){this.callee=e,this.args=t,this.node=n}}class L{constructor(e,t){this.exp=e,this.env=t,this.isMemoized=!1,this.value=null}}t.actualValue=s;const $=(e,t,n)=>{const i={name:e.functionName,tail:e.environment,head:{}};return n&&(i.callExpression=r(r({},n),{arguments:t.map(x.primitive)})),e.node.params.forEach(((e,n)=>{"RestElement"===e.type?i.head[e.argument.name]=t.slice(n):i.head[e.name]=t[n]})),i};t.createBlockEnvironment=(e,t="blockEnvironment",n={})=>({name:t,tail:M(e),head:n});const R=(e,t)=>{throw e.errors.push(t),e.runtime.environments=e.runtime.environments.slice(-e.numberOfOuterEnvironments),t},I=Symbol("Used to implement hoisting"),M=e=>e.runtime.environments[0],N=(e,t)=>{e.runtime.environments[0]=t,e.runtime.environmentTree.insert(t)},O=e=>e.runtime.environments.shift();t.pushEnvironment=(e,t)=>{e.runtime.environments.unshift(t),e.runtime.environmentTree.insert(t)};const D=(e,t,n,r)=>{var i;if(t instanceof w.default){const s=t.node.params,o="RestElement"===(null===(i=s[s.length-1])||void 0===i?void 0:i.type);if(o?s.length-1>n.length:s.length!==n.length)return R(e,new m.InvalidNumberOfArguments(r,o?s.length-1:s.length,n.length,o))}else{const i=null!=t.minArgsNeeded;if(i?t.minArgsNeeded>n.length:t.length!==n.length)return R(e,new m.InvalidNumberOfArguments(r,i?t.minArgsNeeded:t.length,n.length,i))}};t.evaluators={Literal:function*(e){return e.value},TemplateLiteral:function*(e){return e.quasis[0].value.cooked},ThisExpression:function*(e,t){return t.runtime.environments[0].thisContext},ArrayExpression:function*(e,t){const n=[];for(const r of e.elements)n.push(yield*d(r,t));return n},DebuggerStatement:function*(e,t){t.runtime.break=!0,yield},FunctionExpression:function*(e,t){return new w.default(e,M(t),t)},ArrowFunctionExpression:function*(e,t){return w.default.makeFromArrowFunction(e,M(t),t)},Identifier:function*(e,t){return((e,t)=>{let n=e.runtime.environments[0];for(;n;){if(n.head.hasOwnProperty(t))return n.head[t]===I?R(e,new m.UnassignedVariable(t,e.runtime.nodes[0])):n.head[t];n=n.tail}return R(e,new m.UndefinedVariable(t,e.runtime.nodes[0]))})(t,e.name)},CallExpression:function*(e,t){const n=yield*s(e.callee,t),r=yield*u(t,e);let i;"MemberExpression"===e.callee.type&&(i=yield*s(e.callee.object,t));return yield*f(t,n,r,e,i)},NewExpression:function*(e,t){const n=yield*d(e.callee,t),r=[];for(const n of e.arguments)r.push(yield*d(n,t));const i={};return n instanceof w.default?(i.__proto__=n.fun.prototype,n.fun.apply(i,r)):(i.__proto__=n.prototype,n.apply(i,r)),i},UnaryExpression:function*(e,t){const n=yield*s(e.argument,t),r=_.checkUnaryExpression(e,e.operator,n,t.chapter);return r?R(t,r):b.evaluateUnaryExpression(e.operator,n)},BinaryExpression:function*(e,t){const n=yield*s(e.left,t),r=yield*s(e.right,t),i=_.checkBinaryExpression(e,e.operator,t.chapter,n,r);return i?R(t,i):b.evaluateBinaryExpression(e.operator,n,r)},ConditionalExpression:function*(e,t){return yield*this.IfStatement(e,t)},LogicalExpression:function*(e,t){return yield*this.ConditionalExpression(c(e),t)},VariableDeclaration:function*(e,t){const n=e.declarations[0],r="const"===e.kind,i=n.id,s=yield*d(n.init,t);l(t,i.name,s,r)},ContinueStatement:function*(){return new E},BreakStatement:function*(){return new A},ForStatement:function*(e,n){const r=t.createBlockEnvironment(n,"forLoopEnvironment");t.pushEnvironment(n,r);const i=e.init,u=e.test,c=e.update;let h;for("VariableDeclaration"===i.type&&a(n,i),yield*s(i,n);yield*s(u,n);){const i=t.createBlockEnvironment(n,"forBlockEnvironment");t.pushEnvironment(n,i);for(const t in r.head)r.head.hasOwnProperty(t)&&(o(n,t,e),l(n,t,r.head[t],!0));if(h=yield*s(e.body,n),O(n),h instanceof E&&(h=void 0),h instanceof A){h=void 0;break}if(h instanceof k||h instanceof C)break;yield*s(c,n)}return O(n),h},MemberExpression:function*(e,t){let n,r=yield*s(e.object,t);r instanceof w.default&&(r=r.fun),n=e.computed?yield*s(e.property,t):e.property.name;const i=_.checkMemberAccess(e,r,n);if(i)return R(t,i);if(null!=r&&void 0!==r[n]&&!r.hasOwnProperty(n))return R(t,new m.GetInheritedPropertyError(e,r,n));try{return r[n]}catch(i){return R(t,new m.GetPropertyError(e,r,n))}},AssignmentExpression:function*(e,t){if("MemberExpression"===e.left.type){const n=e.left,r=yield*s(n.object,t);let i;i=n.computed?yield*s(n.property,t):n.property.name;const o=_.checkMemberAccess(e,r,i);if(o)return R(t,o);const a=yield*d(e.right,t);try{r[i]=a}catch(n){return R(t,new m.SetPropertyError(e,r,i))}return a}const n=e.left,r=yield*d(e.right,t);return((e,t,n)=>{let r=e.runtime.environments[0];for(;r;){if(r.head.hasOwnProperty(t)){if(r.head[t]===I)break;return Object.getOwnPropertyDescriptors(r.head)[t].writable?void(r.head[t]=n):R(e,new m.ConstAssignment(e.runtime.nodes[0],t))}r=r.tail}R(e,new m.UndefinedVariable(t,e.runtime.nodes[0]))})(t,n.name,r),r},FunctionDeclaration:function*(e,t){const n=e.id,r=new w.default(e,M(t),t);l(t,n.name,r,!0)},IfStatement:function*(e,t){const n=yield*h(e,t);if(null!==n)return yield*d(n,t)},ExpressionStatement:function*(e,t){return yield*d(e.expression,t)},ReturnStatement:function*(e,t){let n=e.argument;for(;"LogicalExpression"===n.type||"ConditionalExpression"===n.type;)"LogicalExpression"===n.type&&(n=c(n)),n=yield*h(n,t);if("CallExpression"===n.type&&"lazy"!==t.variant){const e=yield*s(n.callee,t),r=yield*u(t,n);return new C(e,r,n)}return new k(yield*d(n,t))},WhileStatement:function*(e,t){let n;for(;(yield*s(e.test,t))&&!(n instanceof k)&&!(n instanceof A)&&!(n instanceof C);)n=yield*s(e.body,t);if(!(n instanceof A))return n},ObjectExpression:function*(e,t){const n={};for(const r of e.properties){const e=r;let i;i="Identifier"===e.key.type?e.key.name:yield*d(e.key,t),n[i]=yield*d(e.value,t)}return n},BlockStatement:function*(e,n){const r=t.createBlockEnvironment(n,"blockEnvironment");t.pushEnvironment(n,r);const i=yield*p(n,e);return O(n),i},ImportDeclaration:function*(e,t){const n=e.source.value,r=e.specifiers.map((e=>{if("ImportSpecifier"!==e.type)throw new Error(`I expected only ImportSpecifiers to be allowed, but encountered ${e.type}.`);return{imported:e.imported.name,local:e.local.name}})),i=T.loadModuleBundle(n,t,e);!function(e,t){for(const n of t.specifiers)o(e,n.local.name,t)}(t,e);for(const e of r)l(t,e.local,i[e.imported],!0)},Program:function*(e,n){n.numberOfOuterEnvironments+=1;const r=t.createBlockEnvironment(n,"programEnvironment");t.pushEnvironment(n,r);return yield*i(yield*p(n,e),n)}},t.evaluate=d,t.apply=f},"+t3Y":function(e,t,n){"use strict";function r(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);a.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){o(e,t,n)})):o(this,null,null)}function o(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=i;var a=n("A/eZ"),l=Object.create(n("nrnY"));l.inherits=n("wfEq"),l.inherits(i,a),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},i.prototype._transform=function(){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},i.prototype._destroy=function(e,t){var n=this;a.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},0:function(){},"0ZcR":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.libraryParserLanguage=void 0,t.libraryParserLanguage=100;t.default={Program:1,BlockStatement:1,ExpressionStatement:1,IfStatement:1,ReturnStatement:1,FunctionDeclaration:1,VariableDeclaration:1,VariableDeclarator:1,ArrowFunctionExpression:1,UnaryExpression:1,BinaryExpression:1,LogicalExpression:1,ConditionalExpression:1,CallExpression:1,Identifier:1,Literal:1,TemplateLiteral:1,TemplateElement:1,DebuggerStatement:1,ImportDeclaration:1,ImportSpecifier:1,BreakStatement:3,ContinueStatement:3,WhileStatement:3,ForStatement:3,MemberPattern:3,ArrayExpression:3,AssignmentExpression:3,MemberExpression:3,Property:3,SpreadElement:3,RestElement:3,ObjectExpression:t.libraryParserLanguage,NewExpression:t.libraryParserLanguage,TryStatement:t.libraryParserLanguage,CatchClause:t.libraryParserLanguage,ThrowStatement:t.libraryParserLanguage,ThisExpression:t.libraryParserLanguage,Super:t.libraryParserLanguage,ClassDeclaration:t.libraryParserLanguage,ClassExpression:t.libraryParserLanguage,Class:t.libraryParserLanguage,ClassBody:t.libraryParserLanguage,MethodDefinition:t.libraryParserLanguage,FunctionExpression:t.libraryParserLanguage,UpdateExpression:1/0,Statement:1/0,EmptyStatement:1/0,ParenthesizedExpression:1/0,LabeledStatement:1/0,WithStatement:1/0,SwitchStatement:1/0,SwitchCase:1/0,YieldExpression:1/0,AwaitExpression:1/0,DoWhileStatement:1/0,ForInStatement:1/0,ForOfStatement:1/0,ForInit:1/0,Function:1/0,Pattern:1/0,VariablePattern:1/0,ArrayPattern:1/0,ObjectPattern:1/0,Expression:1/0,MetaProperty:1/0,SequenceExpression:1/0,AssignmentPattern:1/0,ExportNamedDeclaration:1/0,ExportDefaultDeclaration:1/0,ExportAllDeclaration:1/0,ImportDefaultSpecifier:1/0,ImportNamespaceSpecifier:1/0,TaggedTemplateExpression:1/0}},"0clT":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nonDetPrelude=void 0,t.nonDetPrelude='\n    function require(predicate) {\n        return predicate ? "Satisfied require" : amb();\n    }\n\n    function an_element_of(items) {\n        require(!is_null(items));\n        return amb(head(items), an_element_of(tail(items)));\n    }\n\n    function an_integer_between(low, high) {\n        return low > high ? amb() : amb(low, an_integer_between(low + 1, high));\n    }\n\n    /* Material Conditional */\n    /* if P, then Q */\n    /* P --\x3e Q */\n    function implication(P, Q) {\n        return !P || Q;\n    }\n\n    /* Material Biconditional */\n    /* (if P, then Q) AND (if Q, then P) */\n    /* P <--\x3e Q */\n    function bi_implication(P, Q) {\n        return implication(P, Q) && implication(Q, P);\n    }\n'},1:function(){},"1hwd":function(e){e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)t.call(r,i)&&(e[i]=r[i])}return e};var t=Object.prototype.hasOwnProperty},"255Z":function(e,t,n){"use strict";function r(e,t){return[e,t]}function i(e){return function(e){return void 0===Array.isArray?e instanceof Array:Array.isArray(e)}(e)&&2===e.length}function s(e){if(i(e))return e[0];throw new Error("head(xs) expects a pair as argument xs, but encountered "+h.stringify(e))}function o(e){if(i(e))return e[1];throw new Error("tail(xs) expects a pair as argument xs, but encountered "+h.stringify(e))}function a(e){return null===e}function l(...e){let t=null;for(let n=e.length-1;n>=0;n-=1)t=r(e[n],t);return t}function u(e,t){if(!i(e))throw new Error("set_head(xs,x) expects a pair as argument xs, but encountered "+h.stringify(e));e[0]=t}function c(e,t){if(!i(e))throw new Error("set_tail(xs,x) expects a pair as argument xs, but encountered "+h.stringify(e));e[1]=t}Object.defineProperty(t,"__esModule",{value:!0}),t.rawDisplayList=t.set_tail=t.set_head=t.vector_to_list=t.list_to_vector=t.list=t.is_null=t.tail=t.head=t.is_pair=t.pair=void 0;const h=n("GFFv");t.pair=r,t.is_pair=i,t.head=s,t.tail=o,t.is_null=a,t.list=l,t.list_to_vector=function(e){const t=[];for(;!a(e);)t.push(s(e)),e=o(e);return t},t.vector_to_list=function(e){return l(...e)},t.set_head=u,t.set_tail=c,t.rawDisplayList=function(e,t,n){function l(e){return p.get(e)||e}const h=new Set,p=new Map;class d{constructor(e){this.replPrefix="list(",this.replSuffix=")",this.listNode=e}replArrayContents(){const e=[];let t=this.listNode;for(;null!==t;)e.push(s(t)),t=o(t);return e}}const f=[];let g=0;for(f.push(t);g<f.length;){const e=f[g];g++,h.has(e)||(h.add(e),i(e)&&f.push(s(e),o(e)))}for(;f.length>0;){const e=f.pop();if(!i(e))continue;const t=s(e),n=o(e),u=l(n),c=a(u)||u instanceof d?new d(r(t,n)):r(t,n);p.set(e,c)}for(const e of p.values())if(i(e))u(e,l(s(e))),c(e,l(o(e)));else if(e instanceof d){u(e.listNode,l(s(e.listNode)));let t=l(o(e.listNode));t instanceof d&&(t=t.listNode),c(e.listNode,t)}return e(l(t),n),t}},"36Vq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("NAQH"),i=n("g4mi"),s=n("X7hy"),o=n("tV8f"),a=n("sqee"),l=n("cZXM"),u=n("60T1"),c=n("ud1U"),h=n("u+Ul"),p=n("kMiM"),d=n("mbKv"),f=n("aRQd"),g=n("IHZQ"),m=n("lXuL"),y=n("Lqhk"),v=n("zABw"),x=n("ig9r"),b=n("3Het"),_=n("7p7F");t.default=[r.default,i.default,s.default,o.default,a.default,l.default,h.default,p.default,d.default,f.default,g.default,m.default,y.default,v.default,x.default,u.default,c.default,b.default,_.default]},"3Het":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoTemplateExpressionError=void 0;const r=n("QyX9");class i{constructor(e){this.node=e,this.type=r.ErrorType.SYNTAX,this.severity=r.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Expressions are not allowed in template literals (`multiline strings`)"}elaborate(){return this.explain()}}t.NoTemplateExpressionError=i;t.default={name:"no-template-expression",checkers:{TemplateLiteral:e=>e.expressions.length>0?[new i(e)]:[]}}},"3SHh":function(e,t,n){"use strict";function r(e,t){void 0===u&&(u=new TextEncoder);const n=u.encode(t);e.align(4),e.putU(16,1),e.putU(32,n.byteLength+1),e.putA(n),e.putU(8,0)}Object.defineProperty(t,"__esModule",{value:!0}),t.assemble=void 0;const i=n("a4Df"),s=n("Ib16"),o=1342549165,a=0,l=0;let u;t.assemble=function(e){const[t,n]=e,u=n.map((e=>function(e){const[t,n,r,o]=e,a=[],l=new i.default;l.putU(8,t),l.putU(8,n),l.putU(8,r),l.putU(8,0);const u=o.map((e=>s.getInstructionSize(e[0]))).reduce(((e,t)=>(e.push(e[e.length-1]+t),e)),[0]);for(const[e,t]of o.map(((e,t)=>[e,t]))){if(e[0]<0||e[0]>s.OPCODE_MAX)throw new Error(`Invalid opcode ${e[0].toString()}`);const n=e[0];switch(l.putU(8,n),n){case s.default.LDCI:case s.default.LGCI:if(!Number.isInteger(e[1]))throw new Error(`Non-integral operand to LDCI/LDGI: ${e[1]} (this is a compiler bug)`);l.putI(32,e[1]);break;case s.default.LDCF32:case s.default.LGCF32:l.putF(32,e[1]);break;case s.default.LDCF64:case s.default.LGCF64:l.putF(64,e[1]);break;case s.default.LGCS:a.push({offset:l.cursor,referent:["string",e[1]]}),l.putU(32,0);break;case s.default.NEWC:a.push({offset:l.cursor,referent:["function",e[1][0]]}),l.putU(32,0);break;case s.default.LDLG:case s.default.LDLF:case s.default.LDLB:case s.default.STLG:case s.default.STLF:case s.default.STLB:case s.default.CALL:case s.default.CALLT:case s.default.NEWENV:case s.default.NEWCP:case s.default.NEWCV:l.putU(8,e[1]);break;case s.default.LDPG:case s.default.LDPF:case s.default.LDPB:case s.default.STPG:case s.default.STPF:case s.default.STPB:case s.default.CALLP:case s.default.CALLTP:case s.default.CALLV:case s.default.CALLTV:l.putU(8,e[1]),l.putU(8,e[2]);break;case s.default.BRF:case s.default.BRT:case s.default.BR:l.putI(32,u[t+e[1]]-u[t+1]);break;case s.default.JMP:throw new Error("JMP assembling not implemented")}}const c=l.asArray();if(c.byteLength-4!==u[u.length-1])throw new Error(`Assembler bug: calculated function length ${u[u.length-1]} is different from actual length ${c.byteLength-4}`);return{binary:l.asArray(),holes:a,finalOffset:null}}(e))),c=[...new Set([].concat(...u.map((e=>e.holes.filter((e=>"string"===e.referent[0])).map((e=>e.referent[1]))))))],h=new i.default;h.cursor=16;const p=new Map;for(const e of c)h.align(4),p.set(e,h.cursor),r(h,e);const d=h.cursor;for(const e of u)h.align(4),e.finalOffset=h.cursor,h.cursor+=e.binary.byteLength;for(const e of u){const t=new DataView(e.binary.buffer);for(const n of e.holes){let e;if(e="string"===n.referent[0]?p.get(n.referent[1]):u[n.referent[1]].finalOffset,!e)throw new Error(`Assembler bug: missing string/function: ${JSON.stringify(n)}`);t.setUint32(n.offset,e,!0)}}h.cursor=d;for(const e of u){if(h.align(4),h.cursor!==e.finalOffset)throw new Error("Assembler bug: function offset changed");h.putA(e.binary)}var f,g,m;return h.cursor=0,g=u[t].finalOffset,m=c.length,(f=h).cursor=0,f.putU(32,o),f.putU(16,a),f.putU(16,l),f.putU(32,g),f.putU(32,m),h.asArray()}},"3mKH":function(e,t,n){(function(e,r,i){var s=n("eoLT"),o=n("wfEq"),a=n("5Ekh"),l=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(t,n,o,l){var u=this;if(a.Readable.call(u),u._mode=o,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",(function(){e.nextTick((function(){u.emit("close")}))})),"fetch"===o){if(u._fetchResponse=n,u.url=n.url,u.statusCode=n.status,u.statusMessage=n.statusText,n.headers.forEach((function(e,t){u.headers[t.toLowerCase()]=e,u.rawHeaders.push(t,e)})),s.writableStream){var c=new WritableStream({write:function(e){return new Promise((function(t,n){u._destroyed?n():u.push(new r(e))?t():u._resumeFetch=t}))},close:function(){i.clearTimeout(l),u._destroyed||u.push(null)},abort:function(e){u._destroyed||u.emit("error",e)}});try{return void n.body.pipeTo(c).catch((function(e){i.clearTimeout(l),u._destroyed||u.emit("error",e)}))}catch(e){}}var h=n.body.getReader();!function e(){h.read().then((function(t){if(!u._destroyed){if(t.done)return i.clearTimeout(l),void u.push(null);u.push(new r(t.value)),e()}})).catch((function(e){i.clearTimeout(l),u._destroyed||u.emit("error",e)}))}()}else{if(u._xhr=t,u._pos=0,u.url=t.responseURL,u.statusCode=t.status,u.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===u.headers[n]&&(u.headers[n]=[]),u.headers[n].push(t[2])):void 0!==u.headers[n]?u.headers[n]+=", "+t[2]:u.headers[n]=t[2],u.rawHeaders.push(t[1],t[2])}})),u._charset="x-user-defined",!s.overrideMimeType){var p=u.rawHeaders["mime-type"];if(p){var d=p.match(/;\s*charset=([^;])(;|$)/);d&&(u._charset=d[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};o(u,a.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==l.DONE)break;try{n=new i.VBArray(t.responseBody).toArray()}catch(e){}if(null!==n){e.push(new r(n));break}case"text":try{n=t.responseText}catch(t){e._mode="text:vbarray";break}if(n.length>e._pos){var s=n.substr(e._pos);if("x-user-defined"===e._charset){for(var o=new r(s.length),a=0;a<s.length;a++)o[a]=255&s.charCodeAt(a);e.push(o)}else e.push(s,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==l.DONE||!t.response)break;n=t.response,e.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==l.LOADING||!n)break;e.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==l.LOADING)break;var u=new i.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(n)}e._xhr.readyState===l.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,n("5IsQ"),n("zkTx").Buffer,n("pCvA"))},"4N5z":function(e,t,n){"use strict";function r(e){return e.name===l}function i(){}function s(e){return e<14&&e>8||32===e||160===e||Object(a.isNewLine)(e)}function o(e,t){return u.parse(e,t)}n.r(t),n.d(t,"LooseParser",(function(){return u})),n.d(t,"isDummy",(function(){return r})),n.d(t,"parse",(function(){return o}));var a=n("Xy3c"),l="✖",u=function(e,t){if(void 0===t&&(t={}),this.toks=this.constructor.BaseParser.tokenizer(e,t),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:a.tokTypes.eof,start:0,end:0},this.tok.validateRegExpFlags=i,this.tok.validateRegExpPattern=i,this.options.locations){var n=this.toks.curPosition();this.tok.loc=new a.SourceLocation(this.toks,n,n)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.inGenerator=!1,this.inFunction=!1};u.prototype.startNode=function(){return new a.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},u.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},u.prototype.startNodeAt=function(e){return this.options.locations?new a.Node(this.toks,e[0],e[1]):new a.Node(this.toks,e)},u.prototype.finishNode=function(e,t){return e.type=t,e.end=this.last.end,this.options.locations&&(e.loc.end=this.last.loc.end),this.options.ranges&&(e.range[1]=this.last.end),e},u.prototype.dummyNode=function(e){var t=this.startNode();return t.type=e,t.end=t.start,this.options.locations&&(t.loc.end=t.loc.start),this.options.ranges&&(t.range[1]=t.start),this.last={type:a.tokTypes.name,start:t.start,end:t.start,loc:t.loc},t},u.prototype.dummyIdent=function(){var e=this.dummyNode("Identifier");return e.name=l,e},u.prototype.dummyString=function(){var e=this.dummyNode("Literal");return e.value=e.raw=l,e},u.prototype.eat=function(e){return this.tok.type===e&&(this.next(),!0)},u.prototype.isContextual=function(e){return this.tok.type===a.tokTypes.name&&this.tok.value===e},u.prototype.eatContextual=function(e){return this.tok.value===e&&this.eat(a.tokTypes.name)},u.prototype.canInsertSemicolon=function(){return this.tok.type===a.tokTypes.eof||this.tok.type===a.tokTypes.braceR||a.lineBreak.test(this.input.slice(this.last.end,this.tok.start))},u.prototype.semicolon=function(){return this.eat(a.tokTypes.semi)},u.prototype.expect=function(e){if(this.eat(e))return!0;for(var t=1;t<=2;t++)if(this.lookAhead(t).type===e){for(var n=0;n<t;n++)this.next();return!0}},u.prototype.pushCx=function(){this.context.push(this.curIndent)},u.prototype.popCx=function(){this.curIndent=this.context.pop()},u.prototype.lineEnd=function(e){for(;e<this.input.length&&!Object(a.isNewLine)(this.input.charCodeAt(e));)++e;return e},u.prototype.indentationAfter=function(e){for(var t=0;;++e){var n=this.input.charCodeAt(e);if(32===n)++t;else{if(9!==n)return t;t+=this.options.tabSize}}},u.prototype.closes=function(e,t,n,r){return this.tok.type===e||this.tok.type===a.tokTypes.eof||n!==this.curLineStart&&this.curIndent<t&&this.tokenStartsLine()&&(!r||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<t)},u.prototype.tokenStartsLine=function(){for(var e=this.tok.start-1;e>=this.curLineStart;--e){var t=this.input.charCodeAt(e);if(9!==t&&32!==t)return!1}return!0},u.prototype.extend=function(e,t){this[e]=t(this[e])},u.prototype.parse=function(){return this.next(),this.parseTopLevel()},u.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},u.parse=function(e,t){return new this(e,t).parse()},u.BaseParser=a.Parser;var c=u.prototype;c.next=function(){if(this.last=this.tok,this.tok=this.ahead.length?this.ahead.shift():this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},c.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===a.tokTypes.dot&&"."===this.input.substr(this.toks.end,1)&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=a.tokTypes.ellipsis),new a.Token(this.toks)}catch(o){if(!(o instanceof SyntaxError))throw o;var e=o.message,t=o.raisedAt,n=!0;if(/unterminated/i.test(e))if(t=this.lineEnd(o.pos+1),/string/.test(e))n={start:o.pos,end:t,type:a.tokTypes.string,value:this.input.slice(o.pos+1,t)};else if(/regular expr/i.test(e)){var r=this.input.slice(o.pos,t);try{r=new RegExp(r)}catch(e){}n={start:o.pos,end:t,type:a.tokTypes.regexp,value:r}}else n=!!/template/.test(e)&&{start:o.pos,end:t,type:a.tokTypes.template,value:this.input.slice(o.pos,t)};else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(e))for(;t<this.input.length&&!s(this.input.charCodeAt(t));)++t;else if(/character escape|expected hexadecimal/i.test(e))for(;t<this.input.length;){var i=this.input.charCodeAt(t++);if(34===i||39===i||Object(a.isNewLine)(i))break}else if(/unexpected character/i.test(e))t++,n=!1;else{if(!/regular expression/i.test(e))throw o;n=!0}if(this.resetTo(t),!0===n&&(n={start:t,end:t,type:a.tokTypes.name,value:l}),n)return this.options.locations&&(n.loc=new a.SourceLocation(this.toks,Object(a.getLineInfo)(this.input,n.start),Object(a.getLineInfo)(this.input,n.end))),n}},c.resetTo=function(e){this.toks.pos=e;var t,n=this.input.charAt(e-1);if(this.toks.exprAllowed=!n||/[[{(,;:?/*=+\-~!|&%^<>]/.test(n)||/[enwfd]/.test(n)&&/\b(case|else|return|throw|new|in|(instance|type)?of|delete|void)$/.test(this.input.slice(e-10,e)),this.options.locations)for(this.toks.curLine=1,this.toks.lineStart=a.lineBreakG.lastIndex=0;(t=a.lineBreakG.exec(this.input))&&t.index<e;)++this.toks.curLine,this.toks.lineStart=t.index+t[0].length},c.lookAhead=function(e){for(;e>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[e-1]};var h=u.prototype;h.parseTopLevel=function(){var e=this.startNodeAt(this.options.locations?[0,Object(a.getLineInfo)(this.input,0)]:0);for(e.body=[];this.tok.type!==a.tokTypes.eof;)e.body.push(this.parseStatement());return this.toks.adaptDirectivePrologue(e.body),this.last=this.tok,e.sourceType=this.options.sourceType,this.finishNode(e,"Program")},h.parseStatement=function(){var e,t=this.tok.type,n=this.startNode();switch(this.toks.isLet()&&(t=a.tokTypes._var,e="let"),t){case a.tokTypes._break:case a.tokTypes._continue:this.next();var i=t===a.tokTypes._break;return this.semicolon()||this.canInsertSemicolon()?n.label=null:(n.label=this.tok.type===a.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(n,i?"BreakStatement":"ContinueStatement");case a.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(n,"DebuggerStatement");case a.tokTypes._do:return this.next(),n.body=this.parseStatement(),n.test=this.eat(a.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(n,"DoWhileStatement");case a.tokTypes._for:this.next();var s=this.options.ecmaVersion>=9&&this.eatContextual("await");if(this.pushCx(),this.expect(a.tokTypes.parenL),this.tok.type===a.tokTypes.semi)return this.parseFor(n,null);var o=this.toks.isLet();if(o||this.tok.type===a.tokTypes._var||this.tok.type===a.tokTypes._const){var l=this.parseVar(this.startNode(),!0,o?"let":this.tok.value);return 1!==l.declarations.length||this.tok.type!==a.tokTypes._in&&!this.isContextual("of")?this.parseFor(n,l):(this.options.ecmaVersion>=9&&this.tok.type!==a.tokTypes._in&&(n.await=s),this.parseForIn(n,l))}var u=this.parseExpression(!0);return this.tok.type===a.tokTypes._in||this.isContextual("of")?(this.options.ecmaVersion>=9&&this.tok.type!==a.tokTypes._in&&(n.await=s),this.parseForIn(n,this.toAssignable(u))):this.parseFor(n,u);case a.tokTypes._function:return this.next(),this.parseFunction(n,!0);case a.tokTypes._if:return this.next(),n.test=this.parseParenExpression(),n.consequent=this.parseStatement(),n.alternate=this.eat(a.tokTypes._else)?this.parseStatement():null,this.finishNode(n,"IfStatement");case a.tokTypes._return:return this.next(),this.eat(a.tokTypes.semi)||this.canInsertSemicolon()?n.argument=null:(n.argument=this.parseExpression(),this.semicolon()),this.finishNode(n,"ReturnStatement");case a.tokTypes._switch:var c,h=this.curIndent,p=this.curLineStart;for(this.next(),n.discriminant=this.parseParenExpression(),n.cases=[],this.pushCx(),this.expect(a.tokTypes.braceL);!this.closes(a.tokTypes.braceR,h,p,!0);)if(this.tok.type===a.tokTypes._case||this.tok.type===a.tokTypes._default){var d=this.tok.type===a.tokTypes._case;c&&this.finishNode(c,"SwitchCase"),n.cases.push(c=this.startNode()),c.consequent=[],this.next(),c.test=d?this.parseExpression():null,this.expect(a.tokTypes.colon)}else c||(n.cases.push(c=this.startNode()),c.consequent=[],c.test=null),c.consequent.push(this.parseStatement());return c&&this.finishNode(c,"SwitchCase"),this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(n,"SwitchStatement");case a.tokTypes._throw:return this.next(),n.argument=this.parseExpression(),this.semicolon(),this.finishNode(n,"ThrowStatement");case a.tokTypes._try:if(this.next(),n.block=this.parseBlock(),n.handler=null,this.tok.type===a.tokTypes._catch){var f=this.startNode();this.next(),this.eat(a.tokTypes.parenL)?(f.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(a.tokTypes.parenR)):f.param=null,f.body=this.parseBlock(),n.handler=this.finishNode(f,"CatchClause")}return n.finalizer=this.eat(a.tokTypes._finally)?this.parseBlock():null,n.handler||n.finalizer?this.finishNode(n,"TryStatement"):n.block;case a.tokTypes._var:case a.tokTypes._const:return this.parseVar(n,!1,e||this.tok.value);case a.tokTypes._while:return this.next(),n.test=this.parseParenExpression(),n.body=this.parseStatement(),this.finishNode(n,"WhileStatement");case a.tokTypes._with:return this.next(),n.object=this.parseParenExpression(),n.body=this.parseStatement(),this.finishNode(n,"WithStatement");case a.tokTypes.braceL:return this.parseBlock();case a.tokTypes.semi:return this.next(),this.finishNode(n,"EmptyStatement");case a.tokTypes._class:return this.parseClass(!0);case a.tokTypes._import:if(this.options.ecmaVersion>10){var g=this.lookAhead(1).type;if(g===a.tokTypes.parenL||g===a.tokTypes.dot)return n.expression=this.parseExpression(),this.semicolon(),this.finishNode(n,"ExpressionStatement")}return this.parseImport();case a.tokTypes._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(n,!0,!0);var m=this.parseExpression();return r(m)?(this.next(),this.tok.type===a.tokTypes.eof?this.finishNode(n,"EmptyStatement"):this.parseStatement()):t===a.tokTypes.name&&"Identifier"===m.type&&this.eat(a.tokTypes.colon)?(n.body=this.parseStatement(),n.label=m,this.finishNode(n,"LabeledStatement")):(n.expression=m,this.semicolon(),this.finishNode(n,"ExpressionStatement"))}},h.parseBlock=function(){var e=this.startNode();this.pushCx(),this.expect(a.tokTypes.braceL);var t=this.curIndent,n=this.curLineStart;for(e.body=[];!this.closes(a.tokTypes.braceR,t,n,!0);)e.body.push(this.parseStatement());return this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(e,"BlockStatement")},h.parseFor=function(e,t){return e.init=t,e.test=e.update=null,this.eat(a.tokTypes.semi)&&this.tok.type!==a.tokTypes.semi&&(e.test=this.parseExpression()),this.eat(a.tokTypes.semi)&&this.tok.type!==a.tokTypes.parenR&&(e.update=this.parseExpression()),this.popCx(),this.expect(a.tokTypes.parenR),e.body=this.parseStatement(),this.finishNode(e,"ForStatement")},h.parseForIn=function(e,t){var n=this.tok.type===a.tokTypes._in?"ForInStatement":"ForOfStatement";return this.next(),e.left=t,e.right=this.parseExpression(),this.popCx(),this.expect(a.tokTypes.parenR),e.body=this.parseStatement(),this.finishNode(e,n)},h.parseVar=function(e,t,n){e.kind=n,this.next(),e.declarations=[];do{var r=this.startNode();r.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),r.init=this.eat(a.tokTypes.eq)?this.parseMaybeAssign(t):null,e.declarations.push(this.finishNode(r,"VariableDeclarator"))}while(this.eat(a.tokTypes.comma));if(!e.declarations.length){var i=this.startNode();i.id=this.dummyIdent(),e.declarations.push(this.finishNode(i,"VariableDeclarator"))}return t||this.semicolon(),this.finishNode(e,"VariableDeclaration")},h.parseClass=function(e){var t=this.startNode();this.next(),t.id=this.tok.type===a.tokTypes.name?this.parseIdent():!0===e?this.dummyIdent():null,t.superClass=this.eat(a.tokTypes._extends)?this.parseExpression():null,t.body=this.startNode(),t.body.body=[],this.pushCx();var n=this.curIndent+1,r=this.curLineStart;for(this.eat(a.tokTypes.braceL),this.curIndent+1<n&&(n=this.curIndent,r=this.curLineStart);!this.closes(a.tokTypes.braceR,n,r);){var i=this.parseClassElement();i&&t.body.body.push(i)}return this.popCx(),this.eat(a.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(t.body,"ClassBody"),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},h.parseClassElement=function(){if(this.eat(a.tokTypes.semi))return null;var e=this.options,t=e.ecmaVersion,n=e.locations,i=this.curIndent,s=this.curLineStart,o=this.startNode(),l="",u=!1,c=!1,h="method",p=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(a.tokTypes.braceL))return this.parseClassStaticBlock(o),o;this.isClassElementNameStart()||this.toks.type===a.tokTypes.star?p=!0:l="static"}if(o.static=p,!l&&t>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.toks.type!==a.tokTypes.star||this.canInsertSemicolon()?l="async":c=!0),!l){u=this.eat(a.tokTypes.star);var d=this.toks.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?h=d:l=d)}if(l)o.computed=!1,o.key=this.startNodeAt(n?[this.toks.lastTokStart,this.toks.lastTokStartLoc]:this.toks.lastTokStart),o.key.name=l,this.finishNode(o.key,"Identifier");else if(this.parseClassElementName(o),r(o.key))return r(this.parseMaybeAssign())&&this.next(),this.eat(a.tokTypes.comma),null;if(t<13||this.toks.type===a.tokTypes.parenL||"method"!==h||u||c){o.kind=!o.computed&&!o.static&&!u&&!c&&"method"===h&&("Identifier"===o.key.type&&"constructor"===o.key.name||"Literal"===o.key.type&&"constructor"===o.key.value)?"constructor":h,o.value=this.parseMethod(u,c),this.finishNode(o,"MethodDefinition")}else{if(this.eat(a.tokTypes.eq))if(this.curLineStart!==s&&this.curIndent<=i&&this.tokenStartsLine())o.value=null;else{var f=this.inAsync,g=this.inGenerator;this.inAsync=!1,this.inGenerator=!1,o.value=this.parseMaybeAssign(),this.inAsync=f,this.inGenerator=g}else o.value=null;this.semicolon(),this.finishNode(o,"PropertyDefinition")}return o},h.parseClassStaticBlock=function(e){var t=this.curIndent,n=this.curLineStart;for(e.body=[],this.pushCx();!this.closes(a.tokTypes.braceR,t,n,!0);)e.body.push(this.parseStatement());return this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(e,"StaticBlock")},h.isClassElementNameStart=function(){return this.toks.isClassElementNameStart()},h.parseClassElementName=function(e){this.toks.type===a.tokTypes.privateId?(e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},h.parseFunction=function(e,t,n){var r=this.inAsync,i=this.inGenerator,s=this.inFunction;return this.initFunction(e),this.options.ecmaVersion>=6&&(e.generator=this.eat(a.tokTypes.star)),this.options.ecmaVersion>=8&&(e.async=!!n),this.tok.type===a.tokTypes.name?e.id=this.parseIdent():!0===t&&(e.id=this.dummyIdent()),this.inAsync=e.async,this.inGenerator=e.generator,this.inFunction=!0,e.params=this.parseFunctionParams(),e.body=this.parseBlock(),this.toks.adaptDirectivePrologue(e.body.body),this.inAsync=r,this.inGenerator=i,this.inFunction=s,this.finishNode(e,t?"FunctionDeclaration":"FunctionExpression")},h.parseExport=function(){var e=this.startNode();if(this.next(),this.eat(a.tokTypes.star))return this.options.ecmaVersion>=11&&(e.exported=this.eatContextual("as")?this.parseExprAtom():null),e.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(a.tokTypes._default)){var t;if(this.tok.type===a.tokTypes._function||(t=this.toks.isAsyncFunction())){var n=this.startNode();this.next(),t&&this.next(),e.declaration=this.parseFunction(n,"nullableID",t)}else this.tok.type===a.tokTypes._class?e.declaration=this.parseClass("nullableID"):(e.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(e,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(e.declaration=this.parseStatement(),e.specifiers=[],e.source=null):(e.declaration=null,e.specifiers=this.parseExportSpecifierList(),e.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(e,"ExportNamedDeclaration")},h.parseImport=function(){var e,t=this.startNode();(this.next(),this.tok.type===a.tokTypes.string)?(t.specifiers=[],t.source=this.parseExprAtom()):(this.tok.type===a.tokTypes.name&&"from"!==this.tok.value&&((e=this.startNode()).local=this.parseIdent(),this.finishNode(e,"ImportDefaultSpecifier"),this.eat(a.tokTypes.comma)),t.specifiers=this.parseImportSpecifiers(),t.source=this.eatContextual("from")&&this.tok.type===a.tokTypes.string?this.parseExprAtom():this.dummyString(),e&&t.specifiers.unshift(e));return this.semicolon(),this.finishNode(t,"ImportDeclaration")},h.parseImportSpecifiers=function(){var e=[];if(this.tok.type===a.tokTypes.star){var t=this.startNode();this.next(),t.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),e.push(this.finishNode(t,"ImportNamespaceSpecifier"))}else{var n=this.curIndent,i=this.curLineStart,s=this.nextLineStart;for(this.pushCx(),this.eat(a.tokTypes.braceL),this.curLineStart>s&&(s=this.curLineStart);!this.closes(a.tokTypes.braceR,n+(this.curLineStart<=s?1:0),i);){var o=this.startNode();if(this.eat(a.tokTypes.star))o.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),this.finishNode(o,"ImportNamespaceSpecifier");else{if(this.isContextual("from"))break;if(o.imported=this.parseIdent(),r(o.imported))break;o.local=this.eatContextual("as")?this.parseIdent():o.imported,this.finishNode(o,"ImportSpecifier")}e.push(o),this.eat(a.tokTypes.comma)}this.eat(a.tokTypes.braceR),this.popCx()}return e},h.parseExportSpecifierList=function(){var e=[],t=this.curIndent,n=this.curLineStart,i=this.nextLineStart;for(this.pushCx(),this.eat(a.tokTypes.braceL),this.curLineStart>i&&(i=this.curLineStart);!this.closes(a.tokTypes.braceR,t+(this.curLineStart<=i?1:0),n)&&!this.isContextual("from");){var s=this.startNode();if(s.local=this.parseIdent(),r(s.local))break;s.exported=this.eatContextual("as")?this.parseIdent():s.local,this.finishNode(s,"ExportSpecifier"),e.push(s),this.eat(a.tokTypes.comma)}return this.eat(a.tokTypes.braceR),this.popCx(),e};var p=u.prototype;p.checkLVal=function(e){if(!e)return e;switch(e.type){case"Identifier":case"MemberExpression":return e;case"ParenthesizedExpression":return e.expression=this.checkLVal(e.expression),e;default:return this.dummyIdent()}},p.parseExpression=function(e){var t=this.storeCurrentPos(),n=this.parseMaybeAssign(e);if(this.tok.type===a.tokTypes.comma){var r=this.startNodeAt(t);for(r.expressions=[n];this.eat(a.tokTypes.comma);)r.expressions.push(this.parseMaybeAssign(e));return this.finishNode(r,"SequenceExpression")}return n},p.parseParenExpression=function(){this.pushCx(),this.expect(a.tokTypes.parenL);var e=this.parseExpression();return this.popCx(),this.expect(a.tokTypes.parenR),e},p.parseMaybeAssign=function(e){if(this.inGenerator&&this.toks.isContextual("yield")){var t=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!==a.tokTypes.star&&!this.tok.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(a.tokTypes.star),t.argument=this.parseMaybeAssign()),this.finishNode(t,"YieldExpression")}var n=this.storeCurrentPos(),r=this.parseMaybeConditional(e);if(this.tok.type.isAssign){var i=this.startNodeAt(n);return i.operator=this.tok.value,i.left=this.tok.type===a.tokTypes.eq?this.toAssignable(r):this.checkLVal(r),this.next(),i.right=this.parseMaybeAssign(e),this.finishNode(i,"AssignmentExpression")}return r},p.parseMaybeConditional=function(e){var t=this.storeCurrentPos(),n=this.parseExprOps(e);if(this.eat(a.tokTypes.question)){var r=this.startNodeAt(t);return r.test=n,r.consequent=this.parseMaybeAssign(),r.alternate=this.expect(a.tokTypes.colon)?this.parseMaybeAssign(e):this.dummyIdent(),this.finishNode(r,"ConditionalExpression")}return n},p.parseExprOps=function(e){var t=this.storeCurrentPos(),n=this.curIndent,r=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),t,-1,e,n,r)},p.parseExprOp=function(e,t,n,r,i,s){if(this.curLineStart!==s&&this.curIndent<i&&this.tokenStartsLine())return e;var o=this.tok.type.binop;if(null!=o&&(!r||this.tok.type!==a.tokTypes._in)&&o>n){var l=this.startNodeAt(t);if(l.left=e,l.operator=this.tok.value,this.next(),this.curLineStart!==s&&this.curIndent<i&&this.tokenStartsLine())l.right=this.dummyIdent();else{var u=this.storeCurrentPos();l.right=this.parseExprOp(this.parseMaybeUnary(!1),u,o,r,i,s)}return this.finishNode(l,/&&|\|\||\?\?/.test(l.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(l,t,n,r,i,s)}return e},p.parseMaybeUnary=function(e){var t,n=this.storeCurrentPos();if(this.options.ecmaVersion>=8&&this.toks.isContextual("await")&&(this.inAsync||this.toks.inModule&&this.options.ecmaVersion>=13||!this.inFunction&&this.options.allowAwaitOutsideFunction))t=this.parseAwait(),e=!0;else if(this.tok.type.prefix){var r=this.startNode(),i=this.tok.type===a.tokTypes.incDec;i||(e=!0),r.operator=this.tok.value,r.prefix=!0,this.next(),r.argument=this.parseMaybeUnary(!0),i&&(r.argument=this.checkLVal(r.argument)),t=this.finishNode(r,i?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===a.tokTypes.ellipsis){var s=this.startNode();this.next(),s.argument=this.parseMaybeUnary(e),t=this.finishNode(s,"SpreadElement")}else for(t=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(n);o.operator=this.tok.value,o.prefix=!1,o.argument=this.checkLVal(t),this.next(),t=this.finishNode(o,"UpdateExpression")}if(!e&&this.eat(a.tokTypes.starstar)){var l=this.startNodeAt(n);return l.operator="**",l.left=t,l.right=this.parseMaybeUnary(!1),this.finishNode(l,"BinaryExpression")}return t},p.parseExprSubscripts=function(){var e=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),e,!1,this.curIndent,this.curLineStart)},p.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=11,o=!1;;){if(this.curLineStart!==i&&this.curIndent<=r&&this.tokenStartsLine()){if(this.tok.type!==a.tokTypes.dot||this.curIndent!==r)break;--r}var l="Identifier"===e.type&&"async"===e.name&&!this.canInsertSemicolon(),u=s&&this.eat(a.tokTypes.questionDot);if(u&&(o=!0),u&&this.tok.type!==a.tokTypes.parenL&&this.tok.type!==a.tokTypes.bracketL&&this.tok.type!==a.tokTypes.backQuote||this.eat(a.tokTypes.dot)){var c=this.startNodeAt(t);c.object=e,c.property=this.curLineStart!==i&&this.curIndent<=r&&this.tokenStartsLine()?this.dummyIdent():this.parsePropertyAccessor()||this.dummyIdent(),c.computed=!1,s&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(this.tok.type===a.tokTypes.bracketL){this.pushCx(),this.next();var h=this.startNodeAt(t);h.object=e,h.property=this.parseExpression(),h.computed=!0,s&&(h.optional=u),this.popCx(),this.expect(a.tokTypes.bracketR),e=this.finishNode(h,"MemberExpression")}else if(n||this.tok.type!==a.tokTypes.parenL){if(this.tok.type!==a.tokTypes.backQuote)break;var p=this.startNodeAt(t);p.tag=e,p.quasi=this.parseTemplate(),e=this.finishNode(p,"TaggedTemplateExpression")}else{var d=this.parseExprList(a.tokTypes.parenR);if(l&&this.eat(a.tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(t),d,!0);var f=this.startNodeAt(t);f.callee=e,f.arguments=d,s&&(f.optional=u),e=this.finishNode(f,"CallExpression")}}if(o){var g=this.startNodeAt(t);g.expression=e,e=this.finishNode(g,"ChainExpression")}return e},p.parseExprAtom=function(){var e;switch(this.tok.type){case a.tokTypes._this:case a.tokTypes._super:var t=this.tok.type===a.tokTypes._this?"ThisExpression":"Super";return e=this.startNode(),this.next(),this.finishNode(e,t);case a.tokTypes.name:var n=this.storeCurrentPos(),i=this.parseIdent(),s=!1;if("async"===i.name&&!this.canInsertSemicolon()){if(this.eat(a.tokTypes._function))return this.toks.overrideContext(a.tokContexts.f_expr),this.parseFunction(this.startNodeAt(n),!1,!0);this.tok.type===a.tokTypes.name&&(i=this.parseIdent(),s=!0)}return this.eat(a.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(n),[i],s):i;case a.tokTypes.regexp:e=this.startNode();var o=this.tok.value;return e.regex={pattern:o.pattern,flags:o.flags},e.value=o.value,e.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(e,"Literal");case a.tokTypes.num:case a.tokTypes.string:return(e=this.startNode()).value=this.tok.value,e.raw=this.input.slice(this.tok.start,this.tok.end),this.tok.type===a.tokTypes.num&&110===e.raw.charCodeAt(e.raw.length-1)&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal");case a.tokTypes._null:case a.tokTypes._true:case a.tokTypes._false:return(e=this.startNode()).value=this.tok.type===a.tokTypes._null?null:this.tok.type===a.tokTypes._true,e.raw=this.tok.type.keyword,this.next(),this.finishNode(e,"Literal");case a.tokTypes.parenL:var l=this.storeCurrentPos();this.next();var u=this.parseExpression();if(this.expect(a.tokTypes.parenR),this.eat(a.tokTypes.arrow)){var c=u.expressions||[u];return c.length&&r(c[c.length-1])&&c.pop(),this.parseArrowExpression(this.startNodeAt(l),c)}if(this.options.preserveParens){var h=this.startNodeAt(l);h.expression=u,u=this.finishNode(h,"ParenthesizedExpression")}return u;case a.tokTypes.bracketL:return(e=this.startNode()).elements=this.parseExprList(a.tokTypes.bracketR,!0),this.finishNode(e,"ArrayExpression");case a.tokTypes.braceL:return this.toks.overrideContext(a.tokContexts.b_expr),this.parseObj();case a.tokTypes._class:return this.parseClass(!1);case a.tokTypes._function:return e=this.startNode(),this.next(),this.parseFunction(e,!1);case a.tokTypes._new:return this.parseNew();case a.tokTypes.backQuote:return this.parseTemplate();case a.tokTypes._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.dummyIdent();default:return this.dummyIdent()}},p.parseExprImport=function(){var e=this.startNode(),t=this.parseIdent(!0);switch(this.tok.type){case a.tokTypes.parenL:return this.parseDynamicImport(e);case a.tokTypes.dot:return e.meta=t,this.parseImportMeta(e);default:return e.name="import",this.finishNode(e,"Identifier")}},p.parseDynamicImport=function(e){return e.source=this.parseExprList(a.tokTypes.parenR)[0]||this.dummyString(),this.finishNode(e,"ImportExpression")},p.parseImportMeta=function(e){return this.next(),e.property=this.parseIdent(!0),this.finishNode(e,"MetaProperty")},p.parseNew=function(){var e=this.startNode(),t=this.curIndent,n=this.curLineStart,r=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(a.tokTypes.dot))return e.meta=r,e.property=this.parseIdent(!0),this.finishNode(e,"MetaProperty");var i=this.storeCurrentPos();return e.callee=this.parseSubscripts(this.parseExprAtom(),i,!0,t,n),e.arguments=this.tok.type===a.tokTypes.parenL?this.parseExprList(a.tokTypes.parenR):[],this.finishNode(e,"NewExpression")},p.parseTemplateElement=function(){var e=this.startNode();return e.value=this.tok.type===a.tokTypes.invalidTemplate?{raw:this.tok.value,cooked:null}:{raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,"\n"),cooked:this.tok.value},this.next(),e.tail=this.tok.type===a.tokTypes.backQuote,this.finishNode(e,"TemplateElement")},p.parseTemplate=function(){var e=this.startNode();this.next(),e.expressions=[];var t=this.parseTemplateElement();for(e.quasis=[t];!t.tail;)this.next(),e.expressions.push(this.parseExpression()),this.expect(a.tokTypes.braceR)?t=this.parseTemplateElement():((t=this.startNode()).value={cooked:"",raw:""},t.tail=!0,this.finishNode(t,"TemplateElement")),e.quasis.push(t);return this.expect(a.tokTypes.backQuote),this.finishNode(e,"TemplateLiteral")},p.parseObj=function(){var e=this.startNode();e.properties=[],this.pushCx();var t=this.curIndent+1,n=this.curLineStart;for(this.eat(a.tokTypes.braceL),this.curIndent+1<t&&(t=this.curIndent,n=this.curLineStart);!this.closes(a.tokTypes.braceR,t,n);){var i=this.startNode(),s=void 0,o=void 0,l=void 0;if(this.options.ecmaVersion>=9&&this.eat(a.tokTypes.ellipsis))i.argument=this.parseMaybeAssign(),e.properties.push(this.finishNode(i,"SpreadElement")),this.eat(a.tokTypes.comma);else if(this.options.ecmaVersion>=6&&(l=this.storeCurrentPos(),i.method=!1,i.shorthand=!1,s=this.eat(a.tokTypes.star)),this.parsePropertyName(i),this.toks.isAsyncProp(i)?(o=!0,s=this.options.ecmaVersion>=9&&this.eat(a.tokTypes.star),this.parsePropertyName(i)):o=!1,r(i.key))r(this.parseMaybeAssign())&&this.next(),this.eat(a.tokTypes.comma);else{if(this.eat(a.tokTypes.colon))i.kind="init",i.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===a.tokTypes.parenL||this.tok.type===a.tokTypes.braceL))i.kind="init",i.method=!0,i.value=this.parseMethod(s,o);else if(this.options.ecmaVersion>=5&&"Identifier"===i.key.type&&!i.computed&&("get"===i.key.name||"set"===i.key.name)&&this.tok.type!==a.tokTypes.comma&&this.tok.type!==a.tokTypes.braceR&&this.tok.type!==a.tokTypes.eq)i.kind=i.key.name,this.parsePropertyName(i),i.value=this.parseMethod(!1);else{if(i.kind="init",this.options.ecmaVersion>=6)if(this.eat(a.tokTypes.eq)){var u=this.startNodeAt(l);u.operator="=",u.left=i.key,u.right=this.parseMaybeAssign(),i.value=this.finishNode(u,"AssignmentExpression")}else i.value=i.key;else i.value=this.dummyIdent();i.shorthand=!0}e.properties.push(this.finishNode(i,"Property")),this.eat(a.tokTypes.comma)}}return this.popCx(),this.eat(a.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(e,"ObjectExpression")},p.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(a.tokTypes.bracketL))return e.computed=!0,e.key=this.parseExpression(),void this.expect(a.tokTypes.bracketR);e.computed=!1}var t=this.tok.type===a.tokTypes.num||this.tok.type===a.tokTypes.string?this.parseExprAtom():this.parseIdent();e.key=t||this.dummyIdent()},p.parsePropertyAccessor=function(){return this.tok.type===a.tokTypes.name||this.tok.type.keyword?this.parseIdent():this.tok.type===a.tokTypes.privateId?this.parsePrivateIdent():void 0},p.parseIdent=function(){var e=this.tok.type===a.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!e)return this.dummyIdent();var t=this.startNode();return this.next(),t.name=e,this.finishNode(t,"Identifier")},p.parsePrivateIdent=function(){var e=this.startNode();return e.name=this.tok.value,this.next(),this.finishNode(e,"PrivateIdentifier")},p.initFunction=function(e){e.id=null,e.params=[],this.options.ecmaVersion>=6&&(e.generator=!1,e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},p.toAssignable=function(e,t){if(!e||"Identifier"===e.type||"MemberExpression"===e.type&&!t);else if("ParenthesizedExpression"===e.type)this.toAssignable(e.expression,t);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if("ObjectExpression"===e.type){e.type="ObjectPattern";for(var n=0,r=e.properties;n<r.length;n+=1){this.toAssignable(r[n],t)}}else if("ArrayExpression"===e.type)e.type="ArrayPattern",this.toAssignableList(e.elements,t);else if("Property"===e.type)this.toAssignable(e.value,t);else if("SpreadElement"===e.type)e.type="RestElement",this.toAssignable(e.argument,t);else{if("AssignmentExpression"!==e.type)return this.dummyIdent();e.type="AssignmentPattern",delete e.operator}}return e},p.toAssignableList=function(e,t){for(var n=0,r=e;n<r.length;n+=1){this.toAssignable(r[n],t)}return e},p.parseFunctionParams=function(e){return e=this.parseExprList(a.tokTypes.parenR),this.toAssignableList(e,!0)},p.parseMethod=function(e,t){var n=this.startNode(),r=this.inAsync,i=this.inGenerator,s=this.inFunction;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=!!e),this.options.ecmaVersion>=8&&(n.async=!!t),this.inAsync=n.async,this.inGenerator=n.generator,this.inFunction=!0,n.params=this.parseFunctionParams(),n.body=this.parseBlock(),this.toks.adaptDirectivePrologue(n.body.body),this.inAsync=r,this.inGenerator=i,this.inFunction=s,this.finishNode(n,"FunctionExpression")},p.parseArrowExpression=function(e,t,n){var r=this.inAsync,i=this.inGenerator,s=this.inFunction;return this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.inAsync=e.async,this.inGenerator=!1,this.inFunction=!0,e.params=this.toAssignableList(t,!0),e.expression=this.tok.type!==a.tokTypes.braceL,e.expression?e.body=this.parseMaybeAssign():(e.body=this.parseBlock(),this.toks.adaptDirectivePrologue(e.body.body)),this.inAsync=r,this.inGenerator=i,this.inFunction=s,this.finishNode(e,"ArrowFunctionExpression")},p.parseExprList=function(e,t){this.pushCx();var n=this.curIndent,i=this.curLineStart,s=[];for(this.next();!this.closes(e,n+1,i);)if(this.eat(a.tokTypes.comma))s.push(t?null:this.dummyIdent());else{var o=this.parseMaybeAssign();if(r(o)){if(this.closes(e,n,i))break;this.next()}else s.push(o);this.eat(a.tokTypes.comma)}return this.popCx(),this.eat(e)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),s},p.parseAwait=function(){var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(),this.finishNode(e,"AwaitExpression")},a.defaultOptions.tabSize=4},"5AhW":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeSourceError=void 0;const r=n("Otp2"),i=n("QyX9");t.RuntimeSourceError=class{constructor(e){this.type=i.ErrorType.RUNTIME,this.severity=i.ErrorSeverity.ERROR,this.location=e?e.loc:r.UNKNOWN_LOCATION}explain(){return""}elaborate(){return this.explain()}}},"5Ekh":function(e,t,n){(t=e.exports=n("B0Cl")).Stream=t,t.Readable=t,t.Writable=n("g+31"),t.Duplex=n("A/eZ"),t.Transform=n("+t3Y"),t.PassThrough=n("OLMR")},"5IsQ":function(e){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===t||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(){d&&h&&(d=!1,h.length?p=h.concat(p):f=-1,p.length&&s())}function s(){if(!d){var e=r(i);d=!0;for(var t=p.length;t;){for(h=p,p=[];++f<t;)h&&h[f].run();f=-1,t=p.length}h=null,d=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var l,u,c=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:t}catch(e){l=t}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(e){u=n}}();var h,p=[],d=!1,f=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new o(e,t)),1!==p.length||d||r(s)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=a,c.addListener=a,c.once=a,c.off=a,c.removeListener=a,c.removeAllListeners=a,c.emit=a,c.prependListener=a,c.prependOnceListener=a,c.listeners=function(){return[]},c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},"5afc":function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=n("W0B4"),o=n("l8WD"),a=n("NpYg"),l=n("QPHl"),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:n.props.value},n.onChange=n.onChange.bind(n),n.diff=n.diff.bind(n),n}return i(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.value;e!==this.state.value&&this.setState({value:e})},t.prototype.onChange=function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(e)},t.prototype.diff=function(){var e=new l,t=this.state.value[0],n=this.state.value[1];if(0===t.length&&0===n.length)return[];var r=e.diff_main(t,n);e.diff_cleanupSemantic(r);var i=this.generateDiffedLines(r);return this.setCodeMarkers(i)},t.prototype.generateDiffedLines=function(e){var t=0,n=-1,r=1,i={left:[],right:[]},s={left:1,right:1};return e.forEach((function(e){var o=e[0],a=e[1],l=a.split("\n").length-1;if(0!==a.length){var u=a[0],c=a[a.length-1],h=0;switch(o){case t:s.left+=l,s.right+=l;break;case n:"\n"===u&&(s.left++,l--),0===(h=l)&&i.right.push({startLine:s.right,endLine:s.right}),"\n"===c&&(h-=1),i.left.push({startLine:s.left,endLine:s.left+h}),s.left+=l;break;case r:"\n"===u&&(s.right++,l--),0===(h=l)&&i.left.push({startLine:s.left,endLine:s.left}),"\n"===c&&(h-=1),i.right.push({startLine:s.right,endLine:s.right+h}),s.right+=l;break;default:throw new Error("Diff type was not defined.")}}})),i},t.prototype.setCodeMarkers=function(e){void 0===e&&(e={left:[],right:[]});for(var t=[],n={left:[],right:[]},r=0;r<e.left.length;r++){n.left.push({startRow:e.left[r].startLine-1,endRow:e.left[r].endLine,type:"text",className:"codeMarker"})}for(r=0;r<e.right.length;r++){n.right.push({startRow:e.right[r].startLine-1,endRow:e.right[r].endLine,type:"text",className:"codeMarker"})}return t[0]=n.left,t[1]=n.right,t},t.prototype.render=function(){var e=this.diff();return o.createElement(a.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:e})},t.propTypes={cursorStart:s.number,editorProps:s.object,enableBasicAutocompletion:s.bool,enableLiveAutocompletion:s.bool,focus:s.bool,fontSize:s.number,height:s.string,highlightActiveLine:s.bool,maxLines:s.number,minLines:s.number,mode:s.string,name:s.string,className:s.string,onLoad:s.func,onPaste:s.func,onScroll:s.func,onChange:s.func,orientation:s.string,readOnly:s.bool,scrollMargin:s.array,setOptions:s.object,showGutter:s.bool,showPrintMargin:s.bool,splits:s.number,style:s.object,tabSize:s.number,theme:s.string,value:s.array,width:s.string,wrapEnabled:s.bool},t.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},t}(o.Component);t.default=u},"5tzL":function(e,t,n){"use strict";function r(e){if(!(e instanceof Float32Array))return e;const t=e.map((e=>r(e)));return Array.from(t)}function i(e,t,n,i,a){const l=new s.GPU;let u=function(e){return Array.isArray(e)}(i),c="";if(u||(c=typeof i),e.length>1&&(u=u&&function(e,t){for(let n=0;n<t[0];n+=1)if(!Array.isArray(e[n]))return!1;return!0}(i,e),u||(c="undefined")),e.length>2&&(u=u&&function(e,t){for(let n=0;n<t[0];n+=1){if(!Array.isArray(e[n]))return!1;for(let r=0;r<t[1];r+=1)if(!Array.isArray(e[n][r]))return!1}return!0}(i,e),u||(c="undefined")),!u)throw new o.TypeError(i,"","object or array",c);if(u=function(e,t){let n;if(1===t.length&&(n=e(0)),2===t.length&&(n=e(0,0)),3===t.length&&(n=e(0,0,0)),"number"!=typeof n)return!1;let r=1;for(const e of t)r*=e;return r>h}(a,e),!u)return void function(e,t,n){1===t.length?function(){for(let r=0;r<t[0];r++)n[r]=e(r)}():2===t.length?function(){for(let r=0;r<t[0];r+=1)for(let i=0;i<t[1];i+=1)n[r][i]=e(r,i)}():function(){for(let r=0;r<t[0];r+=1)for(let i=0;i<t[1];i+=1)for(let s=0;s<t[2];s+=1)n[r][i][s]=e(r,i,s)}()}(a,e,i);const p=[];for(let t=e.length-1;t>=0;t--)p.push(e[t]);const d={constants:{}};d.constants=t;const f=l.createKernel(n,d).setOutput(p)();1===e.length&&function(e,t,n){for(let i=0;i<t[0];i++)n[i]=r(e[i])}(f,e,i),2===e.length&&function(e,t,n){for(let i=0;i<t[0];i++)for(let s=0;s<t[1];s++)n[i][s]=r(e[i][s])}(f,e,i),3===e.length&&function(e,t,n){for(let i=0;i<t[0];i++)for(let s=0;s<t[1];s++)for(let o=0;o<t[2];o++)n[i][s][o]=r(e[i][s][o])}(f,e,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.__createKernelSource=t.__clearKernelCache=t.__createKernel=void 0;const s=n("mpBs"),o=n("SG+n"),a=n("Xy3c"),l=n("j0Aj"),u=n("f2gj"),c=n("Otp2"),h=200;t.__createKernel=i;const p=new Map;t.__clearKernelCache=function(){p.clear()},t.__createKernelSource=function(e,t,n,r,s,o){const h=function(e){const t={};return e.forEach((([e,n])=>t[e]=n)),t}(t),d=p.get(o);if(void 0!==d)return i(e,h,d,r,s);const f=s.toString(),g=a.parse(f,c.ACORN_PARSE_OPTIONS),m=u.gpuRuntimeTranspile(g.body[0].expression,new Set(n)),y=new Function(l.generate(m));return p.set(o,y),i(e,h,y,r,s)}},"60T1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoEval=void 0;const r=n("QyX9");class i{constructor(e){this.node=e,this.type=r.ErrorType.SYNTAX,this.severity=r.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"eval is not allowed."}elaborate(){return this.explain()}}t.NoEval=i;t.default={name:"no-eval",checkers:{Identifier:e=>"eval"===e.name?[new i(e)]:[]}}},"7p7F":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoSpreadInArray=void 0;const r=n("QyX9");class i{constructor(e){this.node=e,this.type=r.ErrorType.SYNTAX,this.severity=r.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Spread syntax is not allowed in arrays."}elaborate(){return""}}t.NoSpreadInArray=i;t.default={name:"no-assignment-expression",checkers:{SpreadElement:(e,t)=>"CallExpression"===t[t.length-2].type?[]:[new i(e)]}}},"7w3z":function(e,t,n){"use strict";function r(e,t,n){const r=$[e];r[0]=t,r[3]=n}function i(e){R.push([e])}function s(e,t){R.push([e,t])}function o(e,t,n){R.push([e,t,n])}function a(){const e=I.pop();if(!e)throw Error("Unable to compile");return e}function l(e){I.push(e)}function u(e,t,n){return[e,t,n]}function c(e){return e[0]}function h(e){return e[2]}function p(e){const t=new Map;for(let e=0;e<A.PRIMITIVE_FUNCTION_NAMES.length;e++){t.set(A.PRIMITIVE_FUNCTION_NAMES[e],{index:e,isVar:!1,type:"primitive"})}if(e)for(let n=0;n<e.length;n++){t.set(e[n],{index:n,isVar:!1,type:"internal"})}return d([],t)}function d(e,t){return e.concat([t])}function f(e,t){const n=t.name;for(let t=e.length-1;t>=0;t--)if(e[t].has(n)){const r=e.length-1-t,{index:i,isVar:s,type:o}=e[t].get(n);return{envLevel:r,index:i,isVar:s,type:o}}throw new T.UndefinedVariable(n,t)}function g(){for(;0!==I.length;){const e=a(),t=e[1],n=h(e),i=c(e);i.isFunctionBlock=!0;const{maxStackSize:s}=v(i,n,!0);r(t[0],s,R),R=[],M=!1}}function m(e,t,n=!0){const r=new Map;for(const i of e.body)if("VariableDeclaration"===i.type){const e=i;let s=e.declarations[0].id.name;if(n){const n=e.loc.start,i=s;do{s=`${s}-${n.line}-${n.column}`}while(t.has(s));r.set(i,s)}t.set(s,{index:t.size,isVar:"let"===e.kind})}else if("FunctionDeclaration"===i.type){let e=i.id.name;if(n){const n=i.loc.start,s=e;do{e=`${e}-${n.line}-${n.column}`}while(t.has(e));r.set(s,e)}t.set(e,{index:t.size,isVar:!1})}!function(e,t){function n(e,t,n){const r=function(e){const t=new Set;for(const n of e.body)if("VariableDeclaration"===n.type){t.add(n.declarations[0].id.name)}else if("FunctionDeclaration"===n.type){t.add(n.id.name)}return t}(e),i=new Set(t);for(const e of r)t.add(e);for(const r of e.body)n(r,t);for(const e of r)i.has(e)||t.delete(e)}if(0===t.size)return;let r=!0;w.recursive(e,new Set,{VariablePattern(e,n,r){const i=e.name;n.has(i)||t.has(i)&&(e.name=t.get(i))},Identifier(e,n,r){const i=e.name;n.has(i)||t.has(i)&&(e.name=t.get(i))},BlockStatement(e,t,i){if(r){r=!1;for(const n of e.body)i(n,t)}else n(e,t,i)},IfStatement(e,t,r){r(e.test,t);let i=e;for(;"IfStatement"===i.type;){const{consequent:e,alternate:s}=i;n(e,t,r),r(i.test,t),i=s}n(i,t,r)},Function(e,t,n){"FunctionDeclaration"===e.type&&n(e.id,t);const r=new Set(t),i=new Set;for(const t of e.params){i.add(t.name)}for(const e of i)t.add(e);n(e.body,t,"ArrowFunctionExpression"===e.type&&e.expression?"Expression":"Statement");for(const e of i)r.has(e)||t.delete(e)},WhileStatement(e,t,r){r(e.test,t),n(e.body,t,r)}})}(e,r);for(const n of e.body){if("BlockStatement"===n.type){m(n,t,!0)}if("IfStatement"===n.type){let e=n;for(;"IfStatement"===e.type;){const{consequent:n,alternate:r}=e;m(n,t,!0),e=r}m(e,t,!0)}"WhileStatement"===n.type&&m(n.body,t,!0)}return t}function y(e,t,n){const r=e.body;let s=0;for(let o=0;o<r.length;o++){e.isLoopBlock&&o===r.length-1&&"for"===O[O.length-1][0]&&(O[O.length-1][3]=R.length);const{maxStackSize:a}=v(r[o],t,o===r.length-1&&n);(o!==r.length-1||e.isLoopBlock)&&i(k.default.POPG),s=Math.max(s,a)}return 0!==r.length||e.isLoopBlock||(i(k.default.LGCU),(n||e.isFunctionBlock)&&i(k.default.RETG),s++),{maxStackSize:s,insertFlag:!1}}function v(e,t,n,r=!1){const s=D[e.type];if(!s)throw Error("Unsupported operation");const{maxStackSize:o,insertFlag:a}=s(e,t,n,r);let l=o;return a&&("ReturnStatement"===e.type||M&&N.has(e.type)?i(k.default.RETG):"Program"===e.type||"ExpressionStatement"===e.type||"BlockStatement"===e.type||"FunctionDeclaration"===e.type||(l+=1,i(k.default.LGCU),i(k.default.RETG))),{maxStackSize:l,insertFlag:a}}function x(e){$=[],R=[],I=[],O=[],M=!0,_(e);const t=m(e,new Map,!1);$[0]=[NaN,t.size,0,[]];return l(u(e,[0],d(p(),t))),g(),[0,$]}function b(e,t,n){$=[],R=[],I=[],O=[],M=!0,_(e),function(e){w.simple(e,{IfStatement(e){var t;null!==(t=e.alternate)&&void 0!==t||(e.alternate={type:"BlockStatement",body:[]})}})}(e);const r=m(e,new Map),i=[NaN,r.size,0,[]];t&&$.push(...t[1]);const s=t?A.PRIMITIVE_FUNCTION_NAMES.length+1:0;$[s]=i;return l(u(e,[s],d(p(n),r))),g(),[0,$]}function _(e){w.simple(e,{ForStatement(e){const{test:t,body:n,init:r,update:i}=e;let s=n;if("VariableDeclaration"===r.type){const e=r.declarations[0].id.name,t=r.loc,i="copy-of-"+e,o=S.blockStatement([S.constantDeclaration(e,S.identifier(i),t),n]);s=S.blockStatement([S.constantDeclaration(i,S.identifier(e),t),o])}const o=r&&"VariableDeclaration"===r.type?r:S.expressionStatement(r),a=S.expressionStatement(i),l=S.blockStatement([s,a]),u=S.whileStatement(l,t);u.isFor=!0;e.body=[o,u],e.type="BlockStatement"}})}Object.defineProperty(t,"__esModule",{value:!0}),t.compileToIns=t.compilePreludeToIns=t.compileForConcurrent=void 0;const w=n("XwI5"),S=n("my7b"),T=n("JFiO"),A=n("z1+4"),E=n("f9Fa"),k=n("Ib16"),C=new Map([["!",k.default.NOTG],["-",k.default.NEGG]]),L=new Map([["+",k.default.ADDG],["-",k.default.SUBG],["*",k.default.MULG],["/",k.default.DIVG],["%",k.default.MODG],["<",k.default.LTG],[">",k.default.GTG],["<=",k.default.LEG],[">=",k.default.GEG],["===",k.default.EQG],["!==",k.default.NEQG]]);let $=[],R=[],I=[],M=!0;const N=new Set(["Literal","UnaryExpression","BinaryExpression","CallExpression","Identifier","ArrayExpression","LogicalExpression","MemberExpression","AssignmentExpression","ArrowFunctionExpression","IfStatement","VariableDeclaration"]);let O=[];const D={Program:(e,t,n)=>y(e,t,n),BlockStatement:(e,t,n)=>y(e,t,n),ExpressionStatement:(e,t,n)=>v(e.expression,t,n),IfStatement(e,t,n){const{test:r,consequent:i,alternate:o}=e,{maxStackSize:a}=v(r,t,!1);s(k.default.BRF,NaN);const l=R.length-1,{maxStackSize:u}=v(i,t,!1);s(k.default.BR,NaN);const c=R.length-1;R[l][1]=R.length-l;const{maxStackSize:h}=v(o,t,!1);R[c][1]=R.length-c;return{maxStackSize:Math.max(a,u,h),insertFlag:n}},FunctionDeclaration:(e,t,n)=>v(S.constantDeclaration(e.id.name,S.arrowFunctionExpression(e.params,e.body)),t,n),VariableDeclaration(e,t,n){if("const"===e.kind||"let"===e.kind){const r=e.declarations[0].id,{envLevel:a,index:l}=f(t,r),{maxStackSize:u}=v(e.declarations[0].init,t,!1);return 0===a?s(k.default.STLG,l):o(k.default.STPG,l,a),i(k.default.LGCU),{maxStackSize:u,insertFlag:n}}throw Error("Invalid declaration")},ReturnStatement(e,t,n){if(O.length>0)throw Error("return not allowed in loops");const{maxStackSize:r}=v(e.argument,t,!1,!0);return{maxStackSize:r,insertFlag:!0}},CallExpression(e,t,n,r=!1){let i=0,a="normal",l=NaN;if("Identifier"===e.callee.type){const n=e.callee,{envLevel:r,index:i,type:u}=f(t,n);"primitive"===u||"internal"===u?(a=u,l=i):0===r?s(k.default.LDLG,i):o(k.default.LDPG,i,r)}else({maxStackSize:i}=v(e.callee,t,!1));let u=function(e,t){let n=0;for(let r=0;r<e.length;r++){const{maxStackSize:i}=v(e[r],t,!1);n=Math.max(r+i,n)}return n}(e.arguments,t);return"primitive"===a?o(r?k.default.CALLTP:k.default.CALLP,l,e.arguments.length):"internal"===a?o(r?k.default.CALLTV:k.default.CALLV,l,e.arguments.length):(s(r?k.default.CALLT:k.default.CALL,e.arguments.length),u++),{maxStackSize:Math.max(i,u,1),insertFlag:n}},UnaryExpression(e,t,n){if(C.has(e.operator)){const r=C.get(e.operator),{maxStackSize:s}=v(e.argument,t,!1);return i(r),{maxStackSize:s,insertFlag:n}}throw Error("Unsupported operation")},BinaryExpression(e,t,n){if(L.has(e.operator)){const r=L.get(e.operator),{maxStackSize:s}=v(e.left,t,!1),{maxStackSize:o}=v(e.right,t,!1);return i(r),{maxStackSize:Math.max(s,1+o),insertFlag:n}}throw Error("Unsupported operation")},LogicalExpression(e,t,n,r=!1){if("&&"===e.operator){const{maxStackSize:i}=v(S.conditionalExpression(e.left,e.right,S.literal(!1)),t,!1,r);return{maxStackSize:i,insertFlag:n}}if("||"===e.operator){const{maxStackSize:i}=v(S.conditionalExpression(e.left,S.literal(!0),e.right),t,!1,r);return{maxStackSize:i,insertFlag:n}}throw Error("Unsupported operation")},ConditionalExpression(e,t,n,r=!1){const{test:i,consequent:o,alternate:a}=e,{maxStackSize:l}=v(i,t,!1);s(k.default.BRF,NaN);const u=R.length-1,{maxStackSize:c}=v(o,t,n,r);let h=NaN;n||(s(k.default.BR,NaN),h=R.length-1),R[u][1]=R.length-u;const{maxStackSize:p}=v(a,t,n,r);n||(R[h][1]=R.length-h);return{maxStackSize:Math.max(l,c,p),insertFlag:!1}},ArrowFunctionExpression(e,t,n){const r="BlockStatement"===e.body.type?e.body:S.blockStatement([S.returnStatement(e.body)]),i=new Map;for(let t of e.params){i.set(t.name,{index:i.size,isVar:!0})}m(r,i);const o=d(t,i),a=$.length;return $.push([NaN,i.size,e.params.length,[]]),l(u(r,[a],o)),s(k.default.NEWC,[a]),{maxStackSize:1,insertFlag:n}},Identifier(e,t,n){let r,a,l;try{({envLevel:r,index:a,type:l}=f(t,e)),"primitive"===l?s(k.default.NEWCP,a):"internal"===l?s(k.default.NEWCV,a):0===r?s(k.default.LDLG,a):o(k.default.LDPG,a,r)}catch(e){const t=A.CONSTANT_PRIMITIVES.filter((t=>t[0]===e.name));if(0===t.length)throw e;if("number"==typeof t[0][1])s(k.default.LGCF32,t[0][1]);else{if(void 0!==t[0][1])throw Error("Unknown primitive constant");i(k.default.LGCU)}}return{maxStackSize:1,insertFlag:n}},Literal(e,t,n){const r=e.value;if(null===r)i(k.default.LGCN);else switch(typeof r){case"boolean":i(r?k.default.LGCB1:k.default.LGCB0);break;case"number":Number.isInteger(r)&&-2147483648<=r&&r<=2147483647?s(k.default.LGCI,r):s(k.default.LGCF64,r);break;case"string":s(k.default.LGCS,r);break;default:throw Error("Unsupported literal")}return{maxStackSize:1,insertFlag:n}},ArrayExpression(e,t,n){i(k.default.NEWA);const r=e.elements;let o=1;for(let e=0;e<r.length;e++){if(null===r[e])continue;i(k.default.DUP),s(k.default.LGCI,e);const{maxStackSize:n}=v(r[e],t,!1);i(k.default.STAG),o=Math.max(3+n,o)}return{maxStackSize:o,insertFlag:n}},AssignmentExpression(e,t,n){if("Identifier"===e.left.type){const{envLevel:r,index:a,isVar:l}=f(t,e.left);if(!l)throw new T.ConstAssignment(e.left,e.left.name);const{maxStackSize:u}=v(e.right,t,!1);return 0===r?s(k.default.STLG,a):o(k.default.STPG,a,r),i(k.default.LGCU),{maxStackSize:u,insertFlag:n}}if("MemberExpression"===e.left.type&&!0===e.left.computed){const{maxStackSize:r}=v(e.left.object,t,!1),{maxStackSize:s}=v(e.left.property,t,!1),{maxStackSize:o}=v(e.right,t,!1);return i(k.default.STAG),i(k.default.LGCU),{maxStackSize:Math.max(r,1+s,2+o),insertFlag:n}}throw Error("Invalid Assignment")},ForStatement(e,t,n){throw Error("Unsupported operation")},WhileStatement(e,t,n){const r=e.isFor,o=R.length,{maxStackSize:a}=v(e.test,t,!1);s(k.default.BRF,NaN);const l=R.length-1;O.push([r?"for":"while",[],[],NaN]);const u=m(e.body,new Map);s(k.default.NEWENV,u.size);const c=d(t,u),h=e.body;h.isLoopBlock=!0;const{maxStackSize:p}=v(h,c,!1);r||(O[O.length-1][3]=R.length),i(k.default.POPENV);s(k.default.BR,o-R.length),R[l][1]=R.length-l;const f=O.pop();for(const e of f[1])R[e][1]=R.length-e;for(const e of f[2])R[e][1]=f[3]-e;return i(k.default.LGCU),{maxStackSize:Math.max(a,p),insertFlag:n}},BreakStatement:(e,t,n)=>(i(k.default.POPENV),O[O.length-1][1].push(R.length),s(k.default.BR,NaN),{maxStackSize:0,insertFlag:n}),ContinueStatement:(e,t,n)=>(O[O.length-1][2].push(R.length),s(k.default.BR,NaN),{maxStackSize:0,insertFlag:n}),ObjectExpression(e,t,n){throw Error("Unsupported operation")},MemberExpression(e,t,n){if(e.computed){const{maxStackSize:r}=v(e.object,t,!1),{maxStackSize:s}=v(e.property,t,!1);return i(k.default.LDAG),{maxStackSize:Math.max(r,1+s),insertFlag:n}}throw Error("Unsupported operation")},Property(e,t,n){throw Error("Unsupported operation")},DebuggerStatement(e,t,n){throw Error("Unsupported operation")}};t.compileForConcurrent=function(e,t){const n=x(E.parse(A.vmPrelude,t));return A.generatePrimitiveFunctionCode(n),b(e,n,A.INTERNAL_FUNCTIONS.map((([e])=>e)))},t.compilePreludeToIns=x,t.compileToIns=b},"8t+D":function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"XMLHttpRequest",(function(){return c}));var i=n("lVFF"),s=n("sOO9"),o=n("w7gO"),a=n("Jmra"),l=n("nfnL"),u=n("R8iU"),c=function(){function t(){this.UNSENT=t.UNSENT,this.OPENED=t.OPENED,this.HEADERS_RECEIVED=t.HEADERS_RECEIVED,this.LOADING=t.LOADING,this.DONE=t.DONE,this.disableHeaderCheck=!1,this.readyState=t.UNSENT,this.responseText="",this.responseXML=null,this.status=0,this.statusText="",this.timeout=0,this.withCredentials=!1,this.defaultHeaders={"User-Agent":"ts-XMLHttpRequest",Accept:"*/*"},this.errorFlag=!1,this.forbiddenRequestHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],this.forbiddenRequestMethods=["TRACE","TRACK","CONNECT"],this.headers={},this.headersLowerCase={},this.listeners={},this.sendFlag=!1}return t.prototype.open=function(e,t,n,r,i){if(void 0===n&&(n=!0),this.abort(),this.errorFlag=!1,!this.isAllowedHttpMethod(e))throw new Error("SecurityError: Request method not allowed");this.settings={method:e,url:t,async:"boolean"!=typeof n||n,user:r,password:i},this.setState(this.OPENED)},t.prototype.setDisableHeaderCheck=function(e){this.disableHeaderCheck=e},t.prototype.setRequestHeader=function(e,t){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(this.isAllowedHttpHeader(e)){if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send flag is true");e=this.headersLowerCase[e.toLowerCase()]||e,this.headersLowerCase[e.toLowerCase()]=e,this.headers[e]=this.headers[e]?this.headers[e]+", "+t:t}else console.warn('Refused to set unsafe header "'+e+'"')},t.prototype.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||this.errorFlag)return null;var e="";if(this.response)for(var t in this.response.headers)if("set-cookie"!==t&&"set-cookie2"!==t){var n=this.response.headers[t];"string"==typeof n?e+=t+": "+n+"\r\n":Array.isArray(n)?e+=t+": "+n.join(", ")+"\r\n":e+=t+":\r\n"}return e.substr(0,e.length-2)},t.prototype.getResponseHeader=function(e){if("string"==typeof e&&this.readyState>this.OPENED&&this.response&&this.response.headers&&this.response.headers[e.toLowerCase()]&&!this.errorFlag){var t=this.response.headers[e.toLowerCase()];if("string"==typeof t)return t;if(Array.isArray(t))return t.join(", ")}return null},t.prototype.getRequestHeader=function(e){if("string"==typeof e&&this.headersLowerCase[e.toLowerCase()])return this.headers[this.headersLowerCase[e.toLowerCase()]]},t.prototype.send=function(t){var n=this,c=this;if(void 0===this.settings)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send has already been called");var h,p=!1,d=!1,f=Object(a.parse)(this.settings.url);switch(f.protocol){case"https:":p=!0;case"http:":h=f.hostname;break;case"file:":d=!0;break;case void 0:case null:case"":h="localhost";break;default:throw new Error("Protocol not supported.")}if(d){if("GET"!==this.settings.method)throw new Error("XMLHttpRequest: Only GET method is supported");if(this.settings.async)Object(i.readFile)(unescape(f.pathname||"/"),"utf8",(function(e,t){e?c.handleError(e):(c.status=200,c.responseText=t,c.setState(c.DONE))}));else try{this.responseText=Object(i.readFileSync)(unescape(f.pathname||"/"),"utf8"),this.status=200,this.setState(c.DONE)}catch(e){this.handleError(e)}}else{var g=f.port||(p?443:80),m=f.pathname+(f.search?f.search:"");for(var y in this.defaultHeaders)this.headersLowerCase[y.toLowerCase()]||(this.headers[y]=this.defaultHeaders[y]);if(h&&(this.headers.Host=h),f.host&&"["===f.host[0]&&(this.headers.Host="["+this.headers.Host+"]"),p&&443===g||80===g||(this.headers.Host+=":"+f.port),this.settings.user){void 0===this.settings.password&&(this.settings.password="");var v=e.from(this.settings.user+":"+this.settings.password);this.headers.Authorization="Basic "+v.toString("base64")}"GET"===this.settings.method||"HEAD"===this.settings.method?t=null:t?(this.headers["Content-Length"]=""+(e.isBuffer(t)?t.length:e.byteLength(t)),this.getRequestHeader("Content-Type")||(this.headers["Content-Type"]="text/plain;charset=UTF-8")):"POST"===this.settings.method&&(this.headers["Content-Length"]="0");var x={host:h,port:g,path:m,method:this.settings.method,headers:this.headers,agent:!1,withCredentials:this.withCredentials};if(this.errorFlag=!1,this.settings.async){this.timeout>=1&&(this.timeoutTimer=setTimeout((function(){n.readyState!==n.DONE&&c.handleTimeout(new Error("request timed out after "+n.timeout+"ms"))}),this.timeout));var b=p?o.request:s.request;this.sendFlag=!0,c.dispatchEvent("readystatechange");var _=function(e){c.handleError(e)},w=0;c.request=b(x,(function e(t){if(c.response=t,void 0===c.settings)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(c.response.headers.location&&(301===c.response.statusCode||302===c.response.statusCode||303===c.response.statusCode||307===c.response.statusCode)){if(++w>=10)throw new Error("XMLHttpRequest: Request failed - too many redirects");c.settings.url=c.response.headers.location;var n=Object(a.parse)(c.settings.url);return(h=n.hostname)&&(c.headers.Host=h),c.request=(b=(p="https:"===f.protocol)?o.request:s.request)({hostname:n.hostname,port:n.port,path:n.path,method:303===c.response.statusCode?"GET":c.settings.method,headers:c.headers,withCredentials:c.withCredentials},e).on("error",_),void c.request.end()}c.response.setEncoding("utf8"),c.setState(c.HEADERS_RECEIVED),c.status=c.response.statusCode||0,c.response.on("data",(function(e){e&&(c.responseText+=e),c.sendFlag&&c.setState(c.LOADING)})),c.response.on("end",(function(){c.sendFlag&&(c.setState(c.DONE),c.sendFlag=!1)})),c.response.on("error",(function(e){c.handleError(e)}))})).on("error",_),t&&c.request.write(t),c.request.end(),c.dispatchEvent("loadstart")}else{var S=(new Date).getTime(),T=Object(l.tmpdir)()+u.sep+"ts-xmlhttprequest-content-"+r.pid,A=Object(l.tmpdir)()+u.sep+"ts-xmlhttprequest-sync-"+r.pid;Object(i.writeFileSync)(A,"","utf8");var E="let http = require('http'), https = require('https'), fs = require('fs');let doRequest = http"+(p?"s":"")+".request;let options = "+JSON.stringify(x)+";let responseText = '';let req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {    responseText += chunk;});response.on('end', function() {fs.writeFileSync(    '"+T+"',    JSON.stringify({        err: null,        data: {statusCode: response.statusCode, headers: response.headers, text: responseText}    }),    'utf8');fs.unlinkSync('"+A+"');});response.on('error', function(error) {fs.writeFileSync('"+T+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+A+"');});}).on('error', function(error) {fs.writeFileSync('"+T+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+A+"');});"+(t?"req.write('"+JSON.stringify(t).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();";c.dispatchEvent("loadstart"),this.setState(c.LOADING);var k=Object(i.spawn)(r.argv[0],["-e",E]);for(k.on("exit",(function(){try{Object(i.unlinkSync)(A)}catch(e){}try{Object(i.unlinkSync)(T)}catch(e){}}));Object(i.existsSync)(A);)if(0!==this.timeout&&(new Date).getTime()>=S+this.timeout)return k.stdin.end(),k.kill(),c.handleTimeout(new Error("request timed out after "+this.timeout+"ms"));k.stdin.end(),k.kill();var C=JSON.parse(Object(i.readFileSync)(T,"utf8"));Object(i.unlinkSync)(T),C.err?c.handleError(C.err):(c.response=C.data,c.status=C.data.statusCode,c.responseText=C.data.text,c.setState(c.DONE))}}},t.prototype.abort=function(){this.request&&(this.request.abort(),this.request=void 0),this.headers={},this.status=0,this.responseText="",this.responseXML=null,this.errorFlag=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!this.sendFlag||this.readyState===this.DONE||(this.sendFlag=!1,this.setState(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},t.prototype.addEventListener=function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},t.prototype.removeEventListener=function(e,t){e in this.listeners&&(this.listeners[e]=this.listeners[e].filter((function(e){return e!==t})))},t.prototype.dispatchEvent=function(e,t){var n="on"+e;if("function"==typeof this[n]&&this[n](t),e in this.listeners)for(var r=0,i=this.listeners[e].length;r<i;r++)this.listeners[e][r].call(this,t)},t.prototype.setState=function(e){e!==this.LOADING&&this.readyState===e||(this.readyState=e,(this.settings&&this.settings.async||this.readyState<this.OPENED||this.readyState===this.DONE)&&this.dispatchEvent("readystatechange"),this.readyState===this.DONE&&(this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0),this.errorFlag||this.dispatchEvent("load"),this.dispatchEvent("loadend")))},t.prototype.handleTimeout=function(e){this.request&&(this.request.abort(),this.request=void 0),this.status=0,this.statusText=e.toString(),this.responseText=e.stack||"",this.errorFlag=!0,this.dispatchEvent("timeout",e),this.setState(this.DONE)},t.prototype.handleError=function(e){this.status=0,this.statusText=e.toString(),this.responseText=e.stack||"",this.errorFlag=!0,this.dispatchEvent("error",e),this.setState(this.DONE)},t.prototype.isAllowedHttpHeader=function(e){return!0===(this.disableHeaderCheck||e&&-1===this.forbiddenRequestHeaders.indexOf(e.toLowerCase()))},t.prototype.isAllowedHttpMethod=function(e){return!0===(e&&-1===this.forbiddenRequestMethods.indexOf(e))},t.UNSENT=0,t.OPENED=1,t.HEADERS_RECEIVED=2,t.LOADING=3,t.DONE=4,t}()}.call(this,n("zkTx").Buffer,n("5IsQ"))},"9fWK":function(e,t,n){"use strict";function r(){console.error(h.oneLine(a||(a=l`
    UNREACHABLE CODE REACHED!
    Please file an issue at
    https://github.com/source-academy/js-slang/issues
    if you see this.
  `)))}function i(e){return 1===e.length?o(e[0]):p.vector_to_list(["sequence",p.vector_to_list(e.map(o))])}function s(e){return function(e){return e.reduce(((e,t)=>e||"VariableDeclaration"===t.type||"FunctionDeclaration"===t.type),!1)}(e)?p.vector_to_list(["block",i(e)]):i(e)}function o(e){if(f.has(e.type)){const t=f.get(e.type)(e);return null!=t&&"object"==typeof t&&void 0!==t.tag&&(t.loc=e.loc),t}throw r(),new d("Cannot transform unknown type: "+e.type)}let a,l=e=>e;Object.defineProperty(t,"__esModule",{value:!0}),t.tokenize=t.parse=void 0;const u=n("f9Fa"),c=n("0ZcR"),h=n("zZ3m"),p=n("255Z");class d extends Error{constructor(e){super(e),this.name="ParseError"}}const f=new Map([["Program",e=>i(e.body)],["BlockStatement",e=>s(e.body)],["ExpressionStatement",e=>o(e.expression)],["IfStatement",e=>p.vector_to_list(["conditional_statement",o(e.test),o(e.consequent),null===e.alternate?i([]):o(e.alternate)])],["FunctionDeclaration",e=>p.vector_to_list(["function_declaration",o(e.id),p.vector_to_list(e.params.map(o)),s(e.body.body)])],["VariableDeclaration",e=>{if("let"===e.kind)return p.vector_to_list(["variable_declaration",o(e.declarations[0].id),o(e.declarations[0].init)]);if("const"===e.kind)return p.vector_to_list(["constant_declaration",o(e.declarations[0].id),o(e.declarations[0].init)]);throw r(),new d("Invalid declaration kind")}],["ReturnStatement",e=>p.vector_to_list(["return_statement",o(e.argument)])],["CallExpression",e=>p.vector_to_list(["application",o(e.callee),p.vector_to_list(e.arguments.map(o))])],["UnaryExpression",e=>p.vector_to_list(["unary_operator_combination","-"===e.operator?"-unary":e.operator,o(e.argument)])],["BinaryExpression",e=>p.vector_to_list(["binary_operator_combination",e.operator,o(e.left),o(e.right)])],["LogicalExpression",e=>p.vector_to_list(["logical_composition",e.operator,o(e.left),o(e.right)])],["ConditionalExpression",e=>p.vector_to_list(["conditional_expression",o(e.test),o(e.consequent),o(e.alternate)])],["ArrowFunctionExpression",e=>p.vector_to_list(["lambda_expression",p.vector_to_list(e.params.map(o)),"BlockStatement"===e.body.type?s(e.body.body):p.vector_to_list(["return_statement",o(e.body)])])],["Identifier",e=>p.vector_to_list(["name",e.name])],["Literal",e=>p.vector_to_list(["literal",e.value])],["ArrayExpression",e=>p.vector_to_list(["array_expression",p.vector_to_list(e.elements.map(o))])],["AssignmentExpression",e=>{if("Identifier"===e.left.type)return p.vector_to_list(["assignment",o(e.left),o(e.right)]);if("MemberExpression"===e.left.type)return p.vector_to_list(["object_assignment",o(e.left),o(e.right)]);throw r(),new d("Invalid assignment")}],["ForStatement",e=>p.vector_to_list(["for_loop",o(e.init),o(e.test),o(e.update),o(e.body)])],["WhileStatement",e=>p.vector_to_list(["while_loop",o(e.test),o(e.body)])],["BreakStatement",()=>p.vector_to_list(["break_statement"])],["ContinueStatement",()=>p.vector_to_list(["continue_statement"])],["ObjectExpression",e=>p.vector_to_list(["object_expression",p.vector_to_list(e.properties.map(o))])],["MemberExpression",e=>{const t="Identifier"===e.property.type?p.vector_to_list(["property",e.property.name]):o(e.property);return p.vector_to_list(["object_access",o(e.object),t])}],["Property",e=>{if("Literal"===e.key.type)return[e.key.value,o(e.value)];if("Identifier"===e.key.type)return[p.vector_to_list(["property",e.key.name]),o(e.value)];throw r(),new d("Invalid property key type")}],["ImportDeclaration",e=>p.vector_to_list(["import_declaration",p.vector_to_list(e.specifiers.map(o)),e.source.value])],["ImportSpecifier",e=>p.vector_to_list(["name",e.imported.name])],["ClassDeclaration",e=>p.vector_to_list(["class_declaration",p.vector_to_list(["name",null===e.id?null:e.id.name,null==e.superClass?null:o(e.superClass),e.body.body.map(o)])])],["NewExpression",e=>p.vector_to_list(["new_expression",o(e.callee),p.vector_to_list(e.arguments.map(o))])],["MethodDefinition",e=>p.vector_to_list(["method_definition",e.kind,o(e.key),o(e.value)])],["FunctionExpression",e=>p.vector_to_list(["lambda_expression",p.vector_to_list(e.params.map(o)),s(e.body.body)])],["ThisExpression",()=>p.vector_to_list(["this_expression"])],["Super",()=>p.vector_to_list(["super_expression"])],["TryStatement",e=>p.vector_to_list(["try_statement",o(e.block),null==e.handler?null:p.vector_to_list(["name",e.handler.param.name]),null==e.handler?null:o(e.handler.body)])],["ThrowStatement",e=>p.vector_to_list(["throw_statement",o(e.argument)])],["SpreadElement",e=>p.vector_to_list(["spread_element",o(e.argument)])],["RestElement",e=>p.vector_to_list(["rest_element",o(e.argument)])]]);t.parse=function(e,t){t.chapter=c.libraryParserLanguage;const n=u.parse(e,t);if(t.errors.length>0)throw new d(t.errors[0].explain());if(void 0!==n)return o(n);throw r(),new d("Invalid parse")},t.tokenize=function(e,t){const n=u.tokenize(e,t).map((t=>e.substring(t.start,t.end)));return p.vector_to_list(n)}},"9va6":function(e,t,n){(function(e,r){var i;(function(){function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function o(e,t,n,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var o=e[i];t(r,o,n(o),e)}return r}function a(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function l(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function u(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function c(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function h(e,t){return!!(null==e?0:e.length)&&b(e,t,0)>-1}function p(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function d(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function f(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function g(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function m(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function y(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function v(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function x(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function b(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):x(e,w,n)}function _(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return-1}function w(e){return e!=e}function S(e,t){var n=null==e?0:e.length;return n?k(e,t)/n:ne}function T(e){return function(t){return null==t?H:t[e]}}function A(e){return function(t){return null==e?H:e[t]}}function E(e,t,n,r,i){return i(e,(function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)})),n}function k(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);s!==H&&(n=n===H?s:n+s)}return n}function C(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function L(e){return e?e.slice(0,W(e)+1).replace(Ke,""):e}function $(e){return function(t){return e(t)}}function R(e,t){return d(t,(function(t){return e[t]}))}function I(e,t){return e.has(t)}function M(e,t){for(var n=-1,r=e.length;++n<r&&b(t,e[n],0)>-1;);return n}function N(e,t){for(var n=e.length;n--&&b(t,e[n],0)>-1;);return n}function O(e){return"\\"+Qt[e]}function D(e){return Ht.test(e)}function F(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function P(e,t){return function(n){return e(t(n))}}function V(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n];o!==t&&o!==q||(e[n]=q,s[i++]=n)}return s}function B(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function z(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function U(e){return D(e)?function(e){var t=Gt.lastIndex=0;for(;Gt.test(e);)++t;return t}(e):gn(e)}function G(e){return D(e)?function(e){return e.match(Gt)||[]}(e):function(e){return e.split("")}(e)}function W(e){for(var t=e.length;t--&&qe.test(e.charAt(t)););return t}var H,j="Expected a function",K="__lodash_hash_undefined__",q="__lodash_placeholder__",X=16,Y=32,Q=64,Z=128,J=256,ee=1/0,te=9007199254740991,ne=NaN,re=4294967295,ie=[["ary",Z],["bind",1],["bindKey",2],["curry",8],["curryRight",X],["flip",512],["partial",Y],["partialRight",Q],["rearg",J]],se="[object Arguments]",oe="[object Array]",ae="[object Boolean]",le="[object Date]",ue="[object Error]",ce="[object Function]",he="[object GeneratorFunction]",pe="[object Map]",de="[object Number]",fe="[object Object]",ge="[object Promise]",me="[object RegExp]",ye="[object Set]",ve="[object String]",xe="[object Symbol]",be="[object WeakMap]",_e="[object ArrayBuffer]",we="[object DataView]",Se="[object Float32Array]",Te="[object Float64Array]",Ae="[object Int8Array]",Ee="[object Int16Array]",ke="[object Int32Array]",Ce="[object Uint8Array]",Le="[object Uint8ClampedArray]",$e="[object Uint16Array]",Re="[object Uint32Array]",Ie=/\b__p \+= '';/g,Me=/\b(__p \+=) '' \+/g,Ne=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Oe=/&(?:amp|lt|gt|quot|#39);/g,De=/[&<>"']/g,Fe=RegExp(Oe.source),Pe=RegExp(De.source),Ve=/<%-([\s\S]+?)%>/g,Be=/<%([\s\S]+?)%>/g,ze=/<%=([\s\S]+?)%>/g,Ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ge=/^\w*$/,We=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,He=/[\\^$.*+?()[\]{}|]/g,je=RegExp(He.source),Ke=/^\s+/,qe=/\s/,Xe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ye=/\{\n\/\* \[wrapped with (.+)\] \*/,Qe=/,? & /,Ze=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Je=/[()=,{}\[\]\/\s]/,et=/\\(\\)?/g,tt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,rt=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,st=/^\[object .+?Constructor\]$/,ot=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ut=/($^)/,ct=/['\n\r\u2028\u2029\\]/g,ht="\\ud800-\\udfff",pt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\u2700-\\u27bf",ft="a-z\\xdf-\\xf6\\xf8-\\xff",gt="A-Z\\xc0-\\xd6\\xd8-\\xde",mt="\\ufe0e\\ufe0f",yt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",vt="['’]",xt="["+ht+"]",bt="["+yt+"]",_t="["+pt+"]",wt="\\d+",St="["+dt+"]",Tt="["+ft+"]",At="[^"+ht+yt+wt+dt+ft+gt+"]",Et="\\ud83c[\\udffb-\\udfff]",kt="[^"+ht+"]",Ct="(?:\\ud83c[\\udde6-\\uddff]){2}",Lt="[\\ud800-\\udbff][\\udc00-\\udfff]",$t="["+gt+"]",Rt="\\u200d",It="(?:"+Tt+"|"+At+")",Mt="(?:"+$t+"|"+At+")",Nt="(?:['’](?:d|ll|m|re|s|t|ve))?",Ot="(?:['’](?:D|LL|M|RE|S|T|VE))?",Dt="(?:"+_t+"|"+Et+")"+"?",Ft="["+mt+"]?",Pt=Ft+Dt+("(?:"+Rt+"(?:"+[kt,Ct,Lt].join("|")+")"+Ft+Dt+")*"),Vt="(?:"+[St,Ct,Lt].join("|")+")"+Pt,Bt="(?:"+[kt+_t+"?",_t,Ct,Lt,xt].join("|")+")",zt=RegExp(vt,"g"),Ut=RegExp(_t,"g"),Gt=RegExp(Et+"(?="+Et+")|"+Bt+Pt,"g"),Wt=RegExp([$t+"?"+Tt+"+"+Nt+"(?="+[bt,$t,"$"].join("|")+")",Mt+"+"+Ot+"(?="+[bt,$t+It,"$"].join("|")+")",$t+"?"+It+"+"+Nt,$t+"+"+Ot,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",wt,Vt].join("|"),"g"),Ht=RegExp("["+Rt+ht+pt+mt+"]"),jt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qt=-1,Xt={};Xt[Se]=Xt[Te]=Xt[Ae]=Xt[Ee]=Xt[ke]=Xt[Ce]=Xt[Le]=Xt[$e]=Xt[Re]=!0,Xt[se]=Xt[oe]=Xt[_e]=Xt[ae]=Xt[we]=Xt[le]=Xt[ue]=Xt[ce]=Xt[pe]=Xt[de]=Xt[fe]=Xt[me]=Xt[ye]=Xt[ve]=Xt[be]=!1;var Yt={};Yt[se]=Yt[oe]=Yt[_e]=Yt[we]=Yt[ae]=Yt[le]=Yt[Se]=Yt[Te]=Yt[Ae]=Yt[Ee]=Yt[ke]=Yt[pe]=Yt[de]=Yt[fe]=Yt[me]=Yt[ye]=Yt[ve]=Yt[xe]=Yt[Ce]=Yt[Le]=Yt[$e]=Yt[Re]=!0,Yt[ue]=Yt[ce]=Yt[be]=!1;var Qt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zt=parseFloat,Jt=parseInt,en="object"==typeof e&&e&&e.Object===Object&&e,tn="object"==typeof self&&self&&self.Object===Object&&self,nn=en||tn||Function("return this")(),rn=t&&!t.nodeType&&t,sn=rn&&"object"==typeof r&&r&&!r.nodeType&&r,on=sn&&sn.exports===rn,an=on&&en.process,ln=function(){try{var e=sn&&sn.require&&sn.require("util").types;return e||an&&an.binding&&an.binding("util")}catch(e){}}(),un=ln&&ln.isArrayBuffer,cn=ln&&ln.isDate,hn=ln&&ln.isMap,pn=ln&&ln.isRegExp,dn=ln&&ln.isSet,fn=ln&&ln.isTypedArray,gn=T("length"),mn=A({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),yn=A({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),vn=A({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),xn=function e(t){function n(e){if(Di(e)&&!ka(e)&&!(e instanceof A)){if(e instanceof i)return e;if(As.call(e,"__wrapped__"))return li(e)}return new i(e)}function r(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=H}function A(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function qe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ht(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function pt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function dt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new pt;++t<n;)this.add(e[t])}function ft(e){var t=this.__data__=new ht(e);this.size=t.size}function gt(e,t){var n=ka(e),r=!n&&Ea(e),i=!n&&!r&&La(e),s=!n&&!r&&!i&&Na(e),o=n||r||i||s,a=o?C(e.length,xs):[],l=a.length;for(var u in e)!t&&!As.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Kr(u,l))||a.push(u);return a}function mt(e){var t=e.length;return t?e[In(0,t-1)]:H}function yt(e,t){return si(ur(e),Et(t,0,e.length))}function vt(e){return si(ur(e))}function xt(e,t,n){(n!==H&&!Ci(e[t],n)||n===H&&!(t in e))&&Tt(e,t,n)}function bt(e,t,n){var r=e[t];As.call(e,t)&&Ci(r,n)&&(n!==H||t in e)||Tt(e,t,n)}function _t(e,t){for(var n=e.length;n--;)if(Ci(e[n][0],t))return n;return-1}function wt(e,t,n,r){return To(e,(function(e,i,s){t(r,e,n(e),s)})),r}function St(e,t){return e&&cr(t,Yi(t),e)}function Tt(e,t,n){"__proto__"==t&&Gs?Gs(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function At(e,t){for(var n=-1,r=t.length,i=ps(r),s=null==e;++n<r;)i[n]=s?H:qi(e,t[n]);return i}function Et(e,t,n){return e==e&&(n!==H&&(e=e<=n?e:n),t!==H&&(e=e>=t?e:t)),e}function kt(e,t,n,r,i,s){var o,l=1&t,u=2&t,c=4&t;if(n&&(o=i?n(e,r,i,s):n(e)),o!==H)return o;if(!Oi(e))return e;var h=ka(e);if(h){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&As.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return ur(e,o)}else{var p=Do(e),d=p==ce||p==he;if(La(e))return rr(e,l);if(p==fe||p==se||d&&!i){if(o=u||d?{}:Hr(e),!l)return u?function(e,t){return cr(e,Oo(e),t)}(e,function(e,t){return e&&cr(t,Qi(t),e)}(o,e)):function(e,t){return cr(e,No(e),t)}(e,St(o,e))}else{if(!Yt[p])return i?e:{};o=function(e,t,n){var r=e.constructor;switch(t){case _e:return ir(e);case ae:case le:return new r(+e);case we:return function(e,t){var n=t?ir(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case Se:case Te:case Ae:case Ee:case ke:case Ce:case Le:case $e:case Re:return sr(e,n);case pe:return new r;case de:case ve:return new r(e);case me:return function(e){var t=new e.constructor(e.source,nt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ye:return new r;case xe:return i=e,_o?ys(_o.call(i)):{}}var i}(e,p,l)}}s||(s=new ft);var f=s.get(e);if(f)return f;s.set(e,o),Ma(e)?e.forEach((function(r){o.add(kt(r,t,n,r,e,s))})):Ra(e)&&e.forEach((function(r,i){o.set(i,kt(r,t,n,i,e,s))}));var g=h?H:(c?u?Fr:Dr:u?Qi:Yi)(e);return a(g||e,(function(r,i){g&&(r=e[i=r]),bt(o,i,kt(r,t,n,i,e,s))})),o}function Ct(e,t,n){var r=n.length;if(null==e)return!r;for(e=ys(e);r--;){var i=n[r],s=e[i];if(s===H&&!(i in e)||!(0,t[i])(s))return!1}return!0}function Lt(e,t,n){if("function"!=typeof e)throw new bs(j);return Vo((function(){e.apply(H,n)}),t)}function $t(e,t,n,r){var i=-1,s=h,o=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=d(t,$(n))),r?(s=p,o=!1):t.length>=200&&(s=I,o=!1,t=new dt(t));e:for(;++i<a;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,o&&f==f){for(var g=u;g--;)if(t[g]===f)continue e;l.push(c)}else s(t,f,r)||l.push(c)}return l}function Rt(e,t){var n=!0;return To(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function It(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],o=t(s);if(null!=o&&(a===H?o==o&&!Bi(o):n(o,a)))var a=o,l=s}return l}function Mt(e,t){var n=[];return To(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Nt(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=jr),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?Nt(a,t-1,n,r,i):f(i,a):r||(i[i.length]=a)}return i}function Ot(e,t){return e&&Eo(e,t,Yi)}function Dt(e,t){return e&&ko(e,t,Yi)}function Ft(e,t){return c(t,(function(t){return Ii(e[t])}))}function Pt(e,t){for(var n=0,r=(t=tr(t,e)).length;null!=e&&n<r;)e=e[oi(t[n++])];return n&&n==r?e:H}function Vt(e,t,n){var r=t(e);return ka(e)?r:f(r,n(e))}function Bt(e){return null==e?e===H?"[object Undefined]":"[object Null]":Us&&Us in ys(e)?function(e){var t=As.call(e,Us),n=e[Us];try{e[Us]=H;var r=!0}catch(e){}var i=Cs.call(e);r&&(t?e[Us]=n:delete e[Us]);return i}(e):function(e){return Cs.call(e)}(e)}function Gt(e,t){return e>t}function Ht(e,t){return null!=e&&As.call(e,t)}function Qt(e,t){return null!=e&&t in ys(e)}function en(e,t,n){for(var r=n?p:h,i=e[0].length,s=e.length,o=s,a=ps(s),l=1/0,u=[];o--;){var c=e[o];o&&t&&(c=d(c,$(t))),l=to(c.length,l),a[o]=!n&&(t||i>=120&&c.length>=120)?new dt(o&&c):H}c=e[0];var f=-1,g=a[0];e:for(;++f<i&&u.length<l;){var m=c[f],y=t?t(m):m;if(m=n||0!==m?m:0,!(g?I(g,y):r(u,y,n))){for(o=s;--o;){var v=a[o];if(!(v?I(v,y):r(e[o],y,n)))continue e}g&&g.push(y),u.push(m)}}return u}function tn(e,t,n){var r=null==(e=ti(e,t=tr(t,e)))?e:e[oi(di(t))];return null==r?H:s(r,e,n)}function rn(e){return Di(e)&&Bt(e)==se}function sn(e,t,n,r,i){return e===t||(null==e||null==t||!Di(e)&&!Di(t)?e!=e&&t!=t:function(e,t,n,r,i,s){var o=ka(e),a=ka(t),l=o?oe:Do(e),u=a?oe:Do(t),c=(l=l==se?fe:l)==fe,h=(u=u==se?fe:u)==fe,p=l==u;if(p&&La(e)){if(!La(t))return!1;o=!0,c=!1}if(p&&!c)return s||(s=new ft),o||Na(e)?Nr(e,t,n,r,i,s):function(e,t,n,r,i,s,o){switch(n){case we:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _e:return!(e.byteLength!=t.byteLength||!s(new Ns(e),new Ns(t)));case ae:case le:case de:return Ci(+e,+t);case ue:return e.name==t.name&&e.message==t.message;case me:case ve:return e==t+"";case pe:var a=F;case ye:if(a||(a=B),e.size!=t.size&&!(1&r))return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var u=Nr(a(e),a(t),r,i,s,o);return o.delete(e),u;case xe:if(_o)return _o.call(e)==_o.call(t)}return!1}(e,t,l,n,r,i,s);if(!(1&n)){var d=c&&As.call(e,"__wrapped__"),f=h&&As.call(t,"__wrapped__");if(d||f){var g=d?e.value():e,m=f?t.value():t;return s||(s=new ft),i(g,m,n,r,s)}}if(!p)return!1;return s||(s=new ft),function(e,t,n,r,i,s){var o=1&n,a=Dr(e),l=a.length,u=Dr(t);if(l!=u.length&&!o)return!1;var c=l;for(;c--;){var h=a[c];if(!(o?h in t:As.call(t,h)))return!1}var p=s.get(e),d=s.get(t);if(p&&d)return p==t&&d==e;var f=!0;s.set(e,t),s.set(t,e);var g=o;for(;++c<l;){var m=e[h=a[c]],y=t[h];if(r)var v=o?r(y,m,h,t,e,s):r(m,y,h,e,t,s);if(!(v===H?m===y||i(m,y,n,r,s):v)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var x=e.constructor,b=t.constructor;x==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof b&&b instanceof b||(f=!1)}return s.delete(e),s.delete(t),f}(e,t,n,r,i,s)}(e,t,n,r,sn,i))}function an(e,t,n,r){var i=n.length,s=i,o=!r;if(null==e)return!s;for(e=ys(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){var l=(a=n[i])[0],u=e[l],c=a[1];if(o&&a[2]){if(u===H&&!(l in e))return!1}else{var h=new ft;if(r)var p=r(u,c,l,e,t,h);if(!(p===H?sn(c,u,3,r,h):p))return!1}}return!0}function ln(e){return!(!Oi(e)||(t=e,ks&&ks in t))&&(Ii(e)?Rs:st).test(ai(e));var t}function gn(e){return"function"==typeof e?e:null==e?is:"object"==typeof e?ka(e)?An(e[0],e[1]):Tn(e):ls(e)}function bn(e){if(!Qr(e))return Js(e);var t=[];for(var n in ys(e))As.call(e,n)&&"constructor"!=n&&t.push(n);return t}function _n(e){if(!Oi(e))return function(e){var t=[];if(null!=e)for(var n in ys(e))t.push(n);return t}(e);var t=Qr(e),n=[];for(var r in e)("constructor"!=r||!t&&As.call(e,r))&&n.push(r);return n}function wn(e,t){return e<t}function Sn(e,t){var n=-1,r=Li(e)?ps(e.length):[];return To(e,(function(e,i,s){r[++n]=t(e,i,s)})),r}function Tn(e){var t=Ur(e);return 1==t.length&&t[0][2]?Jr(t[0][0],t[0][1]):function(n){return n===e||an(n,e,t)}}function An(e,t){return Xr(e)&&Zr(t)?Jr(oi(e),t):function(n){var r=qi(n,e);return r===H&&r===t?Xi(n,e):sn(t,r,3)}}function En(e,t,n,r,i){e!==t&&Eo(t,(function(s,o){if(i||(i=new ft),Oi(s))!function(e,t,n,r,i,s,o){var a=ni(e,n),l=ni(t,n),u=o.get(l);if(u)return void xt(e,n,u);var c=s?s(a,l,n+"",e,t,o):H,h=c===H;if(h){var p=ka(l),d=!p&&La(l),f=!p&&!d&&Na(l);c=l,p||d||f?ka(a)?c=a:$i(a)?c=ur(a):d?(h=!1,c=rr(l,!0)):f?(h=!1,c=sr(l,!0)):c=[]:Pi(l)||Ea(l)?(c=a,Ea(a)?c=ji(a):Oi(a)&&!Ii(a)||(c=Hr(l))):h=!1}h&&(o.set(l,c),i(c,l,r,s,o),o.delete(l));xt(e,n,c)}(e,t,o,n,En,r,i);else{var a=r?r(ni(e,o),s,o+"",e,t,i):H;a===H&&(a=s),xt(e,o,a)}}),Qi)}function kn(e,t){var n=e.length;if(n)return Kr(t+=t<0?n:0,n)?e[t]:H}function Cn(e,t,n){t=t.length?d(t,(function(e){return ka(e)?function(t){return Pt(t,1===e.length?e[0]:e)}:e})):[is];var r=-1;t=d(t,$(Br()));var i=Sn(e,(function(e){var n=d(t,(function(t){return t(e)}));return{criteria:n,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;for(;++r<o;){var l=or(i[r],s[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Ln(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=Pt(e,o);n(a,o)&&Fn(s,tr(o,e),a)}return s}function $n(e,t,n,r){var i=r?_:b,s=-1,o=t.length,a=e;for(e===t&&(t=ur(t)),n&&(a=d(e,$(n)));++s<o;)for(var l=0,u=t[s],c=n?n(u):u;(l=i(a,c,l,r))>-1;)a!==e&&Vs.call(a,l,1),Vs.call(e,l,1);return e}function Rn(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;Kr(i)?Vs.call(e,i,1):Kn(e,i)}}return e}function In(e,t){return e+qs(io()*(t-e+1))}function Mn(e,t){var n="";if(!e||t<1||t>te)return n;do{t%2&&(n+=e),(t=qs(t/2))&&(e+=e)}while(t);return n}function Nn(e,t){return Bo(ei(e,t,is),e+"")}function On(e){return mt(Ji(e))}function Dn(e,t){var n=Ji(e);return si(n,Et(t,0,n.length))}function Fn(e,t,n,r){if(!Oi(e))return e;for(var i=-1,s=(t=tr(t,e)).length,o=s-1,a=e;null!=a&&++i<s;){var l=oi(t[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=o){var c=a[l];(u=r?r(c,l,a):H)===H&&(u=Oi(c)?c:Kr(t[i+1])?[]:{})}bt(a,l,u),a=a[l]}return e}function Pn(e){return si(Ji(e))}function Vn(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=ps(i);++r<i;)s[r]=e[r+t];return s}function Bn(e,t){var n;return To(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function zn(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=e[s];null!==o&&!Bi(o)&&(n?o<=t:o<t)?r=s+1:i=s}return i}return Un(e,t,is,n)}function Un(e,t,n,r){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var o=(t=n(t))!=t,a=null===t,l=Bi(t),u=t===H;i<s;){var c=qs((i+s)/2),h=n(e[c]),p=h!==H,d=null===h,f=h==h,g=Bi(h);if(o)var m=r||f;else m=u?f&&(r||p):a?f&&p&&(r||!d):l?f&&p&&!d&&(r||!g):!d&&!g&&(r?h<=t:h<t);m?i=c+1:s=c}return to(s,4294967294)}function Gn(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n],a=t?t(o):o;if(!n||!Ci(a,l)){var l=a;s[i++]=0===o?0:o}}return s}function Wn(e){return"number"==typeof e?e:Bi(e)?ne:+e}function Hn(e){if("string"==typeof e)return e;if(ka(e))return d(e,Hn)+"";if(Bi(e))return wo?wo.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function jn(e,t,n){var r=-1,i=h,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=p;else if(s>=200){var u=t?null:Io(e);if(u)return B(u);o=!1,i=I,l=new dt}else l=t?[]:a;e:for(;++r<s;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),a.push(c)}else i(l,d,n)||(l!==a&&l.push(d),a.push(c))}return a}function Kn(e,t){return null==(e=ti(e,t=tr(t,e)))||delete e[oi(di(t))]}function qn(e,t,n,r){return Fn(e,t,n(Pt(e,t)),r)}function Xn(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?Vn(e,r?0:s,r?s+1:i):Vn(e,r?s+1:0,r?i:s)}function Yn(e,t){var n=e;return n instanceof A&&(n=n.value()),g(t,(function(e,t){return t.func.apply(t.thisArg,f([e],t.args))}),n)}function Qn(e,t,n){var r=e.length;if(r<2)return r?jn(e[0]):[];for(var i=-1,s=ps(r);++i<r;)for(var o=e[i],a=-1;++a<r;)a!=i&&(s[i]=$t(s[i]||o,e[a],t,n));return jn(Nt(s,1),t,n)}function Zn(e,t,n){for(var r=-1,i=e.length,s=t.length,o={};++r<i;){n(o,e[r],r<s?t[r]:H)}return o}function Jn(e){return $i(e)?e:[]}function er(e){return"function"==typeof e?e:is}function tr(e,t){return ka(e)?e:Xr(e,t)?[e]:zo(Ki(e))}function nr(e,t,n){var r=e.length;return n=n===H?r:n,!t&&n>=r?e:Vn(e,t,n)}function rr(e,t){if(t)return e.slice();var n=e.length,r=Os?Os(n):new e.constructor(n);return e.copy(r),r}function ir(e){var t=new e.constructor(e.byteLength);return new Ns(t).set(new Ns(e)),t}function sr(e,t){var n=t?ir(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function or(e,t){if(e!==t){var n=e!==H,r=null===e,i=e==e,s=Bi(e),o=t!==H,a=null===t,l=t==t,u=Bi(t);if(!a&&!u&&!s&&e>t||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&e<t||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function ar(e,t,n,r){for(var i=-1,s=e.length,o=n.length,a=-1,l=t.length,u=eo(s-o,0),c=ps(l+u),h=!r;++a<l;)c[a]=t[a];for(;++i<o;)(h||i<s)&&(c[n[i]]=e[i]);for(;u--;)c[a++]=e[i++];return c}function lr(e,t,n,r){for(var i=-1,s=e.length,o=-1,a=n.length,l=-1,u=t.length,c=eo(s-a,0),h=ps(c+u),p=!r;++i<c;)h[i]=e[i];for(var d=i;++l<u;)h[d+l]=t[l];for(;++o<a;)(p||i<s)&&(h[d+n[o]]=e[i++]);return h}function ur(e,t){var n=-1,r=e.length;for(t||(t=ps(r));++n<r;)t[n]=e[n];return t}function cr(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):H;l===H&&(l=e[a]),i?Tt(n,a,l):bt(n,a,l)}return n}function hr(e,t){return function(n,r){var i=ka(n)?o:wt,s=t?t():{};return i(n,e,Br(r,2),s)}}function pr(e){return Nn((function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:H,o=i>2?n[2]:H;for(s=e.length>3&&"function"==typeof s?(i--,s):H,o&&qr(n[0],n[1],o)&&(s=i<3?H:s,i=1),t=ys(t);++r<i;){var a=n[r];a&&e(t,a,r,s)}return t}))}function dr(e,t){return function(n,r){if(null==n)return n;if(!Li(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=ys(n);(t?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function fr(e){return function(t,n,r){for(var i=-1,s=ys(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(!1===n(s[l],l,s))break}return t}}function gr(e){return function(t){var n=D(t=Ki(t))?G(t):H,r=n?n[0]:t.charAt(0),i=n?nr(n,1).join(""):t.slice(1);return r[e]()+i}}function mr(e){return function(t){return g(ns(ts(t).replace(zt,"")),e,"")}}function yr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=So(e.prototype),r=e.apply(n,t);return Oi(r)?r:n}}function vr(e){return function(t,n,r){var i=ys(t);if(!Li(t)){var s=Br(n,3);t=Yi(t),n=function(e){return s(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[s?t[o]:o]:H}}function xr(e){return Or((function(t){var n=t.length,r=n,s=i.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new bs(j);if(s&&!a&&"wrapper"==Pr(o))var a=new i([],!0)}for(r=a?r:n;++r<n;){var l=Pr(o=t[r]),u="wrapper"==l?Mo(o):H;a=u&&Yr(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?a[Pr(u[0])].apply(a,u[3]):1==o.length&&Yr(o)?a[l]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&ka(r))return a.plant(r).value();for(var i=0,s=n?t[i].apply(this,e):r;++i<n;)s=t[i].call(this,s);return s}}))}function br(e,t,n,r,i,s,o,a,l,u){var c=t&Z,h=1&t,p=2&t,d=24&t,f=512&t,g=p?H:yr(e);return function m(){for(var y=arguments.length,v=ps(y),x=y;x--;)v[x]=arguments[x];if(d)var b=Vr(m),_=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(v,b);if(r&&(v=ar(v,r,i,d)),s&&(v=lr(v,s,o,d)),y-=_,d&&y<u){var w=V(v,b);return kr(e,t,br,m.placeholder,n,v,w,a,l,u-y)}var S=h?n:this,T=p?S[e]:e;return y=v.length,a?v=function(e,t){var n=e.length,r=to(t.length,n),i=ur(e);for(;r--;){var s=t[r];e[r]=Kr(s,n)?i[s]:H}return e}(v,a):f&&y>1&&v.reverse(),c&&l<y&&(v.length=l),this&&this!==nn&&this instanceof m&&(T=g||yr(T)),T.apply(S,v)}}function _r(e,t){return function(n,r){return function(e,t,n,r){return Ot(e,(function(e,i,s){t(r,n(e),i,s)})),r}(n,e,t(r),{})}}function wr(e,t){return function(n,r){var i;if(n===H&&r===H)return t;if(n!==H&&(i=n),r!==H){if(i===H)return r;"string"==typeof n||"string"==typeof r?(n=Hn(n),r=Hn(r)):(n=Wn(n),r=Wn(r)),i=e(n,r)}return i}}function Sr(e){return Or((function(t){return t=d(t,$(Br())),Nn((function(n){var r=this;return e(t,(function(e){return s(e,r,n)}))}))}))}function Tr(e,t){var n=(t=t===H?" ":Hn(t)).length;if(n<2)return n?Mn(t,e):t;var r=Mn(t,Ks(e/U(t)));return D(t)?nr(G(r),0,e).join(""):r.slice(0,e)}function Ar(e){return function(t,n,r){return r&&"number"!=typeof r&&qr(t,n,r)&&(n=r=H),t=Ui(t),n===H?(n=t,t=0):n=Ui(n),function(e,t,n,r){for(var i=-1,s=eo(Ks((t-e)/(n||1)),0),o=ps(s);s--;)o[r?s:++i]=e,e+=n;return o}(t,n,r=r===H?t<n?1:-1:Ui(r),e)}}function Er(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Hi(t),n=Hi(n)),e(t,n)}}function kr(e,t,n,r,i,s,o,a,l,u){var c=8&t;t|=c?Y:Q,4&(t&=~(c?Q:Y))||(t&=-4);var h=[e,t,i,c?s:H,c?o:H,c?H:s,c?H:o,a,l,u],p=n.apply(H,h);return Yr(e)&&Po(p,h),p.placeholder=r,ri(p,e,t)}function Cr(e){var t=ms[e];return function(e,n){if(e=Hi(e),(n=null==n?0:to(Gi(n),292))&&Qs(e)){var r=(Ki(e)+"e").split("e");return+((r=(Ki(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}function Lr(e){return function(t){var n=Do(t);return n==pe?F(t):n==ye?z(t):function(e,t){return d(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $r(e,t,n,r,i,o,a,l){var u=2&t;if(!u&&"function"!=typeof e)throw new bs(j);var c=r?r.length:0;if(c||(t&=-97,r=i=H),a=a===H?a:eo(Gi(a),0),l=l===H?l:Gi(l),c-=i?i.length:0,t&Q){var h=r,p=i;r=i=H}var d=u?H:Mo(e),f=[e,t,n,r,i,h,p,o,a,l];if(d&&function(e,t){var n=e[1],r=t[1],i=n|r,s=r==Z&&8==n||r==Z&&n==J&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!(i<131||s))return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var o=t[3];if(o){var a=e[3];e[3]=a?ar(a,o,t[4]):o,e[4]=a?V(e[3],q):t[4]}(o=t[5])&&(e[5]=(a=e[5])?lr(a,o,t[6]):o,e[6]=a?V(e[5],q):t[6]);(o=t[7])&&(e[7]=o);r&Z&&(e[8]=null==e[8]?t[8]:to(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(f,d),e=f[0],t=f[1],n=f[2],r=f[3],i=f[4],!(l=f[9]=f[9]===H?u?0:e.length:eo(f[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)g=8==t||t==X?function(e,t,n){var r=yr(e);return function i(){for(var o=arguments.length,a=ps(o),l=o,u=Vr(i);l--;)a[l]=arguments[l];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:V(a,u);return(o-=c.length)<n?kr(e,t,br,i.placeholder,H,a,c,H,H,n-o):s(this&&this!==nn&&this instanceof i?r:e,this,a)}}(e,t,l):t!=Y&&33!=t||i.length?br.apply(H,f):function(e,t,n,r){var i=1&t,o=yr(e);return function t(){for(var a=-1,l=arguments.length,u=-1,c=r.length,h=ps(c+l),p=this&&this!==nn&&this instanceof t?o:e;++u<c;)h[u]=r[u];for(;l--;)h[u++]=arguments[++a];return s(p,i?n:this,h)}}(e,t,n,r);else var g=function(e,t,n){var r=1&t,i=yr(e);return function t(){return(this&&this!==nn&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return ri((d?Co:Po)(g,f),e,t)}function Rr(e,t,n,r){return e===H||Ci(e,ws[n])&&!As.call(r,n)?t:e}function Ir(e,t,n,r,i,s){return Oi(e)&&Oi(t)&&(s.set(t,e),En(e,t,H,Ir,s),s.delete(t)),e}function Mr(e){return Pi(e)?H:e}function Nr(e,t,n,r,i,s){var o=1&n,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var h=-1,p=!0,d=2&n?new dt:H;for(s.set(e,t),s.set(t,e);++h<a;){var f=e[h],g=t[h];if(r)var m=o?r(g,f,h,t,e,s):r(f,g,h,e,t,s);if(m!==H){if(m)continue;p=!1;break}if(d){if(!y(t,(function(e,t){if(!I(d,t)&&(f===e||i(f,e,n,r,s)))return d.push(t)}))){p=!1;break}}else if(f!==g&&!i(f,g,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Or(e){return Bo(ei(e,H,hi),e+"")}function Dr(e){return Vt(e,Yi,No)}function Fr(e){return Vt(e,Qi,Oo)}function Pr(e){for(var t=e.name+"",n=fo[t],r=As.call(fo,t)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}function Vr(e){return(As.call(n,"placeholder")?n:e).placeholder}function Br(){var e=n.iteratee||ss;return e=e===ss?gn:e,arguments.length?e(arguments[0],arguments[1]):e}function zr(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ur(e){for(var t=Yi(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Zr(i)]}return t}function Gr(e,t){var n=function(e,t){return null==e?H:e[t]}(e,t);return ln(n)?n:H}function Wr(e,t,n){for(var r=-1,i=(t=tr(t,e)).length,s=!1;++r<i;){var o=oi(t[r]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&Ni(i)&&Kr(o,i)&&(ka(e)||Ea(e))}function Hr(e){return"function"!=typeof e.constructor||Qr(e)?{}:So(Ds(e))}function jr(e){return ka(e)||Ea(e)||!!(Bs&&e&&e[Bs])}function Kr(e,t){var n=typeof e;return!!(t=null==t?te:t)&&("number"==n||"symbol"!=n&&at.test(e))&&e>-1&&e%1==0&&e<t}function qr(e,t,n){if(!Oi(n))return!1;var r=typeof t;return!!("number"==r?Li(n)&&Kr(t,n.length):"string"==r&&t in n)&&Ci(n[t],e)}function Xr(e,t){if(ka(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Bi(e))||(Ge.test(e)||!Ue.test(e)||null!=t&&e in ys(t))}function Yr(e){var t=Pr(e),r=n[t];if("function"!=typeof r||!(t in A.prototype))return!1;if(e===r)return!0;var i=Mo(r);return!!i&&e===i[0]}function Qr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ws)}function Zr(e){return e==e&&!Oi(e)}function Jr(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==H||e in ys(n)))}}function ei(e,t,n){return t=eo(t===H?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=eo(r.length-t,0),a=ps(o);++i<o;)a[i]=r[t+i];i=-1;for(var l=ps(t+1);++i<t;)l[i]=r[i];return l[t]=n(a),s(e,this,l)}}function ti(e,t){return t.length<2?e:Pt(e,Vn(t,0,-1))}function ni(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function ri(e,t,n){var r=t+"";return Bo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Xe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return a(ie,(function(n){var r="_."+n[0];t&n[1]&&!h(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Ye);return t?t[1].split(Qe):[]}(r),n)))}function ii(e){var t=0,n=0;return function(){var r=no(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(H,arguments)}}function si(e,t){var n=-1,r=e.length,i=r-1;for(t=t===H?r:t;++n<t;){var s=In(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}function oi(e){if("string"==typeof e||Bi(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ai(e){if(null!=e){try{return Ts.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function li(e){if(e instanceof A)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=ur(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ui(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Gi(n);return i<0&&(i=eo(r+i,0)),x(e,Br(t,3),i)}function ci(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==H&&(i=Gi(n),i=n<0?eo(r+i,0):to(i,r-1)),x(e,Br(t,3),i,!0)}function hi(e){return(null==e?0:e.length)?Nt(e,1):[]}function pi(e){return e&&e.length?e[0]:H}function di(e){var t=null==e?0:e.length;return t?e[t-1]:H}function fi(e,t){return e&&e.length&&t&&t.length?$n(e,t):e}function gi(e){return null==e?e:so.call(e)}function mi(e){if(!e||!e.length)return[];var t=0;return e=c(e,(function(e){if($i(e))return t=eo(e.length,t),!0})),C(t,(function(t){return d(e,T(t))}))}function yi(e,t){if(!e||!e.length)return[];var n=mi(e);return null==t?n:d(n,(function(e){return s(t,H,e)}))}function vi(e){var t=n(e);return t.__chain__=!0,t}function xi(e,t){return t(e)}function bi(e,t){return(ka(e)?a:To)(e,Br(t,3))}function _i(e,t){return(ka(e)?l:Ao)(e,Br(t,3))}function wi(e,t){return(ka(e)?d:Sn)(e,Br(t,3))}function Si(e,t,n){return t=n?H:t,$r(e,Z,H,H,H,H,t=e&&null==t?e.length:t)}function Ti(e,t){var n;if("function"!=typeof t)throw new bs(j);return e=Gi(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=H),n}}function Ai(e,t,n){function r(t){var n=l,r=u;return l=u=H,f=t,h=e.apply(r,n)}function i(e){var n=e-d;return d===H||n>=t||n<0||m&&e-f>=c}function s(){var e=fa();if(i(e))return o(e);p=Vo(s,function(e){var n=t-(e-d);return m?to(n,c-(e-f)):n}(e))}function o(e){return p=H,y&&l?r(e):(l=u=H,h)}function a(){var e=fa(),n=i(e);if(l=arguments,u=this,d=e,n){if(p===H)return function(e){return f=e,p=Vo(s,t),g?r(e):h}(d);if(m)return Ro(p),p=Vo(s,t),r(d)}return p===H&&(p=Vo(s,t)),h}var l,u,c,h,p,d,f=0,g=!1,m=!1,y=!0;if("function"!=typeof e)throw new bs(j);return t=Hi(t)||0,Oi(n)&&(g=!!n.leading,c=(m="maxWait"in n)?eo(Hi(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),a.cancel=function(){p!==H&&Ro(p),f=0,l=d=u=p=H},a.flush=function(){return p===H?h:o(fa())},a}function Ei(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new bs(j);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Ei.Cache||pt),n}function ki(e){if("function"!=typeof e)throw new bs(j);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Ci(e,t){return e===t||e!=e&&t!=t}function Li(e){return null!=e&&Ni(e.length)&&!Ii(e)}function $i(e){return Di(e)&&Li(e)}function Ri(e){if(!Di(e))return!1;var t=Bt(e);return t==ue||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Pi(e)}function Ii(e){if(!Oi(e))return!1;var t=Bt(e);return t==ce||t==he||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Mi(e){return"number"==typeof e&&e==Gi(e)}function Ni(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=te}function Oi(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Di(e){return null!=e&&"object"==typeof e}function Fi(e){return"number"==typeof e||Di(e)&&Bt(e)==de}function Pi(e){if(!Di(e)||Bt(e)!=fe)return!1;var t=Ds(e);if(null===t)return!0;var n=As.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ts.call(n)==Ls}function Vi(e){return"string"==typeof e||!ka(e)&&Di(e)&&Bt(e)==ve}function Bi(e){return"symbol"==typeof e||Di(e)&&Bt(e)==xe}function zi(e){if(!e)return[];if(Li(e))return Vi(e)?G(e):ur(e);if(zs&&e[zs])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[zs]());var t=Do(e);return(t==pe?F:t==ye?B:Ji)(e)}function Ui(e){return e?(e=Hi(e))===ee||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Gi(e){var t=Ui(e),n=t%1;return t==t?n?t-n:t:0}function Wi(e){return e?Et(Gi(e),0,re):0}function Hi(e){if("number"==typeof e)return e;if(Bi(e))return ne;if(Oi(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Oi(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=L(e);var n=it.test(e);return n||ot.test(e)?Jt(e.slice(2),n?2:8):rt.test(e)?ne:+e}function ji(e){return cr(e,Qi(e))}function Ki(e){return null==e?"":Hn(e)}function qi(e,t,n){var r=null==e?H:Pt(e,t);return r===H?n:r}function Xi(e,t){return null!=e&&Wr(e,t,Qt)}function Yi(e){return Li(e)?gt(e):bn(e)}function Qi(e){return Li(e)?gt(e,!0):_n(e)}function Zi(e,t){if(null==e)return{};var n=d(Fr(e),(function(e){return[e]}));return t=Br(t),Ln(e,n,(function(e,n){return t(e,n[0])}))}function Ji(e){return null==e?[]:R(e,Yi(e))}function es(e){return ol(Ki(e).toLowerCase())}function ts(e){return(e=Ki(e))&&e.replace(lt,mn).replace(Ut,"")}function ns(e,t,n){return e=Ki(e),(t=n?H:t)===H?function(e){return jt.test(e)}(e)?function(e){return e.match(Wt)||[]}(e):function(e){return e.match(Ze)||[]}(e):e.match(t)||[]}function rs(e){return function(){return e}}function is(e){return e}function ss(e){return gn("function"==typeof e?e:kt(e,1))}function os(e,t,n){var r=Yi(t),i=Ft(t,r);null!=n||Oi(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Ft(t,Yi(t)));var s=!(Oi(n)&&"chain"in n&&!n.chain),o=Ii(e);return a(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=ur(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,f([this.value()],arguments))})})),e}function as(){}function ls(e){return Xr(e)?T(oi(e)):function(e){return function(t){return Pt(t,e)}}(e)}function us(){return[]}function cs(){return!1}var hs,ps=(t=null==t?nn:xn.defaults(nn.Object(),t,xn.pick(nn,Kt))).Array,ds=t.Date,fs=t.Error,gs=t.Function,ms=t.Math,ys=t.Object,vs=t.RegExp,xs=t.String,bs=t.TypeError,_s=ps.prototype,ws=ys.prototype,Ss=t["__core-js_shared__"],Ts=gs.prototype.toString,As=ws.hasOwnProperty,Es=0,ks=(hs=/[^.]+$/.exec(Ss&&Ss.keys&&Ss.keys.IE_PROTO||""))?"Symbol(src)_1."+hs:"",Cs=ws.toString,Ls=Ts.call(ys),$s=nn._,Rs=vs("^"+Ts.call(As).replace(He,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Is=on?t.Buffer:H,Ms=t.Symbol,Ns=t.Uint8Array,Os=Is?Is.allocUnsafe:H,Ds=P(ys.getPrototypeOf,ys),Fs=ys.create,Ps=ws.propertyIsEnumerable,Vs=_s.splice,Bs=Ms?Ms.isConcatSpreadable:H,zs=Ms?Ms.iterator:H,Us=Ms?Ms.toStringTag:H,Gs=function(){try{var e=Gr(ys,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ws=t.clearTimeout!==nn.clearTimeout&&t.clearTimeout,Hs=ds&&ds.now!==nn.Date.now&&ds.now,js=t.setTimeout!==nn.setTimeout&&t.setTimeout,Ks=ms.ceil,qs=ms.floor,Xs=ys.getOwnPropertySymbols,Ys=Is?Is.isBuffer:H,Qs=t.isFinite,Zs=_s.join,Js=P(ys.keys,ys),eo=ms.max,to=ms.min,no=ds.now,ro=t.parseInt,io=ms.random,so=_s.reverse,oo=Gr(t,"DataView"),ao=Gr(t,"Map"),lo=Gr(t,"Promise"),uo=Gr(t,"Set"),co=Gr(t,"WeakMap"),ho=Gr(ys,"create"),po=co&&new co,fo={},go=ai(oo),mo=ai(ao),yo=ai(lo),vo=ai(uo),xo=ai(co),bo=Ms?Ms.prototype:H,_o=bo?bo.valueOf:H,wo=bo?bo.toString:H,So=function(){function e(){}return function(t){if(!Oi(t))return{};if(Fs)return Fs(t);e.prototype=t;var n=new e;return e.prototype=H,n}}();n.templateSettings={escape:Ve,evaluate:Be,interpolate:ze,variable:"",imports:{_:n}},(n.prototype=r.prototype).constructor=n,(i.prototype=So(r.prototype)).constructor=i,(A.prototype=So(r.prototype)).constructor=A,qe.prototype.clear=function(){this.__data__=ho?ho(null):{},this.size=0},qe.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qe.prototype.get=function(e){var t=this.__data__;if(ho){var n=t[e];return n===K?H:n}return As.call(t,e)?t[e]:H},qe.prototype.has=function(e){var t=this.__data__;return ho?t[e]!==H:As.call(t,e)},qe.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ho&&t===H?K:t,this},ht.prototype.clear=function(){this.__data__=[],this.size=0},ht.prototype.delete=function(e){var t=this.__data__,n=_t(t,e);return!(n<0)&&(n==t.length-1?t.pop():Vs.call(t,n,1),--this.size,!0)},ht.prototype.get=function(e){var t=this.__data__,n=_t(t,e);return n<0?H:t[n][1]},ht.prototype.has=function(e){return _t(this.__data__,e)>-1},ht.prototype.set=function(e,t){var n=this.__data__,r=_t(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},pt.prototype.clear=function(){this.size=0,this.__data__={hash:new qe,map:new(ao||ht),string:new qe}},pt.prototype.delete=function(e){var t=zr(this,e).delete(e);return this.size-=t?1:0,t},pt.prototype.get=function(e){return zr(this,e).get(e)},pt.prototype.has=function(e){return zr(this,e).has(e)},pt.prototype.set=function(e,t){var n=zr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},dt.prototype.add=dt.prototype.push=function(e){return this.__data__.set(e,K),this},dt.prototype.has=function(e){return this.__data__.has(e)},ft.prototype.clear=function(){this.__data__=new ht,this.size=0},ft.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ft.prototype.get=function(e){return this.__data__.get(e)},ft.prototype.has=function(e){return this.__data__.has(e)},ft.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ht){var r=n.__data__;if(!ao||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new pt(r)}return n.set(e,t),this.size=n.size,this};var To=dr(Ot),Ao=dr(Dt,!0),Eo=fr(),ko=fr(!0),Co=po?function(e,t){return po.set(e,t),e}:is,Lo=Gs?function(e,t){return Gs(e,"toString",{configurable:!0,enumerable:!1,value:rs(t),writable:!0})}:is,$o=Nn,Ro=Ws||function(e){return nn.clearTimeout(e)},Io=uo&&1/B(new uo([,-0]))[1]==ee?function(e){return new uo(e)}:as,Mo=po?function(e){return po.get(e)}:as,No=Xs?function(e){return null==e?[]:(e=ys(e),c(Xs(e),(function(t){return Ps.call(e,t)})))}:us,Oo=Xs?function(e){for(var t=[];e;)f(t,No(e)),e=Ds(e);return t}:us,Do=Bt;(oo&&Do(new oo(new ArrayBuffer(1)))!=we||ao&&Do(new ao)!=pe||lo&&Do(lo.resolve())!=ge||uo&&Do(new uo)!=ye||co&&Do(new co)!=be)&&(Do=function(e){var t=Bt(e),n=t==fe?e.constructor:H,r=n?ai(n):"";if(r)switch(r){case go:return we;case mo:return pe;case yo:return ge;case vo:return ye;case xo:return be}return t});var Fo=Ss?Ii:cs,Po=ii(Co),Vo=js||function(e,t){return nn.setTimeout(e,t)},Bo=ii(Lo),zo=function(e){var t=Ei(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(We,(function(e,n,r,i){t.push(r?i.replace(et,"$1"):n||e)})),t})),Uo=Nn((function(e,t){return $i(e)?$t(e,Nt(t,1,$i,!0)):[]})),Go=Nn((function(e,t){var n=di(t);return $i(n)&&(n=H),$i(e)?$t(e,Nt(t,1,$i,!0),Br(n,2)):[]})),Wo=Nn((function(e,t){var n=di(t);return $i(n)&&(n=H),$i(e)?$t(e,Nt(t,1,$i,!0),H,n):[]})),Ho=Nn((function(e){var t=d(e,Jn);return t.length&&t[0]===e[0]?en(t):[]})),jo=Nn((function(e){var t=di(e),n=d(e,Jn);return t===di(n)?t=H:n.pop(),n.length&&n[0]===e[0]?en(n,Br(t,2)):[]})),Ko=Nn((function(e){var t=di(e),n=d(e,Jn);return(t="function"==typeof t?t:H)&&n.pop(),n.length&&n[0]===e[0]?en(n,H,t):[]})),qo=Nn(fi),Xo=Or((function(e,t){var n=null==e?0:e.length,r=At(e,t);return Rn(e,d(t,(function(e){return Kr(e,n)?+e:e})).sort(or)),r})),Yo=Nn((function(e){return jn(Nt(e,1,$i,!0))})),Qo=Nn((function(e){var t=di(e);return $i(t)&&(t=H),jn(Nt(e,1,$i,!0),Br(t,2))})),Zo=Nn((function(e){var t=di(e);return t="function"==typeof t?t:H,jn(Nt(e,1,$i,!0),H,t)})),Jo=Nn((function(e,t){return $i(e)?$t(e,t):[]})),ea=Nn((function(e){return Qn(c(e,$i))})),ta=Nn((function(e){var t=di(e);return $i(t)&&(t=H),Qn(c(e,$i),Br(t,2))})),na=Nn((function(e){var t=di(e);return t="function"==typeof t?t:H,Qn(c(e,$i),H,t)})),ra=Nn(mi),ia=Nn((function(e){var t=e.length,n=t>1?e[t-1]:H;return n="function"==typeof n?(e.pop(),n):H,yi(e,n)})),sa=Or((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,s=function(t){return At(t,e)};return!(t>1||this.__actions__.length)&&r instanceof A&&Kr(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:xi,args:[s],thisArg:H}),new i(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(H),e}))):this.thru(s)})),oa=hr((function(e,t,n){As.call(e,n)?++e[n]:Tt(e,n,1)})),aa=vr(ui),la=vr(ci),ua=hr((function(e,t,n){As.call(e,n)?e[n].push(t):Tt(e,n,[t])})),ca=Nn((function(e,t,n){var r=-1,i="function"==typeof t,o=Li(e)?ps(e.length):[];return To(e,(function(e){o[++r]=i?s(t,e,n):tn(e,t,n)})),o})),ha=hr((function(e,t,n){Tt(e,n,t)})),pa=hr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),da=Nn((function(e,t){if(null==e)return[];var n=t.length;return n>1&&qr(e,t[0],t[1])?t=[]:n>2&&qr(t[0],t[1],t[2])&&(t=[t[0]]),Cn(e,Nt(t,1),[])})),fa=Hs||function(){return nn.Date.now()},ga=Nn((function(e,t,n){var r=1;if(n.length){var i=V(n,Vr(ga));r|=Y}return $r(e,r,t,n,i)})),ma=Nn((function(e,t,n){var r=3;if(n.length){var i=V(n,Vr(ma));r|=Y}return $r(t,r,e,n,i)})),ya=Nn((function(e,t){return Lt(e,1,t)})),va=Nn((function(e,t,n){return Lt(e,Hi(t)||0,n)}));Ei.Cache=pt;var xa,ba=$o((function(e,t){var n=(t=1==t.length&&ka(t[0])?d(t[0],$(Br())):d(Nt(t,1),$(Br()))).length;return Nn((function(r){for(var i=-1,o=to(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return s(e,this,r)}))})),_a=Nn((function(e,t){var n=V(t,Vr(_a));return $r(e,Y,H,t,n)})),wa=Nn((function(e,t){var n=V(t,Vr(wa));return $r(e,Q,H,t,n)})),Sa=Or((function(e,t){return $r(e,J,H,H,H,t)})),Ta=Er(Gt),Aa=Er((function(e,t){return e>=t})),Ea=rn(function(){return arguments}())?rn:function(e){return Di(e)&&As.call(e,"callee")&&!Ps.call(e,"callee")},ka=ps.isArray,Ca=un?$(un):function(e){return Di(e)&&Bt(e)==_e},La=Ys||cs,$a=cn?$(cn):function(e){return Di(e)&&Bt(e)==le},Ra=hn?$(hn):function(e){return Di(e)&&Do(e)==pe},Ia=pn?$(pn):function(e){return Di(e)&&Bt(e)==me},Ma=dn?$(dn):function(e){return Di(e)&&Do(e)==ye},Na=fn?$(fn):function(e){return Di(e)&&Ni(e.length)&&!!Xt[Bt(e)]},Oa=Er(wn),Da=Er((function(e,t){return e<=t})),Fa=pr((function(e,t){if(Qr(t)||Li(t))cr(t,Yi(t),e);else for(var n in t)As.call(t,n)&&bt(e,n,t[n])})),Pa=pr((function(e,t){cr(t,Qi(t),e)})),Va=pr((function(e,t,n,r){cr(t,Qi(t),e,r)})),Ba=pr((function(e,t,n,r){cr(t,Yi(t),e,r)})),za=Or(At),Ua=Nn((function(e,t){e=ys(e);var n=-1,r=t.length,i=r>2?t[2]:H;for(i&&qr(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],o=Qi(s),a=-1,l=o.length;++a<l;){var u=o[a],c=e[u];(c===H||Ci(c,ws[u])&&!As.call(e,u))&&(e[u]=s[u])}return e})),Ga=Nn((function(e){return e.push(H,Ir),s(qa,H,e)})),Wa=_r((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Cs.call(t)),e[t]=n}),rs(is)),Ha=_r((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Cs.call(t)),As.call(e,t)?e[t].push(n):e[t]=[n]}),Br),ja=Nn(tn),Ka=pr((function(e,t,n){En(e,t,n)})),qa=pr((function(e,t,n,r){En(e,t,n,r)})),Xa=Or((function(e,t){var n={};if(null==e)return n;var r=!1;t=d(t,(function(t){return t=tr(t,e),r||(r=t.length>1),t})),cr(e,Fr(e),n),r&&(n=kt(n,7,Mr));for(var i=t.length;i--;)Kn(n,t[i]);return n})),Ya=Or((function(e,t){return null==e?{}:function(e,t){return Ln(e,t,(function(t,n){return Xi(e,n)}))}(e,t)})),Qa=Lr(Yi),Za=Lr(Qi),Ja=mr((function(e,t,n){return t=t.toLowerCase(),e+(n?es(t):t)})),el=mr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),tl=mr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),nl=gr("toLowerCase"),rl=mr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),il=mr((function(e,t,n){return e+(n?" ":"")+ol(t)})),sl=mr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),ol=gr("toUpperCase"),al=Nn((function(e,t){try{return s(e,H,t)}catch(e){return Ri(e)?e:new fs(e)}})),ll=Or((function(e,t){return a(t,(function(t){t=oi(t),Tt(e,t,ga(e[t],e))})),e})),ul=xr(),cl=xr(!0),hl=Nn((function(e,t){return function(n){return tn(n,e,t)}})),pl=Nn((function(e,t){return function(n){return tn(e,n,t)}})),dl=Sr(d),fl=Sr(u),gl=Sr(y),ml=Ar(),yl=Ar(!0),vl=wr((function(e,t){return e+t}),0),xl=Cr("ceil"),bl=wr((function(e,t){return e/t}),1),_l=Cr("floor"),wl=wr((function(e,t){return e*t}),1),Sl=Cr("round"),Tl=wr((function(e,t){return e-t}),0);return n.after=function(e,t){if("function"!=typeof t)throw new bs(j);return e=Gi(e),function(){if(--e<1)return t.apply(this,arguments)}},n.ary=Si,n.assign=Fa,n.assignIn=Pa,n.assignInWith=Va,n.assignWith=Ba,n.at=za,n.before=Ti,n.bind=ga,n.bindAll=ll,n.bindKey=ma,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ka(e)?e:[e]},n.chain=vi,n.chunk=function(e,t,n){t=(n?qr(e,t,n):t===H)?1:eo(Gi(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=ps(Ks(r/t));i<r;)o[s++]=Vn(e,i,i+=t);return o},n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ps(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return f(ka(n)?ur(n):[n],Nt(t,1))},n.cond=function(e){var t=null==e?0:e.length,n=Br();return e=t?d(e,(function(e){if("function"!=typeof e[1])throw new bs(j);return[n(e[0]),e[1]]})):[],Nn((function(n){for(var r=-1;++r<t;){var i=e[r];if(s(i[0],this,n))return s(i[1],this,n)}}))},n.conforms=function(e){return function(e){var t=Yi(e);return function(n){return Ct(n,e,t)}}(kt(e,1))},n.constant=rs,n.countBy=oa,n.create=function(e,t){var n=So(e);return null==t?n:St(n,t)},n.curry=function e(t,n,r){var i=$r(t,8,H,H,H,H,H,n=r?H:n);return i.placeholder=e.placeholder,i},n.curryRight=function e(t,n,r){var i=$r(t,X,H,H,H,H,H,n=r?H:n);return i.placeholder=e.placeholder,i},n.debounce=Ai,n.defaults=Ua,n.defaultsDeep=Ga,n.defer=ya,n.delay=va,n.difference=Uo,n.differenceBy=Go,n.differenceWith=Wo,n.drop=function(e,t,n){var r=null==e?0:e.length;return r?Vn(e,(t=n||t===H?1:Gi(t))<0?0:t,r):[]},n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Vn(e,0,(t=r-(t=n||t===H?1:Gi(t)))<0?0:t):[]},n.dropRightWhile=function(e,t){return e&&e.length?Xn(e,Br(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?Xn(e,Br(t,3),!0):[]},n.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&qr(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=Gi(n))<0&&(n=-n>i?0:i+n),(r=r===H||r>i?i:Gi(r))<0&&(r+=i),r=n>r?0:Wi(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},n.filter=function(e,t){return(ka(e)?c:Mt)(e,Br(t,3))},n.flatMap=function(e,t){return Nt(wi(e,t),1)},n.flatMapDeep=function(e,t){return Nt(wi(e,t),ee)},n.flatMapDepth=function(e,t,n){return n=n===H?1:Gi(n),Nt(wi(e,t),n)},n.flatten=hi,n.flattenDeep=function(e){return(null==e?0:e.length)?Nt(e,ee):[]},n.flattenDepth=function(e,t){return(null==e?0:e.length)?Nt(e,t=t===H?1:Gi(t)):[]},n.flip=function(e){return $r(e,512)},n.flow=ul,n.flowRight=cl,n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},n.functions=function(e){return null==e?[]:Ft(e,Yi(e))},n.functionsIn=function(e){return null==e?[]:Ft(e,Qi(e))},n.groupBy=ua,n.initial=function(e){return(null==e?0:e.length)?Vn(e,0,-1):[]},n.intersection=Ho,n.intersectionBy=jo,n.intersectionWith=Ko,n.invert=Wa,n.invertBy=Ha,n.invokeMap=ca,n.iteratee=ss,n.keyBy=ha,n.keys=Yi,n.keysIn=Qi,n.map=wi,n.mapKeys=function(e,t){var n={};return t=Br(t,3),Ot(e,(function(e,r,i){Tt(n,t(e,r,i),e)})),n},n.mapValues=function(e,t){var n={};return t=Br(t,3),Ot(e,(function(e,r,i){Tt(n,r,t(e,r,i))})),n},n.matches=function(e){return Tn(kt(e,1))},n.matchesProperty=function(e,t){return An(e,kt(t,1))},n.memoize=Ei,n.merge=Ka,n.mergeWith=qa,n.method=hl,n.methodOf=pl,n.mixin=os,n.negate=ki,n.nthArg=function(e){return e=Gi(e),Nn((function(t){return kn(t,e)}))},n.omit=Xa,n.omitBy=function(e,t){return Zi(e,ki(Br(t)))},n.once=function(e){return Ti(2,e)},n.orderBy=function(e,t,n,r){return null==e?[]:(ka(t)||(t=null==t?[]:[t]),ka(n=r?H:n)||(n=null==n?[]:[n]),Cn(e,t,n))},n.over=dl,n.overArgs=ba,n.overEvery=fl,n.overSome=gl,n.partial=_a,n.partialRight=wa,n.partition=pa,n.pick=Ya,n.pickBy=Zi,n.property=ls,n.propertyOf=function(e){return function(t){return null==e?H:Pt(e,t)}},n.pull=qo,n.pullAll=fi,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?$n(e,t,Br(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?$n(e,t,H,n):e},n.pullAt=Xo,n.range=ml,n.rangeRight=yl,n.rearg=Sa,n.reject=function(e,t){return(ka(e)?c:Mt)(e,ki(Br(t,3)))},n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],s=e.length;for(t=Br(t,3);++r<s;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Rn(e,i),n},n.rest=function(e,t){if("function"!=typeof e)throw new bs(j);return Nn(e,t=t===H?t:Gi(t))},n.reverse=gi,n.sampleSize=function(e,t,n){return t=(n?qr(e,t,n):t===H)?1:Gi(t),(ka(e)?yt:Dn)(e,t)},n.set=function(e,t,n){return null==e?e:Fn(e,t,n)},n.setWith=function(e,t,n,r){return r="function"==typeof r?r:H,null==e?e:Fn(e,t,n,r)},n.shuffle=function(e){return(ka(e)?vt:Pn)(e)},n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&qr(e,t,n)?(t=0,n=r):(t=null==t?0:Gi(t),n=n===H?r:Gi(n)),Vn(e,t,n)):[]},n.sortBy=da,n.sortedUniq=function(e){return e&&e.length?Gn(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?Gn(e,Br(t,2)):[]},n.split=function(e,t,n){return n&&"number"!=typeof n&&qr(e,t,n)&&(t=n=H),(n=n===H?re:n>>>0)?(e=Ki(e))&&("string"==typeof t||null!=t&&!Ia(t))&&!(t=Hn(t))&&D(e)?nr(G(e),0,n):e.split(t,n):[]},n.spread=function(e,t){if("function"!=typeof e)throw new bs(j);return t=null==t?0:eo(Gi(t),0),Nn((function(n){var r=n[t],i=nr(n,0,t);return r&&f(i,r),s(e,this,i)}))},n.tail=function(e){var t=null==e?0:e.length;return t?Vn(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?Vn(e,0,(t=n||t===H?1:Gi(t))<0?0:t):[]},n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Vn(e,(t=r-(t=n||t===H?1:Gi(t)))<0?0:t,r):[]},n.takeRightWhile=function(e,t){return e&&e.length?Xn(e,Br(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?Xn(e,Br(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new bs(j);return Oi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ai(e,t,{leading:r,maxWait:t,trailing:i})},n.thru=xi,n.toArray=zi,n.toPairs=Qa,n.toPairsIn=Za,n.toPath=function(e){return ka(e)?d(e,oi):Bi(e)?[e]:ur(zo(Ki(e)))},n.toPlainObject=ji,n.transform=function(e,t,n){var r=ka(e),i=r||La(e)||Na(e);if(t=Br(t,4),null==n){var s=e&&e.constructor;n=i?r?new s:[]:Oi(e)&&Ii(s)?So(Ds(e)):{}}return(i?a:Ot)(e,(function(e,r,i){return t(n,e,r,i)})),n},n.unary=function(e){return Si(e,1)},n.union=Yo,n.unionBy=Qo,n.unionWith=Zo,n.uniq=function(e){return e&&e.length?jn(e):[]},n.uniqBy=function(e,t){return e&&e.length?jn(e,Br(t,2)):[]},n.uniqWith=function(e,t){return t="function"==typeof t?t:H,e&&e.length?jn(e,H,t):[]},n.unset=function(e,t){return null==e||Kn(e,t)},n.unzip=mi,n.unzipWith=yi,n.update=function(e,t,n){return null==e?e:qn(e,t,er(n))},n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:H,null==e?e:qn(e,t,er(n),r)},n.values=Ji,n.valuesIn=function(e){return null==e?[]:R(e,Qi(e))},n.without=Jo,n.words=ns,n.wrap=function(e,t){return _a(er(t),e)},n.xor=ea,n.xorBy=ta,n.xorWith=na,n.zip=ra,n.zipObject=function(e,t){return Zn(e||[],t||[],bt)},n.zipObjectDeep=function(e,t){return Zn(e||[],t||[],Fn)},n.zipWith=ia,n.entries=Qa,n.entriesIn=Za,n.extend=Pa,n.extendWith=Va,os(n,n),n.add=vl,n.attempt=al,n.camelCase=Ja,n.capitalize=es,n.ceil=xl,n.clamp=function(e,t,n){return n===H&&(n=t,t=H),n!==H&&(n=(n=Hi(n))==n?n:0),t!==H&&(t=(t=Hi(t))==t?t:0),Et(Hi(e),t,n)},n.clone=function(e){return kt(e,4)},n.cloneDeep=function(e){return kt(e,5)},n.cloneDeepWith=function(e,t){return kt(e,5,t="function"==typeof t?t:H)},n.cloneWith=function(e,t){return kt(e,4,t="function"==typeof t?t:H)},n.conformsTo=function(e,t){return null==t||Ct(e,t,Yi(t))},n.deburr=ts,n.defaultTo=function(e,t){return null==e||e!=e?t:e},n.divide=bl,n.endsWith=function(e,t,n){e=Ki(e),t=Hn(t);var r=e.length,i=n=n===H?r:Et(Gi(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},n.eq=Ci,n.escape=function(e){return(e=Ki(e))&&Pe.test(e)?e.replace(De,yn):e},n.escapeRegExp=function(e){return(e=Ki(e))&&je.test(e)?e.replace(He,"\\$&"):e},n.every=function(e,t,n){var r=ka(e)?u:Rt;return n&&qr(e,t,n)&&(t=H),r(e,Br(t,3))},n.find=aa,n.findIndex=ui,n.findKey=function(e,t){return v(e,Br(t,3),Ot)},n.findLast=la,n.findLastIndex=ci,n.findLastKey=function(e,t){return v(e,Br(t,3),Dt)},n.floor=_l,n.forEach=bi,n.forEachRight=_i,n.forIn=function(e,t){return null==e?e:Eo(e,Br(t,3),Qi)},n.forInRight=function(e,t){return null==e?e:ko(e,Br(t,3),Qi)},n.forOwn=function(e,t){return e&&Ot(e,Br(t,3))},n.forOwnRight=function(e,t){return e&&Dt(e,Br(t,3))},n.get=qi,n.gt=Ta,n.gte=Aa,n.has=function(e,t){return null!=e&&Wr(e,t,Ht)},n.hasIn=Xi,n.head=pi,n.identity=is,n.includes=function(e,t,n,r){e=Li(e)?e:Ji(e),n=n&&!r?Gi(n):0;var i=e.length;return n<0&&(n=eo(i+n,0)),Vi(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&b(e,t,n)>-1},n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Gi(n);return i<0&&(i=eo(r+i,0)),b(e,t,i)},n.inRange=function(e,t,n){return t=Ui(t),n===H?(n=t,t=0):n=Ui(n),function(e,t,n){return e>=to(t,n)&&e<eo(t,n)}(e=Hi(e),t,n)},n.invoke=ja,n.isArguments=Ea,n.isArray=ka,n.isArrayBuffer=Ca,n.isArrayLike=Li,n.isArrayLikeObject=$i,n.isBoolean=function(e){return!0===e||!1===e||Di(e)&&Bt(e)==ae},n.isBuffer=La,n.isDate=$a,n.isElement=function(e){return Di(e)&&1===e.nodeType&&!Pi(e)},n.isEmpty=function(e){if(null==e)return!0;if(Li(e)&&(ka(e)||"string"==typeof e||"function"==typeof e.splice||La(e)||Na(e)||Ea(e)))return!e.length;var t=Do(e);if(t==pe||t==ye)return!e.size;if(Qr(e))return!bn(e).length;for(var n in e)if(As.call(e,n))return!1;return!0},n.isEqual=function(e,t){return sn(e,t)},n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:H)?n(e,t):H;return r===H?sn(e,t,H,n):!!r},n.isError=Ri,n.isFinite=function(e){return"number"==typeof e&&Qs(e)},n.isFunction=Ii,n.isInteger=Mi,n.isLength=Ni,n.isMap=Ra,n.isMatch=function(e,t){return e===t||an(e,t,Ur(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:H,an(e,t,Ur(t),n)},n.isNaN=function(e){return Fi(e)&&e!=+e},n.isNative=function(e){if(Fo(e))throw new fs("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ln(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=Fi,n.isObject=Oi,n.isObjectLike=Di,n.isPlainObject=Pi,n.isRegExp=Ia,n.isSafeInteger=function(e){return Mi(e)&&e>=-9007199254740991&&e<=te},n.isSet=Ma,n.isString=Vi,n.isSymbol=Bi,n.isTypedArray=Na,n.isUndefined=function(e){return e===H},n.isWeakMap=function(e){return Di(e)&&Do(e)==be},n.isWeakSet=function(e){return Di(e)&&"[object WeakSet]"==Bt(e)},n.join=function(e,t){return null==e?"":Zs.call(e,t)},n.kebabCase=el,n.last=di,n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==H&&(i=(i=Gi(n))<0?eo(r+i,0):to(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):x(e,w,i,!0)},n.lowerCase=tl,n.lowerFirst=nl,n.lt=Oa,n.lte=Da,n.max=function(e){return e&&e.length?It(e,is,Gt):H},n.maxBy=function(e,t){return e&&e.length?It(e,Br(t,2),Gt):H},n.mean=function(e){return S(e,is)},n.meanBy=function(e,t){return S(e,Br(t,2))},n.min=function(e){return e&&e.length?It(e,is,wn):H},n.minBy=function(e,t){return e&&e.length?It(e,Br(t,2),wn):H},n.stubArray=us,n.stubFalse=cs,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=wl,n.nth=function(e,t){return e&&e.length?kn(e,Gi(t)):H},n.noConflict=function(){return nn._===this&&(nn._=$s),this},n.noop=as,n.now=fa,n.pad=function(e,t,n){e=Ki(e);var r=(t=Gi(t))?U(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Tr(qs(i),n)+e+Tr(Ks(i),n)},n.padEnd=function(e,t,n){e=Ki(e);var r=(t=Gi(t))?U(e):0;return t&&r<t?e+Tr(t-r,n):e},n.padStart=function(e,t,n){e=Ki(e);var r=(t=Gi(t))?U(e):0;return t&&r<t?Tr(t-r,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ro(Ki(e).replace(Ke,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&qr(e,t,n)&&(t=n=H),n===H&&("boolean"==typeof t?(n=t,t=H):"boolean"==typeof e&&(n=e,e=H)),e===H&&t===H?(e=0,t=1):(e=Ui(e),t===H?(t=e,e=0):t=Ui(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=io();return to(e+i*(t-e+Zt("1e-"+((i+"").length-1))),t)}return In(e,t)},n.reduce=function(e,t,n){var r=ka(e)?g:E,i=arguments.length<3;return r(e,Br(t,4),n,i,To)},n.reduceRight=function(e,t,n){var r=ka(e)?m:E,i=arguments.length<3;return r(e,Br(t,4),n,i,Ao)},n.repeat=function(e,t,n){return t=(n?qr(e,t,n):t===H)?1:Gi(t),Mn(Ki(e),t)},n.replace=function(){var e=arguments,t=Ki(e[0]);return e.length<3?t:t.replace(e[1],e[2])},n.result=function(e,t,n){var r=-1,i=(t=tr(t,e)).length;for(i||(i=1,e=H);++r<i;){var s=null==e?H:e[oi(t[r])];s===H&&(r=i,s=n),e=Ii(s)?s.call(e):s}return e},n.round=Sl,n.runInContext=e,n.sample=function(e){return(ka(e)?mt:On)(e)},n.size=function(e){if(null==e)return 0;if(Li(e))return Vi(e)?U(e):e.length;var t=Do(e);return t==pe||t==ye?e.size:bn(e).length},n.snakeCase=rl,n.some=function(e,t,n){var r=ka(e)?y:Bn;return n&&qr(e,t,n)&&(t=H),r(e,Br(t,3))},n.sortedIndex=function(e,t){return zn(e,t)},n.sortedIndexBy=function(e,t,n){return Un(e,t,Br(n,2))},n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=zn(e,t);if(r<n&&Ci(e[r],t))return r}return-1},n.sortedLastIndex=function(e,t){return zn(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return Un(e,t,Br(n,2),!0)},n.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=zn(e,t,!0)-1;if(Ci(e[n],t))return n}return-1},n.startCase=il,n.startsWith=function(e,t,n){return e=Ki(e),n=null==n?0:Et(Gi(n),0,e.length),t=Hn(t),e.slice(n,n+t.length)==t},n.subtract=Tl,n.sum=function(e){return e&&e.length?k(e,is):0},n.sumBy=function(e,t){return e&&e.length?k(e,Br(t,2)):0},n.template=function(e,t,r){var i=n.templateSettings;r&&qr(e,t,r)&&(t=H),e=Ki(e),t=Va({},t,i,Rr);var s,o,a=Va({},t.imports,i.imports,Rr),l=Yi(a),u=R(a,l),c=0,h=t.interpolate||ut,p="__p += '",d=vs((t.escape||ut).source+"|"+h.source+"|"+(h===ze?tt:ut).source+"|"+(t.evaluate||ut).source+"|$","g"),f="//# sourceURL="+(As.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qt+"]")+"\n";e.replace(d,(function(t,n,r,i,a,l){return r||(r=i),p+=e.slice(c,l).replace(ct,O),n&&(s=!0,p+="' +\n__e("+n+") +\n'"),a&&(o=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),p+="';\n";var g=As.call(t,"variable")&&t.variable;if(g){if(Je.test(g))throw new fs("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(o?p.replace(Ie,""):p).replace(Me,"$1").replace(Ne,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=al((function(){return gs(l,f+"return "+p).apply(H,u)}));if(m.source=p,Ri(m))throw m;return m},n.times=function(e,t){if((e=Gi(e))<1||e>te)return[];var n=re,r=to(e,re);t=Br(t),e-=re;for(var i=C(r,t);++n<e;)t(n);return i},n.toFinite=Ui,n.toInteger=Gi,n.toLength=Wi,n.toLower=function(e){return Ki(e).toLowerCase()},n.toNumber=Hi,n.toSafeInteger=function(e){return e?Et(Gi(e),-9007199254740991,te):0===e?e:0},n.toString=Ki,n.toUpper=function(e){return Ki(e).toUpperCase()},n.trim=function(e,t,n){if((e=Ki(e))&&(n||t===H))return L(e);if(!e||!(t=Hn(t)))return e;var r=G(e),i=G(t);return nr(r,M(r,i),N(r,i)+1).join("")},n.trimEnd=function(e,t,n){if((e=Ki(e))&&(n||t===H))return e.slice(0,W(e)+1);if(!e||!(t=Hn(t)))return e;var r=G(e);return nr(r,0,N(r,G(t))+1).join("")},n.trimStart=function(e,t,n){if((e=Ki(e))&&(n||t===H))return e.replace(Ke,"");if(!e||!(t=Hn(t)))return e;var r=G(e);return nr(r,M(r,G(t))).join("")},n.truncate=function(e,t){var n=30,r="...";if(Oi(t)){var i="separator"in t?t.separator:i;n="length"in t?Gi(t.length):n,r="omission"in t?Hn(t.omission):r}var s=(e=Ki(e)).length;if(D(e)){var o=G(e);s=o.length}if(n>=s)return e;var a=n-U(r);if(a<1)return r;var l=o?nr(o,0,a).join(""):e.slice(0,a);if(i===H)return l+r;if(o&&(a+=l.length-a),Ia(i)){if(e.slice(a).search(i)){var u,c=l;for(i.global||(i=vs(i.source,Ki(nt.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var h=u.index;l=l.slice(0,h===H?a:h)}}else if(e.indexOf(Hn(i),a)!=a){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+r},n.unescape=function(e){return(e=Ki(e))&&Fe.test(e)?e.replace(Oe,vn):e},n.uniqueId=function(e){var t=++Es;return Ki(e)+t},n.upperCase=sl,n.upperFirst=ol,n.each=bi,n.eachRight=_i,n.first=pi,os(n,(xa={},Ot(n,(function(e,t){As.call(n.prototype,t)||(xa[t]=e)})),xa),{chain:!1}),n.VERSION="4.17.21",a(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){n[e].placeholder=n})),a(["drop","take"],(function(e,t){A.prototype[e]=function(n){n=n===H?1:eo(Gi(n),0);var r=this.__filtered__&&!t?new A(this):this.clone();return r.__filtered__?r.__takeCount__=to(n,r.__takeCount__):r.__views__.push({size:to(n,re),type:e+(r.__dir__<0?"Right":"")}),r},A.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),a(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;A.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Br(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),a(["head","last"],(function(e,t){var n="take"+(t?"Right":"");A.prototype[e]=function(){return this[n](1).value()[0]}})),a(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");A.prototype[e]=function(){return this.__filtered__?new A(this):this[n](1)}})),A.prototype.compact=function(){return this.filter(is)},A.prototype.find=function(e){return this.filter(e).head()},A.prototype.findLast=function(e){return this.reverse().find(e)},A.prototype.invokeMap=Nn((function(e,t){return"function"==typeof e?new A(this):this.map((function(n){return tn(n,e,t)}))})),A.prototype.reject=function(e){return this.filter(ki(Br(e)))},A.prototype.slice=function(e,t){e=Gi(e);var n=this;return n.__filtered__&&(e>0||t<0)?new A(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==H&&(n=(t=Gi(t))<0?n.dropRight(-t):n.take(t-e)),n)},A.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},A.prototype.toArray=function(){return this.take(re)},Ot(A.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),s=/^(?:head|last)$/.test(t),o=n[s?"take"+("last"==t?"Right":""):t],a=s||/^find/.test(t);o&&(n.prototype[t]=function(){var t=this.__wrapped__,l=s?[1]:arguments,u=t instanceof A,c=l[0],h=u||ka(t),p=function(e){var t=o.apply(n,f([e],l));return s&&d?t[0]:t};h&&r&&"function"==typeof c&&1!=c.length&&(u=h=!1);var d=this.__chain__,g=a&&!d,m=u&&!!!this.__actions__.length;if(!a&&h){t=m?t:new A(this);var y=e.apply(t,l);return y.__actions__.push({func:xi,args:[p],thisArg:H}),new i(y,d)}return g&&m?e.apply(this,l):(y=this.thru(p),g?s?y.value()[0]:y.value():y)})})),a(["pop","push","shift","sort","splice","unshift"],(function(e){var t=_s[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(ka(n)?n:[],e)}return this[r]((function(n){return t.apply(ka(n)?n:[],e)}))}})),Ot(A.prototype,(function(e,t){var r=n[t];if(r){var i=r.name+"";As.call(fo,i)||(fo[i]=[]),fo[i].push({name:t,func:r})}})),fo[br(H,2).name]=[{name:"wrapper",func:H}],A.prototype.clone=function(){var e=new A(this.__wrapped__);return e.__actions__=ur(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ur(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ur(this.__views__),e},A.prototype.reverse=function(){if(this.__filtered__){var e=new A(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},A.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ka(e),r=t<0,i=n?e.length:0,s=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=to(t,e+o);break;case"takeRight":e=eo(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=s.start,a=s.end,l=a-o,u=r?a:o-1,c=this.__iteratees__,h=c.length,p=0,d=to(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return Yn(e,this.__actions__);var f=[];e:for(;l--&&p<d;){for(var g=-1,m=e[u+=t];++g<h;){var y=c[g],v=y.type,x=(0,y.iteratee)(m);if(2==v)m=x;else if(!x){if(1==v)continue e;break e}}f[p++]=m}return f},n.prototype.at=sa,n.prototype.chain=function(){return vi(this)},n.prototype.commit=function(){return new i(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===H&&(this.__values__=zi(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?H:this.__values__[this.__index__++]}},n.prototype.plant=function(e){for(var t,n=this;n instanceof r;){var i=li(n);i.__index__=0,i.__values__=H,t?s.__wrapped__=i:t=i;var s=i;n=n.__wrapped__}return s.__wrapped__=e,t},n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof A){var t=e;return this.__actions__.length&&(t=new A(this)),(t=t.reverse()).__actions__.push({func:xi,args:[gi],thisArg:H}),new i(t,this.__chain__)}return this.thru(gi)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return Yn(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,zs&&(n.prototype[zs]=function(){return this}),n}();nn._=xn,(i=function(){return xn}.call(t,n,t,r))===H||(r.exports=i)}).call(this)}).call(this,n("pCvA"),n("RoC8")(e))},"A/eZ":function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);u.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||o.nextTick(s,this)}function s(e){e.end()}var o=n("upWy"),a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var l=Object.create(n("nrnY"));l.inherits=n("wfEq");var u=n("B0Cl"),c=n("g+31");l.inherits(r,u);for(var h=a(c.prototype),p=0;p<h.length;p++){var d=h[p];r.prototype[d]||(r.prototype[d]=c.prototype[d])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),o.nextTick(t,e)}},A0Sc:function(module,exports,__webpack_require__){"use strict";function setModulesStaticURL(e){exports.MODULES_STATIC_URL=e}function httpGet(e){const t=exports.newHttpRequest();try{"undefined"==typeof window&&(t.timeout=1e4),t.open("GET",e,!1),t.send(null)}catch(e){if(!(e instanceof DOMException))throw e}if(200!==t.status&&304!==t.status)throw new moduleErrors_1.ModuleConnectionError;return t.responseText}function getModuleManifest(){const e=httpGet(`${exports.MODULES_STATIC_URL}/modules.json`);return JSON.parse(e)}function getModuleFile(e,t){return httpGet(`${exports.MODULES_STATIC_URL}/${t}s/${e}.js`)}function loadModuleBundle(path,context,node){const modules=exports.memoizedGetModuleManifest(),moduleList=Object.keys(modules);if(!1===moduleList.includes(path))throw new moduleErrors_1.ModuleNotFoundError(path,node);const moduleText=exports.memoizedGetModuleFile(path,"bundle");try{const moduleBundle=eval(moduleText),moduleFunctions=moduleBundle(context);return moduleFunctions}catch(e){throw new moduleErrors_1.ModuleInternalError(path,node)}}function convertRawTabToFunction(e){return(e=e.trim()).substring(0,e.length-9)+")"}function loadModuleTabs(path,node){const modules=exports.memoizedGetModuleManifest(),moduleList=Object.keys(modules);if(!1===moduleList.includes(path))throw new moduleErrors_1.ModuleNotFoundError(path,node);const sideContentTabPaths=modules[path].tabs;return sideContentTabPaths.map((path=>{const rawTabFile=exports.memoizedGetModuleFile(path,"tab");try{return eval(convertRawTabToFunction(rawTabFile))}catch(e){throw new moduleErrors_1.ModuleInternalError(path,node)}}))}function appendModuleTabsToContext(e,t){t.modules=[];for(const n of e.body)if("ImportDeclaration"===n.type){if(!n.source.value)throw new moduleErrors_1.ModuleNotFoundError("",n);const e=n.source.value.toString(),r=loadModuleTabs(e,n);console.log(e,r),Array.prototype.push.apply(t.modules,r)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.appendModuleTabsToContext=exports.loadModuleTabs=exports.convertRawTabToFunction=exports.loadModuleBundle=exports.memoizedGetModuleFile=exports.memoizedGetModuleManifest=exports.httpGet=exports.setModulesStaticURL=exports.MODULES_STATIC_URL=exports.newHttpRequest=void 0;const lodash_1=__webpack_require__("9va6"),xmlhttprequest_ts_1=__webpack_require__("8t+D"),moduleErrors_1=__webpack_require__("c+Ec"),newHttpRequest=()=>"undefined"==typeof window?new xmlhttprequest_ts_1.XMLHttpRequest:new XMLHttpRequest;exports.newHttpRequest=newHttpRequest,exports.MODULES_STATIC_URL="https://source-academy.github.io/modules",exports.setModulesStaticURL=setModulesStaticURL,exports.httpGet=httpGet,exports.memoizedGetModuleManifest=lodash_1.memoize(getModuleManifest),exports.memoizedGetModuleFile=lodash_1.memoize(getModuleFile),exports.loadModuleBundle=loadModuleBundle,exports.convertRawTabToFunction=convertRawTabToFunction,exports.loadModuleTabs=loadModuleTabs,exports.appendModuleTabsToContext=appendModuleTabsToContext},A6L2:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areBreakpointsSet=t.checkEditorBreakpoints=t.manualToggleDebugger=t.setBreakpointAtLine=t.saveState=void 0;t.saveState=(e,t,n)=>{e.debugger.state.it=t,e.debugger.state.scheduler=n};t.setBreakpointAtLine=e=>{n=e};t.manualToggleDebugger=e=>(e.runtime.break=!0,{status:"suspended",scheduler:e.debugger.state.scheduler,it:e.debugger.state.it,context:e});let n=[],r=!0,i=-1;t.checkEditorBreakpoints=(e,t)=>{if(t.loc){const s=t.loc.start.line-1;r||s===i||(r=!0),e.runtime.debuggerOn&&void 0!==n[s]&&r&&(r=!1,i=s,e.runtime.break=!0)}};t.areBreakpointsSet=()=>n.length>0},ANQQ:function(e,t,n){(function(t,r,i){var s=n("eoLT"),o=n("wfEq"),a=n("3mKH"),l=n("5Ekh"),u=n("NY/1"),c=a.IncomingMessage,h=a.readyStates,p=e.exports=function(e){var n,r=this;l.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!s.abortController)i=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!s.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=function(e,t){return s.fetch&&t?"fetch":s.mozchunkedarraybuffer?"moz-chunked-arraybuffer":s.msstream?"ms-stream":s.arraybuffer&&e?"arraybuffer":s.vbArray&&e?"text:vbarray":"text"}(n,i),r._fetchTimer=null,r.on("finish",(function(){r._onFinish()}))};o(p,l.Writable),p.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===d.indexOf(n)&&(this._headers[n]={name:e,value:t})},p.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},p.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},p.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,o=e._headers,a=null;"GET"!==n.method&&"HEAD"!==n.method&&(a=s.arraybuffer?u(t.concat(e._body)):s.blobConstructor?new r.Blob(e._body.map((function(e){return u(e)})),{type:(o["content-type"]||{}).value||""}):t.concat(e._body).toString());var l=[];if(Object.keys(o).forEach((function(e){var t=o[e].name,n=o[e].value;Array.isArray(n)?n.forEach((function(e){l.push([t,e])})):l.push([t,n])})),"fetch"===e._mode){var c=null;if(s.abortController){var p=new AbortController;c=p.signal,e._fetchAbortController=p,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=r.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),n.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:l,body:a||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:c}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var d=e._xhr=new r.XMLHttpRequest;try{d.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}"responseType"in d&&(d.responseType=e._mode.split(":")[0]),"withCredentials"in d&&(d.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(d.timeout=n.requestTimeout,d.ontimeout=function(){e.emit("requestTimeout")}),l.forEach((function(e){d.setRequestHeader(e[0],e[1])})),e._response=null,d.onreadystatechange=function(){switch(d.readyState){case h.LOADING:case h.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(d.onprogress=function(){e._onXHRProgress()}),d.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{d.send(a)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}}}},p.prototype._onXHRProgress=function(){var e=this;(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},p.prototype._connect=function(){var e=this;e._destroyed||(e._response=new c(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},p.prototype._write=function(e,t,n){this._body.push(e),n()},p.prototype.abort=p.prototype.destroy=function(){var e=this;e._destroyed=!0,r.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},p.prototype.end=function(e,t,n){"function"==typeof e&&(n=e,e=void 0),l.Writable.prototype.end.call(this,e,t,n)},p.prototype.flushHeaders=function(){},p.prototype.setTimeout=function(){},p.prototype.setNoDelay=function(){},p.prototype.setSocketKeepAlive=function(){};var d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n("zkTx").Buffer,n("pCvA"),n("5IsQ"))},B0Cl:function(e,t,n){"use strict";(function(t,r){function i(e,t){var r=t instanceof(_=_||n("A/eZ"));this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&($||($=n("soc2").StringDecoder),this.decoder=new $(e.encoding),this.encoding=e.encoding)}function s(e){if(_=_||n("A/eZ"),!(this instanceof s))return new s(e);this._readableState=new i(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),T.call(this)}function o(e,t,n,r,i){var s,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,u(e)}(e,o)):(i||(s=function(e,t){var n;r=t,A.isBuffer(r)||r instanceof E||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===A.prototype||(t=function(e){return A.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):a(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?a(e,o,t,!1):h(e,o)):a(e,o,t,!1))):r||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function a(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&u(e)),h(e,t)}function l(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=N?e=N:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function u(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(L("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?b.nextTick(c,e):c(e))}function c(e){L("emit readable"),e.emit("readable"),g(e)}function h(e,t){t.readingMore||(t.readingMore=!0,b.nextTick(p,e,t))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(L("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function d(e){L("readable nexttick read 0"),e.read(0)}function f(e,t){t.reading||(L("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),g(e),t.flowing&&!t.reading&&e.read(0)}function g(e){var t=e._readableState;for(L("flow",t.flowing);t.flowing&&null!==e.read(););}function m(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(i+=o===s.length?s:s.slice(0,e),0===(e-=o)){o===s.length?(++r,t.head=n.next?n.next:t.tail=null):(t.head=n,n.data=s.slice(o));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=A.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(s.copy(n,n.length-e,0,o),0===(e-=o)){o===s.length?(++i,t.head=r.next?r.next:t.tail=null):(t.head=r,r.data=s.slice(o));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function y(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,b.nextTick(v,t,e))}function v(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function x(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var b=n("upWy");e.exports=s;var _,w=n("kah5");s.ReadableState=i;n("hBZP");var S=function(e,t){return e.listeners(t).length},T=n("n428"),A=n("XKyj").Buffer,E=t.Uint8Array||function(){},k=Object.create(n("nrnY"));k.inherits=n("wfEq");var C=n(0),L=void 0;L=C&&C.debuglog?C.debuglog("stream"):function(){};var $,R=n("IPtZ"),I=n("xTpk");k.inherits(s,T);var M=["error","close","destroy","pause","resume"];Object.defineProperty(s.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),s.prototype.destroy=I.destroy,s.prototype._undestroy=I.undestroy,s.prototype._destroy=function(e,t){this.push(null),t(e)},s.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=A.from(e,t),t=""),n=!0),o(this,e,t,!1,n)},s.prototype.unshift=function(e){return o(this,e,null,!0,!1)},s.prototype.isPaused=function(){return!1===this._readableState.flowing},s.prototype.setEncoding=function(e){return $||($=n("soc2").StringDecoder),this._readableState.decoder=new $(e),this._readableState.encoding=e,this};var N=8388608;s.prototype.read=function(e){L("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return L("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?y(this):u(this),null;if(0===(e=l(e,t))&&t.ended)return 0===t.length&&y(this),null;var r,i=t.needReadable;return L("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&L("length less than watermark",i=!0),t.ended||t.reading?L("reading or ended",i=!1):i&&(L("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=l(n,t))),null===(r=e>0?m(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&y(this)),null!==r&&this.emit("data",r),r},s.prototype._read=function(){this.emit("error",new Error("_read() is not implemented"))},s.prototype.pipe=function(e,t){function n(t,r){L("onunpipe"),t===c&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,L("cleanup"),e.removeListener("close",a),e.removeListener("finish",l),e.removeListener("drain",d),e.removeListener("error",o),e.removeListener("unpipe",n),c.removeListener("end",i),c.removeListener("end",u),c.removeListener("data",s),f=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function i(){L("onend"),e.end()}function s(t){L("ondata"),m=!1,!1!==e.write(t)||m||((1===h.pipesCount&&h.pipes===e||h.pipesCount>1&&-1!==x(h.pipes,e))&&!f&&(L("false write response, pause",c._readableState.awaitDrain),c._readableState.awaitDrain++,m=!0),c.pause())}function o(t){L("onerror",t),u(),e.removeListener("error",o),0===S(e,"error")&&e.emit("error",t)}function a(){e.removeListener("finish",l),u()}function l(){L("onfinish"),e.removeListener("close",a),u()}function u(){L("unpipe"),c.unpipe(e)}var c=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,L("pipe count=%d opts=%j",h.pipesCount,t);var p=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?i:u;h.endEmitted?b.nextTick(p):c.once("end",p),e.on("unpipe",n);var d=function(e){return function(){var t=e._readableState;L("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&S(e,"data")&&(t.flowing=!0,g(e))}}(c);e.on("drain",d);var f=!1,m=!1;return c.on("data",s),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?w(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",o),e.once("close",a),e.once("finish",l),e.emit("pipe",c),h.flowing||(L("pipe resume"),c.resume()),e},s.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,n);return this}var o=x(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},s.prototype.addListener=s.prototype.on=function(e,t){var n=T.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&u(this):b.nextTick(d,this))}return n},s.prototype.resume=function(){var e=this._readableState;return e.flowing||(L("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,b.nextTick(f,e,t))}(this,e)),this},s.prototype.pause=function(){return L("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(L("pause"),this._readableState.flowing=!1,this.emit("pause")),this},s.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(L("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(L("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<M.length;s++)e.on(M[s],this.emit.bind(this,M[s]));return this._read=function(t){L("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),s._fromList=m}).call(this,n("pCvA"),n("5IsQ"))},B4Ta:function(e,t,n){"use strict";function r(e){if(null!=e&&void 0!==e.isMemoized){if(e.isMemoized)return e.memoizedValue;const t=r(e.f());return e.isMemoized=!0,e.memoizedValue=t,t}return e}function i(e,t){return"!"===e?!t:"-"===e?-t:+t}function s(e,t,n){switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n;case"%":return t%n;case"===":return t===n;case"!==":return t!==n;case"<=":return t<=n;case"<":return t<n;case">":return t>n;case">=":return t>=n;default:return}}Object.defineProperty(t,"__esModule",{value:!0}),t.getProp=t.setProp=t.wrap=t.callIteratively=t.evaluateBinaryExpression=t.binaryOp=t.evaluateUnaryExpression=t.unaryOp=t.boolOrErr=t.callIfFuncAndRightArgs=t.makeLazyFunction=t.wrapLazyCallee=t.delayIt=t.forceIt=t.throwIfTimeout=void 0;const o=n("JFiO"),a=n("5AhW"),l=n("B67y"),u=n("my7b"),c=n("my7b"),h=n("SG+n"),p=n("D9C7"),d=n("XZ2b");t.throwIfTimeout=function(e,t,n,r,i){if(n-t>e.maxExecTime)throw new l.PotentialInfiniteLoopError(c.locationDummyNode(r,i),e.maxExecTime)},t.forceIt=r,t.delayIt=function(e){return{isMemoized:!1,value:void 0,f:e}},t.wrapLazyCallee=function(e){if("function"==typeof(e=r(e))){const t=(...t)=>e(...t.map(r));return d.makeWrapper(e,t),t[Symbol.toStringTag]=()=>e.toString(),t.toString=()=>e.toString(),t}if(e instanceof p.LazyBuiltIn){if(e.evaluateArgs){const t=(...t)=>e.func(...t.map(r));return d.makeWrapper(e.func,t),t[Symbol.toStringTag]=()=>e.toString(),t.toString=()=>e.toString(),t}return e}return e},t.makeLazyFunction=function(e){return new p.LazyBuiltIn(e,!1)},t.callIfFuncAndRightArgs=function(e,t,n,...i){const s=c.callExpression(c.locationDummyNode(t,n),i,{start:{line:t,column:n},end:{line:t,column:n}});if("function"==typeof e){const t=e;void 0!==e.transformedFunction&&(e=e.transformedFunction);const n=e.length,l=i.length,u=void 0!==e.minArgsNeeded;if(u?e.minArgsNeeded>l:n!==l)throw new o.InvalidNumberOfArguments(s,u?e.minArgsNeeded:n,l,u);try{return t(...i.map(r))}catch(e){throw e instanceof a.RuntimeSourceError||e instanceof o.ExceptionError?e:new o.ExceptionError(e,s.loc)}}else{if(!(e instanceof p.LazyBuiltIn))throw new o.CallingNonFunctionValue(e,s);try{return e.evaluateArgs&&(i=i.map(r)),e.func(...i)}catch(e){throw e instanceof a.RuntimeSourceError||e instanceof o.ExceptionError?e:new o.ExceptionError(e,s.loc)}}},t.boolOrErr=function(e,t,n){e=r(e);const i=h.checkIfStatement(c.locationDummyNode(t,n),e);if(void 0===i)return e;throw i},t.unaryOp=function(e,t,n,s){t=r(t);const o=h.checkUnaryExpression(c.locationDummyNode(n,s),e,t);if(void 0===o)return i(e,t);throw o},t.evaluateUnaryExpression=i,t.binaryOp=function(e,t,n,i,o,a){n=r(n),i=r(i);const l=h.checkBinaryExpression(c.locationDummyNode(o,a),e,t,n,i);if(void 0===l)return s(e,n,i);throw l},t.evaluateBinaryExpression=s;t.callIteratively=(e,t,...n)=>{let i=-1,s=-1;const c=Date.now(),h=[];for(;;){const d=u.locationDummyNode(i,s);if("function"==typeof(e=r(e))){void 0!==e.transformedFunction&&(e=e.transformedFunction);const t=e.length,r=n.length,a=void 0!==e.minArgsNeeded;if(a?e.minArgsNeeded>r:t!==r)throw new o.InvalidNumberOfArguments(u.callExpression(d,n,{start:{line:i,column:s},end:{line:i,column:s}}),a?e.minArgsNeeded:t,r,a)}else{if(!(e instanceof p.LazyBuiltIn))throw new o.CallingNonFunctionValue(e,d);e.evaluateArgs&&(n=n.map(r)),e=e.func}let f;try{if(f=e(...n),Date.now()-c>t.maxExecTime)throw new l.PotentialInfiniteRecursionError(d,h,t.maxExecTime)}catch(e){throw e instanceof a.RuntimeSourceError||e instanceof o.ExceptionError?e:new o.ExceptionError(e,d.loc)}if(null==f)return f;if(!0!==f.isTail)return!1===f.isTail?f.value:f;e=f.function,i=f.line,s=f.column,h.push([f.functionName,n=f.arguments])}};t.wrap=(e,n,r,i)=>{r&&(e.minArgsNeeded=e.length);const s=(...n)=>t.callIteratively(e,i,...n);return d.makeWrapper(e,s),s.transformedFunction=e,s[Symbol.toStringTag]=()=>n,s.toString=()=>n,s};t.setProp=(e,t,n,r,i)=>{const s=u.locationDummyNode(r,i),o=h.checkMemberAccess(s,e,t);if(void 0===o)return e[t]=n;throw o};t.getProp=(e,t,n,r)=>{const i=u.locationDummyNode(n,r),s=h.checkMemberAccess(i,e,t);if(void 0===s){if(void 0===e[t]||e.hasOwnProperty(t))return e[t];throw new o.GetInheritedPropertyError(i,e,t)}throw s}},B67y:function(e,t,n){"use strict";function r(e){const t=e/1e3,n=t*l.JSSLANG_PROPERTIES.factorToIncreaseBy;return h.stripIndent(i||(i=a`If you are certain your program is correct, press run again without editing your program.
      The time limit will be increased from ${0} to ${0} seconds.
      This page may be unresponsive for up to ${0} seconds if you do so.`),t,n,n)}let i,s,o,a=e=>e;Object.defineProperty(t,"__esModule",{value:!0}),t.PotentialInfiniteRecursionError=t.PotentialInfiniteLoopError=t.TimeoutError=void 0;const l=n("Otp2"),u=n("GFFv"),c=n("QyX9"),h=n("zZ3m"),p=n("5AhW");class d extends p.RuntimeSourceError{}t.TimeoutError=d;t.PotentialInfiniteLoopError=class extends d{constructor(e,t){super(e),this.maxExecTime=t,this.type=c.ErrorType.RUNTIME,this.severity=c.ErrorSeverity.ERROR}explain(){return h.stripIndent(s||(s=a`${0}.
    ${0}`),"Potential infinite loop detected",r(this.maxExecTime))}elaborate(){return this.explain()}};t.PotentialInfiniteRecursionError=class extends d{constructor(e,t,n){super(e),this.calls=t,this.maxExecTime=n,this.type=c.ErrorType.RUNTIME,this.severity=c.ErrorSeverity.ERROR,this.calls=this.calls.slice(-3)}explain(){const e=this.calls.map((([e,t])=>`${e}(${t.map((e=>u.stringify(e))).join(", ")})`));return h.stripIndent(o||(o=a`${0}: ${0}.
      ${0}`),"Potential infinite recursion detected",e.join(" ... "),r(this.maxExecTime))}elaborate(){return this.explain()}}},"BjK/":function(e,t,n){(function(t){function n(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function r(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function s(e,t){for(var n=e.length;n--;)if(p(e[n][0],t))return n;return-1}function o(e,t){t=function(e,t){if(j(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||f(e))return!0;return S.test(e)||!w.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return j(e)?e:H(e)}(t);for(var n=0,r=t.length;null!=e&&n<r;)e=e[c(t[n++])];return n&&n==r?e:void 0}function a(e){if(!d(e)||(t=e,N&&N in t))return!1;var t,n=function(e){var t=d(e)?F.call(e):"";return t==x||t==b}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?P:k;return n.test(function(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function l(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function u(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return a(n)?n:void 0}function c(e){if("string"==typeof e||f(e))return e;var t=e+"";return"0"==t&&1/e==-v?"-0":t}function h(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o),o};return n.cache=new(h.Cache||i),n}function p(e,t){return e===t||e!=e&&t!=t}function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function f(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&F.call(e)==_}function g(e){return null==e?"":function(e){if("string"==typeof e)return e;if(f(e))return W?W.call(e):"";var t=e+"";return"0"==t&&1/e==-v?"-0":t}(e)}var m,y="__lodash_hash_undefined__",v=1/0,x="[object Function]",b="[object GeneratorFunction]",_="[object Symbol]",w=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/,T=/^\./,A=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,E=/\\(\\)?/g,k=/^\[object .+?Constructor\]$/,C="object"==typeof self&&self&&self.Object===Object&&self,L="object"==typeof t&&t&&t.Object===Object&&t||C||Function("return this")(),$=Array.prototype,R=Function.prototype,I=Object.prototype,M=L["__core-js_shared__"],N=(m=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",O=R.toString,D=I.hasOwnProperty,F=I.toString,P=RegExp("^"+O.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=L.Symbol,B=$.splice,z=u(L,"Map"),U=u(Object,"create"),G=V?V.prototype:void 0,W=G?G.toString:void 0;n.prototype.clear=function(){this.__data__=U?U(null):{}},n.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},n.prototype.get=function(e){var t=this.__data__;if(U){var n=t[e];return n===y?void 0:n}return D.call(t,e)?t[e]:void 0},n.prototype.has=function(e){var t=this.__data__;return U?void 0!==t[e]:D.call(t,e)},n.prototype.set=function(e,t){return this.__data__[e]=U&&void 0===t?y:t,this},r.prototype.clear=function(){this.__data__=[]},r.prototype.delete=function(e){var t=this.__data__,n=s(t,e);return!(n<0)&&(n==t.length-1?t.pop():B.call(t,n,1),!0)},r.prototype.get=function(e){var t=this.__data__,n=s(t,e);return n<0?void 0:t[n][1]},r.prototype.has=function(e){return s(this.__data__,e)>-1},r.prototype.set=function(e,t){var n=this.__data__,r=s(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},i.prototype.clear=function(){this.__data__={hash:new n,map:new(z||r),string:new n}},i.prototype.delete=function(e){return l(this,e).delete(e)},i.prototype.get=function(e){return l(this,e).get(e)},i.prototype.has=function(e){return l(this,e).has(e)},i.prototype.set=function(e,t){return l(this,e).set(e,t),this};var H=h((function(e){e=g(e);var t=[];return T.test(e)&&t.push(""),e.replace(A,(function(e,n,r,i){t.push(r?i.replace(E,"$1"):n||e)})),t}));h.Cache=i;var j=Array.isArray;e.exports=function(e,t,n){var r=null==e?void 0:o(e,t);return void 0===r?n:r}}).call(this,n("pCvA"))},CJDg:function(e,t,n){(function(t){function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i,s,o=(s="undefined"!=typeof document?null===(i=document.currentScript)||void 0===i?void 0:i.src:void 0,"undefined"!=typeof __filename&&(s||(s=__filename)),function(e={}){function i(){var e=E.buffer;m.HEAP8=L=new Int8Array(e),m.HEAP16=new Int16Array(e),m.HEAPU8=$=new Uint8Array(e),m.HEAPU16=new Uint16Array(e),m.HEAP32=new Int32Array(e),m.HEAPU32=R=new Uint32Array(e),m.HEAPF32=new Float32Array(e),m.HEAPF64=new Float64Array(e)}function o(e){var t;null===(t=m.onAbort)||void 0===t||t.call(m,e),C(e="Aborted("+e+")"),O=!0,e+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(e);throw p(n),n}function a(){var e,t="sinterwasm.wasm";return U(t)?t:(e=t,m.locateFile?m.locateFile(e,w):w+e)}function l(e){if(e==I&&A)return new Uint8Array(A);if(g)return g(e);throw"both async and sync fetching of the wasm failed"}function u(e,t,n){return function(e){return A?Promise.resolve().then((()=>l(e))):new Promise(((t,n)=>{f(e,(e=>t(new Uint8Array(e))),(()=>{try{t(l(e))}catch(e){n(e)}}))}))}(e).then((e=>WebAssembly.instantiate(e,t))).then(n,(e=>{C(`failed to asynchronously prepare wasm: ${e}`),o(e)}))}function c(){function e(){N||(N=!0,m.calledRun=!0,O||(W(F),h(m),m.onRuntimeInitialized&&m.onRuntimeInitialized(),function(){if(m.postRun)for("function"==typeof m.postRun&&(m.postRun=[m.postRun]);m.postRun.length;)e=m.postRun.shift(),P.unshift(e);var e;W(P)}()))}V>0||(function(){if(m.preRun)for("function"==typeof m.preRun&&(m.preRun=[m.preRun]);m.preRun.length;)e=m.preRun.shift(),D.unshift(e);var e;W(D)}(),V>0||(m.setStatus?(m.setStatus("Running..."),setTimeout((function(){setTimeout((function(){m.setStatus("")}),1),e()}),1)):e()))}var h,p,d,f,g,m=e,y=new Promise(((e,t)=>{h=e,p=t})),v="object"==typeof window,x="function"==typeof importScripts,b="object"==typeof t&&"object"==typeof t.versions&&"string"==typeof t.versions.node,_=r({},m),w="";if(b){var S=n("lVFF"),T=n("R8iU");w=__dirname+"/",d=(e,t)=>(e=G(e)?new URL(e):T.normalize(e),S.readFileSync(e,t?void 0:"utf8")),g=e=>{var t=d(e,!0);return t.buffer||(t=new Uint8Array(t)),t},f=(e,t,n,r=!0)=>{e=G(e)?new URL(e):T.normalize(e),S.readFile(e,r?void 0:"utf8",((e,i)=>{e?n(e):t(r?i.buffer:i)}))},!m.thisProgram&&t.argv.length>1&&t.argv[1].replace(/\\/g,"/"),t.argv.slice(2)}else(v||x)&&(x?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),s&&(w=s),w=w.startsWith("blob:")?"":w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1),d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},x&&(g=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{if(G(e)){var r=new XMLHttpRequest;return r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,void r.send(null)}fetch(e,{credentials:"same-origin"}).then((e=>e.ok?e.arrayBuffer():Promise.reject(new Error(e.status+" : "+e.url)))).then(t,n)});var A,E,k=m.print||console.log.bind(console),C=m.printErr||console.error.bind(console);r(m,_),_=null,m.wasmBinary&&(A=m.wasmBinary);var L,$,R,I,M,N,O=!1,D=[],F=[],P=[],V=0,B=null,z=null,U=e=>e.startsWith("data:application/octet-stream;base64,"),G=e=>e.startsWith("file://"),W=e=>{for(;e.length>0;)e.shift()(m)},H=e=>ae(e),j=()=>ue(),K="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,q=(e,t,n)=>{for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.buffer&&K)return K.decode(e.subarray(t,i));for(var s="";t<i;){var o=e[t++];if(128&o){var a=63&e[t++];if(192!=(224&o)){var l=63&e[t++];if((o=224==(240&o)?(15&o)<<12|a<<6|l:(7&o)<<18|a<<12|l<<6|63&e[t++])<65536)s+=String.fromCharCode(o);else{var u=o-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else s+=String.fromCharCode((31&o)<<6|a)}else s+=String.fromCharCode(o)}return s},X=(e,t)=>e?q($,e,t):"",Y=e=>{var t=(e-E.buffer.byteLength+65535)/65536;try{return E.grow(t),i(),1}catch(e){}},Q=[null,[],[]],Z=[],J=e=>{var t=Z[e];return t||(e>=Z.length&&(Z.length=e+1),Z[e]=t=M.get(e)),t},ee=e=>m["_"+e],te=e=>le(e),ne=e=>{var t=(e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t})(e)+1,n=te(t);return((e,t,n)=>{((e,t,n,r)=>{if(!(r>0))return 0;for(var i=n+r-1,s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++s)),o<=127){if(n>=i)break;t[n++]=o}else if(o<=2047){if(n+1>=i)break;t[n++]=192|o>>6,t[n++]=128|63&o}else if(o<=65535){if(n+2>=i)break;t[n++]=224|o>>12,t[n++]=128|o>>6&63,t[n++]=128|63&o}else{if(n+3>=i)break;t[n++]=240|o>>18,t[n++]=128|o>>12&63,t[n++]=128|o>>6&63,t[n++]=128|63&o}}t[n]=0})(e,$,t,n)})(e,n,t),n},re=(e,t,n,r)=>{var i={string:e=>{var t=0;return null!=e&&0!==e&&(t=ne(e)),t},array:e=>{var t=te(e.length);return L.set(e,t),t}},s=ee(e),o=[],a=0;if(r)for(var l=0;l<r.length;l++){var u=i[n[l]];u?(0===a&&(a=j()),o[l]=u(r[l])):o[l]=r[l]}var c=s(...o);return c=function(e){return 0!==a&&H(a),function(e){return"string"===t?X(e):"boolean"===t?Boolean(e):e}(e)}(c)},ie={a:(e,t,n,r)=>{o(`Assertion failed: ${X(e)}, at: `+[t?X(t):"unknown filename",n,r?X(r):"unknown function"])},h:(e,t,n)=>$.copyWithin(e,t,t+n),e:()=>{throw 1/0},f:e=>{var t=$.length,n=2147483648;if((e>>>=0)>n)return!1;for(var r,i,s=1;s<=4;s*=2){var o=t*(1+.2/s);o=Math.min(o,e+100663296);var a=Math.min(n,(r=Math.max(e,o))+((i=65536)-r%i)%i);if(Y(a))return!0}return!1},g:()=>52,d:function(){return 70},b:(e,t,n,r)=>{for(var i,s,o,a=0,l=0;l<n;l++){var u=R[t>>2],c=R[t+4>>2];t+=8;for(var h=0;h<c;h++)o=void 0,o=Q[i=e],0===(s=$[u+h])||10===s?((1===i?k:C)(q(o,0)),o.length=0):o.push(s);a+=c}return R[r>>2]=a,0},i:function(e,t){var n=j();try{return J(e)(t)}catch(e){if(H(n),e!==e+0)throw e;oe(1,0)}},c:function(e,t){var n=j();try{J(e)(t)}catch(e){if(H(n),e!==e+0)throw e;oe(1,0)}},j:function(e,t,n,r,i,s){var o=j();try{J(e)(t,n,r,i,s)}catch(e){if(H(o),e!==e+0)throw e;oe(1,0)}}},se=function(){function e(e){return E=(se=e.exports).k,i(),M=se.q,F.unshift(se.l),function(){var e;if(V--,null===(e=m.monitorRunDependencies)||void 0===e||e.call(m,V),0==V&&(null!==B&&(clearInterval(B),B=null),z)){var t=z;z=null,t()}}(),se}var t,n,r,s,o,l={a:ie};if(V++,null===(t=m.monitorRunDependencies)||void 0===t||t.call(m,V),m.instantiateWasm)try{return m.instantiateWasm(l,e)}catch(e){C(`Module.instantiateWasm callback failed with error: ${e}`),p(e)}return I||(I=a()),(n=A,r=I,s=l,o=function(t){e(t.instance)},n||"function"!=typeof WebAssembly.instantiateStreaming||U(r)||G(r)||b||"function"!=typeof fetch?u(r,s,o):fetch(r,{credentials:"same-origin"}).then((e=>WebAssembly.instantiateStreaming(e,s).then(o,(function(e){return C(`wasm streaming compile failed: ${e}`),C("falling back to ArrayBuffer instantiation"),u(r,s,o)}))))).catch(p),{}}(),oe=(m._siwasm_alloc_heap=e=>(m._siwasm_alloc_heap=se.m)(e),m._siwasm_alloc=e=>(m._siwasm_alloc=se.n)(e),m._siwasm_free=e=>(m._siwasm_free=se.o)(e),m._siwasm_run=(e,t)=>(m._siwasm_run=se.p)(e,t),(e,t)=>(oe=se.r)(e,t)),ae=e=>(ae=se.s)(e),le=e=>(le=se.t)(e),ue=()=>(ue=se.u)();if(m.ccall=re,m.cwrap=(e,t,n,r)=>{var i=!n||n.every((e=>"number"===e||"boolean"===e));return"string"!==t&&i&&!r?ee(e):(...r)=>re(e,t,n,r)},z=function e(){N||c(),N||(z=e)},m.preInit)for("function"==typeof m.preInit&&(m.preInit=[m.preInit]);m.preInit.length>0;)m.preInit.pop()();return c(),y});e.exports=o}).call(this,n("5IsQ"))},D0XY:function(e,t,n){(function(e){ace.define("ace/theme/monokai-css",["require","exports","module"],(function(e,t,n){n.exports=".ace-monokai .ace_gutter {\n  background: #2F3129;\n  color: #8F908A\n}\n\n.ace-monokai .ace_print-margin {\n  width: 1px;\n  background: #555651\n}\n\n.ace-monokai {\n  background-color: #272822;\n  color: #F8F8F2\n}\n\n.ace-monokai .ace_cursor {\n  color: #F8F8F0\n}\n\n.ace-monokai .ace_marker-layer .ace_selection {\n  background: #49483E\n}\n\n.ace-monokai.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px #272822;\n}\n\n.ace-monokai .ace_marker-layer .ace_step {\n  background: rgb(102, 82, 0)\n}\n\n.ace-monokai .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid #49483E\n}\n\n.ace-monokai .ace_marker-layer .ace_active-line {\n  background: #202020\n}\n\n.ace-monokai .ace_gutter-active-line {\n  background-color: #272727\n}\n\n.ace-monokai .ace_marker-layer .ace_selected-word {\n  border: 1px solid #49483E\n}\n\n.ace-monokai .ace_invisible {\n  color: #52524d\n}\n\n.ace-monokai .ace_entity.ace_name.ace_tag,\n.ace-monokai .ace_keyword,\n.ace-monokai .ace_meta.ace_tag,\n.ace-monokai .ace_storage {\n  color: #F92672\n}\n\n.ace-monokai .ace_punctuation,\n.ace-monokai .ace_punctuation.ace_tag {\n  color: #fff\n}\n\n.ace-monokai .ace_constant.ace_character,\n.ace-monokai .ace_constant.ace_language,\n.ace-monokai .ace_constant.ace_numeric,\n.ace-monokai .ace_constant.ace_other {\n  color: #AE81FF\n}\n\n.ace-monokai .ace_invalid {\n  color: #F8F8F0;\n  background-color: #F92672\n}\n\n.ace-monokai .ace_invalid.ace_deprecated {\n  color: #F8F8F0;\n  background-color: #AE81FF\n}\n\n.ace-monokai .ace_support.ace_constant,\n.ace-monokai .ace_support.ace_function {\n  color: #66D9EF\n}\n\n.ace-monokai .ace_fold {\n  background-color: #A6E22E;\n  border-color: #F8F8F2\n}\n\n.ace-monokai .ace_storage.ace_type,\n.ace-monokai .ace_support.ace_class,\n.ace-monokai .ace_support.ace_type {\n  font-style: italic;\n  color: #66D9EF\n}\n\n.ace-monokai .ace_entity.ace_name.ace_function,\n.ace-monokai .ace_entity.ace_other,\n.ace-monokai .ace_entity.ace_other.ace_attribute-name,\n.ace-monokai .ace_variable {\n  color: #A6E22E\n}\n\n.ace-monokai .ace_variable.ace_parameter {\n  font-style: italic;\n  color: #FD971F\n}\n\n.ace-monokai .ace_string {\n  color: #E6DB74\n}\n\n.ace-monokai .ace_comment {\n  color: #75715E\n}\n\n.ace-monokai .ace_indent-guide {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y\n}\n\n.ace-monokai .ace_indent-guide-active {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;\n}\n"})),ace.define("ace/theme/monokai",["require","exports","module","ace/theme/monokai-css","ace/lib/dom"],(function(e,t){t.isDark=!0,t.cssClass="ace-monokai",t.cssText=e("./monokai-css"),e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.require(["ace/theme/monokai"],(function(t){e&&(e.exports=t)}))}).call(this,n("RoC8")(e))},D9C7:function(e,t,n){"use strict";function r(e,n,r,i){if("function"==typeof r){const s=n.split("(")[0].trim(),o=`function ${n} {\n\t[implementation hidden]\n}`;r.toString=()=>o,r.minArgsNeeded=i,t.defineSymbol(e,s,r)}else if(r instanceof b){const i=(...e)=>r.func(...e),s=n.split("(")[0].trim(),o=`function ${n} {\n\t[implementation hidden]\n}`;i.toString=()=>o,x.makeWrapper(r.func,i),t.defineSymbol(e,s,new b(i,r.evaluateArgs))}else t.defineSymbol(e,n,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.importBuiltins=t.importExternalSymbols=t.defineBuiltin=t.defineSymbol=t.ensureGlobalEnvironmentExist=t.createEmptyContext=t.createGlobalEnvironment=t.EnvTreeNode=t.EnvTree=t.LazyBuiltIn=void 0;const i=n("Otp2"),s=n("w6cD"),o=n("255Z"),a=n("255Z"),l=n("neqR"),u=n("0clT"),c=n("g0lB"),h=n("9fWK"),p=n("HnoM"),d=n("WrTS"),f=n("B4Ta"),g=n("5tzL"),m=n("GFFv"),y=n("jahb"),v=n("xhom"),x=n("XZ2b");class b{constructor(e,t){this.func=e,this.evaluateArgs=t}}t.LazyBuiltIn=b;class _{constructor(){this._root=null,this.map=new Map}get root(){return this._root}insert(e){const t=e.tail;if(null===t)null===this._root&&(this._root=new w(e,null),this.map.set(e,this._root));else{const n=this.map.get(t);if(n){const t=new w(e,n);n.addChild(t),this.map.set(e,t)}}}getTreeNode(e){return this.map.get(e)}}t.EnvTree=_;class w{constructor(e,t){this.environment=e,this.parent=t,this._children=[]}get children(){return this._children}resetChildren(e){this.clearChildren(),this.addChildren(e),e.forEach((e=>e.parent=this))}clearChildren(){this._children=[]}addChildren(e){this._children.push(...e)}addChild(e){return this._children.push(e),e}}t.EnvTreeNode=w;const S=()=>({break:!1,debuggerOn:!0,isRunning:!1,environmentTree:new _,environments:[],value:void 0,nodes:[]});t.createGlobalEnvironment=()=>({tail:null,name:"global",head:{}});t.createEmptyContext=(e,t="default",n,r,o)=>({chapter:e,externalSymbols:n,errors:[],externalContext:r,moduleParams:o,runtime:S(),numberOfOuterEnvironments:1,prelude:null,debugger:{observers:{callbacks:Array()},status:!1,state:{it:function*(){}(),scheduler:new s.AsyncScheduler}},nativeStorage:{builtins:new Map,previousProgramsIdentifiers:new Set,operators:new Map(Object.entries(f)),gpu:new Map(Object.entries(g)),maxExecTime:i.JSSLANG_PROPERTIES.maxExecTime,evaller:null},executionMethod:"auto",variant:t,unTypecheckedCode:[],typeEnvironment:v.createTypeEnvironment(e),previousCode:[]});t.ensureGlobalEnvironmentExist=e=>{if(e.runtime||(e.runtime=S()),e.runtime.environments||(e.runtime.environments=[]),e.runtime.environmentTree||(e.runtime.environmentTree=new _),0===e.runtime.environments.length){const n=t.createGlobalEnvironment();e.runtime.environments.push(n),e.runtime.environmentTree.insert(n)}};t.defineSymbol=(e,t,n)=>{Object.defineProperty(e.runtime.environments[0].head,t,{value:n,writable:!1,enumerable:!0}),e.nativeStorage.builtins.set(t,n);const r=e.typeEnvironment[0];r.declKindMap.has(t)||(r.typeMap.set(t,v.tForAll(v.tVar("T1"))),r.declKindMap.set(t,"const"))},t.defineBuiltin=r;t.importExternalSymbols=(e,n)=>{t.ensureGlobalEnvironmentExist(e),n.forEach((n=>{t.defineSymbol(e,n,i.GLOBAL[n])}))};t.importBuiltins=(e,n)=>{t.ensureGlobalEnvironmentExist(e);const i=(t,...r)=>n.rawDisplay(t,r[0],e.externalContext),s=(e,...t)=>{if(1===t.length&&void 0!==t[0]&&"string"!=typeof t[0])throw new TypeError("display expects the second argument to be a string");return i(m.stringify(e),t[0]),e},l=(e,...t)=>{if(1===t.length&&void 0!==t[0]&&"string"!=typeof t[0])throw new TypeError("display_list expects the second argument to be a string");return o.rawDisplayList(s,e,t[0])},u=t=>{const r=Date.now(),i=n.prompt(t,"",e.externalContext);return e.nativeStorage.maxExecTime+=Date.now()-r,i},d=t=>{const r=Date.now();n.alert(t,"",e.externalContext),e.nativeStorage.maxExecTime+=Date.now()-r},y=(...t)=>n.visualiseList(t,e.externalContext);if(e.chapter>=1){r(e,"get_time()",c.get_time),r(e,"display(val, prepend = undefined)",s,1),r(e,"raw_display(str, prepend = undefined)",i,1),r(e,"stringify(val, indent = 2, maxLineLength = 80)",m.stringify,1),r(e,"error(str, prepend = undefined)",c.error_message,1),r(e,"prompt(str)",u),r(e,"is_number(val)",c.is_number),r(e,"is_string(val)",c.is_string),r(e,"is_function(val)",c.is_function),r(e,"is_boolean(val)",c.is_boolean),r(e,"is_undefined(val)",c.is_undefined),r(e,"parse_int(str, radix)",c.parse_int),r(e,"char_at(str, index)",c.char_at),r(e,"undefined",void 0),r(e,"NaN",NaN),r(e,"Infinity",1/0);const t=Object.getOwnPropertyNames(Math);for(const n of t){const t=Math[n];if("function"==typeof t){let i,s;i="...values",s=0,r(e,`math_${n}(${i})`,t,s)}else r(e,`math_${n}`,t)}}e.chapter>=2&&("lazy"===e.variant?(r(e,"pair(left, right)",new b(o.pair,!1)),r(e,"list(...values)",new b(o.list,!1),0),r(e,"is_pair(val)",new b(o.is_pair,!0)),r(e,"head(xs)",new b(o.head,!0)),r(e,"tail(xs)",new b(o.tail,!0)),r(e,"is_null(val)",new b(o.is_null,!0)),r(e,"draw_data(...xs)",new b(y,!0),0)):(r(e,"pair(left, right)",o.pair),r(e,"is_pair(val)",o.is_pair),r(e,"head(xs)",o.head),r(e,"tail(xs)",o.tail),r(e,"is_null(val)",o.is_null),r(e,"list(...values)",o.list,0),r(e,"draw_data(...xs)",y,0),r(e,"display_list(val, prepend = undefined)",l,0))),e.chapter>=3&&(r(e,"set_head(xs, val)",o.set_head),r(e,"set_tail(xs, val)",o.set_tail),r(e,"array_length(arr)",c.array_length),r(e,"is_array(val)",c.is_array),r(e,"stream_tail(stream)",p.stream_tail),r(e,"stream(...values)",p.stream,0),r(e,"list_to_stream(xs)",p.list_to_stream)),e.chapter>=4&&(r(e,"parse(program_string)",(t=>h.parse(t,A(e.chapter)))),r(e,"tokenize(program_string)",(t=>h.tokenize(t,A(e.chapter)))),r(e,"apply_in_underlying_javascript(fun, args)",((e,t)=>e.apply(e,a.list_to_vector(t)))),"gpu"===e.variant&&(r(e,"__clearKernelCache()",g.__clearKernelCache),r(e,"__createKernelSource(shape, extern, localNames, output, fun, kernelId)",g.__createKernelSource))),e.chapter>=100&&(r(e,"is_object(val)",c.is_object),r(e,"is_NaN(val)",c.is_NaN),r(e,"has_own_property(obj, prop)",c.has_own_property),r(e,"alert(val)",d),r(e,"timed(fun)",(t=>c.timed(e,t,e.externalContext,n.rawDisplay)))),"lazy"===e.variant&&(r(e,"wrapLazyCallee(f)",new b(f.wrapLazyCallee,!0)),r(e,"makeLazyFunction(f)",new b(f.makeLazyFunction,!0)),r(e,"forceIt(val)",new b(f.forceIt,!0)),r(e,"delayIt(xs)",new b(f.delayIt,!0)))};const T={rawDisplay:c.rawDisplay,prompt:c.rawDisplay,alert:c.rawDisplay,visualiseList:()=>{throw new Error("List visualizer is not enabled")}},A=(e=1,n="default",r=[],i,s=T,o)=>{const a=t.createEmptyContext(e,n,r,i,o);return t.importBuiltins(a,s),function(e){let t="";e.chapter>=2&&(t+="lazy"===e.variant?y.lazyListPrelude:l.listPrelude),e.chapter>=3&&(t+=d.streamPrelude),"non-det"===e.variant&&(t+=u.nonDetPrelude),""!==t&&(e.prelude=t)}(a),t.importExternalSymbols(a,r),a};t.default=A},E02R:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},FaXh:function(e,t){t.read=function(e,t,n,r,i){var s,o,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,h=n?i-1:0,p=n?-1:1,d=e[t+h];for(h+=p,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=256*s+e[t+h],h+=p,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=256*o+e[t+h],h+=p,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),s-=u}return(d?-1:1)*o*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var o,a,l,u=8*s-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,f=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(t*l-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&a,d+=f,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[n+d]=255&o,d+=f,o/=256,u-=8);e[n+d-f]|=128*g}},GFFv:function(e,t,n){"use strict";function r(e,t={_next:0}){function n(e){return r(e,t)}switch(e.kind){case"primitive":return e.name;case"variable":return e.constraint&&"none"!==e.constraint?e.constraint:(e.name in t||(t[e.name]="T"+t._next++),t[e.name]);case"list":return`List<${n(e.elementType)}>`;case"array":return`Array<${n(e.elementType)}>`;case"pair":const r=n(e.headType);return"list"===e.tailType.kind&&r===n(e.tailType.elementType)?`List<${r}>`:`[${n(e.headType)}, ${n(e.tailType)}]`;case"function":let i=e.parameterTypes.map(n).join(", ");return 1===e.parameterTypes.length&&"function"!==e.parameterTypes[0].kind||(i=`(${i})`),`${i} -> ${n(e.returnType)}`;default:return"Unable to infer type"}}function i(e){function t(e,t,s,o){const a=i.get(e);if(void 0!==a)return[a,!1];r.set(e,r.size);const l=t.map(n);let u=s.length+o.length+2*Math.max(0,l.length-1),c=!1;for(let e=0;e<l.length;e++)null==l[e]&&(l[e]=n(void 0)),u+=l[e][0].length,c||(c=l[e][1]);r.delete(e);const h={type:"arraylike",elems:l.map((e=>e[0])),prefix:s,suffix:o,length:u};return c||i.set(e,h),[h,c]}function n(s){if(null===s)return[{type:"terminal",str:"null",length:4},!1];if(void 0===s)return[{type:"terminal",str:"undefined",length:9},!1];if(r.has(s))return[{type:"terminal",str:"...<circular>",length:13},!0];if(s instanceof u.default){const e=s.toString().split("\n");return 1===e.length?[{type:"terminal",str:e[0],length:e[0].length},!1]:[{type:"multiline",lines:e,length:1/0},!1]}if("string"==typeof s){const e=JSON.stringify(s);return[{type:"terminal",str:e,length:e.length},!1]}if("object"!=typeof s){const e=s.toString().split("\n");return 1===e.length?[{type:"terminal",str:e[0],length:e[0].length},!1]:[{type:"multiline",lines:e,length:1/0},!1]}if(r.size>l.MAX_LIST_DISPLAY_LENGTH)return[{type:"terminal",str:"...<truncated>",length:14},!1];if("function"==typeof s.toReplString){const e=s.toReplString().split("\n");return 1===e.length?[{type:"terminal",str:e[0],length:e[0].length},!1]:[{type:"multiline",lines:e,length:1/0},!1]}return Array.isArray(s)?2===s.length?function(e){const t=i.get(e);if(void 0!==t)return[t,!1];r.set(e,r.size);const s=e,[o,a]=n(s[0]),[l,u]=n(s[1]),c=a||u;r.delete(e);const h={type:"pair",head:o,tail:l,length:o.length+l.length+4};return c||i.set(e,h),[h,c]}(s):t(s,s,"[","]"):function(e){return"string"==typeof e.replPrefix&&"string"==typeof e.replSuffix&&"function"==typeof e.replArrayContents}(s)?t(s,s.replArrayContents(),s.replPrefix,s.replSuffix):function(t){const s=i.get(e);if(void 0!==s)return[s,!1];r.set(t,r.size);const o=Object.entries(t),a=o.map((e=>n(e[1])));let l=2+2*Math.max(0,o.length-1)+2*o.length,u=!1;const c=[];for(let e=0;e<a.length;e++)l+=o[e][0].length,l+=a[e].length,u||(u=a[e][1]),c.push({type:"kvpair",key:o[e][0],value:a[e][0],length:a[e][0].length+o[e][0].length});r.delete(e);const h={type:"arraylike",elems:c,prefix:"{",suffix:"}",length:l};return u||i.set(e,h),[h,u]}(s)}const r=new Map,i=new Map;return n(e)[0]}function s(e,t,n){const r="["+" ".repeat(Math.max(0,t-1)),i=new Map;return function e(s){const o=i.get(s);if(void 0!==o)return o;let a;if("terminal"===s.type)a={type:"line",line:s};else if("multiline"===s.type)a={type:"block",prefixFirst:"",prefixRest:"",block:s.lines.map((e=>({type:"line",line:{type:"terminal",str:e,length:e.length}}))),suffixRest:"",suffixLast:""};else if("pair"===s.type){const t=e(s.head),i=e(s.tail);a=s.length-2>n||"line"!==t.type||"line"!==i.type?{type:"block",prefixFirst:r,prefixRest:"",block:[t,i],suffixRest:",",suffixLast:"]"}:{type:"line",line:s}}else if("arraylike"===s.type){const r=s.elems.map(e);a=s.length-s.prefix.length-s.suffix.length>n||r.some((e=>"line"!==e.type))?{type:"block",prefixFirst:s.prefix+" ".repeat(Math.max(0,t-s.prefix.length)),prefixRest:" ".repeat(Math.max(s.prefix.length,t)),block:r,suffixRest:",",suffixLast:s.suffix}:{type:"line",line:s}}else{if("kvpair"!==s.type)throw"up";{const t=e(s.value);a=s.length>n||"line"!==t.type?{type:"block",prefixFirst:"",prefixRest:"",block:[{type:"line",line:{type:"terminal",str:JSON.stringify(s.key),length:0}},t],suffixRest:":",suffixLast:""}:{type:"line",line:s}}}return i.set(s,a),a}(e)}function o(e){return function e(t,n){if("multiline"===t.type)throw"Tried to format multiline string as single line string";if("terminal"===t.type)n.push(t.str);else if("pair"===t.type)n.push("["),e(t.head,n),n.push(", "),e(t.tail,n),n.push("]");else if("kvpair"===t.type)n.push(JSON.stringify(t.key)),n.push(": "),e(t.value,n);else if("arraylike"===t.type){n.push(t.prefix),t.elems.length>0&&e(t.elems[0],n);for(let r=1;r<t.elems.length;r++)n.push(", "),e(t.elems[r],n);n.push(t.suffix)}return n}(e,[]).join("")}function a(e){let t="";const n=new Map,r=new Map;return function e(i,s){const a=r.get(i);if(void 0!==a){const e=a.get(s.length);if(void 0!==e)return void(t+=t.substring(e[0],e[1]))}const l=t.length;if("line"===i.type)n.has(i.line)||n.set(i.line,o(i.line)),t+=n.get(i.line);else if("block"===i.type){t+=i.prefixFirst;const n=s+" ".repeat(i.prefixFirst.length),r=s+i.prefixRest;e(i.block[0],n);for(let n=1;n<i.block.length;n++)t+=i.suffixRest,t+=r,e(i.block[n],r);t+=i.suffixLast}const u=t.length;if(void 0===a){const e=new Map;e.set(s.length,[l,u]),r.set(i,e)}else a.set(s.length,[l,u])}(e,"\n"),t}Object.defineProperty(t,"__esModule",{value:!0}),t.lineTreeToString=t.stringDagToSingleLine=t.stringDagToLineTree=t.valueToStringDag=t.typeToString=t.stringify=void 0;const l=n("Otp2"),u=n("TK+R"),c=n("B4Ta");t.stringify=(e,t=2,n=80)=>{if(e=c.forceIt(e),"string"==typeof t)throw"stringify with arbitrary indent string not supported";let r=t;return t>10&&(r=10),a(s(i(e),r,n))},t.typeToString=function(e){return r(e)},t.valueToStringDag=i,t.stringDagToLineTree=s,t.stringDagToSingleLine=o,t.lineTreeToString=a},HnoM:function(e,t,n){"use strict";function r(e){return i.is_null(e)?null:i.pair(i.head(e),(()=>r(i.tail(e))))}Object.defineProperty(t,"__esModule",{value:!0}),t.list_to_stream=t.stream=t.stream_tail=void 0;const i=n("255Z");t.stream_tail=function(e){let t;if(!i.is_pair(e))throw new Error("stream_tail(xs) expects a pair as argument xs, but encountered "+e);if(t=e[1],"function"==typeof t)return t();throw new Error("stream_tail(xs) expects a function as the tail of the argument pair xs, but encountered "+t)},t.stream=function(...e){return r(i.list(...e))},t.list_to_stream=r},HrKg:function(e){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},IHZQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoUnspecifiedLiteral=void 0;const r=n("QyX9"),i=["boolean","string","number"];class s{constructor(e){this.node=e,this.type=r.ErrorType.SYNTAX,this.severity=r.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`'${this.node.value instanceof RegExp?"RegExp":""}' literals are not allowed.`}elaborate(){return""}}t.NoUnspecifiedLiteral=s;t.default={name:"no-unspecified-literal",checkers:{Literal:e=>null===e.value||i.includes(typeof e.value)?[]:[new s(e)]}}},IPtZ:function(e,t,n){"use strict";var r=n("XKyj").Buffer,i=n(1);e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,i=0;n;)n.data.copy(t,i),i+=n.data.length,n=n.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},Ib16:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.getInstructionSize=t.OPCODE_MAX=t.OpCodes=void 0,function(e){e[e.NOP=0]="NOP",e[e.LDCI=1]="LDCI",e[e.LGCI=2]="LGCI",e[e.LDCF32=3]="LDCF32",e[e.LGCF32=4]="LGCF32",e[e.LDCF64=5]="LDCF64",e[e.LGCF64=6]="LGCF64",e[e.LDCB0=7]="LDCB0",e[e.LDCB1=8]="LDCB1",e[e.LGCB0=9]="LGCB0",e[e.LGCB1=10]="LGCB1",e[e.LGCU=11]="LGCU",e[e.LGCN=12]="LGCN",e[e.LGCS=13]="LGCS",e[e.POPG=14]="POPG",e[e.POPB=15]="POPB",e[e.POPF=16]="POPF",e[e.ADDG=17]="ADDG",e[e.ADDF=18]="ADDF",e[e.SUBG=19]="SUBG",e[e.SUBF=20]="SUBF",e[e.MULG=21]="MULG",e[e.MULF=22]="MULF",e[e.DIVG=23]="DIVG",e[e.DIVF=24]="DIVF",e[e.MODG=25]="MODG",e[e.MODF=26]="MODF",e[e.NOTG=27]="NOTG",e[e.NOTB=28]="NOTB",e[e.LTG=29]="LTG",e[e.LTF=30]="LTF",e[e.GTG=31]="GTG",e[e.GTF=32]="GTF",e[e.LEG=33]="LEG",e[e.LEF=34]="LEF",e[e.GEG=35]="GEG",e[e.GEF=36]="GEF",e[e.EQG=37]="EQG",e[e.EQF=38]="EQF",e[e.EQB=39]="EQB",e[e.NEWC=40]="NEWC",e[e.NEWA=41]="NEWA",e[e.LDLG=42]="LDLG",e[e.LDLF=43]="LDLF",e[e.LDLB=44]="LDLB",e[e.STLG=45]="STLG",e[e.STLB=46]="STLB",e[e.STLF=47]="STLF",e[e.LDPG=48]="LDPG",e[e.LDPF=49]="LDPF",e[e.LDPB=50]="LDPB",e[e.STPG=51]="STPG",e[e.STPB=52]="STPB",e[e.STPF=53]="STPF",e[e.LDAG=54]="LDAG",e[e.LDAB=55]="LDAB",e[e.LDAF=56]="LDAF",e[e.STAG=57]="STAG",e[e.STAB=58]="STAB",e[e.STAF=59]="STAF",e[e.BRT=60]="BRT",e[e.BRF=61]="BRF",e[e.BR=62]="BR",e[e.JMP=63]="JMP",e[e.CALL=64]="CALL",e[e.CALLT=65]="CALLT",e[e.CALLP=66]="CALLP",e[e.CALLTP=67]="CALLTP",e[e.CALLV=68]="CALLV",e[e.CALLTV=69]="CALLTV",e[e.RETG=70]="RETG",e[e.RETF=71]="RETF",e[e.RETB=72]="RETB",e[e.RETU=73]="RETU",e[e.RETN=74]="RETN",e[e.DUP=75]="DUP",e[e.NEWENV=76]="NEWENV",e[e.POPENV=77]="POPENV",e[e.NEWCP=78]="NEWCP",e[e.NEWCV=79]="NEWCV",e[e.NEGG=80]="NEGG",e[e.NEGF=81]="NEGF",e[e.NEQG=82]="NEQG",e[e.NEQF=83]="NEQF",e[e.NEQB=84]="NEQB",e[e.ARRAY_LEN=1e3]="ARRAY_LEN",e[e.DISPLAY=1001]="DISPLAY",e[e.DRAW_DATA=1002]="DRAW_DATA",e[e.ERROR=1003]="ERROR",e[e.IS_ARRAY=1004]="IS_ARRAY",e[e.IS_BOOL=1005]="IS_BOOL",e[e.IS_FUNC=1006]="IS_FUNC",e[e.IS_NULL=1007]="IS_NULL",e[e.IS_NUMBER=1008]="IS_NUMBER",e[e.IS_STRING=1009]="IS_STRING",e[e.IS_UNDEFINED=1010]="IS_UNDEFINED",e[e.MATH_ABS=1011]="MATH_ABS",e[e.MATH_ACOS=1012]="MATH_ACOS",e[e.MATH_ACOSH=1013]="MATH_ACOSH",e[e.MATH_ASIN=1014]="MATH_ASIN",e[e.MATH_ASINH=1015]="MATH_ASINH",e[e.MATH_ATAN=1016]="MATH_ATAN",e[e.MATH_ATAN2=1017]="MATH_ATAN2",e[e.MATH_ATANH=1018]="MATH_ATANH",e[e.MATH_CBRT=1019]="MATH_CBRT",e[e.MATH_CEIL=1020]="MATH_CEIL",e[e.MATH_CLZ32=1021]="MATH_CLZ32",e[e.MATH_COS=1022]="MATH_COS",e[e.MATH_COSH=1023]="MATH_COSH",e[e.MATH_EXP=1024]="MATH_EXP",e[e.MATH_EXPM1=1025]="MATH_EXPM1",e[e.MATH_FLOOR=1026]="MATH_FLOOR",e[e.MATH_FROUND=1027]="MATH_FROUND",e[e.MATH_HYPOT=1028]="MATH_HYPOT",e[e.MATH_IMUL=1029]="MATH_IMUL",e[e.MATH_LOG=1030]="MATH_LOG",e[e.MATH_LOG1P=1031]="MATH_LOG1P",e[e.MATH_LOG2=1032]="MATH_LOG2",e[e.MATH_LOG10=1033]="MATH_LOG10",e[e.MATH_MAX=1034]="MATH_MAX",e[e.MATH_MIN=1035]="MATH_MIN",e[e.MATH_POW=1036]="MATH_POW",e[e.MATH_RANDOM=1037]="MATH_RANDOM",e[e.MATH_ROUND=1038]="MATH_ROUND",e[e.MATH_SIGN=1039]="MATH_SIGN",e[e.MATH_SIN=1040]="MATH_SIN",e[e.MATH_SINH=1041]="MATH_SINH",e[e.MATH_SQRT=1042]="MATH_SQRT",e[e.MATH_TAN=1043]="MATH_TAN",e[e.MATH_TANH=1044]="MATH_TANH",e[e.MATH_TRUNC=1045]="MATH_TRUNC",e[e.PARSE_INT=1046]="PARSE_INT",e[e.RUNTIME=1047]="RUNTIME",e[e.STREAM=1048]="STREAM",e[e.STRINGIFY=1049]="STRINGIFY",e[e.PROMPT=1050]="PROMPT",e[e.EXECUTE=2e3]="EXECUTE",e[e.TEST_AND_SET=2001]="TEST_AND_SET",e[e.CLEAR=2002]="CLEAR"}(n=t.OpCodes||(t.OpCodes={})),t.OPCODE_MAX=84,t.getInstructionSize=function(e){switch(e){case n.LDLG:case n.LDLF:case n.LDLB:case n.STLG:case n.STLF:case n.STLB:case n.CALL:case n.CALLT:case n.NEWENV:case n.NEWCP:case n.NEWCV:return 2;case n.LDPG:case n.LDPF:case n.LDPB:case n.STPG:case n.STPF:case n.STPB:case n.CALLP:case n.CALLTP:case n.CALLV:case n.CALLTV:return 3;case n.LDCI:case n.LGCI:case n.LDCF32:case n.LGCF32:case n.LGCS:case n.NEWC:case n.BRF:case n.BRT:case n.BR:case n.JMP:return 5;case n.LDCF64:case n.LGCF64:return 9;default:return 1}},t.default=n},JFiO:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.SetPropertyError=t.GetInheritedPropertyError=t.GetPropertyError=t.ConstAssignment=t.VariableRedeclaration=t.InvalidNumberOfArguments=t.UnassignedVariable=t.UndefinedVariable=t.CallingNonFunctionValue=t.MaximumStackLimitExceeded=t.ExceptionError=t.InterruptedError=void 0;const i=n("j0Aj"),s=n("QyX9"),o=n("GFFv"),a=n("5AhW");t.InterruptedError=class extends a.RuntimeSourceError{constructor(e){super(e)}explain(){return"Execution aborted by user."}elaborate(){return"TODO"}};t.ExceptionError=class{constructor(e,t){this.error=e,this.location=t,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR}explain(){return this.error.toString()}elaborate(){return"TODO"}};class l extends a.RuntimeSourceError{constructor(e,t){super(e),this.calls=t,this.customGenerator=r(r({},i.baseGenerator),{CallExpression(e,t){t.write(i.generate(e.callee)),t.write("(");const n=e.arguments.map((e=>o.stringify(e.value)));t.write(n.join(", ")),t.write(")")}})}explain(){const e=e=>i.generate(e,{generator:this.customGenerator});return"Maximum call stack size exceeded\n  "+this.calls.map((t=>e(t)+"..")).join("  ")}elaborate(){return"TODO"}}t.MaximumStackLimitExceeded=l,l.MAX_CALLS_TO_SHOW=3;t.CallingNonFunctionValue=class extends a.RuntimeSourceError{constructor(e,t){super(t),this.callee=e,this.node=t}explain(){return`Calling non-function value ${o.stringify(this.callee)}.`}elaborate(){const e=this.callee,t=o.stringify(e);let n="";n=this.node.arguments.map(i.generate).join(", ");const r=`Because ${t} is not a function, you cannot run ${t}(${n}).`,s=`If you were planning to perform multiplication by ${t}, you need to use the * operator.`;return Number.isFinite(e)?`${r} ${s}`:r}};t.UndefinedVariable=class extends a.RuntimeSourceError{constructor(e,t){super(t),this.name=e}explain(){return`Name ${this.name} not declared.`}elaborate(){return`Before you can read the value of ${this.name}, you need to declare it as a variable or a constant. You can do this using the let or const keywords.`}};t.UnassignedVariable=class extends a.RuntimeSourceError{constructor(e,t){super(t),this.name=e}explain(){return`Name ${this.name} declared later in current scope but not yet assigned`}elaborate(){return`If you're trying to access the value of ${this.name} from an outer scope, please rename the inner ${this.name}. An easy way to avoid this issue in future would be to avoid declaring any variables or constants with the name ${this.name} in the same scope.`}};t.InvalidNumberOfArguments=class extends a.RuntimeSourceError{constructor(e,t,n,r=!1){super(e),this.expected=t,this.got=n,this.hasVarArgs=r,this.calleeStr=i.generate(e.callee)}explain(){return`Expected ${this.expected} ${this.hasVarArgs?"or more ":""}arguments, but got ${this.got}.`}elaborate(){return`Try calling function ${this.calleeStr} again, but with ${this.expected} argument${1===this.expected?"":"s"} instead. Remember that arguments are separated by a ',' (comma).`}};t.VariableRedeclaration=class extends a.RuntimeSourceError{constructor(e,t,n){super(e),this.node=e,this.name=t,this.writable=n}explain(){return`Redeclaring name ${this.name}.`}elaborate(){if(!0===this.writable){const e=`Since ${this.name} has already been declared, you can assign a value to it without re-declaring.`;let t="";return"FunctionDeclaration"===this.node.type?t="("+this.node.params.map(i.generate).join(",")+") => {...":"VariableDeclaration"===this.node.type&&(t=i.generate(this.node.declarations[0].init)),`${e} As such, you can just do\n\n\t${this.name} = ${t};\n`}return!1===this.writable?`You will need to declare another variable, as ${this.name} is read-only.`:""}};t.ConstAssignment=class extends a.RuntimeSourceError{constructor(e,t){super(e),this.name=t}explain(){return`Cannot assign new value to constant ${this.name}.`}elaborate(){return`As ${this.name} was declared as a constant, its value cannot be changed. You will have to declare a new variable.`}};t.GetPropertyError=class extends a.RuntimeSourceError{constructor(e,t,n){super(e),this.obj=t,this.prop=n}explain(){return`Cannot read property ${this.prop} of ${o.stringify(this.obj)}.`}elaborate(){return"TODO"}};t.GetInheritedPropertyError=class extends a.RuntimeSourceError{constructor(e,t,n){super(e),this.obj=t,this.prop=n,this.type=s.ErrorType.RUNTIME,this.severity=s.ErrorSeverity.ERROR,this.location=e.loc}explain(){return`Cannot read inherited property ${this.prop} of ${o.stringify(this.obj)}.`}elaborate(){return"TODO"}};t.SetPropertyError=class extends a.RuntimeSourceError{constructor(e,t,n){super(e),this.obj=t,this.prop=n}explain(){return`Cannot assign property ${this.prop} of ${o.stringify(this.obj)}.`}elaborate(){return"TODO"}}},JleK:function(e,t,n){(function(e){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],(function(e,t){"use strict";var n,r=e("./lib/oop"),i=(e("./lib/lang"),e("./lib/event_emitter").EventEmitter),s=e("./editor").Editor,o=e("./virtual_renderer").VirtualRenderer,a=e("./edit_session").EditSession;(function(){r.implement(this,i),this.$createEditor=function(){var e=document.createElement("div");e.className=this.$editorCSS,e.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(e);var t=new s(new o(e,this.$theme));return t.on("focus",function(){this._emit("focus",t)}.bind(this)),this.$editors.push(t),t.setFontSize(this.$fontSize),t},this.setSplits=function(e){var t;if(e<1)throw"The number of splits have to be > 0!";if(e!=this.$splits){if(e>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<e;)this.$container.appendChild((t=this.$editors[this.$splits]).container),t.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<e;)this.$createEditor(),this.$splits++}else for(;this.$splits>e;)this.$container.removeChild((t=this.$editors[this.$splits-1]).container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(e){return this.$editors[e]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(e){this.$editors.forEach((function(t){t.setTheme(e)}))},this.setKeyboardHandler=function(e){this.$editors.forEach((function(t){t.setKeyboardHandler(e)}))},this.forEach=function(e,t){this.$editors.forEach(e,t)},this.$fontSize="",this.setFontSize=function(e){this.$fontSize=e,this.forEach((function(t){t.setFontSize(e)}))},this.$cloneSession=function(e){var t=new a(e.getDocument(),e.getMode()),n=e.getUndoManager();return t.setUndoManager(n),t.setTabSize(e.getTabSize()),t.setUseSoftTabs(e.getUseSoftTabs()),t.setOverwrite(e.getOverwrite()),t.setBreakpoints(e.getBreakpoints()),t.setUseWrapMode(e.getUseWrapMode()),t.setUseWorker(e.getUseWorker()),t.setWrapLimitRange(e.$wrapLimitRange.min,e.$wrapLimitRange.max),t.$foldData=e.$cloneFoldData(),t},this.setSession=function(e,t){var n;n=null==t?this.$cEditor:this.$editors[t];var r=this.$editors.some((function(t){return t.session===e}));return r&&(e=this.$cloneSession(e)),n.setSession(e),e},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(e){this.$orientation!=e&&(this.$orientation=e,this.resize())},this.resize=function(){var e,t=this.$container.clientWidth,n=this.$container.clientHeight;if(this.$orientation==this.BESIDE)for(var r=t/this.$splits,i=0;i<this.$splits;i++)(e=this.$editors[i]).container.style.width=r+"px",e.container.style.top="0px",e.container.style.left=i*r+"px",e.container.style.height=n+"px",e.resize();else{var s=n/this.$splits;for(i=0;i<this.$splits;i++)(e=this.$editors[i]).container.style.width=t+"px",e.container.style.top=i*s+"px",e.container.style.left="0px",e.container.style.height=s+"px",e.resize()}}}).call((n=function(e,t,n){this.BELOW=1,this.BESIDE=0,this.$container=e,this.$theme=t,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(n||1),this.$cEditor=this.$editors[0],this.on("focus",function(e){this.$cEditor=e}.bind(this))}).prototype),t.Split=n})),ace.define("ace/ext/split",["require","exports","module","ace/split"],(function(e,t,n){"use strict";n.exports=e("../split")})),ace.require(["ace/ext/split"],(function(t){e&&(e.exports=t)}))}).call(this,n("RoC8")(e))},Jmra:function(e,t,n){"use strict";function r(e){"string"==typeof e&&(e=a(e));var t=function(e,t,n){var r=e.auth,i=e.hostname,s=e.protocol||"",o=e.pathname||"",a=e.hash||"",l=e.query||"",u=!1;r=r?encodeURIComponent(r).replace(/%3A/i,":")+"@":"",e.host?u=r+e.host:i&&(u=r+(~i.indexOf(":")?"["+i+"]":i),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=t.encode(l));var c=e.search||l&&"?"+l||"";return s&&":"!==s.substr(-1)&&(s+=":"),e.slashes||(!s||n.test(s))&&!1!==u?(u="//"+(u||""),o&&"/"!==o[0]&&(o="/"+o)):u||(u=""),a&&"#"!==a[0]&&(a="#"+a),c&&"?"!==c[0]&&(c="?"+c),{protocol:s,host:u,pathname:o=o.replace(/[?#]/g,encodeURIComponent),search:c=c.replace("#","%23"),hash:a}}(e,u.a,c);return""+t.protocol+t.host+t.pathname+t.search+t.hash}function i(e,t){var n="string"==typeof e?a(e):e;e="object"==typeof e?r(e):e;var i=a(t),s="";n.protocol&&!n.slashes&&(s=n.protocol,e=e.replace(n.protocol,""),s+="/"===t[0]||"/"===e[0]?"/":""),s&&i.protocol&&(s="",i.slashes||(s=i.protocol,t=t.replace(i.protocol,"")));var o=e.match(f);o&&!i.protocol&&(e=e.substr((s=o[1]+(o[2]||"")).length),/^\/\/[^/]/.test(t)&&(s=s.slice(0,-1)));var l=new URL(e,d+"/"),u=new URL(t,l).toString().replace(d,""),c=i.protocol||n.protocol;return c+=n.slashes||i.slashes?"//":"",!s&&c?u=u.replace(h,c):s&&(u=u.replace(h,"")),g.test(u)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==u.slice(-1)||(u=u.slice(0,-1)),s&&(u=s+("/"===u[0]?u.substr(1):u)),u}function s(e,t){return a(i(e,t))}function o(){}function a(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),e&&"object"==typeof e&&e instanceof o)return e;var i=(e=e.trim()).match(y);e=i?i[1].replace(/\\/g,"/")+i[2]:e.replace(/\\/g,"/"),b.test(e)&&"/"!==e.slice(-1)&&(e+="/");var s=!/(^javascript)/.test(e)&&e.match(v),a=x.test(e),l="";s&&(m.test(s[1])||(l=s[1].toLowerCase(),e=""+s[2]+s[3]),s[2]||(a=!1,m.test(s[1])?(l=s[1],e=""+s[3]):e="//"+s[3]),3!==s[2].length&&1!==s[2].length||(l=s[1],e="/"+s[3]));var c,h=(i?i[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),f=h&&h[1],g=new o,_="",w="";try{c=new URL(e)}catch(S){_=S,l||n||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(w="/",e=e.substr(1));try{c=new URL(e,d)}catch(S){return g.protocol=l,g.href=l,g}}g.slashes=a&&!w,g.host=c.host===p?"":c.host,g.hostname=c.hostname===p?"":c.hostname.replace(/(\[|\])/g,""),g.protocol=_?l||null:c.protocol,g.search=c.search.replace(/\\/g,"%5C"),g.hash=c.hash.replace(/\\/g,"%5C");var S,T=e.split("#");!g.search&&~T[0].indexOf("?")&&(g.search="?"),g.hash||""!==T[1]||(g.hash="#"),g.query=t?u.a.decode(c.search.substr(1)):g.search.substr(1),g.pathname=w+(s?(S=c.pathname).replace(/['^|`]/g,(function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(e,t){try{return decodeURIComponent(t).split("").map((function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()})).join("")}catch(e){return t}})):c.pathname),"about:"===g.protocol&&"blank"===g.pathname&&(g.protocol="",g.pathname=""),_&&"/"!==e[0]&&(g.pathname=g.pathname.substr(1)),l&&!m.test(l)&&"/"!==e.slice(-1)&&"/"===g.pathname&&(g.pathname=""),g.path=g.pathname+g.search,g.auth=[c.username,c.password].map(decodeURIComponent).filter(Boolean).join(":"),g.port=c.port,f&&!g.host.endsWith(f)&&(g.host+=f,g.port=f.slice(1)),g.href=w?""+g.pathname+g.search+g.hash:r(g);var A=/^(file)/.test(g.href)?["host","hostname"]:[];return Object.keys(g).forEach((function(e){~A.indexOf(e)||(g[e]=g[e]||null)})),g}n.r(t),n.d(t,"parse",(function(){return a})),n.d(t,"format",(function(){return r})),n.d(t,"resolve",(function(){return i})),n.d(t,"resolveObject",(function(){return s})),n.d(t,"Url",(function(){return o}));var l=n("UKnr"),u=n.n(l),c=/https?|ftp|gopher|file/,h="http://",p="w.w",d=h+p,f=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,g=/https?|ftp|gopher|file/;o.prototype.parse=a,o.prototype.format=r,o.prototype.resolve=i,o.prototype.resolveObject=i;var m=/^https?|ftp|gopher|file/,y=/^(.*?)([#?].*)/,v=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,x=/^([a-z0-9.+-]*:)?\/\/\/*/i,b=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i},K573:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n("ed46"),a=n("W0B4"),l=n("l8WD"),u=n("WPPq"),c=n("QcTW"),h=(0,c.getAceInstance)(),p=function(e){function t(t){var n=e.call(this,t)||this;return c.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=c.debounce,n}return i(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,i=t.onValidate,s=t.mode,o=t.focus,a=t.theme,l=t.fontSize,u=t.value,p=t.defaultValue,d=t.showGutter,f=t.wrapEnabled,g=t.showPrintMargin,m=t.scrollMargin,y=void 0===m?[0,0,0,0]:m,v=t.keyboardHandler,x=t.onLoad,b=t.commands,_=t.annotations,w=t.markers,S=t.placeholder;this.editor=h.edit(this.refEditor),r&&r(h);for(var T=Object.keys(this.props.editorProps),A=0;A<T.length;A++)this.editor[T[A]]=this.props.editorProps[T[A]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(y[0],y[1],y[2],y[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode("string"==typeof s?"ace/mode/".concat(s):s),a&&""!==a&&this.editor.setTheme("ace/theme/".concat(a)),this.editor.setFontSize("number"==typeof l?"".concat(l,"px"):l),this.editor.getSession().setValue(p||(u||"")),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(d),this.editor.getSession().setUseWrapMode(f),this.editor.setShowPrintMargin(g),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),S&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),i&&this.editor.getSession().on("changeAnnotation",(function(){var t=e.editor.getSession().getAnnotations();e.props.onValidate(t)})),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(_||[]),w&&w.length>0&&this.handleMarkers(w);var E=this.editor.$options;c.editorOptions.forEach((function(t){E.hasOwnProperty(t)?e.editor.setOption(t,e.props[t]):e.props[t]&&console.warn("ReactAce: editor option ".concat(t," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))})),this.handleOptions(this.props),Array.isArray(b)&&b.forEach((function(t){"string"==typeof t.exec?e.editor.commands.bindKey(t.bindKey,t.exec):e.editor.commands.addCommand(t)})),v&&this.editor.setKeyboardHandler("ace/keyboard/"+v),n&&(this.refEditor.className+=" "+n),x&&x(this.editor),this.editor.resize(),o&&this.editor.focus()},t.prototype.componentDidUpdate=function(e){for(var t=e,n=this.props,r=0;r<c.editorOptions.length;r++){var i=c.editorOptions[r];n[i]!==t[i]&&this.editor.setOption(i,n[i])}if(n.className!==t.className){var s=this.refEditor.className.trim().split(" ");t.className.trim().split(" ").forEach((function(e){var t=s.indexOf(e);s.splice(t,1)})),this.refEditor.className=" "+n.className+" "+s.join(" ")}var o=this.editor&&null!=n.value&&this.editor.getValue()!==n.value;if(o){this.silent=!0;var a=this.editor.session.selection.toJSON();this.editor.setValue(n.value,n.cursorStart),this.editor.session.selection.fromJSON(a),this.silent=!1}n.placeholder!==t.placeholder&&this.updatePlaceholder(),n.mode!==t.mode&&this.editor.getSession().setMode("string"==typeof n.mode?"ace/mode/".concat(n.mode):n.mode),n.theme!==t.theme&&this.editor.setTheme("ace/theme/"+n.theme),n.keyboardHandler!==t.keyboardHandler&&this.editor.setKeyboardHandler(n.keyboardHandler?"ace/keyboard/"+n.keyboardHandler:null),n.fontSize!==t.fontSize&&this.editor.setFontSize("number"==typeof n.fontSize?"".concat(n.fontSize,"px"):n.fontSize),n.wrapEnabled!==t.wrapEnabled&&this.editor.getSession().setUseWrapMode(n.wrapEnabled),n.showPrintMargin!==t.showPrintMargin&&this.editor.setShowPrintMargin(n.showPrintMargin),n.showGutter!==t.showGutter&&this.editor.renderer.setShowGutter(n.showGutter),u(n.setOptions,t.setOptions)||this.handleOptions(n),!o&&u(n.annotations,t.annotations)||this.editor.getSession().setAnnotations(n.annotations||[]),!u(n.markers,t.markers)&&Array.isArray(n.markers)&&this.handleMarkers(n.markers),u(n.scrollMargin,t.scrollMargin)||this.handleScrollMargins(n.scrollMargin),e.height===this.props.height&&e.width===this.props.width||this.editor.resize(),this.props.focus&&!e.focus&&this.editor.focus()},t.prototype.handleScrollMargins=function(e){void 0===e&&(e=[0,0,0,0]),this.editor.renderer.setScrollMargin(e[0],e[1],e[2],e[3])},t.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},t.prototype.onChange=function(e){if(this.props.onChange&&!this.silent){var t=this.editor.getValue();this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=this.editor.getSelection();this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=this.editor.getSelection();this.props.onCursorChange(t,e)}},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e),this.props.placeholder&&this.updatePlaceholder()},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e,this.editor)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e,this.editor)},t.prototype.onCopy=function(e){this.props.onCopy&&this.props.onCopy(e.text)},t.prototype.onPaste=function(e){this.props.onPaste&&this.props.onPaste(e.text)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e){for(var t=Object.keys(e.setOptions),n=0;n<t.length;n++)this.editor.setOption(t[n],e.setOptions[t[n]])},t.prototype.handleMarkers=function(e){var t=this,n=this.editor.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&this.editor.getSession().removeMarker(n[r].id);for(var r in n=this.editor.getSession().getMarkers(!1))n.hasOwnProperty(r)&&"ace_active-line"!==n[r].clazz&&"ace_selected-word"!==n[r].clazz&&this.editor.getSession().removeMarker(n[r].id);e.forEach((function(e){var n=e.className,r=e.type,i=e.inFront,s=void 0!==i&&i,a=new o.Range(e.startRow,e.startCol,e.endRow,e.endCol);t.editor.getSession().addMarker(a,n,r,s)}))},t.prototype.updatePlaceholder=function(){var e=this.editor,t=this.props.placeholder,n=!e.session.getValue().length,r=e.renderer.placeholderNode;!n&&r?(e.renderer.scroller.removeChild(e.renderer.placeholderNode),e.renderer.placeholderNode=null):n&&!r?((r=e.renderer.placeholderNode=document.createElement("div")).textContent=t||"",r.className="ace_comment ace_placeholder",r.style.padding="0 9px",r.style.position="absolute",r.style.zIndex="3",e.renderer.scroller.appendChild(r)):n&&r&&(r.textContent=t)},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=s({width:e.width,height:e.height},e.style);return l.createElement("div",{ref:this.updateRef,id:t,style:n})},t.propTypes={mode:a.oneOfType([a.string,a.object]),focus:a.bool,theme:a.string,name:a.string,className:a.string,height:a.string,width:a.string,fontSize:a.oneOfType([a.number,a.string]),showGutter:a.bool,onChange:a.func,onCopy:a.func,onPaste:a.func,onFocus:a.func,onInput:a.func,onBlur:a.func,onScroll:a.func,value:a.string,defaultValue:a.string,onLoad:a.func,onSelectionChange:a.func,onCursorChange:a.func,onBeforeLoad:a.func,onValidate:a.func,minLines:a.number,maxLines:a.number,readOnly:a.bool,highlightActiveLine:a.bool,tabSize:a.number,showPrintMargin:a.bool,cursorStart:a.number,debounceChangePeriod:a.number,editorProps:a.object,setOptions:a.object,style:a.object,scrollMargin:a.array,annotations:a.array,markers:a.array,keyboardHandler:a.string,wrapEnabled:a.bool,enableSnippets:a.bool,enableBasicAutocompletion:a.oneOfType([a.bool,a.array]),enableLiveAutocompletion:a.oneOfType([a.bool,a.array]),navigateToFileEnd:a.bool,commands:a.array,placeholder:a.string},t.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},t}(l.Component);t.default=p},"KZ+V":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalCyclicReferenceError=t.InternalDifferentNumberArgumentsError=t.UnifyError=t.InternalTypeError=t.TypeError=void 0;const r=n("QyX9"),i=n("GFFv");t.TypeError=class{constructor(e,t){this.node=e,this.message=t,this.type=r.ErrorType.TYPE,this.severity=r.ErrorSeverity.WARNING,e.typability="Untypable"}get location(){return this.node.loc}explain(){return this.message}elaborate(){return this.message}};class s extends Error{constructor(e){super(),this.message=e}}t.InternalTypeError=s;t.UnifyError=class extends s{constructor(e,t){super(`Failed to unify LHS: ${i.typeToString(e)}, RHS: ${i.typeToString(t)}`),this.LHS=e,this.RHS=t}};t.InternalDifferentNumberArgumentsError=class extends s{constructor(e,t){super(`Expected ${e} args, got ${t}`),this.numExpectedArgs=e,this.numReceived=t}};t.InternalCyclicReferenceError=class extends s{constructor(e){super("contains a cyclic reference to itself"),this.name=e}}},KlUR:function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function r(e,t,n){for(var r,s=[],o=t;o<n;o+=3)s.push(i[(r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return s.join("")}t.byteLength=function(e){var t=n(e),r=t[1];return 3*(t[0]+r)/4-r},t.toByteArray=function(e){var t,r,i=n(e),a=i[0],l=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,l)),c=0,h=l>0?a-4:a;for(r=0;r<h;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===l&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===l&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,s=n%3,o=[],a=16383,l=0,u=n-s;l<u;l+=a)o.push(r(e,l,l+a>u?u:l+a));return 1===s?o.push(i[(t=e[n-1])>>2]+i[t<<4&63]+"=="):2===s&&o.push(i[(t=(e[n-2]<<8)+e[n-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),o.join("")};for(var i=[],s=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0;l<64;++l)i[l]=a[l],s[a.charCodeAt(l)]=l;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},Lq4A:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.forLoopTransform=e=>{e.init&&e.update&&e.test&&(this.ok=this.hasCounter(e.init)&&this.hasCondition(e.test)&&this.hasUpdate(e.update))},this.hasCounter=e=>{if(!e||"VariableDeclaration"!==e.type)return!1;if("let"!==e.kind)return!1;const t=e.declarations;if(t.length>1)return!1;const n=t[0];if("Identifier"!==n.id.type||!n.init)return!1;this.counter=n.id.name;const r=n.init;return!(!r||"Literal"!==r.type||0!==r.value)},this.hasCondition=e=>{if("BinaryExpression"!==e.type)return!1;if("<"!==e.operator&&"<="!==e.operator)return!1;const t=e.left;if("Identifier"!==t.type||t.name!==this.counter)return!1;const n=e.right;return("Identifier"===n.type||"Literal"===n.type)&&(this.end=n,!0)},this.hasUpdate=e=>{if("AssignmentExpression"!==e.type)return!1;if("="!==e.operator)return!1;if("Identifier"!==e.left.type||e.left.name!==this.counter)return!1;if("BinaryExpression"!==e.right.type)return!1;const t=e.right;if("+"!==t.operator)return!1;return"Identifier"===t.left.type&&t.left.name===this.counter&&("Literal"===t.right.type&&1===t.right.value)||"Identifier"===t.right.type&&t.right.name===this.counter&&("Literal"===t.left.type&&1===t.left.value)},this.node=e,this.forLoopTransform(this.node)}}},Lqhk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoUpdateAssignment=void 0;const r=n("j0Aj"),i=n("QyX9");class s{constructor(e){this.node=e,this.type=i.ErrorType.SYNTAX,this.severity=i.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"The assignment operator "+this.node.operator+" is not allowed. Use = instead."}elaborate(){const e=r.generate(this.node.left),t=r.generate(this.node.right),n=this.node.operator.slice(0,-1);if("+"===n||"-"===n||"/"===n||"*"===n){return`\n\t${e} = ${e} ${n} ${t};`}return""}}t.NoUpdateAssignment=s;t.default={name:"no-update-assignment",checkers:{AssignmentExpression:e=>"="!==e.operator?[new s(e)]:[]}}},MNOf:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,i,s){i=i||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(r=r||"&");var l=1e3;s&&"number"==typeof s.maxKeys&&(l=s.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var h,p,d,f,g=e[c].replace(a,"%20"),m=g.indexOf(i);m>=0?(h=g.substr(0,m),p=g.substr(m+1)):(h=g,p=""),d=decodeURIComponent(h),f=decodeURIComponent(p),t(o,d)?n(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},NAQH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BracesAroundForError=void 0;const r=n("j0Aj"),i=n("QyX9");class s{constructor(e){this.node=e,this.type=i.ErrorType.SYNTAX,this.severity=i.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "for" block.'}elaborate(){return`Remember to enclose your "for" block with braces:\n\n ${`\tfor (${r.generate(this.node.init)} ${r.generate(this.node.test)}; ${r.generate(this.node.update)}) {\n\t\t//code goes here\n\t}`}`}}t.BracesAroundForError=s;t.default={name:"braces-around-for",checkers:{ForStatement:e=>"BlockStatement"!==e.body.type?[new s(e)]:[]}}},NS33:function(e,t,n){"use strict";function r(){}function i(){}var s=n("E02R");i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,o){if(o!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},"NY/1":function(e,t,n){var r=n("zkTx").Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,i=0;i<n;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},NpYg:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n("QcTW"),a=(0,o.getAceInstance)(),l=n("ed46"),u=n("JleK"),c=n("W0B4"),h=n("l8WD"),p=n("WPPq"),d=n("BjK/"),f=function(e){function t(t){var n=e.call(this,t)||this;return o.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=o.debounce,n}return i(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,i=t.mode,s=t.focus,l=t.theme,c=t.fontSize,h=t.value,p=t.defaultValue,f=t.cursorStart,g=t.showGutter,m=t.wrapEnabled,y=t.showPrintMargin,v=t.scrollMargin,x=void 0===v?[0,0,0,0]:v,b=t.keyboardHandler,_=t.onLoad,w=t.commands,S=t.annotations,T=t.markers,A=t.splits;this.editor=a.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(l)),r&&r(a);var E=Object.keys(this.props.editorProps),k=new u.Split(this.editor.container,"ace/theme/".concat(l),A);this.editor.env.split=k,this.splitEditor=k.getEditor(0),this.split=k,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var C=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),k.forEach((function(t,n){for(var r=0;r<E.length;r++)t[E[r]]=e.props.editorProps[E[r]];var s=d(p,n),u=d(h,n,"");t.session.setUndoManager(new a.UndoManager),t.setTheme("ace/theme/".concat(l)),t.renderer.setScrollMargin(x[0],x[1],x[2],x[3]),t.getSession().setMode("ace/mode/".concat(i)),t.setFontSize(c),t.renderer.setShowGutter(g),t.getSession().setUseWrapMode(m),t.setShowPrintMargin(y),t.on("focus",e.onFocus),t.on("blur",e.onBlur),t.on("input",e.onInput),t.on("copy",e.onCopy),t.on("paste",e.onPaste),t.on("change",e.onChange),t.getSession().selection.on("changeSelection",e.onSelectionChange),t.getSession().selection.on("changeCursor",e.onCursorChange),t.session.on("changeScrollTop",e.onScroll),t.setValue(void 0===s?u:s,f);var v=d(S,n,[]),_=d(T,n,[]);t.getSession().setAnnotations(v),_&&_.length>0&&e.handleMarkers(_,t);for(r=0;r<o.editorOptions.length;r++){var A=o.editorOptions[r];C.hasOwnProperty(A)?t.setOption(A,e.props[A]):e.props[A]&&console.warn("ReaceAce: editor option ".concat(A," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}e.handleOptions(e.props,t),Array.isArray(w)&&w.forEach((function(e){"string"==typeof e.exec?t.commands.bindKey(e.bindKey,e.exec):t.commands.addCommand(e)})),b&&t.setKeyboardHandler("ace/keyboard/"+b)})),n&&(this.refEditor.className+=" "+n),s&&this.splitEditor.focus();var L=this.editor.env.split;L.setOrientation("below"===this.props.orientation?L.BELOW:L.BESIDE),L.resize(!0),_&&_(L)},t.prototype.componentDidUpdate=function(e){var t=this,n=e,r=this.props,i=this.editor.env.split;if(r.splits!==n.splits&&i.setSplits(r.splits),r.orientation!==n.orientation&&i.setOrientation("below"===r.orientation?i.BELOW:i.BESIDE),i.forEach((function(e,i){r.mode!==n.mode&&e.getSession().setMode("ace/mode/"+r.mode),r.keyboardHandler!==n.keyboardHandler&&e.setKeyboardHandler(r.keyboardHandler?"ace/keyboard/"+r.keyboardHandler:null),r.fontSize!==n.fontSize&&e.setFontSize(r.fontSize),r.wrapEnabled!==n.wrapEnabled&&e.getSession().setUseWrapMode(r.wrapEnabled),r.showPrintMargin!==n.showPrintMargin&&e.setShowPrintMargin(r.showPrintMargin),r.showGutter!==n.showGutter&&e.renderer.setShowGutter(r.showGutter);for(var s=0;s<o.editorOptions.length;s++){var a=o.editorOptions[s];r[a]!==n[a]&&e.setOption(a,r[a])}p(r.setOptions,n.setOptions)||t.handleOptions(r,e);var l=d(r.value,i,"");if(e.getValue()!==l){t.silent=!0;var u=e.session.selection.toJSON();e.setValue(l,r.cursorStart),e.session.selection.fromJSON(u),t.silent=!1}var c=d(r.annotations,i,[]),h=d(n.annotations,i,[]);p(c,h)||e.getSession().setAnnotations(c);var f=d(r.markers,i,[]),g=d(n.markers,i,[]);!p(f,g)&&Array.isArray(f)&&t.handleMarkers(f,e)})),r.className!==n.className){var s=this.refEditor.className.trim().split(" ");n.className.trim().split(" ").forEach((function(e){var t=s.indexOf(e);s.splice(t,1)})),this.refEditor.className=" "+r.className+" "+s.join(" ")}r.theme!==n.theme&&i.setTheme("ace/theme/"+r.theme),r.focus&&!n.focus&&this.splitEditor.focus(),r.height===this.props.height&&r.width===this.props.width||this.editor.resize()},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(e){if(this.props.onChange&&!this.silent){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getValue())})),this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onCursorChange(t,e)}},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e)},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e)},t.prototype.onCopy=function(e){this.props.onCopy&&this.props.onCopy(e)},t.prototype.onPaste=function(e){this.props.onPaste&&this.props.onPaste(e)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e,t){for(var n=Object.keys(e.setOptions),r=0;r<n.length;r++)t.setOption(n[r],e.setOptions[n[r]])},t.prototype.handleMarkers=function(e,t){var n=t.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&t.getSession().removeMarker(n[r].id);for(var r in n=t.getSession().getMarkers(!1))n.hasOwnProperty(r)&&t.getSession().removeMarker(n[r].id);e.forEach((function(e){var n=e.className,r=e.type,i=e.inFront,s=void 0!==i&&i,o=new l.Range(e.startRow,e.startCol,e.endRow,e.endCol);t.getSession().addMarker(o,n,r,s)}))},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=s({width:e.width,height:e.height},e.style);return h.createElement("div",{ref:this.updateRef,id:t,style:n})},t.propTypes={className:c.string,debounceChangePeriod:c.number,defaultValue:c.arrayOf(c.string),focus:c.bool,fontSize:c.oneOfType([c.number,c.string]),height:c.string,mode:c.string,name:c.string,onBlur:c.func,onChange:c.func,onCopy:c.func,onFocus:c.func,onInput:c.func,onLoad:c.func,onPaste:c.func,onScroll:c.func,orientation:c.string,showGutter:c.bool,splits:c.number,theme:c.string,value:c.arrayOf(c.string),width:c.string,onSelectionChange:c.func,onCursorChange:c.func,onBeforeLoad:c.func,minLines:c.number,maxLines:c.number,readOnly:c.bool,highlightActiveLine:c.bool,tabSize:c.number,showPrintMargin:c.bool,cursorStart:c.number,editorProps:c.object,setOptions:c.object,style:c.object,scrollMargin:c.array,annotations:c.array,markers:c.array,keyboardHandler:c.string,wrapEnabled:c.bool,enableBasicAutocompletion:c.oneOfType([c.bool,c.array]),enableLiveAutocompletion:c.oneOfType([c.bool,c.array]),commands:c.array},t.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},t}(h.Component);t.default=f},OLMR:function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}e.exports=r;var i=n("+t3Y"),s=Object.create(n("nrnY"));s.inherits=n("wfEq"),s.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},Otp2:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ACORN_PARSE_OPTIONS=t.sourceLanguages=t.JSSLANG_PROPERTIES=t.UNKNOWN_LOCATION=t.MAX_LIST_DISPLAY_LENGTH=t.MODULE_PARAMS_ID=t.NATIVE_STORAGE_ID=t.GLOBAL=t.TRY_AGAIN=t.CUT=void 0,t.CUT="cut",t.TRY_AGAIN="retry",t.GLOBAL="undefined"==typeof window?e:window,t.NATIVE_STORAGE_ID="nativeStorage",t.MODULE_PARAMS_ID="moduleParams",t.MAX_LIST_DISPLAY_LENGTH=100,t.UNKNOWN_LOCATION={start:{line:-1,column:-1},end:{line:-1,column:-1}},t.JSSLANG_PROPERTIES={maxExecTime:1e3,factorToIncreaseBy:10},t.sourceLanguages=[{chapter:1,variant:"default"},{chapter:1,variant:"wasm"},{chapter:1,variant:"lazy"},{chapter:2,variant:"default"},{chapter:2,variant:"lazy"},{chapter:3,variant:"default"},{chapter:3,variant:"concurrent"},{chapter:3,variant:"non-det"},{chapter:4,variant:"default"},{chapter:4,variant:"gpu"}],t.ACORN_PARSE_OPTIONS={ecmaVersion:2015}}).call(this,n("pCvA"))},"Pq/i":function(e,t,n){"use strict";n.r(t);var r=n("hosL");const{h:i,render:s,hydrate:o}=r,a=e=>e&&e.default?e.default:e,l=e=>"/"===e[e.length-1]?e:e+"/";if("serviceWorker"in navigator&&navigator.serviceWorker.register(l(n.p)+"sw-esm.js"),"function"==typeof a(n("QfWi"))){let e=document.getElementById("preact_root")||document.body.firstElementChild,t=()=>{let t=a(n("QfWi")),r={};const o=document.querySelector('[type="__PREACT_CLI_DATA__"]');o&&(r=JSON.parse(decodeURI(o.innerHTML)).preRenderData||r);const u={preRenderData:r};r.url&&l(r.url);s(i(t,{CLI_DATA:u}),document.body,e)};0,t()}},QPHl:function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1;t.Diff=function(e,t){return[e,t]},t.prototype.diff_main=function(e,n,r,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var s=i;if(null==e||null==n)throw new Error("Null input. (diff_main)");if(e==n)return e?[new t.Diff(0,e)]:[];void 0===r&&(r=!0);var o=r,a=this.diff_commonPrefix(e,n),l=e.substring(0,a);e=e.substring(a),n=n.substring(a),a=this.diff_commonSuffix(e,n);var u=e.substring(e.length-a);e=e.substring(0,e.length-a),n=n.substring(0,n.length-a);var c=this.diff_compute_(e,n,o,s);return l&&c.unshift(new t.Diff(0,l)),u&&c.push(new t.Diff(0,u)),this.diff_cleanupMerge(c),c},t.prototype.diff_compute_=function(e,r,i,s){var o;if(!e)return[new t.Diff(1,r)];if(!r)return[new t.Diff(n,e)];var a=e.length>r.length?e:r,l=e.length>r.length?r:e,u=a.indexOf(l);if(-1!=u)return o=[new t.Diff(1,a.substring(0,u)),new t.Diff(0,l),new t.Diff(1,a.substring(u+l.length))],e.length>r.length&&(o[0][0]=o[2][0]=n),o;if(1==l.length)return[new t.Diff(n,e),new t.Diff(1,r)];var c=this.diff_halfMatch_(e,r);if(c){var h=c[1],p=c[3],d=c[4],f=this.diff_main(c[0],c[2],i,s),g=this.diff_main(h,p,i,s);return f.concat([new t.Diff(0,d)],g)}return i&&e.length>100&&r.length>100?this.diff_lineMode_(e,r,s):this.diff_bisect_(e,r,s)},t.prototype.diff_lineMode_=function(e,r,i){var s=this.diff_linesToChars_(e,r),o=s.lineArray,a=this.diff_main(e=s.chars1,r=s.chars2,!1,i);this.diff_charsToLines_(a,o),this.diff_cleanupSemantic(a),a.push(new t.Diff(0,""));for(var l=0,u=0,c=0,h="",p="";l<a.length;){switch(a[l][0]){case 1:c++,p+=a[l][1];break;case n:u++,h+=a[l][1];break;case 0:if(u>=1&&c>=1){a.splice(l-u-c,u+c),l=l-u-c;for(var d=this.diff_main(h,p,!1,i),f=d.length-1;f>=0;f--)a.splice(l,0,d[f]);l+=d.length}c=0,u=0,h="",p=""}l++}return a.pop(),a},t.prototype.diff_bisect_=function(e,r,i){for(var s=e.length,o=r.length,a=Math.ceil((s+o)/2),l=a,u=2*a,c=new Array(u),h=new Array(u),p=0;p<u;p++)c[p]=-1,h[p]=-1;c[l+1]=0,h[l+1]=0;for(var d=s-o,f=d%2!=0,g=0,m=0,y=0,v=0,x=0;x<a&&!((new Date).getTime()>i);x++){for(var b=-x+g;b<=x-m;b+=2){for(var _=l+b,w=(k=b==-x||b!=x&&c[_-1]<c[_+1]?c[_+1]:c[_-1]+1)-b;k<s&&w<o&&e.charAt(k)==r.charAt(w);)k++,w++;if(c[_]=k,k>s)m+=2;else if(w>o)g+=2;else if(f){if((A=l+d-b)>=0&&A<u&&-1!=h[A])if(k>=(T=s-h[A]))return this.diff_bisectSplit_(e,r,k,w,i)}}for(var S=-x+y;S<=x-v;S+=2){for(var T,A=l+S,E=(T=S==-x||S!=x&&h[A-1]<h[A+1]?h[A+1]:h[A-1]+1)-S;T<s&&E<o&&e.charAt(s-T-1)==r.charAt(o-E-1);)T++,E++;if(h[A]=T,T>s)v+=2;else if(E>o)y+=2;else if(!f){if((_=l+d-S)>=0&&_<u&&-1!=c[_]){var k;w=l+(k=c[_])-_;if(k>=(T=s-T))return this.diff_bisectSplit_(e,r,k,w,i)}}}}return[new t.Diff(n,e),new t.Diff(1,r)]},t.prototype.diff_bisectSplit_=function(e,t,n,r,i){var s=e.substring(0,n),o=t.substring(0,r),a=e.substring(n),l=t.substring(r),u=this.diff_main(s,o,!1,i),c=this.diff_main(a,l,!1,i);return u.concat(c)},t.prototype.diff_linesToChars_=function(e,t){function n(e){for(var t="",n=0,o=-1,a=r.length;o<e.length-1;){-1==(o=e.indexOf("\n",n))&&(o=e.length-1);var l=e.substring(n,o+1);(i.hasOwnProperty?i.hasOwnProperty(l):void 0!==i[l])?t+=String.fromCharCode(i[l]):(a==s&&(l=e.substring(n),o=e.length),t+=String.fromCharCode(a),i[l]=a,r[a++]=l),n=o+1}return t}var r=[],i={};r[0]="";var s=4e4,o=n(e);return s=65535,{chars1:o,chars2:n(t),lineArray:r}},t.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],s=0;s<r.length;s++)i[s]=t[r.charCodeAt(s)];e[n][1]=i.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,s=0;n<i;)e.substring(s,i)==t.substring(s,i)?s=n=i:r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,s=0;n<i;)e.substring(e.length-i,e.length-s)==t.substring(t.length-i,t.length-s)?s=n=i:r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var s=0,o=1;;){var a=e.substring(i-o),l=t.indexOf(a);if(-1==l)return s;o+=l,0!=l&&e.substring(i-o)!=t.substring(0,o)||(s=o,o++)}},t.prototype.diff_halfMatch_=function(e,t){function n(e,t,n){for(var r,i,s,o,a=e.substring(n,n+Math.floor(e.length/4)),l=-1,u="";-1!=(l=t.indexOf(a,l+1));){var h=c.diff_commonPrefix(e.substring(n),t.substring(l)),p=c.diff_commonSuffix(e.substring(0,n),t.substring(0,l));u.length<p+h&&(u=t.substring(l-p,l)+t.substring(l,l+h),r=e.substring(0,n-p),i=e.substring(n+h),s=t.substring(0,l-p),o=t.substring(l+h))}return 2*u.length>=e.length?[r,i,s,o,u]:null}if(this.Diff_Timeout<=0)return null;var r=e.length>t.length?e:t,i=e.length>t.length?t:e;if(r.length<4||2*i.length<r.length)return null;var s,o,a,l,u,c=this,h=n(r,i,Math.ceil(r.length/4)),p=n(r,i,Math.ceil(r.length/2));return h||p?(s=p?h&&h[4].length>p[4].length?h:p:h,e.length>t.length?(o=s[0],a=s[1],l=s[2],u=s[3]):(l=s[0],u=s[1],o=s[2],a=s[3]),[o,a,l,u,s[4]]):null},t.prototype.diff_cleanupSemantic=function(e){for(var r=!1,i=[],s=0,o=null,a=0,l=0,u=0,c=0,h=0;a<e.length;)0==e[a][0]?(i[s++]=a,l=c,u=h,c=0,h=0,o=e[a][1]):(1==e[a][0]?c+=e[a][1].length:h+=e[a][1].length,o&&o.length<=Math.max(l,u)&&o.length<=Math.max(c,h)&&(e.splice(i[s-1],0,new t.Diff(n,o)),e[i[s-1]+1][0]=1,s--,a=--s>0?i[s-1]:-1,l=0,u=0,c=0,h=0,o=null,r=!0)),a++;for(r&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),a=1;a<e.length;){if(e[a-1][0]==n&&1==e[a][0]){var p=e[a-1][1],d=e[a][1],f=this.diff_commonOverlap_(p,d),g=this.diff_commonOverlap_(d,p);f>=g?(f>=p.length/2||f>=d.length/2)&&(e.splice(a,0,new t.Diff(0,d.substring(0,f))),e[a-1][1]=p.substring(0,p.length-f),e[a+1][1]=d.substring(f),a++):(g>=p.length/2||g>=d.length/2)&&(e.splice(a,0,new t.Diff(0,p.substring(0,g))),e[a-1][0]=1,e[a-1][1]=d.substring(0,d.length-g),e[a+1][0]=n,e[a+1][1]=p.substring(g),a++),a++}a++}},t.prototype.diff_cleanupSemanticLossless=function(e){function n(e,n){if(!e||!n)return 6;var r=e.charAt(e.length-1),i=n.charAt(0),s=r.match(t.nonAlphaNumericRegex_),o=i.match(t.nonAlphaNumericRegex_),a=s&&r.match(t.whitespaceRegex_),l=o&&i.match(t.whitespaceRegex_),u=a&&r.match(t.linebreakRegex_),c=l&&i.match(t.linebreakRegex_),h=u&&e.match(t.blanklineEndRegex_),p=c&&n.match(t.blanklineStartRegex_);return h||p?5:u||c?4:s&&!a&&l?3:a||l?2:s||o?1:0}for(var r=1;r<e.length-1;){if(0==e[r-1][0]&&0==e[r+1][0]){var i=e[r-1][1],s=e[r][1],o=e[r+1][1],a=this.diff_commonSuffix(i,s);if(a){var l=s.substring(s.length-a);i=i.substring(0,i.length-a),s=l+s.substring(0,s.length-a),o=l+o}for(var u=i,c=s,h=o,p=n(i,s)+n(s,o);s.charAt(0)===o.charAt(0);){i+=s.charAt(0),s=s.substring(1)+o.charAt(0),o=o.substring(1);var d=n(i,s)+n(s,o);d>=p&&(p=d,u=i,c=s,h=o)}e[r-1][1]!=u&&(u?e[r-1][1]=u:(e.splice(r-1,1),r--),e[r][1]=c,h?e[r+1][1]=h:(e.splice(r+1,1),r--))}r++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var r=!1,i=[],s=0,o=null,a=0,l=!1,u=!1,c=!1,h=!1;a<e.length;)0==e[a][0]?(e[a][1].length<this.Diff_EditCost&&(c||h)?(i[s++]=a,l=c,u=h,o=e[a][1]):(s=0,o=null),c=h=!1):(e[a][0]==n?h=!0:c=!0,o&&(l&&u&&c&&h||o.length<this.Diff_EditCost/2&&l+u+c+h==3)&&(e.splice(i[s-1],0,new t.Diff(n,o)),e[i[s-1]+1][0]=1,s--,o=null,l&&u?(c=h=!0,s=0):(a=--s>0?i[s-1]:-1,c=h=!1),r=!0)),a++;r&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push(new t.Diff(0,""));for(var r,i=0,s=0,o=0,a="",l="";i<e.length;)switch(e[i][0]){case 1:o++,l+=e[i][1],i++;break;case n:s++,a+=e[i][1],i++;break;case 0:s+o>1?(0!==s&&0!==o&&(0!==(r=this.diff_commonPrefix(l,a))&&(i-s-o>0&&0==e[i-s-o-1][0]?e[i-s-o-1][1]+=l.substring(0,r):(e.splice(0,0,new t.Diff(0,l.substring(0,r))),i++),l=l.substring(r),a=a.substring(r)),0!==(r=this.diff_commonSuffix(l,a))&&(e[i][1]=l.substring(l.length-r)+e[i][1],l=l.substring(0,l.length-r),a=a.substring(0,a.length-r))),e.splice(i-=s+o,s+o),a.length&&(e.splice(i,0,new t.Diff(n,a)),i++),l.length&&(e.splice(i,0,new t.Diff(1,l)),i++),i++):0!==i&&0==e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,o=0,s=0,a="",l=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(i=1;i<e.length-1;)0==e[i-1][0]&&0==e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),u=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),u=!0)),i++;u&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var r,i=0,s=0,o=0,a=0;for(r=0;r<e.length&&(1!==e[r][0]&&(i+=e[r][1].length),e[r][0]!==n&&(s+=e[r][1].length),!(i>t));r++)o=i,a=s;return e.length!=r&&e[r][0]===n?a:a+(t-o)},t.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,i=/</g,s=/>/g,o=/\n/g,a=0;a<e.length;a++){var l=e[a][0],u=e[a][1].replace(r,"&amp;").replace(i,"&lt;").replace(s,"&gt;").replace(o,"&para;<br>");switch(l){case 1:t[a]='<ins style="background:#e6ffe6;">'+u+"</ins>";break;case n:t[a]='<del style="background:#ffe6e6;">'+u+"</del>";break;case 0:t[a]="<span>"+u+"</span>"}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==n&&(t[r]=e[r][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,r=0,i=0,s=0;s<e.length;s++){var o=e[s][1];switch(e[s][0]){case 1:r+=o.length;break;case n:i+=o.length;break;case 0:t+=Math.max(r,i),r=0,i=0}}return t+=Math.max(r,i)},t.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case 1:t[r]="+"+encodeURI(e[r][1]);break;case n:t[r]="-"+e[r][1].length;break;case 0:t[r]="="+e[r][1].length}return t.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,r){for(var i=[],s=0,o=0,a=r.split(/\t/g),l=0;l<a.length;l++){var u=a[l].substring(1);switch(a[l].charAt(0)){case"+":try{i[s++]=new t.Diff(1,decodeURI(u))}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+u)}break;case"-":case"=":var c=parseInt(u,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+u);var h=e.substring(o,o+=c);"="==a[l].charAt(0)?i[s++]=new t.Diff(0,h):i[s++]=new t.Diff(n,h);break;default:if(a[l])throw new Error("Invalid diff operation in diff_fromDelta: "+a[l])}}if(o!=e.length)throw new Error("Delta length ("+o+") does not equal source text length ("+e.length+").");return i},t.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},t.prototype.match_bitap_=function(e,t,n){function r(e,r){var i=e/t.length,o=Math.abs(n-r);return s.Match_Distance?i+o/s.Match_Distance:o?1:i}if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(t),s=this,o=this.Match_Threshold,a=e.indexOf(t,n);-1!=a&&(o=Math.min(r(0,a),o),-1!=(a=e.lastIndexOf(t,n+t.length))&&(o=Math.min(r(0,a),o)));var l,u,c=1<<t.length-1;a=-1;for(var h,p=t.length+e.length,d=0;d<t.length;d++){for(l=0,u=p;l<u;)r(d,n+u)<=o?l=u:p=u,u=Math.floor((p-l)/2+l);p=u;var f=Math.max(1,n-u+1),g=Math.min(n+u,e.length)+t.length,m=Array(g+2);m[g+1]=(1<<d)-1;for(var y=g;y>=f;y--){var v=i[e.charAt(y-1)];if(m[y]=0===d?(m[y+1]<<1|1)&v:(m[y+1]<<1|1)&v|(h[y+1]|h[y])<<1|1|h[y+1],m[y]&c){var x=r(d,y-1);if(x<=o){if(o=x,!((a=y-1)>n))break;f=Math.max(1,2*n-a)}}}if(r(d+1,n)>o)break;h=m}return a},t.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},t.prototype.patch_addContext_=function(e,n){if(0!=n.length){if(null===e.start2)throw Error("patch not initialized");for(var r=n.substring(e.start2,e.start2+e.length1),i=0;n.indexOf(r)!=n.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r=n.substring(e.start2-(i+=this.Patch_Margin),e.start2+e.length1+i);var s=n.substring(e.start2-(i+=this.Patch_Margin),e.start2);s&&e.diffs.unshift(new t.Diff(0,s));var o=n.substring(e.start2+e.length1,e.start2+e.length1+i);o&&e.diffs.push(new t.Diff(0,o)),e.start1-=s.length,e.start2-=s.length,e.length1+=s.length+o.length,e.length2+=s.length+o.length}},t.prototype.patch_make=function(e,r,i){var s,o;if("string"==typeof e&&"string"==typeof r&&void 0===i)(o=this.diff_main(s=e,r,!0)).length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(e&&"object"==typeof e&&void 0===r&&void 0===i)s=this.diff_text1(o=e);else if("string"==typeof e&&r&&"object"==typeof r&&void 0===i)s=e,o=r;else{if("string"!=typeof e||"string"!=typeof r||!i||"object"!=typeof i)throw new Error("Unknown call format to patch_make.");s=e,o=i}if(0===o.length)return[];for(var a=[],l=new t.patch_obj,u=0,c=0,h=0,p=s,d=s,f=0;f<o.length;f++){var g=o[f][0],m=o[f][1];switch(u||0===g||(l.start1=c,l.start2=h),g){case 1:l.diffs[u++]=o[f],l.length2+=m.length,d=d.substring(0,h)+m+d.substring(h);break;case n:l.length1+=m.length,l.diffs[u++]=o[f],d=d.substring(0,h)+d.substring(h+m.length);break;case 0:m.length<=2*this.Patch_Margin&&u&&o.length!=f+1?(l.diffs[u++]=o[f],l.length1+=m.length,l.length2+=m.length):m.length>=2*this.Patch_Margin&&u&&(this.patch_addContext_(l,p),a.push(l),l=new t.patch_obj,u=0,p=d,c=h)}1!==g&&(c+=m.length),g!==n&&(h+=m.length)}return u&&(this.patch_addContext_(l,p),a.push(l)),a},t.prototype.patch_deepCopy=function(e){for(var n=[],r=0;r<e.length;r++){var i=e[r],s=new t.patch_obj;s.diffs=[];for(var o=0;o<i.diffs.length;o++)s.diffs[o]=new t.Diff(i.diffs[o][0],i.diffs[o][1]);s.start1=i.start1,s.start2=i.start2,s.length1=i.length1,s.length2=i.length2,n[r]=s}return n},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var i=0,s=[],o=0;o<e.length;o++){var a,l,u=e[o].start2+i,c=this.diff_text1(e[o].diffs),h=-1;if(c.length>this.Match_MaxBits?-1!=(a=this.match_main(t,c.substring(0,this.Match_MaxBits),u))&&(-1==(h=this.match_main(t,c.substring(c.length-this.Match_MaxBits),u+c.length-this.Match_MaxBits))||a>=h)&&(a=-1):a=this.match_main(t,c,u),-1==a)s[o]=!1,i-=e[o].length2-e[o].length1;else if(s[o]=!0,i=a-u,c==(l=t.substring(a,-1==h?a+c.length:h+this.Match_MaxBits)))t=t.substring(0,a)+this.diff_text2(e[o].diffs)+t.substring(a+c.length);else{var p=this.diff_main(c,l,!1);if(c.length>this.Match_MaxBits&&this.diff_levenshtein(p)/c.length>this.Patch_DeleteThreshold)s[o]=!1;else{this.diff_cleanupSemanticLossless(p);for(var d,f=0,g=0;g<e[o].diffs.length;g++){var m=e[o].diffs[g];0!==m[0]&&(d=this.diff_xIndex(p,f)),1===m[0]?t=t.substring(0,a+d)+m[1]+t.substring(a+d):m[0]===n&&(t=t.substring(0,a+d)+t.substring(a+this.diff_xIndex(p,f+m[1].length))),m[0]!==n&&(f+=m[1].length)}}}}return[t=t.substring(r.length,t.length-r.length),s]},t.prototype.patch_addPadding=function(e){for(var n=this.Patch_Margin,r="",i=1;i<=n;i++)r+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=n,e[i].start2+=n;var s=e[0],o=s.diffs;if(0==o.length||0!=o[0][0])o.unshift(new t.Diff(0,r)),s.start1-=n,s.start2-=n,s.length1+=n,s.length2+=n;else if(n>o[0][1].length){var a=n-o[0][1].length;o[0][1]=r.substring(o[0][1].length)+o[0][1],s.start1-=a,s.start2-=a,s.length1+=a,s.length2+=a}if(0==(o=(s=e[e.length-1]).diffs).length||0!=o[o.length-1][0])o.push(new t.Diff(0,r)),s.length1+=n,s.length2+=n;else if(n>o[o.length-1][1].length){o[o.length-1][1]+=r.substring(0,a=n-o[o.length-1][1].length),s.length1+=a,s.length2+=a}return r},t.prototype.patch_splitMax=function(e){for(var r=this.Match_MaxBits,i=0;i<e.length;i++)if(!(e[i].length1<=r)){var s=e[i];e.splice(i--,1);for(var o=s.start1,a=s.start2,l="";0!==s.diffs.length;){var u=new t.patch_obj,c=!0;for(u.start1=o-l.length,u.start2=a-l.length,""!==l&&(u.length1=u.length2=l.length,u.diffs.push(new t.Diff(0,l)));0!==s.diffs.length&&u.length1<r-this.Patch_Margin;){var h=s.diffs[0][0],p=s.diffs[0][1];1===h?(u.length2+=p.length,a+=p.length,u.diffs.push(s.diffs.shift()),c=!1):h===n&&1==u.diffs.length&&0==u.diffs[0][0]&&p.length>2*r?(u.length1+=p.length,o+=p.length,c=!1,u.diffs.push(new t.Diff(h,p)),s.diffs.shift()):(p=p.substring(0,r-u.length1-this.Patch_Margin),u.length1+=p.length,o+=p.length,0===h?(u.length2+=p.length,a+=p.length):c=!1,u.diffs.push(new t.Diff(h,p)),p==s.diffs[0][1]?s.diffs.shift():s.diffs[0][1]=s.diffs[0][1].substring(p.length))}l=(l=this.diff_text2(u.diffs)).substring(l.length-this.Patch_Margin);var d=this.diff_text1(s.diffs).substring(0,this.Patch_Margin);""!==d&&(u.length1+=d.length,u.length2+=d.length,0!==u.diffs.length&&0===u.diffs[u.diffs.length-1][0]?u.diffs[u.diffs.length-1][1]+=d:u.diffs.push(new t.Diff(0,d))),c||e.splice(++i,0,u)}}},t.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},t.prototype.patch_fromText=function(e){var r=[];if(!e)return r;for(var i=e.split("\n"),s=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;s<i.length;){var a=i[s].match(o);if(!a)throw new Error("Invalid patch string: "+i[s]);var l=new t.patch_obj;for(r.push(l),l.start1=parseInt(a[1],10),""===a[2]?(l.start1--,l.length1=1):"0"==a[2]?l.length1=0:(l.start1--,l.length1=parseInt(a[2],10)),l.start2=parseInt(a[3],10),""===a[4]?(l.start2--,l.length2=1):"0"==a[4]?l.length2=0:(l.start2--,l.length2=parseInt(a[4],10)),s++;s<i.length;){var u=i[s].charAt(0);try{var c=decodeURI(i[s].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+c)}if("-"==u)l.diffs.push(new t.Diff(n,c));else if("+"==u)l.diffs.push(new t.Diff(1,c));else if(" "==u)l.diffs.push(new t.Diff(0,c));else{if("@"==u)break;if(""!==u)throw new Error('Invalid patch mode "'+u+'" in: '+c)}s++}}return r},(t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case 1:e="+";break;case n:e="-";break;case 0:e=" "}t[r+1]=e+encodeURI(this.diffs[r][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},QRet:function(e,t,n){"use strict";function r(e,t){$.__h&&$.__h(S,e,k||t),k=0;var n=S.__H||(S.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:L}),n.__[e]}function i(e){return k=1,s(_,e)}function s(e,t,n){var i=r(w++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):_(void 0,t),function(e){var t=i.__N?i.__N[0]:i.__[0],n=i.t(t,e);t!==n&&(i.__N=[n,i.__[1]],i.__c.setState({}))}],i.__c=S,!S.u)){var s=function(e,t,n){if(!i.__c.__H)return!0;var r=i.__c.__H.__.filter((function(e){return!!e.__c}));if(r.every((function(e){return!e.__N})))return!o||o.call(this,e,t,n);var s=!1;return r.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(s=!0)}})),!(!s&&i.__c.props===e)&&(!o||o.call(this,e,t,n))};S.u=!0;var o=S.shouldComponentUpdate,a=S.componentWillUpdate;S.componentWillUpdate=function(e,t,n){if(this.__e){var r=o;o=void 0,s(e,t,n),o=r}a&&a.call(this,e,t,n)},S.shouldComponentUpdate=s}return i.__N||i.__}function o(e,t){var n=r(w++,3);!$.__s&&b(n.__H,t)&&(n.__=e,n.i=t,S.__H.__h.push(n))}function a(e,t){var n=r(w++,4);!$.__s&&b(n.__H,t)&&(n.__=e,n.i=t,S.__h.push(n))}function l(e){return k=5,c((function(){return{current:e}}),[])}function u(e,t,n){k=6,a((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function c(e,t){var n=r(w++,7);return b(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function h(e,t){return k=8,c((function(){return e}),t)}function p(e){var t=S.context[e.__c],n=r(w++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(S)),t.props.value):e.__}function d(e,t){$.useDebugValue&&$.useDebugValue(t?t(e):e)}function f(e){var t=r(w++,10),n=i();return t.__=e,S.componentDidCatch||(S.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]}function g(){var e=r(w++,11);if(!e.__){for(var t=S.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function m(){for(var e;e=C.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(v),e.__H.__h.forEach(x),e.__H.__h=[]}catch(t){e.__H.__h=[],$.__e(t,e.__v)}}function y(e){var t,n=function(){clearTimeout(r),F&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);F&&(t=requestAnimationFrame(n))}function v(e){var t=S,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),S=t}function x(e){var t=S;e.__c=e.__(),S=t}function b(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function _(e,t){return"function"==typeof t?t(e):t}n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"l",(function(){return i}));var w,S,T,A,E=n("hosL"),k=0,C=[],L=[],$=E.options,R=$.__b,I=$.__r,M=$.diffed,N=$.__c,O=$.unmount,D=$.__;$.__b=function(e){S=null,R&&R(e)},$.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),D&&D(e,t)},$.__r=function(e){I&&I(e),w=0;var t=(S=e.__c).__H;t&&(T===S?(t.__h=[],S.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=L,e.__N=e.i=void 0}))):(t.__h.forEach(v),t.__h.forEach(x),t.__h=[],w=0)),T=S},$.diffed=function(e){M&&M(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==C.push(t)&&A===$.requestAnimationFrame||((A=$.requestAnimationFrame)||y)(m)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==L&&(e.__=e.__V),e.i=void 0,e.__V=L}))),T=S=null},$.__c=function(e,t){t.some((function(e){try{e.__h.forEach(v),e.__h=e.__h.filter((function(e){return!e.__||x(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],$.__e(n,e.__v)}})),N&&N(e,t)},$.unmount=function(e){O&&O(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{v(e)}catch(e){t=e}})),n.__H=void 0,t&&$.__e(t,n.__v))};var F="function"==typeof requestAnimationFrame},QcTW:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getAceInstance=t.debounce=t.editorEvents=t.editorOptions=void 0;t.editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];t.editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];t.getAceInstance=function(){var t;return"undefined"==typeof window?(e.window={},t=n("ed46"),delete e.window):window.ace?(t=window.ace).acequire=window.ace.require||window.ace.acequire:t=n("ed46"),t};t.debounce=function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(r,i)}),t)}}}).call(this,n("pCvA"))},QfWi:function(e,t,n){"use strict";n.r(t),function(e){function r(e){let t=document.createTextNode(e);if(T.appendChild(t),E){const e=T.parentElement;e.scrollTop=e.scrollHeight}}function i(e){let t=document.createTextNode(e);if(A.appendChild(t),E){const e=A.parentElement;e.scrollTop=e.scrollHeight}}function s(){T.textContent="",A.textContent=""}function o(){const e=prompt("Enter new heap size, in bytes");if(!e)return;const t=parseInt(e);t<0||isNaN(t)||!isFinite(t)?i("Invalid heap size!\n"):(C.alloc_heap(t),r(`Resized heap to ${t} bytes.\n`))}function a(e){return`${e.severity?`[${e.severity}] `:""}${e.location?`(${e.location.start.line}:${e.location.start.column}) `:""}${e.explain?e.explain():e.message}\n`}function l(){L&&s();const e=k.match(/\/\*\*!sivmfn([\s\S]*?)\*\//),t=e?e[1].trim().split(/[,\n]/g).map((e=>e.trim())).filter((e=>e.length>0)):void 0;t&&i(`Using internal functions:\n${t.map(((e,t)=>`${t}: ${e}`)).join("\n")}\n`);const n=g()(3,"default"),r=Object(m.parse)(k,n);let o,l=0,u=0;for(const e of n.errors)switch(i(a(e)),e.severity){case"Warning":++l;break;case"Error":++u}if((l>0||u>0)&&i(`${l} warning(s) and ${u} error(s) produced.\n`),void 0===r)return null;try{o=Object(y.compileToIns)(r,void 0,t)}catch(e){return i(a(e)),null}return o}function u(){const e=l();if(null===e)return;let t;try{t=Object(v.assemble)(e)}catch(e){return void i(a(e))}const n=C.alloc(t.byteLength);n?(C.module.HEAPU8.set(t,n),C.run(n,t.byteLength)):i("Failed to allocate WebAssembly memory.\n")}function c(){r(`${Object(x.stringifyProgram)(l())}\n`)}function h(){let e;try{e=Object(v.assemble)(l())}catch(e){return void i(a(e))}const t=new Blob([e],{type:"application/octet-stream"});Object(S.saveAs)(t,"program.svm")}function p(){const[t,n]=Object(d.l)(!1),[r,i]=Object(d.l)(E),[a,l]=Object(d.l)(L);Object(d.d)((()=>{$.then((()=>{n(!0)}),(()=>{k="// NOTE: Error loading Sinter WASM module. Check browser console for errors.",n(!0)}))}),[]);const p=Object(d.a)((e=>{e&&e.appendChild(T)}),[]),f=Object(d.a)((e=>{e&&e.appendChild(A)}),[]);return e("div",{id:"app"},e("div",{id:"editor"},e(w.a,{mode:"javascript",theme:"monokai",onChange:e=>{k=e},height:"100%",width:"100%",fontSize:16,value:k,commands:[{name:"run",bindKey:{win:"Shift-Enter",mac:"Shift-Enter"},exec:u}]})),e("div",{id:"control"},t?e("div",{id:"buttons"},e("button",{onClick:u},"Run"),e("button",{onClick:c},"Assembly"),e("button",{onClick:h},"Save SVM"),e("button",{onClick:s},"Clear output"),e("button",{onClick:o},"Resize heap"),e("button",{onClick:function(){const e=!a;l(e),L=e}},a?"☑":"☐"," Autoclear"),e("button",{onClick:function(){const e=!r;i(e),E=e}},r?"☑":"☐"," Autoscroll")):e("h2",null,"Loading..."),e("div",{class:"output-section"},e("h2",null,"Standard output"),e("div",{class:"output-container",ref:p})),e("div",{class:"output-section"},e("h2",null,"Standard error"),e("div",{class:"output-container",ref:f}))))}n.d(t,"default",(function(){return p}));n("pyAK");var d=n("QRet"),f=n("D9C7"),g=n.n(f),m=n("f9Fa"),y=n("7w3z"),v=n("3SHh"),x=n("pFN/"),b=n("TVo1"),_=n("lWdj"),w=n.n(_),S=n("RKBc");n("aA6t"),n("D0XY");let T=document.createElement("pre");T.id="stdout";let A=document.createElement("pre");A.id="stderr";let E=!0,k='// Shift+Enter to run, just like in Source Academy\n\ndisplay("Hello world!");',C=null,L=!0;const $=Object(b.a)({print:e=>r(`${e}\n`),printErr:e=>i(`${e}\n`)});$.then((e=>{e.alloc_heap(65536),C=e}),(()=>{}))}.call(this,n("hosL").h)},QyX9:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorSeverity=t.ErrorType=void 0,function(e){e.SYNTAX="Syntax",e.TYPE="Type",e.RUNTIME="Runtime"}(t.ErrorType||(t.ErrorType={})),function(e){e.WARNING="Warning",e.ERROR="Error"}(t.ErrorSeverity||(t.ErrorSeverity={}))},R8iU:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var o=s>=0?arguments[s]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,i="/"===o.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var s=t.isAbsolute(e),o="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!s).join("/"))||s||(e="."),e&&o&&(e+="/"),(s?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),s=r(n.split("/")),o=Math.min(i.length,s.length),a=o,l=0;l<o;l++)if(i[l]!==s[l]){a=l;break}var u=[];for(l=a;l<i.length;l++)u.push("..");return(u=u.concat(s.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!i){r=s;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,s=0,o=e.length-1;o>=0;--o){var a=e.charCodeAt(o);if(47!==a)-1===r&&(i=!1,r=o+1),46===a?-1===t?t=o:1!==s&&(s=1):-1!==t&&(s=-1);else if(!i){n=o+1;break}}return-1===t||-1===r||0===s||1===s&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("5IsQ"))},RKBc:function(e,t,n){(function(n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,t,n){var a=o.URL||o.webkitURL,l=document.createElement("a");l.download=t=t||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?s(l):i(l.href)?r(e,t,n):s(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,o){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),n);else if(i(e))r(e,n,o);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){s(a)}))}}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var s="application/octet-stream"===e.type,l=/constructor/i.test(o.HTMLElement)||o.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&l||a)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var h=o.URL||o.webkitURL,p=h.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout((function(){h.revokeObjectURL(p)}),4e4)}});o.saveAs=l.saveAs=l,e.exports=l})?r.apply(t,[]):r)||(e.exports=i)}).call(this,n("pCvA"))},RZxB:function(e,t,n){"use strict";function r(e){const t=e.left,n=m.simplify(v.generate(e.right));return[t.name,n]}function i(e){let t,n=m.simplify(v.generate(e.test));switch(e.type){case"IfStatement":n=`if (${n}) { ... } else { ... }`,t="if statement";break;case"ConditionalExpression":n=`${n} ? ... : ...`,t="conditional expression";break;case"WhileStatement":n=`while (${n}) { ... }`,t="while statement";break;case"ForStatement":n=`for (...; ${n}; ...) { ... }`,t="for statement"}return{exprString:n,kind:t}}let s,o,a,l,u,c,h,p,d,f=e=>e;Object.defineProperty(t,"__esModule",{value:!0}),t.CallingNonFunctionType=t.ConsequentAlternateMismatchError=t.UndefinedIdentifierError=t.InvalidTestConditionError=t.InvalidArgumentTypesError=t.DifferentNumberArgumentsError=t.CyclicReferenceError=t.DifferentAssignmentError=t.ReassignConstError=t.ArrayAssignmentError=t.InvalidArrayIndexType=void 0;const g=n("QyX9"),m=n("zZ3m"),y=n("GFFv"),v=n("j0Aj");t.InvalidArrayIndexType=class{constructor(e,t){this.node=e,this.receivedType=t,this.type=g.ErrorType.TYPE,this.severity=g.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Expected array index as number, got ${y.typeToString(this.receivedType)} instead`}elaborate(){return this.explain()}};t.ArrayAssignmentError=class{constructor(e,t,n){this.node=e,this.arrayType=t,this.receivedType=n,this.type=g.ErrorType.TYPE,this.severity=g.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return m.stripIndent(s||(s=f`Expected array type: ${0}
    but got: ${0}`),y.typeToString(this.arrayType),y.typeToString(this.receivedType))}elaborate(){return this.explain()}};t.ReassignConstError=class{constructor(e){this.node=e,this.type=g.ErrorType.TYPE,this.severity=g.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[e]=r(this.node);return`Reassignment of constant ${e}`}elaborate(){return this.explain()}};t.DifferentAssignmentError=class{constructor(e,t,n){this.node=e,this.expectedType=t,this.receivedType=n,this.type=g.ErrorType.TYPE,this.severity=g.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const[e,t]=r(this.node);return m.stripIndent(o||(o=f`
    Expected assignment of ${0}:
      ${0}
    to get a value of type:
      ${0}
    but got a value of type:
      ${0}
    `),e,t,y.typeToString(this.expectedType),y.typeToString(this.receivedType))}elaborate(){return this.explain()}};t.CyclicReferenceError=class{constructor(e){this.node=e,this.type=g.ErrorType.TYPE,this.severity=g.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`${e=this.node,["VariableDeclaration","FunctionDeclaration"].includes(e.type)?"VariableDeclaration"===e.type?e.declarations[0].id.name:null===(t=e.id)||void 0===t?void 0:t.name:"Identifier"===e.type?e.name:JSON.stringify(e)} contains cyclic reference to itself`;var e,t}elaborate(){return this.explain()}};t.DifferentNumberArgumentsError=class{constructor(e,t,n){this.node=e,this.numExpectedArgs=t,this.numReceived=n,this.type=g.ErrorType.TYPE,this.severity=g.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return`Function expected ${this.numExpectedArgs} args, but got ${this.numReceived}`}elaborate(){return this.explain()}};t.InvalidArgumentTypesError=class{constructor(e,t,n,r){this.node=e,this.args=t,this.expectedTypes=n,this.receivedTypes=r,this.type=g.ErrorType.TYPE,this.severity=g.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){function e(e){return 1===e.length?`an argument of type:\n      ${y.typeToString(e[0])}`:`${e.length} arguments of types:\n      ${e.map(y.typeToString).join(", ")}`}const t=this.args.map((e=>m.simplify(v.generate(e))));if("operator"in this.node){const e=this.node.operator;return 2===this.expectedTypes.length?m.stripIndent(a||(a=f`
        A type mismatch was detected in the binary expression:
          ${0} ${0} ${0}
        The binary operator (${0}) expected two operands with types:
          ${0} ${0} ${0}
        but instead it received two operands of types:
          ${0} ${0} ${0}
        `),t[0],e,t[1],e,y.typeToString(this.expectedTypes[0]),e,y.typeToString(this.expectedTypes[1]),y.typeToString(this.receivedTypes[0]),e,y.typeToString(this.receivedTypes[1])):m.stripIndent(l||(l=f`
        A type mismatch was detected in the unary expression:
          ${0} ${0}
        The unary operator (${0}) expected its operand to be of type:
          ${0}
        but instead it received an operand of type:
          ${0}
        `),e,t[0],e,y.typeToString(this.expectedTypes[0]),y.typeToString(this.receivedTypes[0]))}const n=m.simplify(v.generate(this.node));return m.stripIndent(u||(u=f`
    A type mismatch was detected in the function call:
      ${0}
    The function expected ${0}
    but instead received ${0}
    `),n,e(this.expectedTypes),e(this.receivedTypes))}elaborate(){return this.explain()}};t.InvalidTestConditionError=class{constructor(e,t){this.node=e,this.receivedType=t,this.type=g.ErrorType.TYPE,this.severity=g.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:e,kind:t}=i(this.node);return m.stripIndent(c||(c=f`
    Expected the test part of the ${0}:
      ${0}
    to have type boolean, but instead it is type:
      ${0}
    `),t,e,y.typeToString(this.receivedType))}elaborate(){return this.explain()}};t.UndefinedIdentifierError=class{constructor(e,t){this.node=e,this.name=t,this.type=g.ErrorType.TYPE,this.severity=g.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return m.stripIndent(h||(h=f`
    Undeclared name '${0}' detected
    `),this.name)}elaborate(){return this.explain()}};t.ConsequentAlternateMismatchError=class{constructor(e,t,n){this.node=e,this.consequentType=t,this.alternateType=n,this.type=g.ErrorType.TYPE,this.severity=g.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){const{exprString:e,kind:t}=i(this.node);return m.stripIndent(p||(p=f`
    The two branches of the ${0}:
      ${0}
    produce different types!
    The true branch has type:
      ${0}
    but the false branch has type:
      ${0}
    `),t,e,y.typeToString(this.consequentType),y.typeToString(this.alternateType))}elaborate(){return this.explain()}};t.CallingNonFunctionType=class{constructor(e,t){this.node=e,this.callerType=t,this.type=g.ErrorType.TYPE,this.severity=g.ErrorSeverity.WARNING}get location(){return this.node.loc}explain(){return m.stripIndent(d||(d=f`
    In
      ${0}
    expected
      ${0}
    to be a function type, but instead it is type:
      ${0}
    `),m.simplify(v.generate(this.node)),m.simplify(v.generate(this.node.callee)),y.typeToString(this.callerType))}elaborate(){return this.explain()}}},RoC8:function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"SG+n":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIdentifier=t.checkMemberAccess=t.checkIfStatement=t.checkBinaryExpression=t.checkUnaryExpression=t.TypeError=void 0;const r=n("5AhW"),i=n("QyX9"),s=" on left hand side of operation",o=" on right hand side of operation";class a extends r.RuntimeSourceError{constructor(e,t,n,r,s=4){super(e),this.side=t,this.expected=n,this.got=r,this.chapter=s,this.type=i.ErrorType.RUNTIME,this.severity=i.ErrorSeverity.ERROR}explain(){return`Expected ${this.expected}${this.side}, got ${"array"===this.got?this.chapter<=2?"pair":"compound data":this.got}.`}elaborate(){return this.explain()}}t.TypeError=a;const l=e=>null===e?"null":Array.isArray(e)?"array":typeof e,u=e=>"number"===l(e),c=e=>"string"===l(e),h=e=>"boolean"===l(e);t.checkUnaryExpression=(e,t,n,r=4)=>"+"!==t&&"-"!==t||u(n)?"!"!==t||h(n)?void 0:new a(e,"","boolean",l(n),r):new a(e,"","number",l(n),r);t.checkBinaryExpression=(e,t,n,r,i)=>{switch(t){case"-":case"*":case"/":case"%":return u(r)?u(i)?void 0:new a(e,o,"number",l(i),n):new a(e,s,"number",l(r),n);case"+":case"<":case"<=":case">":case">=":case"!==":case"===":if(n>2&&("==="===t||"!=="===t))return;return u(r)?u(i)?void 0:new a(e,o,"number",l(i),n):c(r)?c(i)?void 0:new a(e,o,"string",l(i),n):new a(e,s,"string or number",l(r),n);default:return}};t.checkIfStatement=(e,t,n=4)=>h(t)?void 0:new a(e," as condition","boolean",l(t),n);t.checkMemberAccess=(e,t,n)=>"object"===l(t)?c(n)?void 0:new a(e," as prop","string",l(n)):(e=>"array"===l(e))(t)?(e=>u(e)&&e>>>0===e&&e<2**32-1)(n)?void 0:u(n)?new a(e," as prop","array index","other number"):new a(e," as prop","array index",l(n)):new a(e,"","object or array",l(t));t.isIdentifier=e=>void 0!==e.name},THQi:function(e){"use strict";function t(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,s,o,a){return s=s||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e?t(i(e),(function(i){var a=encodeURIComponent(n(i))+o;return r(e[i])?t(e[i],(function(e){return a+encodeURIComponent(n(e))})).join(s):a+encodeURIComponent(n(e[i]))})).join(s):a?encodeURIComponent(n(a))+o+encodeURIComponent(n(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},"TK+R":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("j0Aj"),i=n("my7b"),s=n("+dHa"),o=(e,t,n)=>{function o(){const r=Array.prototype.slice.call(arguments),o=s.apply(t,e,r,i.callExpression(i.identifier(n),r),this);let a=o.next();for(;!a.done;)a=o.next();return a.value}return Object.defineProperty(o,"name",{value:n}),Object.setPrototypeOf(o,(()=>{})),Object.defineProperty(o,"Inherits",{value:e=>{(o.prototype=Object.create(e.prototype)).constructor=o}}),o.toString=()=>r.generate(e.originalNode),o.call=(e,...t)=>o.apply(e,t),o};class a extends Function{constructor(e){return super(),Object.setPrototypeOf(e,new.target.prototype)}}class l extends a{constructor(e,t,n){super((function(...e){return r.apply(this,e)})),this.node=e,this.environment=t,this.originalNode=e,this.functionName="FunctionDeclaration"===this.node.type&&null!==this.node.id?this.node.id.name:(1===this.node.params.length?"":"(")+this.node.params.map((e=>e.name)).join(", ")+(1===this.node.params.length?"":")")+" => ...";const r=o(this,n,this.functionName);this.fun=r}static makeFromArrowFunction(e,t,n){const r="BlockStatement"!==e.body.type?[i.returnStatement(e.body,e.body.loc)]:e.body;const s=new l(i.blockArrowFunction(e.params,r,e.loc),t,n);return s.originalNode=e,s}toString(){return r.generate(this.originalNode)}}t.default=l},TVo1:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("CJDg"),o=n.n(s),a=n.p+"15b650e093283ad6d6d651a371e4f31d.wasm";t.a=async e=>{const t=await o()(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({locateFile:e=>e.endsWith(".wasm")?a:e},e));if(!t.cwrap)throw console.error("module has no cwrap",t),new Error("module has no cwrap");const n=t.cwrap("siwasm_alloc_heap",null,["number"]),s=t.cwrap("siwasm_alloc","number",["number"]),l=t.cwrap("siwasm_free",null,["number"]),u=t.cwrap("siwasm_run",null,["number","number"]);return{module:t,alloc_heap:n,alloc:s,free:l,run:u}}},UKnr:function(e,t,n){"use strict";t.decode=t.parse=n("MNOf"),t.encode=t.stringify=n("THQi")},W0B4:function(e,t,n){e.exports=n("NS33")()},WPPq:function(e,t,n){(function(e,n){function r(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function i(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function s(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function u(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new l;++t<n;)this.add(e[t])}function c(e){var t=this.__data__=new a(e);this.size=t.size}function h(e,t){var n=Ye(e),r=!n&&Xe(e),i=!n&&!r&&Qe(e),s=!n&&!r&&!i&&Ze(e),o=n||r||i||s,a=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=a.length;for(var u in e)!t&&!_e.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||w(u,l))||a.push(u);return a}function p(e,t){for(var n=e.length;n--;)if(T(e[n][0],t))return n;return-1}function d(e){return null==e?void 0===e?Z:W:$e&&$e in Object(e)?function(e){var t=_e.call(e,$e),n=e[$e];try{e[$e]=void 0;var r=!0}catch(e){}var i=Se.call(e);r&&(t?e[$e]=n:delete e[$e]);return i}(e):function(e){return Se.call(e)}(e)}function f(e){return C(e)&&d(e)==N}function g(e,t,n,r,o){return e===t||(null==e||null==t||!C(e)&&!C(t)?e!=e&&t!=t:function(e,t,n,r,o,a){var l=Ye(e),u=Ye(t),h=l?O:qe(e),p=u?O:qe(t),d=(h=h==N?H:h)==H,f=(p=p==N?H:p)==H,g=h==p;if(g&&Qe(e)){if(!Qe(t))return!1;l=!0,d=!1}if(g&&!d)return a||(a=new c),l||Ze(e)?v(e,t,n,r,o,a):function(e,t,n,r,o,a,l){switch(n){case te:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ee:return!(e.byteLength!=t.byteLength||!a(new ke(e),new ke(t)));case F:case P:case G:return T(+e,+t);case V:return e.name==t.name&&e.message==t.message;case q:case Y:return e==t+"";case U:var u=i;case X:if(u||(u=s),e.size!=t.size&&!(r&R))return!1;var c=l.get(e);if(c)return c==t;r|=I,l.set(e,t);var h=v(u(e),u(t),r,o,a,l);return l.delete(e),h;case Q:if(je)return je.call(e)==je.call(t)}return!1}(e,t,h,n,r,o,a);if(!(n&R)){var m=d&&_e.call(e,"__wrapped__"),y=f&&_e.call(t,"__wrapped__");if(m||y){var b=m?e.value():e,_=y?t.value():t;return a||(a=new c),o(b,_,n,r,a)}}if(!g)return!1;return a||(a=new c),function(e,t,n,r,i,s){var o=n&R,a=x(e),l=a.length,u=x(t);if(l!=u.length&&!o)return!1;var c=l;for(;c--;){var h=a[c];if(!(o?h in t:_e.call(t,h)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var d=!0;s.set(e,t),s.set(t,e);var f=o;for(;++c<l;){var g=e[h=a[c]],m=t[h];if(r)var y=o?r(m,g,h,t,e,s):r(g,m,h,e,t,s);if(!(void 0===y?g===m||i(g,m,n,r,s):y)){d=!1;break}f||(f="constructor"==h)}if(d&&!f){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(d=!1)}return s.delete(e),s.delete(t),d}(e,t,n,r,o,a)}(e,t,n,r,g,o))}function m(e){return!(!k(e)||(t=e,we&&we in t))&&(A(e)?Te:ne).test(S(e));var t}function y(e){if(!function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ve)}(e))return Me(e);var t=[];for(var n in Object(e))_e.call(e,n)&&"constructor"!=n&&t.push(n);return t}function v(e,t,n,i,s,o){var a=n&R,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var h=o.get(e);if(h&&o.get(t))return h==t;var p=-1,d=!0,f=n&I?new u:void 0;for(o.set(e,t),o.set(t,e);++p<l;){var g=e[p],m=t[p];if(i)var y=a?i(m,g,p,t,e,o):i(g,m,p,e,t,o);if(void 0!==y){if(y)continue;d=!1;break}if(f){if(!r(t,(function(e,t){if(!f.has(t)&&(g===e||s(g,e,n,i,o)))return f.push(t)}))){d=!1;break}}else if(g!==m&&!s(g,m,n,i,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function x(e){return function(e,t,n){var r=t(e);return Ye(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,L,Ke)}function b(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function _(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return m(n)?n:void 0}function w(e,t){return!!(t=null==t?M:t)&&("number"==typeof e||re.test(e))&&e>-1&&e%1==0&&e<t}function S(e){if(null!=e){try{return be.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function T(e,t){return e===t||e!=e&&t!=t}function A(e){if(!k(e))return!1;var t=d(e);return t==B||t==z||t==D||t==K}function E(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=M}function k(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function C(e){return null!=e&&"object"==typeof e}function L(e){return function(e){return null!=e&&E(e.length)&&!A(e)}(e)?h(e):y(e)}var $="__lodash_hash_undefined__",R=1,I=2,M=9007199254740991,N="[object Arguments]",O="[object Array]",D="[object AsyncFunction]",F="[object Boolean]",P="[object Date]",V="[object Error]",B="[object Function]",z="[object GeneratorFunction]",U="[object Map]",G="[object Number]",W="[object Null]",H="[object Object]",j="[object Promise]",K="[object Proxy]",q="[object RegExp]",X="[object Set]",Y="[object String]",Q="[object Symbol]",Z="[object Undefined]",J="[object WeakMap]",ee="[object ArrayBuffer]",te="[object DataView]",ne=/^\[object .+?Constructor\]$/,re=/^(?:0|[1-9]\d*)$/,ie={};ie["[object Float32Array]"]=ie["[object Float64Array]"]=ie["[object Int8Array]"]=ie["[object Int16Array]"]=ie["[object Int32Array]"]=ie["[object Uint8Array]"]=ie["[object Uint8ClampedArray]"]=ie["[object Uint16Array]"]=ie["[object Uint32Array]"]=!0,ie[N]=ie[O]=ie[ee]=ie[F]=ie[te]=ie[P]=ie[V]=ie[B]=ie[U]=ie[G]=ie[H]=ie[q]=ie[X]=ie[Y]=ie[J]=!1;var se,oe,ae,le="object"==typeof e&&e&&e.Object===Object&&e,ue="object"==typeof self&&self&&self.Object===Object&&self,ce=le||ue||Function("return this")(),he=t&&!t.nodeType&&t,pe=he&&"object"==typeof n&&n&&!n.nodeType&&n,de=pe&&pe.exports===he,fe=de&&le.process,ge=function(){try{return fe&&fe.binding&&fe.binding("util")}catch(e){}}(),me=ge&&ge.isTypedArray,ye=Array.prototype,ve=Object.prototype,xe=ce["__core-js_shared__"],be=Function.prototype.toString,_e=ve.hasOwnProperty,we=(se=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||""))?"Symbol(src)_1."+se:"",Se=ve.toString,Te=RegExp("^"+be.call(_e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=de?ce.Buffer:void 0,Ee=ce.Symbol,ke=ce.Uint8Array,Ce=ve.propertyIsEnumerable,Le=ye.splice,$e=Ee?Ee.toStringTag:void 0,Re=Object.getOwnPropertySymbols,Ie=Ae?Ae.isBuffer:void 0,Me=(oe=Object.keys,ae=Object,function(e){return oe(ae(e))}),Ne=_(ce,"DataView"),Oe=_(ce,"Map"),De=_(ce,"Promise"),Fe=_(ce,"Set"),Pe=_(ce,"WeakMap"),Ve=_(Object,"create"),Be=S(Ne),ze=S(Oe),Ue=S(De),Ge=S(Fe),We=S(Pe),He=Ee?Ee.prototype:void 0,je=He?He.valueOf:void 0;o.prototype.clear=function(){this.__data__=Ve?Ve(null):{},this.size=0},o.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},o.prototype.get=function(e){var t=this.__data__;if(Ve){var n=t[e];return n===$?void 0:n}return _e.call(t,e)?t[e]:void 0},o.prototype.has=function(e){var t=this.__data__;return Ve?void 0!==t[e]:_e.call(t,e)},o.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ve&&void 0===t?$:t,this},a.prototype.clear=function(){this.__data__=[],this.size=0},a.prototype.delete=function(e){var t=this.__data__,n=p(t,e);return!(n<0)&&(n==t.length-1?t.pop():Le.call(t,n,1),--this.size,!0)},a.prototype.get=function(e){var t=this.__data__,n=p(t,e);return n<0?void 0:t[n][1]},a.prototype.has=function(e){return p(this.__data__,e)>-1},a.prototype.set=function(e,t){var n=this.__data__,r=p(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},l.prototype.clear=function(){this.size=0,this.__data__={hash:new o,map:new(Oe||a),string:new o}},l.prototype.delete=function(e){var t=b(this,e).delete(e);return this.size-=t?1:0,t},l.prototype.get=function(e){return b(this,e).get(e)},l.prototype.has=function(e){return b(this,e).has(e)},l.prototype.set=function(e,t){var n=b(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},u.prototype.add=u.prototype.push=function(e){return this.__data__.set(e,$),this},u.prototype.has=function(e){return this.__data__.has(e)},c.prototype.clear=function(){this.__data__=new a,this.size=0},c.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},c.prototype.get=function(e){return this.__data__.get(e)},c.prototype.has=function(e){return this.__data__.has(e)},c.prototype.set=function(e,t){var n=this.__data__;if(n instanceof a){var r=n.__data__;if(!Oe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new l(r)}return n.set(e,t),this.size=n.size,this};var Ke=Re?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}(Re(e),(function(t){return Ce.call(e,t)})))}:function(){return[]},qe=d;(Ne&&qe(new Ne(new ArrayBuffer(1)))!=te||Oe&&qe(new Oe)!=U||De&&qe(De.resolve())!=j||Fe&&qe(new Fe)!=X||Pe&&qe(new Pe)!=J)&&(qe=function(e){var t=d(e),n=t==H?e.constructor:void 0,r=n?S(n):"";if(r)switch(r){case Be:return te;case ze:return U;case Ue:return j;case Ge:return X;case We:return J}return t});var Xe=f(function(){return arguments}())?f:function(e){return C(e)&&_e.call(e,"callee")&&!Ce.call(e,"callee")},Ye=Array.isArray,Qe=Ie||function(){return!1},Ze=me?function(e){return function(t){return e(t)}}(me):function(e){return C(e)&&E(e.length)&&!!ie[d(e)]};n.exports=function(e,t){return g(e,t)}}).call(this,n("pCvA"),n("RoC8")(e))},WQQS:function(e,t,n){"use strict";function r(e,t,n,r,i){n||(n=y),function e(r,i,s){var o=s||r.type,a=t[o];n[o](r,i,e),a&&a(r,i)}(e,r,i)}function i(e,t,n,r,i){var s=[];n||(n=y),function e(r,i,o){var a=o||r.type,l=t[a],u=r!==s[s.length-1];u&&s.push(r),n[a](r,i,e),l&&l(r,i||s,s),u&&s.pop()}(e,r,i)}function s(e,t,n,r,i){var s=n?d(n,r||void 0):r;!function e(t,n,r){s[r||t.type](t,n,e)}(e,t,i)}function o(e){return"string"==typeof e?function(t){return t===e}:e||function(){return!0}}function a(e,t,n,r,i){var s;n||(n=y),function e(r,i,o){var a=o||r.type;n[a](r,i,e),s!==r&&(t(r,i,a),s=r)}(e,r,i)}function l(e,t,n,r){n||(n=y);var i,s=[];!function e(r,o,a){var l=a||r.type,u=r!==s[s.length-1];u&&s.push(r),n[l](r,o,e),i!==r&&(t(r,o||s,s,l),i=r),u&&s.pop()}(e,r)}function u(e,t,n,r,i,s){i||(i=y),r=o(r);try{!function e(s,o,a){var l=a||s.type;if((null==t||s.start<=t)&&(null==n||s.end>=n)&&i[l](s,o,e),(null==t||s.start===t)&&(null==n||s.end===n)&&r(l,s))throw new m(s,o)}(e,s)}catch(e){if(e instanceof m)return e;throw e}}function c(e,t,n,r,i){n=o(n),r||(r=y);try{!function e(i,s,o){var a=o||i.type;if(!(i.start>t||i.end<t)&&(r[a](i,s,e),n(a,i)))throw new m(i,s)}(e,i)}catch(e){if(e instanceof m)return e;throw e}}function h(e,t,n,r,i){n=o(n),r||(r=y);try{!function e(i,s,o){if(!(i.end<t)){var a=o||i.type;if(i.start>=t&&n(a,i))throw new m(i,s);r[a](i,s,e)}}(e,i)}catch(e){if(e instanceof m)return e;throw e}}function p(e,t,n,r,i){var s;return n=o(n),r||(r=y),function e(i,o,a){if(!(i.start>t)){var l=a||i.type;i.end<=t&&(!s||s.node.end<i.end)&&n(l,i)&&(s=new m(i,o)),r[l](i,o,e)}}(e,i),s}function d(e,t){var n=Object.create(t||y);for(var r in e)n[r]=e[r];return n}function f(e,t,n){n(e,t)}function g(){}n.r(t),n.d(t,"ancestor",(function(){return i})),n.d(t,"base",(function(){return y})),n.d(t,"findNodeAfter",(function(){return h})),n.d(t,"findNodeAround",(function(){return c})),n.d(t,"findNodeAt",(function(){return u})),n.d(t,"findNodeBefore",(function(){return p})),n.d(t,"full",(function(){return a})),n.d(t,"fullAncestor",(function(){return l})),n.d(t,"make",(function(){return d})),n.d(t,"recursive",(function(){return s})),n.d(t,"simple",(function(){return r}));var m=function(e,t){this.node=e,this.state=t},y={};y.Program=y.BlockStatement=y.StaticBlock=function(e,t,n){for(var r=0,i=e.body;r<i.length;r+=1){n(i[r],t,"Statement")}},y.Statement=f,y.EmptyStatement=g,y.ExpressionStatement=y.ParenthesizedExpression=y.ChainExpression=function(e,t,n){return n(e.expression,t,"Expression")},y.IfStatement=function(e,t,n){n(e.test,t,"Expression"),n(e.consequent,t,"Statement"),e.alternate&&n(e.alternate,t,"Statement")},y.LabeledStatement=function(e,t,n){return n(e.body,t,"Statement")},y.BreakStatement=y.ContinueStatement=g,y.WithStatement=function(e,t,n){n(e.object,t,"Expression"),n(e.body,t,"Statement")},y.SwitchStatement=function(e,t,n){n(e.discriminant,t,"Expression");for(var r=0,i=e.cases;r<i.length;r+=1){var s=i[r];s.test&&n(s.test,t,"Expression");for(var o=0,a=s.consequent;o<a.length;o+=1){n(a[o],t,"Statement")}}},y.SwitchCase=function(e,t,n){e.test&&n(e.test,t,"Expression");for(var r=0,i=e.consequent;r<i.length;r+=1){n(i[r],t,"Statement")}},y.ReturnStatement=y.YieldExpression=y.AwaitExpression=function(e,t,n){e.argument&&n(e.argument,t,"Expression")},y.ThrowStatement=y.SpreadElement=function(e,t,n){return n(e.argument,t,"Expression")},y.TryStatement=function(e,t,n){n(e.block,t,"Statement"),e.handler&&n(e.handler,t),e.finalizer&&n(e.finalizer,t,"Statement")},y.CatchClause=function(e,t,n){e.param&&n(e.param,t,"Pattern"),n(e.body,t,"Statement")},y.WhileStatement=y.DoWhileStatement=function(e,t,n){n(e.test,t,"Expression"),n(e.body,t,"Statement")},y.ForStatement=function(e,t,n){e.init&&n(e.init,t,"ForInit"),e.test&&n(e.test,t,"Expression"),e.update&&n(e.update,t,"Expression"),n(e.body,t,"Statement")},y.ForInStatement=y.ForOfStatement=function(e,t,n){n(e.left,t,"ForInit"),n(e.right,t,"Expression"),n(e.body,t,"Statement")},y.ForInit=function(e,t,n){"VariableDeclaration"===e.type?n(e,t):n(e,t,"Expression")},y.DebuggerStatement=g,y.FunctionDeclaration=function(e,t,n){return n(e,t,"Function")},y.VariableDeclaration=function(e,t,n){for(var r=0,i=e.declarations;r<i.length;r+=1){n(i[r],t)}},y.VariableDeclarator=function(e,t,n){n(e.id,t,"Pattern"),e.init&&n(e.init,t,"Expression")},y.Function=function(e,t,n){e.id&&n(e.id,t,"Pattern");for(var r=0,i=e.params;r<i.length;r+=1){n(i[r],t,"Pattern")}n(e.body,t,e.expression?"Expression":"Statement")},y.Pattern=function(e,t,n){"Identifier"===e.type?n(e,t,"VariablePattern"):"MemberExpression"===e.type?n(e,t,"MemberPattern"):n(e,t)},y.VariablePattern=g,y.MemberPattern=f,y.RestElement=function(e,t,n){return n(e.argument,t,"Pattern")},y.ArrayPattern=function(e,t,n){for(var r=0,i=e.elements;r<i.length;r+=1){var s=i[r];s&&n(s,t,"Pattern")}},y.ObjectPattern=function(e,t,n){for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];"Property"===s.type?(s.computed&&n(s.key,t,"Expression"),n(s.value,t,"Pattern")):"RestElement"===s.type&&n(s.argument,t,"Pattern")}},y.Expression=f,y.ThisExpression=y.Super=y.MetaProperty=g,y.ArrayExpression=function(e,t,n){for(var r=0,i=e.elements;r<i.length;r+=1){var s=i[r];s&&n(s,t,"Expression")}},y.ObjectExpression=function(e,t,n){for(var r=0,i=e.properties;r<i.length;r+=1){n(i[r],t)}},y.FunctionExpression=y.ArrowFunctionExpression=y.FunctionDeclaration,y.SequenceExpression=function(e,t,n){for(var r=0,i=e.expressions;r<i.length;r+=1){n(i[r],t,"Expression")}},y.TemplateLiteral=function(e,t,n){for(var r=0,i=e.quasis;r<i.length;r+=1){n(i[r],t)}for(var s=0,o=e.expressions;s<o.length;s+=1){n(o[s],t,"Expression")}},y.TemplateElement=g,y.UnaryExpression=y.UpdateExpression=function(e,t,n){n(e.argument,t,"Expression")},y.BinaryExpression=y.LogicalExpression=function(e,t,n){n(e.left,t,"Expression"),n(e.right,t,"Expression")},y.AssignmentExpression=y.AssignmentPattern=function(e,t,n){n(e.left,t,"Pattern"),n(e.right,t,"Expression")},y.ConditionalExpression=function(e,t,n){n(e.test,t,"Expression"),n(e.consequent,t,"Expression"),n(e.alternate,t,"Expression")},y.NewExpression=y.CallExpression=function(e,t,n){if(n(e.callee,t,"Expression"),e.arguments)for(var r=0,i=e.arguments;r<i.length;r+=1){n(i[r],t,"Expression")}},y.MemberExpression=function(e,t,n){n(e.object,t,"Expression"),e.computed&&n(e.property,t,"Expression")},y.ExportNamedDeclaration=y.ExportDefaultDeclaration=function(e,t,n){e.declaration&&n(e.declaration,t,"ExportNamedDeclaration"===e.type||e.declaration.id?"Statement":"Expression"),e.source&&n(e.source,t,"Expression")},y.ExportAllDeclaration=function(e,t,n){e.exported&&n(e.exported,t),n(e.source,t,"Expression")},y.ImportDeclaration=function(e,t,n){for(var r=0,i=e.specifiers;r<i.length;r+=1){n(i[r],t)}n(e.source,t,"Expression")},y.ImportExpression=function(e,t,n){n(e.source,t,"Expression")},y.ImportSpecifier=y.ImportDefaultSpecifier=y.ImportNamespaceSpecifier=y.Identifier=y.PrivateIdentifier=y.Literal=g,y.TaggedTemplateExpression=function(e,t,n){n(e.tag,t,"Expression"),n(e.quasi,t,"Expression")},y.ClassDeclaration=y.ClassExpression=function(e,t,n){return n(e,t,"Class")},y.Class=function(e,t,n){e.id&&n(e.id,t,"Pattern"),e.superClass&&n(e.superClass,t,"Expression"),n(e.body,t)},y.ClassBody=function(e,t,n){for(var r=0,i=e.body;r<i.length;r+=1){n(i[r],t)}},y.MethodDefinition=y.PropertyDefinition=y.Property=function(e,t,n){e.computed&&n(e.key,t,"Expression"),e.value&&n(e.value,t,"Expression")}},WrTS:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.streamPrelude=void 0,t.streamPrelude='\n\n// Supporting streams in the Scheme style, following\n// "stream discipline"\n\n// is_stream recurses down the stream and checks that it ends with the\n// empty list null\n\nfunction is_stream(xs) {\n  return is_null(xs) || (is_pair(xs) && is_stream(stream_tail(xs)));\n}\n\n// A stream is either null or a pair whose tail is\n// a nullary function that returns a stream.\n\nfunction list_to_stream(xs) {\n  return is_null(xs)\n    ? null\n    : pair(head(xs),\n      () => list_to_stream(tail(xs)));\n}\n\n// stream_to_list transforms a given stream to a list\n// Lazy? No: stream_to_list needs to force the whole stream\nfunction stream_to_list(xs) {\n  return is_null(xs)\n    ? null\n    : pair(head(xs), stream_to_list(stream_tail(xs)));\n}\n\n// stream_length returns the length of a given argument stream\n// throws an exception if the argument is not a stream\n// Lazy? No: The function needs to explore the whole stream\nfunction stream_length(xs) {\n  return is_null(xs)\n    ? 0\n    : 1 + stream_length(stream_tail(xs));\n}\n\n// stream_map applies first arg f to the elements of the second\n// argument, assumed to be a stream.\n// f is applied element-by-element:\n// stream_map(f,list_to_stream(list(1,2)) results in\n// the same as list_to_stream(list(f(1),f(2)))\n// stream_map throws an exception if the second argument is not a\n// stream, and if the second argument is a nonempty stream and the\n// first argument is not a function.\n// Lazy? Yes: The argument stream is only explored as forced by\n//            the result stream.\nfunction stream_map(f, s) {\n  return is_null(s)\n    ? null\n    : pair(f(head(s)),\n      () => stream_map(f, stream_tail(s)));\n}\n\n// build_stream takes a function fun as first argument, \n// and a nonnegative integer n as second argument,\n// build_stream returns a stream of n elements, that results from\n// applying fun to the numbers from 0 to n-1.\n// Lazy? Yes: The result stream forces the applications of fun\n//            for the next element\nfunction build_stream(fun, n) {\n  function build(i) {\n    return i >= n\n      ? null\n      : pair(fun(i),\n        () => build(i + 1));\n  }\n  return build(0);\n}\n\n// stream_for_each applies first arg fun to the elements of the stream\n// passed as second argument. fun is applied element-by-element:\n// for_each(fun,list_to_stream(list(1, 2,null))) results in the calls fun(1)\n// and fun(2).\n// stream_for_each returns true.\n// stream_for_each throws an exception if the second argument is not a\n// stream, and if the second argument is a nonempty stream and the\n// first argument is not a function.\n// Lazy? No: stream_for_each forces the exploration of the entire stream\nfunction stream_for_each(fun, xs) {\n  if (is_null(xs)) {\n    return true;\n  } else {\n    fun(head(xs));\n    return stream_for_each(fun, stream_tail(xs));\n  }\n}\n\n// stream_reverse reverses the argument stream\n// stream_reverse throws an exception if the argument is not a stream.\n// Lazy? No: stream_reverse forces the exploration of the entire stream\nfunction stream_reverse(xs) {\n  function rev(original, reversed) {\n    return is_null(original)\n      ? reversed\n      : rev(stream_tail(original),\n        pair(head(original), () => reversed));\n  }\n  return rev(xs, null);\n}\n\n// stream_append appends first argument stream and second argument stream.\n// In the result, null at the end of the first argument stream\n// is replaced by the second argument stream\n// stream_append throws an exception if the first argument is not a\n// stream.\n// Lazy? Yes: the result stream forces the actual append operation\nfunction stream_append(xs, ys) {\n  return is_null(xs)\n    ? ys\n    : pair(head(xs),\n      () => stream_append(stream_tail(xs), ys));\n}\n\n// stream_member looks for a given first-argument element in a given\n// second argument stream. It returns the first postfix substream\n// that starts with the given element. It returns null if the\n// element does not occur in the stream\n// Lazy? Sort-of: stream_member forces the stream only until the element is found.\nfunction stream_member(x, s) {\n  return is_null(s)\n    ? null\n    : head(s) === x\n      ? s\n      : stream_member(x, stream_tail(s));\n}\n\n// stream_remove removes the first occurrence of a given first-argument element\n// in a given second-argument list. Returns the original list\n// if there is no occurrence.\n// Lazy? Yes: the result stream forces the construction of each next element\nfunction stream_remove(v, xs) {\n  return is_null(xs)\n    ? null\n    : v === head(xs)\n      ? stream_tail(xs)\n      : pair(head(xs),\n        () => stream_remove(v, stream_tail(xs)));\n}\n\n// stream_remove_all removes all instances of v instead of just the first.\n// Lazy? Yes: the result stream forces the construction of each next element\nfunction stream_remove_all(v, xs) {\n  return is_null(xs)\n    ? null\n    : v === head(xs)\n      ? stream_remove_all(v, stream_tail(xs))\n      : pair(head(xs), () => stream_remove_all(v, stream_tail(xs)));\n}\n\n// filter returns the substream of elements of given stream s\n// for which the given predicate function p returns true.\n// Lazy? Yes: The result stream forces the construction of\n//            each next element. Of course, the construction\n//            of the next element needs to go down the stream\n//            until an element is found for which p holds.\nfunction stream_filter(p, s) {\n  return is_null(s)\n    ? null\n    : p(head(s))\n      ? pair(head(s),\n        () => stream_filter(p, stream_tail(s)))\n      : stream_filter(p, stream_tail(s));\n}\n\n// enumerates numbers starting from start,\n// using a step size of 1, until the number\n// exceeds end.\n// Lazy? Yes: The result stream forces the construction of\n//            each next element\nfunction enum_stream(start, end) {\n  return start > end\n    ? null\n    : pair(start,\n      () => enum_stream(start + 1, end));\n}\n\n// integers_from constructs an infinite stream of integers\n// starting at a given number n\n// Lazy? Yes: The result stream forces the construction of\n//            each next element\nfunction integers_from(n) {\n  return pair(n,\n    () => integers_from(n + 1));\n}\n\n// eval_stream constructs the list of the first n elements\n// of a given stream s\n// Lazy? Sort-of: eval_stream only forces the computation of\n//                the first n elements, and leaves the rest of\n//                the stream untouched.\nfunction eval_stream(s, n) {\n    function es(s, n) {\n        return n === 1 \n               ? list(head(s))\n               : pair(head(s), \n                      es(stream_tail(s), n - 1));\n    }\n    return n === 0 \n           ? null\n           : es(s, n);\n}\n\n// Returns the item in stream s at index n (the first item is at position 0)\n// Lazy? Sort-of: stream_ref only forces the computation of\n//                the first n elements, and leaves the rest of\n//                the stream untouched.\nfunction stream_ref(s, n) {\n  return n === 0\n    ? head(s)\n    : stream_ref(stream_tail(s), n - 1);\n}\n'},X0TW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoAssignmentToForVariable=void 0;const r=n("QyX9");t.NoAssignmentToForVariable=class{constructor(e){this.node=e,this.type=r.ErrorType.SYNTAX,this.severity=r.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Assignment to a for loop variable in the for loop is not allowed."}elaborate(){return this.explain()}}},X7hy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BracesAroundWhileError=void 0;const r=n("j0Aj"),i=n("QyX9");class s{constructor(e){this.node=e,this.type=i.ErrorType.SYNTAX,this.severity=i.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing curly braces around "while" block.'}elaborate(){return`Remember to enclose your "while" block with braces:\n\n ${`\twhile (${r.generate(this.node.test)}) {\n\t\t//code goes here\n\t}`}`}}t.BracesAroundWhileError=s;t.default={name:"braces-around-while",checkers:{WhileStatement:e=>"BlockStatement"!==e.body.type?[new s(e)]:[]}}},XKyj:function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return o(e,t,n)}var s=n("zkTx"),o=s.Buffer;o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=s:(r(s,t),t.Buffer=i),r(o,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s.SlowBuffer(e)}},XZ2b:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeWrapper=void 0,t.makeWrapper=function(e,t){for(const n in e)e.hasOwnProperty(n)&&Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));for(const n of["length","name"])e.hasOwnProperty(n)&&Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}},XwI5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base=t.findNodeAfter=t.findNodeAround=t.findNodeAt=t.make=t.fullAncestor=t.full=t.recursive=t.ancestor=t.simple=void 0;const r=n("WQQS");t.simple=r.simple,t.ancestor=r.ancestor,t.recursive=r.recursive,t.full=r.full,t.fullAncestor=r.fullAncestor,t.make=r.make,t.findNodeAt=r.findNodeAt,t.findNodeAround=r.findNodeAround,t.findNodeAfter=r.findNodeAfter,t.base=r.base},Xy3c:function(e,t,n){"use strict";function r(e,t){for(var n=65536,r=0;r<t.length;r+=2){if((n+=t[r])>e)return!1;if((n+=t[r+1])>=e)return!0}return!1}function i(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&V.test(String.fromCharCode(e)):!1!==t&&r(e,M)))}function s(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&B.test(String.fromCharCode(e)):!1!==t&&(r(e,M)||r(e,I)))))}function o(e,t){return new z(e,{beforeExpr:!0,binop:t})}function a(e,t){return void 0===t&&(t={}),t.keyword=e,W[e]=new z(e,t)}function l(e){return 10===e||13===e||8232===e||8233===e}function u(e,t,n){void 0===n&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(l(i))return r<n-1&&13===i&&10===e.charCodeAt(r+1)?r+2:r+1}return-1}function c(e){return te[e]||(te[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function h(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function p(e,t){for(var n=1,r=0;;){var i=u(e,r,t);if(i<0)return new re(n,t-r);++n,r=i}}function d(e){var t={};for(var n in se)t[n]=e&&J(e,n)?e[n]:se[n];if("latest"===t.ecmaVersion?t.ecmaVersion=1e8:null==t.ecmaVersion?(!oe&&"object"==typeof console&&console.warn&&(oe=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),e&&null!=e.allowHashBang||(t.allowHashBang=t.ecmaVersion>=14),ee(t.onToken)){var r=t.onToken;t.onToken=function(e){return r.push(e)}}return ee(t.onComment)&&(t.onComment=function(e,t){return function(n,r,i,s,o,a){var l={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(l.loc=new ie(this,o,a)),e.ranges&&(l.range=[i,s]),t.push(l)}}(t,t.onComment)),t}function f(e,t){return 2|(e?4:0)|(t?8:0)}function g(e,t){var n=t.key.name,r=e[n],i="true";return"MethodDefinition"!==t.type||"get"!==t.kind&&"set"!==t.kind||(i=(t.static?"s":"i")+t.kind),"iget"===r&&"iset"===i||"iset"===r&&"iget"===i||"sget"===r&&"sset"===i||"sset"===r&&"sget"===i?(e[n]="true",!1):!!r||(e[n]=i,!1)}function m(e,t){var n=e.key;return!e.computed&&("Identifier"===n.type&&n.name===t||"Literal"===n.type&&n.value===t)}function y(e){return"MemberExpression"===e.type&&"PrivateIdentifier"===e.property.type||"ChainExpression"===e.type&&y(e.expression)}function v(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}function x(e){var t=Ue[e]={binary:c(Me[e]+" "+Oe),binaryOfStrings:c(Ne[e]),nonBinary:{General_Category:c(Oe),Script:c(ze[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}function b(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function _(e){return e>=65&&e<=90||e>=97&&e<=122}function w(e){return _(e)||95===e}function S(e){return w(e)||T(e)}function T(e){return e>=48&&e<=57}function A(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function E(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function k(e){return e>=48&&e<=55}function C(e){return"function"!=typeof BigInt?null:BigInt(e.replace(/_/g,""))}function L(e,t){return le.parse(e,t)}function $(e,t,n){return le.parseExpressionAt(e,t,n)}function R(e,t){return le.tokenizer(e,t)}n.r(t),n.d(t,"Node",(function(){return Ce})),n.d(t,"Parser",(function(){return le})),n.d(t,"Position",(function(){return re})),n.d(t,"SourceLocation",(function(){return ie})),n.d(t,"TokContext",(function(){return be})),n.d(t,"Token",(function(){return Ke})),n.d(t,"TokenType",(function(){return z})),n.d(t,"defaultOptions",(function(){return se})),n.d(t,"getLineInfo",(function(){return p})),n.d(t,"isIdentifierChar",(function(){return s})),n.d(t,"isIdentifierStart",(function(){return i})),n.d(t,"isNewLine",(function(){return l})),n.d(t,"keywordTypes",(function(){return W})),n.d(t,"lineBreak",(function(){return j})),n.d(t,"lineBreakG",(function(){return K})),n.d(t,"nonASCIIwhitespace",(function(){return q})),n.d(t,"parse",(function(){return L})),n.d(t,"parseExpressionAt",(function(){return $})),n.d(t,"tokContexts",(function(){return _e})),n.d(t,"tokTypes",(function(){return H})),n.d(t,"tokenizer",(function(){return R})),n.d(t,"version",(function(){return Ye}));var I=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],M=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],N="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",O={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},D="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",F={5:D,"5module":D+" export import",6:D+" const class extends export import super"},P=/^in(stanceof)?$/,V=new RegExp("["+N+"]"),B=new RegExp("["+N+"‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･]"),z=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null},U={beforeExpr:!0},G={startsExpr:!0},W={},H={num:new z("num",G),regexp:new z("regexp",G),string:new z("string",G),name:new z("name",G),privateId:new z("privateId",G),eof:new z("eof"),bracketL:new z("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new z("]"),braceL:new z("{",{beforeExpr:!0,startsExpr:!0}),braceR:new z("}"),parenL:new z("(",{beforeExpr:!0,startsExpr:!0}),parenR:new z(")"),comma:new z(",",U),semi:new z(";",U),colon:new z(":",U),dot:new z("."),question:new z("?",U),questionDot:new z("?."),arrow:new z("=>",U),template:new z("template"),invalidTemplate:new z("invalidTemplate"),ellipsis:new z("...",U),backQuote:new z("`",G),dollarBraceL:new z("${",{beforeExpr:!0,startsExpr:!0}),eq:new z("=",{beforeExpr:!0,isAssign:!0}),assign:new z("_=",{beforeExpr:!0,isAssign:!0}),incDec:new z("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new z("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:o("||",1),logicalAND:o("&&",2),bitwiseOR:o("|",3),bitwiseXOR:o("^",4),bitwiseAND:o("&",5),equality:o("==/!=/===/!==",6),relational:o("</>/<=/>=",7),bitShift:o("<</>>/>>>",8),plusMin:new z("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:o("%",10),star:o("*",10),slash:o("/",10),starstar:new z("**",{beforeExpr:!0}),coalesce:o("??",1),_break:a("break"),_case:a("case",U),_catch:a("catch"),_continue:a("continue"),_debugger:a("debugger"),_default:a("default",U),_do:a("do",{isLoop:!0,beforeExpr:!0}),_else:a("else",U),_finally:a("finally"),_for:a("for",{isLoop:!0}),_function:a("function",G),_if:a("if"),_return:a("return",U),_switch:a("switch"),_throw:a("throw",U),_try:a("try"),_var:a("var"),_const:a("const"),_while:a("while",{isLoop:!0}),_with:a("with"),_new:a("new",{beforeExpr:!0,startsExpr:!0}),_this:a("this",G),_super:a("super",G),_class:a("class",G),_extends:a("extends",U),_export:a("export"),_import:a("import",G),_null:a("null",G),_true:a("true",G),_false:a("false",G),_in:a("in",{beforeExpr:!0,binop:7}),_instanceof:a("instanceof",{beforeExpr:!0,binop:7}),_typeof:a("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:a("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:a("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},j=/\r\n?|\n|\u2028|\u2029/,K=new RegExp(j.source,"g"),q=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,X=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Y=Object.prototype,Q=Y.hasOwnProperty,Z=Y.toString,J=Object.hasOwn||function(e,t){return Q.call(e,t)},ee=Array.isArray||function(e){return"[object Array]"===Z.call(e)},te=Object.create(null),ne=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,re=function(e,t){this.line=e,this.column=t};re.prototype.offset=function(e){return new re(this.line,this.column+e)};var ie=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)},se={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},oe=!1,ae=256,le=function(e,t,n){this.options=e=d(e),this.sourceFile=e.sourceFile,this.keywords=c(F[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var r="";!0!==e.allowReserved&&(r=O[e.ecmaVersion>=6?6:5===e.ecmaVersion?5:3],"module"===e.sourceType&&(r+=" await")),this.reservedWords=c(r);var i=(r?r+" ":"")+O.strict;this.reservedWordsStrict=c(i),this.reservedWordsStrictBind=c(i+" "+O.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(j).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=H.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},ue={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};le.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},ue.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},ue.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},ue.inAsync.get=function(){return(4&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},ue.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&ae)return!1;if(2&t.flags)return(4&t.flags)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},ue.allowSuper.get=function(){var e=this.currentThisScope();return(64&e.flags)>0||e.inClassFieldInit||this.options.allowSuperOutsideMethod},ue.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},ue.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},ue.allowNewDotTarget.get=function(){var e=this.currentThisScope();return(258&e.flags)>0||e.inClassFieldInit},ue.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&ae)>0},le.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},le.parse=function(e,t){return new this(t,e).parse()},le.parseExpressionAt=function(e,t,n){var r=new this(n,e,t);return r.nextToken(),r.parseExpression()},le.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(le.prototype,ue);var ce=le.prototype,he=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;ce.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){X.lastIndex=e,e+=X.exec(this.input)[0].length;var t=he.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){X.lastIndex=e+t[0].length;var n=X.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return";"===i||"}"===i||j.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||"!"===i&&"="===this.input.charAt(r+1))}X.lastIndex=e+=t[0].length,e+=X.exec(this.input)[0].length,";"===this.input[e]&&e++}},ce.eat=function(e){return this.type===e&&(this.next(),!0)},ce.isContextual=function(e){return this.type===H.name&&this.value===e&&!this.containsEsc},ce.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},ce.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},ce.canInsertSemicolon=function(){return this.type===H.eof||this.type===H.braceR||j.test(this.input.slice(this.lastTokEnd,this.start))},ce.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},ce.semicolon=function(){this.eat(H.semi)||this.insertSemicolon()||this.unexpected()},ce.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},ce.expect=function(e){this.eat(e)||this.unexpected()},ce.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")};var pe=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};ce.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}},ce.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},ce.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},ce.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var de=le.prototype;de.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==H.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var fe={kind:"loop"},ge={kind:"switch"};de.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;X.lastIndex=this.pos;var t=X.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(91===r||92===r)return!0;if(e)return!1;if(123===r||r>55295&&r<56320)return!0;if(i(r,!0)){for(var o=n+1;s(r=this.input.charCodeAt(o),!0);)++o;if(92===r||r>55295&&r<56320)return!0;var a=this.input.slice(n,o);if(!P.test(a))return!0}return!1},de.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;X.lastIndex=this.pos;var e,t=X.exec(this.input),n=this.pos+t[0].length;return!(j.test(this.input.slice(this.pos,n))||"function"!==this.input.slice(n,n+8)||n+8!==this.input.length&&(s(e=this.input.charCodeAt(n+8))||e>55295&&e<56320))},de.parseStatement=function(e,t,n){var r,i=this.type,s=this.startNode();switch(this.isLet(e)&&(i=H._var,r="let"),i){case H._break:case H._continue:return this.parseBreakContinueStatement(s,i.keyword);case H._debugger:return this.parseDebuggerStatement(s);case H._do:return this.parseDoStatement(s);case H._for:return this.parseForStatement(s);case H._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!e);case H._class:return e&&this.unexpected(),this.parseClass(s,!0);case H._if:return this.parseIfStatement(s);case H._return:return this.parseReturnStatement(s);case H._switch:return this.parseSwitchStatement(s);case H._throw:return this.parseThrowStatement(s);case H._try:return this.parseTryStatement(s);case H._const:case H._var:return r=r||this.value,e&&"var"!==r&&this.unexpected(),this.parseVarStatement(s,r);case H._while:return this.parseWhileStatement(s);case H._with:return this.parseWithStatement(s);case H.braceL:return this.parseBlock(!0,s);case H.semi:return this.parseEmptyStatement(s);case H._export:case H._import:if(this.options.ecmaVersion>10&&i===H._import){X.lastIndex=this.pos;var o=X.exec(this.input),a=this.input.charCodeAt(this.pos+o[0].length);if(40===a||46===a)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===H._import?this.parseImport(s):this.parseExport(s,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!e);var l=this.value,u=this.parseExpression();return i===H.name&&"Identifier"===u.type&&this.eat(H.colon)?this.parseLabeledStatement(s,l,u,e):this.parseExpressionStatement(s,u)}},de.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(H.semi)||this.insertSemicolon()?e.label=null:this.type!==H.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(e.label&&n)break}}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},de.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},de.parseDoStatement=function(e){return this.next(),this.labels.push(fe),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(H._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(H.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},de.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(fe),this.enterScope(0),this.expect(H.parenL),this.type===H.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===H._var||this.type===H._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===H._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===r.declarations.length?(this.options.ecmaVersion>=9&&(this.type===H._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new pe,l=this.parseExpression(!(t>-1)||"await",a);return this.type===H._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===H._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(l.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(l,!1,a),this.checkLValPattern(l),this.parseForIn(e,l)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,l))},de.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,ye|(n?0:ve),!1,t)},de.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(H._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},de.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(H.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},de.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(H.braceL),this.labels.push(ge),this.enterScope(0);for(var n=!1;this.type!==H.braceR;)if(this.type===H._case||this.type===H._default){var r=this.type===H._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(H.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},de.parseThrowStatement=function(e){return this.next(),j.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var me=[];de.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t="Identifier"===e.type;return this.enterScope(t?32:0),this.checkLValPattern(e,t?4:2),this.expect(H.parenR),e},de.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===H._catch){var t=this.startNode();this.next(),this.eat(H.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(H._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},de.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")},de.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(fe),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},de.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},de.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},de.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){s[i].name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===H._switch?"switch":null,a=this.labels.length-1;a>=0;a--){var l=this.labels[a];if(l.statementStart!==e.start)break;l.statementStart=this.start,l.kind=o}return this.labels.push({name:t,kind:o,statementStart:this.start}),e.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},de.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},de.parseBlock=function(e,t,n){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(H.braceL),e&&this.enterScope(0);this.type!==H.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},de.parseFor=function(e,t){return e.init=t,this.expect(H.semi),e.test=this.type===H.semi?null:this.parseExpression(),this.expect(H.semi),e.update=this.type===H.parenR?null:this.parseExpression(),this.expect(H.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},de.parseForIn=function(e,t){var n=this.type===H._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(H.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},de.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(H.eq)?i.init=this.parseMaybeAssign(t):r||"const"!==n||this.type===H._in||this.options.ecmaVersion>=6&&this.isContextual("of")?r||"Identifier"===i.id.type||t&&(this.type===H._in||this.isContextual("of"))?i.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(H.comma))break}return e},de.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,"var"===t?1:2,!1)};var ye=1,ve=2;de.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===H.star&&t&ve&&this.unexpected(),e.generator=this.eat(H.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&ye&&(e.id=4&t&&this.type!==H.name?null:this.parseIdent(),!e.id||t&ve||this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(f(e.async,e.generator)),t&ye||(e.id=this.type===H.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&ye?"FunctionDeclaration":"FunctionExpression")},de.parseFunctionParams=function(e){this.expect(H.parenL),e.params=this.parseBindingList(H.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},de.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(H.braceL);this.type!==H.braceR;){var o=this.parseClassElement(null!==e.superClass);o&&(i.body.push(o),"MethodDefinition"===o.type&&"constructor"===o.kind?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&"PrivateIdentifier"===o.key.type&&g(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},de.parseClassElement=function(e){if(this.eat(H.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(H.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===H.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==H.star||this.canInsertSemicolon()?r="async":s=!0),!r&&(t>=9||!s)&&this.eat(H.star)&&(i=!0),!r&&!s&&!i){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=l:r=l)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===H.parenL||"method"!==o||i||s){var u=!n.static&&m(n,"constructor"),c=u&&e;u&&"method"!==o&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=u?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n},de.isClassElementNameStart=function(){return this.type===H.name||this.type===H.privateId||this.type===H.num||this.type===H.string||this.type===H.bracketL||this.type.keyword},de.parseClassElementName=function(e){this.type===H.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},de.parseClassMethod=function(e,t,n,r){var i=e.key;"constructor"===e.kind?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&m(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return"get"===e.kind&&0!==s.params.length&&this.raiseRecoverable(s.start,"getter should have no params"),"set"===e.kind&&1!==s.params.length&&this.raiseRecoverable(s.start,"setter should have exactly one param"),"set"===e.kind&&"RestElement"===s.params[0].type&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},de.parseClassField=function(e){if(m(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&m(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(H.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")},de.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(320);this.type!==H.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")},de.parseClassId=function(e,t){this.type===H.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},de.parseClassSuper=function(e){e.superClass=this.eat(H._extends)?this.parseExprSubscripts(null,!1):null},de.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},de.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=0===r?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];J(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}},de.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==H.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")},de.parseExport=function(e,t){if(this.next(),this.eat(H.star))return this.parseExportAllDeclaration(e,t);if(this.eat(H._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==H.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),"Literal"===i.local.type&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},de.parseExportDeclaration=function(){return this.parseStatement(null)},de.parseExportDefaultDeclaration=function(){var e;if(this.type===H._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,4|ye,!1,e)}if(this.type===H._class){var n=this.startNode();return this.parseClass(n,"nullableID")}var r=this.parseMaybeAssign();return this.semicolon(),r},de.checkExport=function(e,t,n){e&&("string"!=typeof t&&(t="Identifier"===t.type?t.name:t.value),J(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},de.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t,t.start);else if("ObjectPattern"===n)for(var r=0,i=t.properties;r<i.length;r+=1){this.checkPatternExport(e,i[r])}else if("ArrayPattern"===n)for(var s=0,o=t.elements;s<o.length;s+=1){var a=o[s];a&&this.checkPatternExport(e,a)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n&&this.checkPatternExport(e,t.argument)},de.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){this.checkPatternExport(e,r[n].id)}},de.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},de.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")},de.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(H.braceL);!this.eat(H.braceR);){if(n)n=!1;else if(this.expect(H.comma),this.afterTrailingComma(H.braceR))break;t.push(this.parseExportSpecifier(e))}return t},de.parseImport=function(e){return this.next(),this.type===H.string?(e.specifiers=me,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===H.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},de.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportSpecifier")},de.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportDefaultSpecifier")},de.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportNamespaceSpecifier")},de.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===H.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(H.comma)))return e;if(this.type===H.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(H.braceL);!this.eat(H.braceR);){if(t)t=!1;else if(this.expect(H.comma),this.afterTrailingComma(H.braceR))break;e.push(this.parseImportSpecifier())}return e},de.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===H.string){var e=this.parseLiteral(this.value);return ne.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)},de.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},de.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var xe=le.prototype;xe.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},xe.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];6===this.options.ecmaVersion&&t&&s&&"RestElement"===s.type&&"Identifier"!==s.argument.type&&this.unexpected(s.argument.start)}return e},xe.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},xe.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==H.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},xe.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case H.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(H.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case H.braceL:return this.parseObj(!0)}return this.parseIdent()},xe.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(H.comma),t&&this.type===H.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===H.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===H.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}i.push(this.parseAssignableListItem(r))}return i},xe.parseAssignableListItem=function(){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e},xe.parseBindingListItem=function(e){return e},xe.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(H.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},xe.checkLValSimple=function(e,t,n){void 0===t&&(t=0);var r=0!==t;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(J(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),5!==t&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}},xe.checkLValPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){this.checkLValInnerPattern(i[r],t,n)}break;case"ArrayPattern":for(var s=0,o=e.elements;s<o.length;s+=1){var a=o[s];a&&this.checkLValInnerPattern(a,t,n)}break;default:this.checkLValSimple(e,t,n)}},xe.checkLValInnerPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var be=function(e,t,n,r,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!i},_e={b_stat:new be("{",!1),b_expr:new be("{",!0),b_tmpl:new be("${",!1),p_stat:new be("(",!1),p_expr:new be("(",!0),q_tmpl:new be("`",!0,!0,(function(e){return e.tryReadTemplateToken()})),f_stat:new be("function",!1),f_expr:new be("function",!0),f_expr_gen:new be("function",!0,!1,null,!0),f_gen:new be("function",!1,!1,null,!0)},we=le.prototype;we.initialContext=function(){return[_e.b_stat]},we.curContext=function(){return this.context[this.context.length-1]},we.braceIsBlock=function(e){var t=this.curContext();return t===_e.f_expr||t===_e.f_stat||(e!==H.colon||t!==_e.b_stat&&t!==_e.b_expr?e===H._return||e===H.name&&this.exprAllowed?j.test(this.input.slice(this.lastTokEnd,this.start)):e===H._else||e===H.semi||e===H.eof||e===H.parenR||e===H.arrow||(e===H.braceL?t===_e.b_stat:e!==H._var&&e!==H._const&&e!==H.name&&!this.exprAllowed):!t.isExpr)},we.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},we.updateContext=function(e){var t,n=this.type;n.keyword&&e===H.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},we.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},H.parenR.updateContext=H.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===_e.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},H.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?_e.b_stat:_e.b_expr),this.exprAllowed=!0},H.dollarBraceL.updateContext=function(){this.context.push(_e.b_tmpl),this.exprAllowed=!0},H.parenL.updateContext=function(e){this.context.push(e===H._if||e===H._for||e===H._with||e===H._while?_e.p_stat:_e.p_expr),this.exprAllowed=!0},H.incDec.updateContext=function(){},H._function.updateContext=H._class.updateContext=function(e){!e.beforeExpr||e===H._else||e===H.semi&&this.curContext()!==_e.p_stat||e===H._return&&j.test(this.input.slice(this.lastTokEnd,this.start))||(e===H.colon||e===H.braceL)&&this.curContext()===_e.b_stat?this.context.push(_e.f_stat):this.context.push(_e.f_expr),this.exprAllowed=!1},H.colon.updateContext=function(){"function"===this.curContext().token&&this.context.pop(),this.exprAllowed=!0},H.backQuote.updateContext=function(){this.curContext()===_e.q_tmpl?this.context.pop():this.context.push(_e.q_tmpl),this.exprAllowed=!1},H.star.updateContext=function(e){if(e===H._function){var t=this.context.length-1;this.context[t]=this.context[t]===_e.f_expr?_e.f_expr_gen:_e.f_gen}this.exprAllowed=!0},H.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==H.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Se=le.prototype;Se.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r,i=e.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===s&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);else{var o=t[r="$"+r];if(o)("init"===s?this.strict&&o.init||o.get||o.set:o.init||o[s])&&this.raiseRecoverable(i.start,"Redefinition of property");else o=t[r]={init:!1,get:!1,set:!1};o[s]=!0}}},Se.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===H.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(H.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i},Se.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new pe,r=!0);var a=this.start,l=this.startLoc;this.type!==H.parenL&&this.type!==H.name||(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===e);var u=this.parseMaybeConditional(e,t);if(n&&(u=n.call(this,u,a,l)),this.type.isAssign){var c=this.startNodeAt(a,l);return c.operator=this.value,this.type===H.eq&&(u=this.toAssignable(u,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=u.start&&(t.shorthandAssign=-1),this.type===H.eq?this.checkLValPattern(u):this.checkLValSimple(u),c.left=u,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}return r&&this.checkExpressionErrors(t,!0),i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),u},Se.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(H.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(H.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i},Se.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,e)},Se.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(null!=s&&(!i||this.type!==H._in)&&s>r){var o=this.type===H.logicalOR||this.type===H.logicalAND,a=this.type===H.coalesce;a&&(s=H.logicalAND.binop);var l=this.value;this.next();var u=this.start,c=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),u,c,s,i),p=this.buildBinary(t,n,e,h,l,o||a);return(o&&this.type===H.coalesce||a&&(this.type===H.logicalOR||this.type===H.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(p,t,n,r,i)}return e},Se.buildBinary=function(e,t,n,r,i,s){"PrivateIdentifier"===r.type&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")},Se.parseMaybeUnary=function(e,t,n,r){var i,s=this.start,o=this.startLoc;if(this.isContextual("await")&&this.canAwait)i=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),l=this.type===H.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,l,r),this.checkExpressionErrors(e,!0),l?this.checkLValSimple(a.argument):this.strict&&"delete"===a.operator&&"Identifier"===a.argument.type?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):"delete"===a.operator&&y(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,i=this.finishNode(a,l?"UpdateExpression":"UnaryExpression")}else if(t||this.type!==H.privateId){if(i=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return i;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=this.startNodeAt(s,o);u.operator=this.value,u.prefix=!1,u.argument=i,this.checkLValSimple(i),this.next(),i=this.finishNode(u,"UpdateExpression")}}else(r||0===this.privateNameStack.length)&&this.options.checkPrivateFields&&this.unexpected(),i=this.parsePrivateIdent(),this.type!==H._in&&this.unexpected();return n||!this.eat(H.starstar)?i:t?void this.unexpected(this.lastTokStart):this.buildBinary(s,o,i,this.parseMaybeUnary(null,!1,!1,r),"**",!1)},Se.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if("ArrowFunctionExpression"===i.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&"MemberExpression"===s.type&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s},Se.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||"ArrowFunctionExpression"===a.type){if(o){var l=this.startNodeAt(t,n);l.expression=a,a=this.finishNode(l,"ChainExpression")}return a}e=a}},Se.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(H.arrow)},Se.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)},Se.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,l=a&&this.eat(H.questionDot);r&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(H.bracketL);if(u||l&&this.type!==H.parenL&&this.type!==H.backQuote||this.eat(H.dot)){var c=this.startNodeAt(t,n);c.object=e,u?(c.property=this.parseExpression(),this.expect(H.bracketR)):c.property=this.type===H.privateId&&"Super"!==e.type?this.parsePrivateIdent():this.parseIdent("never"!==this.options.allowReserved),c.computed=!!u,a&&(c.optional=l),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(H.parenL)){var h=new pe,p=this.yieldPos,d=this.awaitPos,f=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var g=this.parseExprList(H.parenR,this.options.ecmaVersion>=8,!1,h);if(i&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=p,this.awaitPos=d,this.awaitIdentPos=f,this.parseSubscriptAsyncArrow(t,n,g,o);this.checkExpressionErrors(h,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=d||this.awaitPos,this.awaitIdentPos=f||this.awaitIdentPos;var m=this.startNodeAt(t,n);m.callee=e,m.arguments=g,a&&(m.optional=l),e=this.finishNode(m,"CallExpression")}else if(this.type===H.backQuote){(l||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var y=this.startNodeAt(t,n);y.tag=e,y.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(y,"TaggedTemplateExpression")}return e},Se.parseExprAtom=function(e,t,n){this.type===H.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case H._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type!==H.parenL||this.allowDirectSuper||this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==H.dot&&this.type!==H.bracketL&&this.type!==H.parenL&&this.unexpected(),this.finishNode(r,"Super");case H._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case H.name:var s=this.start,o=this.startLoc,a=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&"async"===l.name&&!this.canInsertSemicolon()&&this.eat(H._function))return this.overrideContext(_e.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(H.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[l],!1,t);if(this.options.ecmaVersion>=8&&"async"===l.name&&this.type===H.name&&!a&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return l=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(H.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[l],!0,t)}return l;case H.regexp:var u=this.value;return(r=this.parseLiteral(u.value)).regex={pattern:u.pattern,flags:u.flags},r;case H.num:case H.string:return this.parseLiteral(this.value);case H._null:case H._true:case H._false:return(r=this.startNode()).value=this.type===H._null?null:this.type===H._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case H.parenL:var c=this.start,h=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(h)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),h;case H.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(H.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case H.braceL:return this.overrideContext(_e.b_expr),this.parseObj(!1,e);case H._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case H._class:return this.parseClass(this.startNode(),!1);case H._new:return this.parseNew();case H.backQuote:return this.parseTemplate();case H._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}},Se.parseExprAtomDefault=function(){this.unexpected()},Se.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===H.parenL&&!e)return this.parseDynamicImport(t);if(this.type===H.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}this.unexpected()},Se.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(H.parenR)){var t=this.start;this.eat(H.comma)&&this.eat(H.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},Se.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},Se.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},Se.parseParenExpression=function(){this.expect(H.parenL);var e=this.parseExpression();return this.expect(H.parenR),e},Se.shouldParseArrow=function(){return!this.canInsertSemicolon()},Se.parseParenAndDistinguishExpression=function(e,t){var n,r=this.start,i=this.startLoc,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o,a=this.start,l=this.startLoc,u=[],c=!0,h=!1,p=new pe,d=this.yieldPos,f=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==H.parenR;){if(c?c=!1:this.expect(H.comma),s&&this.afterTrailingComma(H.parenR,!0)){h=!0;break}if(this.type===H.ellipsis){o=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===H.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}u.push(this.parseMaybeAssign(!1,p,this.parseParenItem))}var g=this.lastTokEnd,m=this.lastTokEndLoc;if(this.expect(H.parenR),e&&this.shouldParseArrow(u)&&this.eat(H.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=f,this.parseParenArrowList(r,i,u,t);u.length&&!h||this.unexpected(this.lastTokStart),o&&this.unexpected(o),this.checkExpressionErrors(p,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=f||this.awaitPos,u.length>1?((n=this.startNodeAt(a,l)).expressions=u,this.finishNodeAt(n,"SequenceExpression",g,m)):n=u[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(r,i);return y.expression=n,this.finishNode(y,"ParenthesizedExpression")}return n},Se.parseParenItem=function(e){return e},Se.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var Te=[];Se.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===H.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),e.arguments=this.eat(H.parenL)?this.parseExprList(H.parenR,this.options.ecmaVersion>=8,!1):Te,this.finishNode(e,"NewExpression")},Se.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===H.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===H.backQuote,this.finishNode(n,"TemplateElement")},Se.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===H.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(H.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(H.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},Se.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===H.name||this.type===H.num||this.type===H.string||this.type===H.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===H.star)&&!j.test(this.input.slice(this.lastTokEnd,this.start))},Se.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(H.braceR);){if(r)r=!1;else if(this.expect(H.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(H.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},Se.parseProperty=function(e,t){var n,r,i,s,o=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(H.ellipsis))return e?(o.argument=this.parseIdent(!1),this.type===H.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(o,"RestElement")):(o.argument=this.parseMaybeAssign(!1,t),this.type===H.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(o,"SpreadElement"));this.options.ecmaVersion>=6&&(o.method=!1,o.shorthand=!1,(e||t)&&(i=this.start,s=this.startLoc),e||(n=this.eat(H.star)));var a=this.containsEsc;return this.parsePropertyName(o),!e&&!a&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(o)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(H.star),this.parsePropertyName(o)):r=!1,this.parsePropertyValue(o,e,n,r,i,s,t,a),this.finishNode(o,"Property")},Se.parseGetterSetter=function(e){if(e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1),e.value.params.length!==("get"===e.kind?0:1)){var t=e.value.start;this.raiseRecoverable(t,"get"===e.kind?"getter should have no params":"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},Se.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===H.colon&&this.unexpected(),this.eat(H.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===H.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):t||a||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===H.comma||this.type===H.braceR||this.type===H.eq?this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===H.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected():((n||r)&&this.unexpected(),this.parseGetterSetter(e))},Se.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(H.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(H.bracketR),e.key;e.computed=!1}return e.key=this.type===H.num||this.type===H.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},Se.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},Se.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|f(t,r.generator)|(n?128:0)),this.expect(H.parenL),r.params=this.parseBindingList(H.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")},Se.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(16|f(n,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")},Se.parseFunctionBody=function(e,t,n,r){var i=this.strict,s=!1;if(t&&this.type!==H.braceL)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);i&&!o||(s=this.strictDirective(this.end))&&o&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var a=this.labels;this.labels=[],s&&(this.strict=!0),this.checkParams(e,!i&&!s&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,5),e.body=this.parseBlock(!1,void 0,s&&!i),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=a}this.exitScope()},Se.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){if("Identifier"!==n[t].type)return!1}return!0},Se.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){this.checkLValInnerPattern(i[r],1,t?null:n)}},Se.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(H.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===H.comma?o=null:this.type===H.ellipsis?(o=this.parseSpread(r),r&&this.type===H.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i},Se.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;(this.inGenerator&&"yield"===r&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===r&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),!this.inClassStaticBlock||"arguments"!==r&&"await"!==r||this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\"))||(this.strict?this.reservedWordsStrict:this.reservedWords).test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))},Se.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),"await"!==t.name||this.awaitIdentPos||(this.awaitIdentPos=t.start)),t},Se.parseIdentNode=function(){var e=this.startNode();return this.type===H.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,"class"!==e.name&&"function"!==e.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop(),this.type=H.name):this.unexpected(),e},Se.parsePrivateIdent=function(){var e=this.startNode();return this.type===H.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(0===this.privateNameStack.length?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e},Se.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===H.semi||this.canInsertSemicolon()||this.type!==H.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(H.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},Se.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var Ae=le.prototype;Ae.raise=function(e,t){var n=p(this.input,e),r=new SyntaxError(t+=" ("+n.line+":"+n.column+")");throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},Ae.raiseRecoverable=Ae.raise,Ae.curPosition=function(){if(this.options.locations)return new re(this.curLine,this.pos-this.lineStart)};var Ee=le.prototype,ke=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Ee.enterScope=function(e){this.scopeStack.push(new ke(e))},Ee.exitScope=function(){this.scopeStack.pop()},Ee.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},Ee.declareName=function(e,t,n){var r=!1;if(2===t){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&1&i.flags&&delete this.undefinedExports[e]}else if(4===t){this.currentScope().lexical.push(e)}else if(3===t){var s=this.currentScope();r=this.treatFunctionsAsVar?s.lexical.indexOf(e)>-1:s.lexical.indexOf(e)>-1||s.var.indexOf(e)>-1,s.functions.push(e)}else for(var o=this.scopeStack.length-1;o>=0;--o){var a=this.scopeStack[o];if(a.lexical.indexOf(e)>-1&&!(32&a.flags&&a.lexical[0]===e)||!this.treatFunctionsAsVarInScope(a)&&a.functions.indexOf(e)>-1){r=!0;break}if(a.var.push(e),this.inModule&&1&a.flags&&delete this.undefinedExports[e],259&a.flags)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},Ee.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},Ee.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Ee.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(259&t.flags)return t}},Ee.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(259&t.flags&&!(16&t.flags))return t}};var Ce=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new ie(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},Le=le.prototype;Le.startNode=function(){return new Ce(this,this.start,this.startLoc)},Le.startNodeAt=function(e,t){return new Ce(this,e,t)},Le.finishNode=function(e,t){return v.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},Le.finishNodeAt=function(e,t,n,r){return v.call(this,e,t,n,r)},Le.copyNode=function(e){var t=new Ce(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};for(var $e="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Re=$e+" Extended_Pictographic",Ie=Re+" EBase EComp EMod EPres ExtPict",Me={9:$e,10:Re,11:Re,12:Ie,13:Ie,14:Ie},Ne={9:"",10:"",11:"",12:"",13:"",14:"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji"},Oe="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",De="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Fe=De+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Pe=Fe+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Ve=Pe+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Be=Ve+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ze={9:De,10:Fe,11:Pe,12:Ve,13:Be,14:Be+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz"},Ue={},Ge=0,We=[9,10,11,12,13,14];Ge<We.length;Ge+=1){x(We[Ge])}var He=le.prototype,je=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Ue[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};je.prototype.reset=function(e,t,n){var r=-1!==n.indexOf("v"),i=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=i&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=i&&this.parser.options.ecmaVersion>=9)},je.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},je.prototype.at=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return-1;var i=n.charCodeAt(e);if(!t&&!this.switchU||i<=55295||i>=57344||e+1>=r)return i;var s=n.charCodeAt(e+1);return s>=56320&&s<=57343?(i<<10)+s-56613888:i},je.prototype.nextIndex=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return r;var i,s=n.charCodeAt(e);return!t&&!this.switchU||s<=55295||s>=57344||e+1>=r||(i=n.charCodeAt(e+1))<56320||i>57343?e+1:e+2},je.prototype.current=function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},je.prototype.lookahead=function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},je.prototype.advance=function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},je.prototype.eat=function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},je.prototype.eatChars=function(e,t){void 0===t&&(t=!1);for(var n=this.pos,r=0,i=e;r<i.length;r+=1){var s=i[r],o=this.at(n,t);if(-1===o||o!==s)return!1;n=this.nextIndex(n,t)}return this.pos=n,!0},He.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);-1===t.indexOf(o)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),"u"===o&&(r=!0),"v"===o&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")},He.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},He.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){-1===e.groupNames.indexOf(n[t])&&e.raise("Invalid named capture referenced")}},He.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},He.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},He.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},He.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},He.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},He.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},He.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return-1!==i&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},He.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},He.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},He.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},He.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},He.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},He.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},He.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!b(t)&&(e.lastIntValue=t,e.advance(),!0)},He.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!b(n);)e.advance();return e.pos!==t},He.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t)&&(e.advance(),!0)},He.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},He.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},He.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=h(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=h(e.lastIntValue);return!0}return!1},He.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),function(e){return i(e,!0)||36===e||95===e}(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},He.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),function(e){return s(e,!0)||36===e||95===e||8204===e||8205===e}(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},He.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},He.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},He.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},He.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},He.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},He.regexp_eatZero=function(e){return 48===e.current()&&!T(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},He.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},He.regexp_eatControlLetter=function(e){var t=e.current();return!!_(t)&&(e.lastIntValue=t%32,e.advance(),!0)},He.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var n,r=e.pos,i=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var s=e.lastIntValue;if(i&&s>=55296&&s<=56319){var o=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var a=e.lastIntValue;if(a>=56320&&a<=57343)return e.lastIntValue=1024*(s-55296)+(a-56320)+65536,!0}e.pos=o,e.lastIntValue=s}return!0}if(i&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&((n=e.lastIntValue)>=0&&n<=1114111))return!0;i&&e.raise("Invalid unicode escape"),e.pos=r}return!1},He.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t)&&(e.lastIntValue=t,e.advance(),!0)},He.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1};He.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(function(e){return 100===e||68===e||115===e||83===e||119===e||87===e}(t))return e.lastIntValue=-1,e.advance(),1;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=80===t)||112===t)){var r;if(e.lastIntValue=-1,e.advance(),e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&2===r&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return 0},He.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e))return this.regexp_validateUnicodePropertyNameAndValue(e,n,e.lastStringValue),1}return e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)?this.regexp_validateUnicodePropertyNameOrValue(e,e.lastStringValue):0},He.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){J(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},He.regexp_validateUnicodePropertyNameOrValue=function(e,t){return e.unicodeProperties.binary.test(t)?1:e.switchV&&e.unicodeProperties.binaryOfStrings.test(t)?2:void e.raise("Invalid property name")},He.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";w(t=e.current());)e.lastStringValue+=h(t),e.advance();return""!==e.lastStringValue},He.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";S(t=e.current());)e.lastStringValue+=h(t),e.advance();return""!==e.lastStringValue},He.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},He.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&2===n&&e.raise("Negated character class may contain strings"),!0}return!1},He.regexp_classContents=function(e){return 93===e.current()?1:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),1)},He.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},He.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||k(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return 93!==r&&(e.lastIntValue=r,e.advance(),!0)},He.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},He.regexp_classSetExpression=function(e){var t,n=1;if(this.regexp_eatClassSetRange(e));else if(t=this.regexp_eatClassSetOperand(e)){2===t&&(n=2);for(var r=e.pos;e.eatChars([38,38]);)38!==e.current()&&(t=this.regexp_eatClassSetOperand(e))?2!==t&&(n=1):e.raise("Invalid character in character class");if(r!==e.pos)return n;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return n}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(!(t=this.regexp_eatClassSetOperand(e)))return n;2===t&&(n=2)}},He.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return-1!==n&&-1!==r&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1},He.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?1:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)},He.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&2===r&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null},He.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null},He.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)2===this.regexp_classString(e)&&(t=2);return t},He.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return 1===t?1:2},He.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return!(!this.regexp_eatCharacterEscape(e)&&!this.regexp_eatClassSetReservedPunctuator(e))||(e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1));var n=e.current();return!(n<0||n===e.lookahead()&&function(e){return 33===e||e>=35&&e<=38||e>=42&&e<=44||46===e||e>=58&&e<=64||94===e||96===e||126===e}(n))&&(!function(e){return 40===e||41===e||45===e||47===e||e>=91&&e<=93||e>=123&&e<=125}(n)&&(e.advance(),e.lastIntValue=n,!0))},He.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return!!function(e){return 33===e||35===e||37===e||38===e||44===e||45===e||e>=58&&e<=62||64===e||96===e||126===e}(t)&&(e.lastIntValue=t,e.advance(),!0)},He.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!T(t)&&95!==t)&&(e.lastIntValue=t%32,e.advance(),!0)},He.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},He.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;T(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},He.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;A(n=e.current());)e.lastIntValue=16*e.lastIntValue+E(n),e.advance();return e.pos!==t},He.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;e.lastIntValue=t<=3&&this.regexp_eatOctalDigit(e)?64*t+8*n+e.lastIntValue:8*t+n}else e.lastIntValue=t;return!0}return!1},He.regexp_eatOctalDigit=function(e){var t=e.current();return k(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},He.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!A(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+E(i),e.advance()}return!0};var Ke=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new ie(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},qe=le.prototype;qe.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ke(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},qe.getToken=function(){return this.next(),new Ke(this)},"undefined"!=typeof Symbol&&(qe[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===H.eof,value:t}}}}),qe.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(H.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},qe.readToken=function(e){return i(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},qe.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},qe.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=u(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())},qe.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!l(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},qe.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&q.test(String.fromCharCode(e))))break e;++this.pos}}},qe.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},qe.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(H.ellipsis)):(++this.pos,this.finishToken(H.dot))},qe.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(H.assign,2):this.finishOp(H.slash,1)},qe.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?H.star:H.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,r=H.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(H.assign,n+1):this.finishOp(r,n)},qe.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(H.assign,3);return this.finishOp(124===e?H.logicalOR:H.logicalAND,2)}return 61===t?this.finishOp(H.assign,2):this.finishOp(124===e?H.bitwiseOR:H.bitwiseAND,1)},qe.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(H.assign,2):this.finishOp(H.bitwiseXOR,1)},qe.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!j.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(H.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(H.assign,2):this.finishOp(H.plusMin,1)},qe.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(H.assign,n+1):this.finishOp(H.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(H.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},qe.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(H.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(H.arrow)):this.finishOp(61===e?H.eq:H.prefix,1)},qe.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(H.questionDot,2)}if(63===t){if(e>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(H.assign,3);return this.finishOp(H.coalesce,2)}}return this.finishOp(H.question,1)},qe.readToken_numberSign=function(){var e=35;if(this.options.ecmaVersion>=13&&(++this.pos,i(e=this.fullCharCodeAtPos(),!0)||92===e))return this.finishToken(H.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+h(e)+"'")},qe.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(H.parenL);case 41:return++this.pos,this.finishToken(H.parenR);case 59:return++this.pos,this.finishToken(H.semi);case 44:return++this.pos,this.finishToken(H.comma);case 91:return++this.pos,this.finishToken(H.bracketL);case 93:return++this.pos,this.finishToken(H.bracketR);case 123:return++this.pos,this.finishToken(H.braceL);case 125:return++this.pos,this.finishToken(H.braceR);case 58:return++this.pos,this.finishToken(H.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(H.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(H.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+h(e)+"'")},qe.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},qe.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(j.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new je(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var l=null;try{l=new RegExp(i,o)}catch(e){}return this.finishToken(H.regexp,{pattern:i,flags:o,value:l})},qe.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&void 0===t,i=n&&48===this.input.charCodeAt(this.pos),s=this.pos,o=0,a=0,l=0,u=null==t?1/0:t;l<u;++l,++this.pos){var c=this.input.charCodeAt(this.pos),h=void 0;if(r&&95===c)i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===a&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===l&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;else{if((h=c>=97?c-97+10:c>=65?c-65+10:c>=48&&c<=57?c-48:1/0)>=e)break;a=c,o=o*e+h}}return r&&95===a&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||null!=t&&this.pos-s!==t?null:o},qe.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return null==n&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=C(this.input.slice(t,this.pos)),++this.pos):i(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(H.num,n)},qe.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(t,"Invalid number");var n=this.pos-t>=2&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&110===r){var s=C(this.input.slice(t,this.pos));return++this.pos,i(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(H.num,s)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(43!==(r=this.input.charCodeAt(++this.pos))&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),i(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o,a=(o=this.input.slice(t,this.pos),n?parseInt(o,8):parseFloat(o.replace(/_/g,"")));return this.finishToken(H.num,a)},qe.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},qe.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):8232===r||8233===r?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(l(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(H.string,t)};var Xe={};qe.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==Xe)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},qe.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Xe;this.raise(e,t)},qe.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==H.template&&this.type!==H.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(H.template,e)):36===n?(this.pos+=2,this.finishToken(H.dollarBraceL)):(++this.pos,this.finishToken(H.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(l(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},qe.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(H.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},qe.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return h(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e)this.invalidStringToken(this.pos-1,"Invalid escape sequence in template string");default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(n,8);return r>255&&(n=n.slice(0,-1),r=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),"0"===n&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return l(t)?"":String.fromCharCode(t)}},qe.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},qe.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var o=this.fullCharCodeAtPos();if(s(o,r))this.pos+=o<=65535?1:2;else{if(92!==o)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var a=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(t?i:s)(l,r)||this.invalidStringToken(a,"Invalid Unicode escape"),e+=h(l),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},qe.readWord=function(){var e=this.readWord1(),t=H.name;return this.keywords.test(e)&&(t=W[e]),this.finishToken(t,e)};var Ye="8.11.3";le.acorn={Parser:le,version:Ye,defaultOptions:se,Position:re,SourceLocation:ie,getLineInfo:p,Node:Ce,TokenType:z,tokTypes:H,keywordTypes:W,TokContext:be,tokContexts:_e,isIdentifierChar:s,isIdentifierStart:i,Token:Ke,isNewLine:l,lineBreak:j,lineBreakG:K,nonASCIIwhitespace:q}},Z66Z:function(e){e.exports=function(){throw new Error("define cannot be used indirect")}},a4Df:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),ArrayBuffer.transfer||(ArrayBuffer.transfer=(e,t)=>{if(!(e instanceof ArrayBuffer))throw new TypeError("Source must be an instance of ArrayBuffer");if(t<=e.byteLength)return e.slice(0,t);const n=new Uint8Array(e),r=new Uint8Array(new ArrayBuffer(t));return r.set(n),r.buffer});t.default=class{constructor(){this._capacity=32,this.cursor=0,this._written=0,this._buffer=new ArrayBuffer(this._capacity),this._view=new DataView(this._buffer)}maybeExpand(e){if(!(this.cursor+e<this._capacity)){for(;this.cursor+e>=this._capacity;)this._capacity*=2;this._buffer=ArrayBuffer.transfer(this._buffer,this._capacity),this._view=new DataView(this._buffer)}}updateWritten(){this._written=Math.max(this._written,this.cursor)}get(e,t){const n=this._view[`get${e?"I":"Ui"}nt${t}`](this.cursor,!0);return this.cursor+=t/8,n}getI(e){return this.get(!0,e)}getU(e){return this.get(!1,e)}getF(e){const t=this._view[`getFloat${e}`](this.cursor,!0);return this.cursor+=e/8,t}put(e,t,n){this.maybeExpand(n/8),this._view[`set${t?"I":"Ui"}nt${n}`](this.cursor,e,!0),this.cursor+=n/8,this.updateWritten()}putI(e,t){this.put(t,!0,e)}putU(e,t){this.put(t,!1,e)}putF(e,t){this.maybeExpand(e/8),this._view[`setFloat${e}`](this.cursor,t,!0),this.cursor+=e/8,this.updateWritten()}putA(e){this.maybeExpand(e.byteLength),new Uint8Array(this._buffer,this.cursor,e.byteLength).set(e),this.cursor+=e.byteLength,this.updateWritten()}align(e){const t=this.cursor%e;0!==t&&(this.cursor+=e-t)}asArray(){return new Uint8Array(this._buffer.slice(0,this._written))}get written(){return this._written}}},aA6t:function(e,t,n){(function(e){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t){"use strict";var n=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,i=function e(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},e.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};n.inherits(i,r),i.getTagRule=function(){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},i.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},i.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.JsDocCommentHighlightRules=i})),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(e,t){"use strict";function n(){var e=a.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var r="/"==e.charAt(1)?2:1;return 1==r?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==r&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==r?"":"end-")+"tag-open.xml",value:e.slice(0,r)},{type:"meta.tag.tag-name.xml",value:e.substr(r)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,r("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function r(e){return[{token:"comment",regex:/\/\*/,next:[s.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[s.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}var i=e("../lib/oop"),s=e("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,o=e("./text_highlight_rules").TextHighlightRules,a="[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*",l=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),i="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[s.getStartRule("doc-start"),r("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+a+")(\\.)(prototype)(\\.)("+a+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\.)("+a+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+a+")(\\.)("+a+")(\\s*)(=)(\\s*)(function\\*?)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function\\*?)(\\s+)("+a+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:t,regex:a},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+a+")(\\.)("+a+")(\\s*)(=)(\\s*)(function\\*?)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:a},{regex:"",token:"empty",next:"no_regex"}],start:[s.getStartRule("doc-start"),r("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[r("function_arguments"),{token:"variable.parameter",regex:a},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:i},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:i},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:i},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+a+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=.+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),e&&0==e.jsx||n.call(this)),this.embedRules(s,"doc-",[s.getEndRule("no_regex")]),this.normalizeRules()};i.inherits(l,o),t.JavaScriptHighlightRules=l})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t){"use strict";var n=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var r=e.getLine(t).match(/^(\s*\})/);if(!r)return 0;var i=r[1].length,s=e.findMatchingBracket({row:t,column:i});if(!s||s.row==t)return 0;var o=this.$getIndent(e.getLine(s.row));e.replace(new n(t,0,t,i-1),o)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t){"use strict";var n=e("../../lib/oop"),r=e("../../range").Range,i=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(s,i),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var i=this._getFoldWidgetBase(e,t,n);return!i&&this.startRegionRe.test(r)?"start":i},this.getFoldWidgetRange=function(e,t,n,r){var i,s=e.getLine(n);if(this.startRegionRe.test(s))return this.getCommentRegionBlock(e,s,n);if(i=s.match(this.foldingStartMarker)){var o=i.index;if(i[1])return this.openingBracketBlock(e,i[1],n,o);var a=e.getCommentFoldRange(n,o+i[0].length,1);return a&&!a.isMultiLine()&&(r?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}if("markbegin"!==t&&(i=s.match(this.foldingStopMarker))){o=i.index+i[0].length;return i[1]?this.closingBracketBlock(e,i[1],n,o):e.getCommentFoldRange(n,o,-1)}},this.getSectionRange=function(e,t){for(var n=e.getLine(t),i=n.search(/\S/),s=t,o=n.length,a=t+=1,l=e.getLength();++t<l;){var u=(n=e.getLine(t)).search(/\S/);if(-1!==u){if(i>u)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=s)break;if(c.isMultiLine())t=c.end.row;else if(i==u)break}a=t}}return new r(s,o,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),s=e.getLength(),o=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<s;){t=e.getLine(n);var u=a.exec(t);if(u&&(u[1]?l--:l++,!l))break}if(n>o)return new r(o,i,n,t.length)}}.call(s.prototype)})),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],(function(e,t){"use strict";var n=e("../lib/oop"),r=e("./text").Mode,i=e("./javascript_highlight_rules").JavaScriptHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,o=e("../worker/worker_client").WorkerClient,a=e("./behaviour/cstyle").CstyleBehaviour,l=e("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=i,this.$outdent=new s,this.$behaviour=new a,this.foldingRules=new l};n.inherits(u,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.getTokenizer().getLineTokens(t,e),s=i.tokens,o=i.state;if(s.length&&"comment"==s[s.length-1].type)return r;if("start"==e||"no_regex"==e)(a=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(r+=n);else if("doc-start"==e){if("start"==o||"no_regex"==o)return"";var a;(a=t.match(/^\s*(\/?)\*/))&&(a[1]&&(r+=" "),r+="* ")}return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new o(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}.call(u.prototype),t.Mode=u})),ace.require(["ace/mode/javascript"],(function(t){e&&(e.exports=t)}))}).call(this,n("RoC8")(e))},aRQd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoNullError=void 0;const r=n("QyX9");class i{constructor(e){this.node=e,this.type=r.ErrorType.SYNTAX,this.severity=r.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"null literals are not allowed."}elaborate(){return"They're not part of the Source §1 specs."}}t.NoNullError=i;t.default={name:"no-null",disableOn:2,checkers:{Literal:e=>null===e.value?[new i(e)]:[]}}},bIKd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("XwI5");t.default=class{constructor(e,t,n){this.checkBody=e=>{let t=!0;if(r.simple(e,{FunctionDeclaration(){t=!1},ArrowFunctionExpression(){t=!1},ReturnStatement(){t=!1},BreakStatement(){t=!1},ContinueStatement(){t=!1}}),!t)return;const n=new RegExp(/^math_[a-z]+$/);if(r.simple(e,{CallExpression(e){if("Identifier"!==e.callee.type)return void(t=!1);n.test(e.callee.name)||(t=!1)}}),!t)return;const i=new Set;r.simple(e,{VariableDeclaration(e){"Identifier"===e.declarations[0].id.type&&i.add(e.declarations[0].id.name)}}),this.localVar=i;const s=[],o=this.getArrayName;if(r.simple(e,{AssignmentExpression(e){if("Identifier"!==e.left.type||!i.has(e.left.name)){if("MemberExpression"===e.left.type){const t=o(e.left);if(i.has(t.name))return}s.push(e)}}}),1!==s.length)return;if("MemberExpression"!==s[0].left.type)return;const a=this.getPropertyAccess(s[0].left);if(0===a.length||a.length>this.counters.length)return;const l=this.getPropertyAccess,u=this.outputArray;if(r.simple(e,{MemberExpression(e){if(o(e).name!==u.name)return;const n=l(e);JSON.stringify(n)!==JSON.stringify(a)&&(t=!1)}},r.make({MemberExpression:()=>{}})),t){for(let e=0;e<this.counters.length&&a[e]===this.counters[e];e++)this.state++;this.state>3&&(this.state=3)}},this.getArrayName=e=>{let t=e;for(;"MemberExpression"===t.type;)t=t.object;return t},this.getPropertyAccess=e=>{const t=[];let n=!0,r=e;for(;"MemberExpression"===r.type;){if("Identifier"!==r.property.type){n=!1;break}t.push(r.property.name),r=r.object}return n?(this.outputArray=r,t.reverse()):[]},this.program=e,this.node=t,this.counters=n,this.state=0,this.checkBody(t)}}},"c+Ec":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleInternalError=t.ModuleNotFoundError=t.ModuleConnectionError=void 0;const r=n("5AhW");class i extends r.RuntimeSourceError{constructor(e){super(e)}explain(){return i.message}elaborate(){return i.elaboration}}t.ModuleConnectionError=i,i.message="Unable to get modules.",i.elaboration="You should check your Internet connection, and ensure you have used the correct module path.";t.ModuleNotFoundError=class extends r.RuntimeSourceError{constructor(e,t){super(t),this.moduleName=e}explain(){return`Module "${this.moduleName}" not found.`}elaborate(){return"\n      You should check your import declarations, and ensure that all are valid modules.\n    "}};t.ModuleInternalError=class extends r.RuntimeSourceError{constructor(e,t){super(t),this.moduleName=e}explain(){return`Error(s) occured when executing the module "${this.moduleName}".`}elaborate(){return"\n      You may need to contact with the author for this module to fix this error.\n    "}}},cZXM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoDotAbbreviationError=void 0;const r=n("QyX9");class i{constructor(e){this.node=e,this.type=r.ErrorType.SYNTAX,this.severity=r.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Dot abbreviations are not allowed."}elaborate(){return"Source doesn't use object-oriented programming, so you don't need any dots in your code (except decimal         points in numbers)."}}t.NoDotAbbreviationError=i;t.default={name:"no-dot-abbreviation",disableOn:100,checkers:{MemberExpression:e=>e.computed?[]:[new i(e)]}}},ct8n:function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n("pCvA"))},ed46:function(e,t,n){(function(e){!function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function e(t,n,r){"string"==typeof t?(2==arguments.length&&(r=n),e.modules[t]||(e.payloads[t]=r,e.modules[t]=null)):e.original?e.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n,r,i=function(e,t,n){if("string"==typeof t){var r=a(e,t);if(null!=r)return n&&n(),r}else if("[object Array]"===Object.prototype.toString.call(t)){for(var i=[],o=0,l=t.length;o<l;++o){var u=a(e,t[o]);if(null==u&&s.original)return;i.push(u)}return n&&n.apply(null,i)||!0}},s=function e(t,n){var r=i("",t,n);return null==r&&e.original?e.original.apply(this,arguments):r},o=function e(t,n){if(-1!==n.indexOf("!")){var r=n.split("!");return e(t,r[0])+"!"+e(t,r[1])}if("."==n.charAt(0))for(n=t.split("/").slice(0,-1).join("/")+"/"+n;-1!==n.indexOf(".")&&i!=n;){var i=n;n=n.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return n},a=function(e,n){n=o(e,n);var r=t.modules[n];if(!r){if("function"==typeof(r=t.payloads[n])){var s={},a={id:n,uri:"",exports:s,packaged:!0},l=r((function(e,t){return i(n,e,t)}),s,a);t.modules[n]=s=l||a.exports,delete t.payloads[n]}r=t.modules[n]=s||r}return r};r=e,(n="ace")&&(e[n]||(e[n]={}),r=e[n]),r.define&&r.define.packaged||(t.original=r.define,r.define=t,r.define.packaged=!0),r.require&&r.require.packaged||(s.original=r.require,r.require=s,r.require.packaged=!0)}(),ace.define("ace/lib/es6-shim",["require","exports","module"],(function(){function e(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||e(String.prototype,"startsWith",(function(e,t){return this.lastIndexOf(e,t=t||0)===t})),String.prototype.endsWith||e(String.prototype,"endsWith",(function(e,t){var n=this;(void 0===t||t>n.length)&&(t=n.length);var r=n.indexOf(e,t-=e.length);return-1!==r&&r===t})),String.prototype.repeat||e(String.prototype,"repeat",(function(e){for(var t="",n=this;e>0;)1&e&&(t+=n),(e>>=1)&&(n+=n);return t})),String.prototype.includes||e(String.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Object.assign||(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];null!=r&&Object.keys(r).forEach((function(e){t[e]=r[e]}))}return t}),Object.values||(Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}),Array.prototype.find||e(Array.prototype,"find",(function(e){for(var t=this.length,n=arguments[1],r=0;r<t;r++){var i=this[r];if(e.call(n,i,r,this))return i}})),Array.prototype.findIndex||e(Array.prototype,"findIndex",(function(e){for(var t=this.length,n=arguments[1],r=0;r<t;r++){if(e.call(n,this[r],r,this))return r}})),Array.prototype.includes||e(Array.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Array.prototype.fill||e(Array.prototype,"fill",(function(e){for(var t=this,n=t.length>>>0,r=arguments[1]>>0,i=r<0?Math.max(n+r,0):Math.min(r,n),s=arguments[2],o=void 0===s?n:s>>0,a=o<0?Math.max(n+o,0):Math.min(o,n);i<a;)t[i]=e,i++;return t})),Array.of||e(Array,"of",(function(){return Array.prototype.slice.call(arguments)}))})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],(function(e){"use strict";e("./es6-shim")})),ace.define("ace/lib/deep_copy",["require","exports","module"],(function(e,t){t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var r=0;r<t.length;r++)n[r]=e(t[r]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var r in n={},t)n[r]=e(t[r]);return n}})),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],(function(e,t){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var n=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n]&&"object"==typeof e[n]?this.copyObject(e[n]):e[n];return t},t.deepCopy=e("./deep_copy").deepCopy,t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function e(r){return e.cancel(),t=setTimeout(n,r||0),e};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){null==n&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i},t.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(e){return!1}return!0},t.skipEmptyMatch=function(e,t,n){return n&&e.codePointAt(t)>65535?2:1}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var n="object"==typeof navigator?navigator:{},r=(/mac|win|linux/i.exec(n.platform)||["other"])[0].toLowerCase(),i=n.userAgent||"",s=n.appName||"";t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==s||s.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=i.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(i.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(i.split(" Chrome/")[1])||void 0,t.isSafari=parseFloat(i.split(" Safari/")[1])&&!t.isChrome||void 0,t.isEdge=parseFloat(i.split(" Edge/")[1])||void 0,t.isAIR=i.indexOf("AdobeAIR")>=0,t.isAndroid=i.indexOf("Android")>=0,t.isChromeOS=i.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(i)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t){"use strict";function n(){var e=o;o=null,e&&e.forEach((function(e){r(e[0],e[1])}))}function r(e,r,s){if("undefined"!=typeof document){if(o)if(s)n();else if(!1===s)return o.push([e,r]);if(!i){var a=s;s&&s.getRootNode&&(a=s.getRootNode())&&a!=s||(a=document);var l=a.ownerDocument||a;if(r&&t.hasCssString(r,a))return null;r&&(e+="\n/*# sourceURL=ace/css/"+r+" */");var u=t.createElement("style");u.appendChild(l.createTextNode(e)),r&&(u.id=r),a==l&&(a=t.getDocumentHead(l)),a.insertBefore(u,a.firstChild)}}}var i,s=e("./useragent");t.buildDom=function e(t,n,r){if("string"==typeof t&&t){var i=document.createTextNode(t);return n&&n.appendChild(i),i}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var s=[],o=0;o<t.length;o++){var a=e(t[o],n,r);a&&s.push(a)}return s}var l=document.createElement(t[0]),u=t[1],c=1;u&&"object"==typeof u&&!Array.isArray(u)&&(c=2);for(o=c;o<t.length;o++)e(t[o],l,r);return 2==c&&Object.keys(u).forEach((function(e){var t=u[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?r&&(r[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var r=n.indexOf(t);if(-1==r)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),r=!0;;){var i=n.indexOf(t);if(-1==i)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,r=0;if(n=(t=t||document).querySelectorAll("style"))for(;r<n.length;)if(n[r++].id===e)return!0},t.removeElementById=function(e,t){(t=t||document).getElementById(e)&&t.getElementById(e).remove()};var o=[];if(t.useStrictCSP=function(e){i=e,0==e?n():o||(o=[])},t.importCssString=r,t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),i=r.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",r.appendChild(n);var s=e&&e.documentElement||document&&document.documentElement;if(!s)return 0;s.appendChild(r);var o=n.offsetWidth;i.overflow="scroll";var a=n.offsetWidth;return o===a&&(a=r.clientWidth),s.removeChild(r),o-a},t.computedStyle=function(e){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!s.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,s.isChromeOS&&(t.HI_DPI=!1),"undefined"!=typeof document){var a=document.createElement("div");t.HI_DPI&&void 0!==a.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),s.isEdge||void 0===a.style.animationName||(t.HAS_CSS_ANIMATION=!0),a=null}t.translate=t.HAS_CSS_TRANSFORMS?function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t){"use strict";var n=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var r=n.getDocumentHead(),i=document.createElement("script");i.src=e,r.appendChild(i),i.onload=i.onreadystatechange=function(e,n){!n&&i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(i=i.onload=i.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t){"use strict";var n={},r=function(){this.propagationStopped=!0},i=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],s=this._defaultHandlers[e];if(n.length||s){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=i),n=n.slice();for(var o=0;o<n.length&&(n[o](t,this),!t.propagationStopped);o++);return s&&!t.defaultPrevented?s(t,this):void 0}},n._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)}},n.once=function(e,t){var n=this;if(this.on(e,(function r(){n.off(e,r),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},n.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var s=i.indexOf(t);-1!=s&&i.splice(s,1)}n[e]=t},n.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var r=n._disabled_[e];if(n[e]==t)r&&this.setDefaultHandler(e,r.pop());else if(r){var i=r.indexOf(t);-1!=i&&r.splice(i,1)}}},n.on=n.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),-1==r.indexOf(t)&&r[n?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},n.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=n})),ace.define("ace/lib/report_error",["require","exports","module"],(function(e,t){t.reportError=function(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error"],(function(e,t){function n(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}var r,i=e("./oop"),s=e("./event_emitter").EventEmitter,o=e("./report_error").reportError,a={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var r=this.$options[e];if(!r)return n('misspelled option "'+e+'"');if(r.forwardTo)return this[r.forwardTo]&&this[r.forwardTo].setOption(e,t);r.handlesSet||(this["$"+e]=t),r&&r.set&&r.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:n('misspelled option "'+e+'"')}},l=function(){function e(){this.$defaultOptions={}}return e.prototype.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var r=n[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)})),i.implement(e,a),this},e.prototype.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},e.prototype.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},e.prototype.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},e.prototype.setMessages=function(e){r=e},e.prototype.nls=function(e,t){r&&!r[e]&&n("No message found for '"+e+"' in the provided messages, falling back to default English message.");var i=r&&r[e]||e;return t&&(i=i.replace(/\$(\$|[\d]+)/g,(function(e,n){return"$"==n?"$":t[n]}))),i},e}();l.prototype.warn=n,l.prototype.reportError=o,i.implement(l.prototype,s),t.AppConfig=l})),ace.define("ace/theme/textmate-css",["require","exports","module"],(function(e,t,n){n.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],(function(e,t){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText=e("./textmate-css"),t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],(function(e,t,n){var r=e("./lib/lang"),i=e("./lib/net"),s=e("./lib/dom"),o=e("./lib/app_config").AppConfig;n.exports=t=new o;var a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},t.set=function(e,t){if(a.hasOwnProperty(e))a[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&s.useStrictCSP(t)},t.all=function(){return r.copyObject(a)},t.$modes={},t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var n=e.split("/"),r="snippets"==(t=t||n[n.length-2]||"")?"/":"-",i=n[n.length-1];if("worker"==t&&"-"==r){var s=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");i=i.replace(s,"")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var o=a[t+"Path"];return null==o?o=a.basePath:"/"==r&&(t=r=""),o&&"/"!=o.slice(-1)&&(o+="/"),o+t+r+i+this.get("suffix")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t};var l;t.setLoader=function(e){l=e},t.dynamicModules=Object.create(null),t.$loading={},t.$loaded={},t.loadModule=function(n,r){var s;if(Array.isArray(n))var o=n[0],a=n[1];else if("string"==typeof n)a=n;var c=function(n){if(n&&!t.$loading[a])return r&&r(n);if(t.$loading[a]||(t.$loading[a]=[]),t.$loading[a].push(r),!(t.$loading[a].length>1)){var s=function(){!function(t,n){"ace/theme/textmate"===t||"./theme/textmate"===t?n(null,e("./theme/textmate")):l?l(t,n):console.error("loader is not configured")}(a,(function(e,n){n&&(t.$loaded[a]=n),t._emit("load.module",{name:a,module:n});var r=t.$loading[a];t.$loading[a]=null,r.forEach((function(e){e&&e(n)}))}))};if(!t.get("packaged"))return s();i.loadScript(t.moduleUrl(a,o),s),u()}};if(t.dynamicModules[a])t.dynamicModules[a]().then((function(e){c(e.default?e.default:e)}));else{try{s=this.$require(a)}catch(e){}c(s||t.$loaded[a])}},t.$require=function(e){if("function"==typeof n.require){return n.require(e)}},t.setModuleLoader=function(e,n){t.dynamicModules[e]=n};var u=function(){a.basePath||a.workerPath||a.modePath||a.themePath||Object.keys(a.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),u=function(){})};t.version="1.32.7"})),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],(function(e,t,r){"use strict";function i(t){if(o&&o.document){s.set("packaged",t||e.packaged||r.packaged||o.define&&n("Z66Z").packaged);var i={},a="",l=document.currentScript||document._currentScript,u=l&&l.ownerDocument||document;l&&l.src&&(a=l.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var c,h=u.getElementsByTagName("script"),p=0;p<h.length;p++){var d=h[p],f=d.src||d.getAttribute("src");if(f){for(var g=d.attributes,m=0,y=g.length;m<y;m++){var v=g[m];0===v.name.indexOf("data-ace-")&&(i[(c=v.name.replace(/^data-ace-/,""),c.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=v.value)}var x=f.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);x&&(a=x[1])}}for(var b in a&&(i.base=i.base||a,i.packaged=!0),i.basePath=i.base,i.workerPath=i.workerPath||i.base,i.modePath=i.modePath||i.base,i.themePath=i.themePath||i.base,delete i.base,i)void 0!==i[b]&&s.set(b,i[b])}}e("./lib/fixoldbrowsers");var s=e("./config");s.setLoader((function(t,n){e([t],(function(e){n(null,e)}))}));var o=function(){return this||"undefined"!=typeof window&&window}();r.exports=function(t){s.init=i,s.$require=e,t.require=e,t.define=n("Z66Z")},i(!0)})),ace.define("ace/range",["require","exports","module"],(function(e,t){"use strict";var n=function(){function e(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}}return e.prototype.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},e.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},e.prototype.contains=function(e,t){return 0==this.compare(e,t)},e.prototype.compareRange=function(e){var t,n=e.end,r=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(r.row,r.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(r.row,r.column))?-1:1==t?42:0},e.prototype.comparePoint=function(e){return this.compare(e.row,e.column)},e.prototype.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},e.prototype.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},e.prototype.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},e.prototype.isStart=function(e,t){return this.start.row==e&&this.start.column==t},e.prototype.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},e.prototype.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},e.prototype.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},e.prototype.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},e.prototype.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},e.prototype.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},e.prototype.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},e.prototype.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},e.prototype.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},e.prototype.clipRows=function(t,n){if(this.end.row>n)var r={row:n+1,column:0};else if(this.end.row<t)r={row:t,column:0};if(this.start.row>n)var i={row:n+1,column:0};else if(this.start.row<t)i={row:t,column:0};return e.fromPoints(i||this.start,r||this.end)},e.prototype.extend=function(t,n){var r=this.compare(t,n);if(0==r)return this;if(-1==r)var i={row:t,column:n};else var s={row:t,column:n};return e.fromPoints(i||this.start,s||this.end)},e.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},e.prototype.isMultiLine=function(){return this.start.row!==this.end.row},e.prototype.clone=function(){return e.fromPoints(this.start,this.end)},e.prototype.collapseRows=function(){return new e(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},e.prototype.toScreenRange=function(t){var n=t.documentToScreenPosition(this.start),r=t.documentToScreenPosition(this.end);return new e(n.row,n.column,r.row,r.column)},e.prototype.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t},e}();n.fromPoints=function(e,t){return new n(e.row,e.column,t.row,t.column)},n.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=n})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t){"use strict";var n=e("./oop"),r=function(){var e,t,r={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in r.PRINTABLE_KEYS[173]="-",r.FUNCTION_KEYS)e=r.FUNCTION_KEYS[t].toLowerCase(),r[e]=parseInt(t,10);for(t in r.PRINTABLE_KEYS)e=r.PRINTABLE_KEYS[t].toLowerCase(),r[e]=parseInt(t,10);return n.mixin(r,r.MODIFIER_KEYS),n.mixin(r,r.PRINTABLE_KEYS),n.mixin(r,r.FUNCTION_KEYS),r.enter=r.return,r.escape=r.esc,r.del=r.delete,function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)r.KEY_MODS[t]=e.filter((function(e){return t&r.KEY_MODS[e]})).join("-")+"-"}(),r.KEY_MODS[0]="",r.KEY_MODS[-1]="input-",r}();n.mixin(t,r),t.default=t,t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t){"use strict";function n(){return null==o&&function(){o=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){return o={passive:!1},!0}})}catch(e){}}(),o}function r(e,t,n){this.elem=e,this.type=t,this.callback=n}function i(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function s(){u=Object.create(null)}var o,a=e("./keys"),l=e("./useragent"),u=null,c=0;r.prototype.destroy=function(){p(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var h=t.addListener=function(e,t,i,s){e.addEventListener(t,i,n()),s&&s.$toDestroy.push(new r(e,t,i))},p=t.removeListener=function(e,t,r){e.removeEventListener(t,r,n())};if(t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||l.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){function r(e){t&&t(e),n&&n(e),p(i,"mousemove",t),p(i,"mouseup",r),p(i,"dragstart",r)}var i=e&&e.ownerDocument||document;return h(i,"mousemove",t),h(i,"mouseup",r),h(i,"dragstart",r),r},t.addMouseWheelListener=function(e,t,n){h(e,"wheel",(function(e){var n=e.deltaX||0,r=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.15*n,e.wheelY=.15*r;break;case e.DOM_DELTA_LINE:e.wheelX=15*n,e.wheelY=15*r;break;case e.DOM_DELTA_PAGE:e.wheelX=150*n,e.wheelY=150*r}t(e)}),n)},t.addMultiMouseDownListener=function(e,n,r,i,s){function o(e){if(0!==t.getButton(e)?p=0:e.detail>1?++p>4&&(p=1):p=1,l.isIE){var s=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-u)>5;c&&!s||(p=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[p-1]||600),1==p&&(a=e.clientX,u=e.clientY)}if(e._clicks=p,r[i]("mousedown",e),p>4)p=0;else if(p>1)return r[i](d[p],e)}var a,u,c,p=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach((function(e){h(e,"mousedown",o,s)}))},t.getModifierString=function(e){return a.KEY_MODS[i(e)]},t.addCommandKeyListener=function(e,n,r){var o=null;h(e,"keydown",(function(e){u[e.keyCode]=(u[e.keyCode]||0)+1;var t=function(e,t,n){var r=i(t);if(!l.isMac&&u){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(r|=8),u.altGr){if(3==(3&r))return;u.altGr=0}if(18===n||17===n){var s=t.location;17===n&&1===s?1==u[n]&&(c=t.timeStamp):18===n&&3===r&&2===s&&t.timeStamp-c<50&&(u.altGr=!0)}}if(n in a.MODIFIER_KEYS&&(n=-1),r||13!==n||3!==t.location||(e(t,r,-n),!t.defaultPrevented)){if(l.isChromeOS&&8&r){if(e(t,r,n),t.defaultPrevented)return;r&=-9}return!!(r||n in a.FUNCTION_KEYS||n in a.PRINTABLE_KEYS)&&e(t,r,n)}}(n,e,e.keyCode);return o=e.defaultPrevented,t}),r),h(e,"keypress",(function(e){o&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),o=null)}),r),h(e,"keyup",(function(e){u[e.keyCode]=null}),r),u||(s(),h(window,"focus",s))},"object"==typeof window&&window.postMessage&&!l.isOldIE){var d=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+d++;h(n,"message",(function i(s){s.data==r&&(t.stopPropagation(s),p(n,"message",i),e())})),n.postMessage(r,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame=t.nextFrame?t.nextFrame.bind(window):function(e){setTimeout(e,17)}})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){"use strict";var r;n.exports={lineMode:!1,pasteCancelled:function(){return!!(r&&r>Date.now()-50)||(r=!1)},cancel:function(){r=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t){"use strict";var n=e("../lib/event"),r=e("../config").nls,i=e("../lib/useragent"),s=e("../lib/dom"),o=e("../lib/lang"),a=e("../clipboard"),l=i.isChrome<18,u=i.isIE,c=i.isChrome>63,h=400,p=e("../lib/keys"),d=p.KEY_MODS,f=i.isIOS,g=f?/\s/:/\n/,m=i.isMobile;t.TextInput=function(e,t){function y(){E=!0,x.blur(),x.focus(),E=!1}function v(){clearTimeout(j),j=setTimeout((function(){T&&(x.style.cssText=T,T=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}var x=s.createElement("textarea");x.className="ace_text-input",x.setAttribute("wrap","off"),x.setAttribute("autocorrect","off"),x.setAttribute("autocapitalize","off"),x.setAttribute("spellcheck","false"),x.style.opacity="0",e.insertBefore(x,e.firstChild);var b=!1,_=!1,w=!1,S=!1,T="";m||(x.style.fontSize="1px");var A=!1,E=!1,k="",C=0,L=0,$=0,R=Number.MAX_SAFE_INTEGER,I=Number.MIN_SAFE_INTEGER,M=0;try{var N=document.activeElement===x}catch(e){}this.setNumberOfExtraLines=function(e){R=Number.MAX_SAFE_INTEGER,I=Number.MIN_SAFE_INTEGER,M=e<0?0:e},this.setAriaOptions=function(e){(e.activeDescendant?(x.setAttribute("aria-haspopup","true"),x.setAttribute("aria-autocomplete",e.inline?"both":"list"),x.setAttribute("aria-activedescendant",e.activeDescendant)):(x.setAttribute("aria-haspopup","false"),x.setAttribute("aria-autocomplete","both"),x.removeAttribute("aria-activedescendant")),e.role&&x.setAttribute("role",e.role),e.setLabel)&&(x.setAttribute("aria-roledescription",r("editor")),t.session&&x.setAttribute("aria-label",r("Cursor at row $0",[t.session.selection.cursor.row+1])))},this.setAriaOptions({role:"textbox"}),n.addListener(x,"blur",(function(e){E||(t.onBlur(e),N=!1)}),t),n.addListener(x,"focus",(function(e){if(!E){if(N=!0,i.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),i.isEdge?setTimeout(D):D()}}),t),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:t.renderer.enableKeyboardAccessibility}),T||c||"browser"==this.$focusScroll)return x.focus({preventScroll:!0});var e=x.style.top;x.style.position="fixed",x.style.top="0px";try{var n=0!=x.getBoundingClientRect().top}catch(e){return}var r=[];if(n)for(var i=x.parentElement;i&&1==i.nodeType;)r.push(i),i.setAttribute("ace_nocontext","true"),i=!i.parentElement&&i.getRootNode?i.getRootNode().host:i.parentElement;x.focus({preventScroll:!0}),n&&r.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){x.style.position="","0px"==x.style.top&&(x.style.top=e)}),0)},this.blur=function(){x.blur()},this.isFocused=function(){return N},t.on("beforeEndOperation",(function(){var e=t.curOp,n=e&&e.command&&e.command.name;"insertstring"!=n&&(w&&(n&&(e.docChanged||e.selectionChanged))&&(k=x.value="",q()),D())}));var O=function(e,n){for(var r=n,i=1;i<=e-R&&i<2*M+1;i++)r+=t.session.getLine(e-i).length+1;return r},D=f?function(e){if(N&&(!b||e)&&!S){e||(e="");var n="\n ab"+e+"cde fg\n";n!=x.value&&(x.value=k=n);var r=4+(e.length||(t.selection.isEmpty()?0:1));4==C&&L==r||x.setSelectionRange(4,r),C=4,L=r}}:function(){if(!w&&!S&&(N||P)){w=!0;var e=0,n=0,r="";if(t.session){var i=t.selection,s=i.getRange(),o=i.cursor.row;o===I+1?I=(R=I+1)+2*M:o===R-1?R=(I=R-1)-2*M:(o<R-1||o>I+1)&&(R=o>M?o-M:0,I=o>M?o+M:2*M);for(var a=[],l=R;l<=I;l++)a.push(t.session.getLine(l));if(r=a.join("\n"),e=O(s.start.row,s.start.column),n=O(s.end.row,s.end.column),s.start.row<R){var u=t.session.getLine(R-1);e=s.start.row<R-1?0:e,n+=u.length+1,r=u+"\n"+r}else if(s.end.row>I){var c=t.session.getLine(I+1);n=s.end.row>I+1?c.length:s.end.column,n+=r.length+1,r=r+"\n"+c}else m&&o>0&&(r="\n"+r,n+=1,e+=1);r.length>h&&(e<h&&n<h?r=r.slice(0,h):(r="\n",e==n?e=n=0:(e=0,n=1)));var p=r+"\n\n";p!=k&&(x.value=k=p,C=L=p.length)}if(P&&(C=x.selectionStart,L=x.selectionEnd),L!=n||C!=e||x.selectionEnd!=L)try{x.setSelectionRange(e,n),C=e,L=n}catch(e){}w=!1}};this.resetSelection=D,N&&t.onFocus();var F=null;this.setInputHandler=function(e){F=e},this.getInputHandler=function(){return F};var P=!1,V=function(e,n){if(P&&(P=!1),_)return D(),e&&t.onPaste(e),_=!1,"";for(var r=x.selectionStart,s=x.selectionEnd,o=C,a=k.length-L,l=e,u=e.length-r,c=e.length-s,h=0;o>0&&k[h]==e[h];)h++,o--;for(l=l.slice(h),h=1;a>0&&k.length-h>C-1&&k[k.length-h]==e[e.length-h];)h++,a--;u-=h-1,c-=h-1;var p=l.length-h+1;if(p<0&&(o=-p,p=0),l=l.slice(0,p),!(n||l||u||o||a||c))return"";S=!0;var d=!1;return i.isAndroid&&". "==l&&(l="  ",d=!0),l&&!o&&!a&&!u&&!c||A?t.onTextInput(l):t.onTextInput(l,{extendLeft:o,extendRight:a,restoreStart:u,restoreEnd:c}),S=!1,k=e,C=r,L=s,$=c,d?"\n":l},B=function(e){if(w)return K();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var n=x.value,r=V(n,!0);(n.length>500||g.test(r)||m&&C<1&&C==L)&&D()},z=function e(t,n,r){var i=t.clipboardData||window.clipboardData;if(i&&!l){var s=u||r?"Text":"text/plain";try{return n?!1!==i.setData(s,n):i.getData(s)}catch(t){if(!r)return e(t,n,!0)}}},U=function(e,r){var i=t.getCopyText();if(!i)return n.preventDefault(e);z(e,i)?(f&&(D(i),b=i,setTimeout((function(){b=!1}),10)),r?t.onCut():t.onCopy(),n.preventDefault(e)):(b=!0,x.value=i,x.select(),setTimeout((function(){b=!1,D(),r?t.onCut():t.onCopy()})))},G=function(e){U(e,!0)},W=function(e){U(e,!1)},H=function(e){var r=z(e);a.pasteCancelled()||("string"==typeof r?(r&&t.onPaste(r,e),i.isIE&&setTimeout(D),n.preventDefault(e)):(x.value="",_=!0))};n.addCommandKeyListener(x,(function(e,n,r){if(!w)return t.onCommandKey(e,n,r)}),t),n.addListener(x,"select",(function(){w||(b?b=!1:!function(e){return 0===e.selectionStart&&e.selectionEnd>=k.length&&e.value===k&&k&&e.selectionEnd!==L}(x)?m&&x.selectionStart!=C&&D():(t.selectAll(),D()))}),t),n.addListener(x,"input",B,t),n.addListener(x,"cut",G,t),n.addListener(x,"copy",W,t),n.addListener(x,"paste",H,t),"oncut"in x&&"oncopy"in x&&"onpaste"in x||n.addListener(e,"keydown",(function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:W(e);break;case 86:H(e);break;case 88:G(e)}}),t);var j,K=function(){if(w&&t.onCompositionUpdate&&!t.$readOnly){if(A)return y();if(w.useTextareaForIME)t.onCompositionUpdate(x.value);else V(x.value),w.markerRange&&(w.context&&(w.markerRange.start.column=w.selectionStart=w.context.compositionStartOffset),w.markerRange.end.column=w.markerRange.start.column+L-w.selectionStart+$)}},q=function(e){t.onCompositionEnd&&!t.$readOnly&&(w=!1,t.onCompositionEnd(),t.off("mousedown",y),e&&B())},X=o.delayedCall(K,50).schedule.bind(null,null);n.addListener(x,"compositionstart",(function(e){if(!w&&t.onCompositionStart&&!t.$readOnly&&(w={},!A)){e.data&&(w.useTextareaForIME=!1),setTimeout(K,0),t._signal("compositionStart"),t.on("mousedown",y);var n=t.getSelectionRange();n.end.row=n.start.row,n.end.column=n.start.column,w.markerRange=n,w.selectionStart=C,t.onCompositionStart(w),w.useTextareaForIME?(k=x.value="",C=0,L=0):(x.msGetInputContext&&(w.context=x.msGetInputContext()),x.getInputContext&&(w.context=x.getInputContext()))}}),t),n.addListener(x,"compositionupdate",K,t),n.addListener(x,"keyup",(function(e){27==e.keyCode&&x.value.length<x.selectionStart&&(w||(k=x.value),C=L=-1,D()),X()}),t),n.addListener(x,"keydown",X,t),n.addListener(x,"compositionend",q,t),this.getElement=function(){return x},this.setCommandMode=function(e){A=e,x.readOnly=!1},this.setReadOnly=function(e){A||(x.readOnly=e)},this.setCopyWithEmptySelection=function(){},this.onContextMenu=function(e){P=!0,D(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,r){T||(T=x.style.cssText),x.style.cssText=(r?"z-index:100000;":"")+(i.isIE?"opacity:0.1;":"")+"text-indent: -"+(C+L)*t.renderer.characterWidth*.5+"px;";var o=t.container.getBoundingClientRect(),a=s.computedStyle(t.container),l=o.top+(parseInt(a.borderTopWidth)||0),u=o.left+(parseInt(o.borderLeftWidth)||0),c=o.bottom-l-x.clientHeight-2,h=function(e){s.translate(x,e.clientX-u-2,Math.min(e.clientY-l-2,c))};h(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(j),i.isWin&&n.capture(t.container,h,v))},this.onContextMenuClose=v;var Y=function(e){t.textInput.onContextMenu(e),v()};n.addListener(x,"mouseup",Y,t),n.addListener(x,"mousedown",(function(e){e.preventDefault(),v()}),t),n.addListener(t.renderer.scroller,"contextmenu",Y,t),n.addListener(x,"contextmenu",Y,t),f&&function(e,t,n){var r=null,i=!1;n.addEventListener("keydown",(function(){r&&clearTimeout(r),i=!0}),!0),n.addEventListener("keyup",(function(){r=setTimeout((function(){i=!1}),100)}),!0);var s=function(){if(document.activeElement===n&&!(i||w||t.$mouseHandler.isMousePressed||b)){var e=n.selectionStart,r=n.selectionEnd,s=null,o=0;if(0==e?s=p.up:1==e?s=p.home:r>L&&"\n"==k[r]?s=p.end:e<C&&" "==k[e-1]?(s=p.left,o=d.option):e<C||e==C&&L!=C&&e==r?s=p.left:r>L&&k.slice(0,r).split("\n").length>2?s=p.down:r>L&&" "==k[r-1]?(s=p.right,o=d.option):(r>L||r==L&&L!=C&&e==r)&&(s=p.right),e!==r&&(o|=d.shift),s){if(!t.onCommandKey({},o,s)&&t.commands){s=p.keyCodeToString(s);var a=t.commands.findKeyCommand(o,s);a&&t.execCommand(a)}C=e,L=r,D("")}}};document.addEventListener("selectionchange",s),t.on("destroy",(function(){document.removeEventListener("selectionchange",s)}))}(0,t,x),this.destroy=function(){x.parentElement&&x.parentElement.removeChild(x)}},t.$setUserAgentForTests=function(e,t){m=e,f=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t){"use strict";function n(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var r=e("../lib/useragent"),i=function(){function e(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}return e.prototype.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,s=e.getButton();return 0!==s?((i.getSelectionRange().isEmpty()||1==s)&&i.selection.moveToPosition(n),void(2==s&&(i.textInput.onContextMenu(e.domEvent),r.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||i.isFocused()||(i.focus(),!this.$focusTimeout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},e.prototype.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.setStyle("ace_selecting"),this.setState("select"))},e.prototype.select=function(){var e,t=this.editor,r=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(r);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var s=n(this.$clickSelection,r);r=s.cursor,e=s.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(r),t.renderer.scrollCursorIntoView()},e.prototype.extendSelectionBy=function(e){var t,r=this.editor,i=r.renderer.screenToTextCoordinates(this.x,this.y),s=r.selection[e](i.row,i.column);if(this.$clickSelection){var o=this.$clickSelection.comparePoint(s.start),a=this.$clickSelection.comparePoint(s.end);if(-1==o&&a<=0)t=this.$clickSelection.end,s.end.row==i.row&&s.end.column==i.column||(i=s.start);else if(1==a&&o>=0)t=this.$clickSelection.start,s.start.row==i.row&&s.start.column==i.column||(i=s.end);else if(-1==o&&1==a)i=s.end,t=s.start;else{var l=n(this.$clickSelection,i);i=l.cursor,t=l.anchor}r.selection.setSelectionAnchor(t.row,t.column)}r.selection.selectToPosition(i),r.renderer.scrollCursorIntoView()},e.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},e.prototype.focusWait=function(){var e,t,n=(e=this.mousedownEvent.y,t=this.y,Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(t-e,2))),r=Date.now();(n>0||r-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},e.prototype.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session.getBracketRange(t);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=r,this.select()},e.prototype.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},e.prototype.onQuadClick=function(){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},e.prototype.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,r=e.domEvent.timeStamp,i=r-n.t,s=i?e.wheelX/i:n.vx,o=i?e.wheelY/i:n.vy;i<550&&(s=(s+n.vx)/2,o=(o+n.vy)/2);var a=Math.abs(s/o),l=!1;if(a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l)n.allowed=r;else if(r-n.allowed<550){Math.abs(s)<=1.5*Math.abs(n.vx)&&Math.abs(o)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=r):n.allowed=0}return n.t=r,n.vx=s,n.vy=o,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},e}();i.prototype.selectEnd=i.prototype.selectByLinesEnd,i.prototype.selectAllEnd=i.prototype.selectByLinesEnd,i.prototype.selectByWordsEnd=i.prototype.selectByLinesEnd,t.DefaultHandlers=i})),ace.define("ace/lib/scroll",["require","exports","module"],(function(e,t){t.preventParentScroll=function(e){e.stopPropagation();var t=e.currentTarget;t.scrollHeight>t.clientHeight||e.preventDefault()}})),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],(function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=e("./lib/dom"),o=(e("./lib/event"),e("./range").Range),a=e("./lib/scroll").preventParentScroll,l="ace_tooltip",u=function(){function e(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}return e.prototype.$init=function(){return this.$element=s.createElement("div"),this.$element.className=l,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},e.prototype.getElement=function(){return this.$element||this.$init()},e.prototype.setText=function(e){this.getElement().textContent=e},e.prototype.setHtml=function(e){this.getElement().innerHTML=e},e.prototype.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},e.prototype.setClassName=function(e){s.addCssClass(this.getElement(),e)},e.prototype.setTheme=function(e){this.$element.className=l+" "+(e.isDark?"ace_dark ":"")+(e.cssClass||"")},e.prototype.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},e.prototype.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=l,this.isOpen=!1)},e.prototype.getHeight=function(){return this.getElement().offsetHeight},e.prototype.getWidth=function(){return this.getElement().offsetWidth},e.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},e}(),c=new(function(){function e(){this.popups=[]}return e.prototype.addPopup=function(e){this.popups.push(e),this.updatePopups()},e.prototype.removePopup=function(e){var t=this.popups.indexOf(e);-1!==t&&(this.popups.splice(t,1),this.updatePopups())},e.prototype.updatePopups=function(){var e,t,n,r;this.popups.sort((function(e,t){return t.priority-e.priority}));var s=[];try{for(var o=i(this.popups),a=o.next();!a.done;a=o.next()){var l=a.value,u=!0;try{for(var c=(n=void 0,i(s)),h=c.next();!h.done;h=c.next()){if(this.doPopupsOverlap(h.value,l)){u=!1;break}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}u?s.push(l):l.hide()}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.doPopupsOverlap=function(e,t){var n=e.getElement().getBoundingClientRect(),r=t.getElement().getBoundingClientRect();return n.left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top},e}());t.popupManager=c,t.Tooltip=u;var h=function(e){function t(t){void 0===t&&(t=document.body);var n=e.call(this,t)||this;n.timeout=void 0,n.lastT=0,n.idleTime=350,n.lastEvent=void 0,n.onMouseOut=n.onMouseOut.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.waitForHover=n.waitForHover.bind(n),n.hide=n.hide.bind(n);var r=n.getElement();return r.style.whiteSpace="pre-wrap",r.style.pointerEvents="auto",r.addEventListener("mouseout",n.onMouseOut),r.tabIndex=-1,r.addEventListener("blur",function(){r.contains(document.activeElement)||this.hide()}.bind(n)),r.addEventListener("wheel",a),n}return r(t,e),t.prototype.addToEditor=function(e){e.on("mousemove",this.onMouseMove),e.on("mousedown",this.hide),e.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},t.prototype.removeFromEditor=function(e){e.off("mousemove",this.onMouseMove),e.off("mousedown",this.hide),e.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},t.prototype.onMouseMove=function(e,t){this.lastEvent=e,this.lastT=Date.now();var n=t.$mouseHandler.isMousePressed;if(this.isOpen){var r=this.lastEvent&&this.lastEvent.getDocumentPosition();this.range&&this.range.contains(r.row,r.column)&&!n&&!this.isOutsideOfText(this.lastEvent)||this.hide()}this.timeout||n||(this.lastEvent=e,this.timeout=setTimeout(this.waitForHover,this.idleTime))},t.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var e=Date.now()-this.lastT;this.idleTime-e>10?this.timeout=setTimeout(this.waitForHover,this.idleTime-e):(this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor))},t.prototype.isOutsideOfText=function(e){var t=e.editor,n=e.getDocumentPosition(),r=t.session.getLine(n.row);if(n.column==r.length){var i=t.renderer.pixelToScreenCoordinates(e.clientX,e.clientY),s=t.session.documentToScreenPosition(n.row,n.column);if(s.column!=i.column||s.row!=i.row)return!0}return!1},t.prototype.setDataProvider=function(e){this.$gatherData=e},t.prototype.showForRange=function(e,t,n,r){if(!(r&&r!=this.lastEvent||this.isOpen&&document.activeElement==this.getElement())){var i=e.renderer;this.isOpen||(c.addPopup(this),this.$registerCloseEvents(),this.setTheme(i.theme)),this.isOpen=!0,this.addMarker(t,e.session),this.range=o.fromPoints(t.start,t.end);var s=i.textToScreenCoordinates(t.start.row,t.start.column),a=i.scroller.getBoundingClientRect();s.pageX<a.left&&(s.pageX=a.left);var l=this.getElement();l.innerHTML="",l.appendChild(n),l.style.maxHeight="",l.style.display="block";var u=l.clientWidth,h=window.innerHeight-s.pageY-i.lineHeight,p=!0;s.pageY-l.clientHeight<0&&s.pageY<h&&(p=!1),l.style.maxHeight=(p?s.pageY:h)-10+"px",l.style.top=p?"":s.pageY+i.lineHeight+"px",l.style.bottom=p?window.innerHeight-s.pageY+"px":"",l.style.left=Math.min(s.pageX,window.innerWidth-u-10)+"px"}},t.prototype.addMarker=function(e,t){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=t,this.marker=t&&t.addMarker(e,"ace_highlight-marker","text")},t.prototype.hide=function(e){(e||document.activeElement!=this.getElement())&&(e&&e.target&&("keydown"!=e.type||e.ctrlKey||e.metaKey)&&this.$element.contains(e.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,c.removePopup(this))))},t.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},t.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},t.prototype.onMouseOut=function(e){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&e.relatedTarget&&!this.getElement().contains(e.relatedTarget)&&(e&&e.currentTarget.contains(e.relatedTarget)||e.relatedTarget.classList.contains("ace_content")||this.hide())},t}(u);t.HoverTooltip=h})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],(function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=e("../lib/dom"),o=e("../lib/event"),a=e("../tooltip").Tooltip,l=e("../config").nls;t.GutterHandler=function(e){function t(){r&&(r=clearTimeout(r)),c.isOpen&&(c.hideTooltip(),a.off("mousewheel",t))}function n(e){c.setPosition(e.x,e.y)}var r,i,a=e.editor,l=a.renderer.$gutterLayer,c=new u(a);e.editor.setDefaultHandler("guttermousedown",(function(t){if(a.isFocused()&&0==t.getButton()&&"foldWidgets"!=l.getRegion(t)){var n=t.getDocumentPosition().row,r=a.session.selection;if(t.getShiftKey())r.selectTo(n,0);else{if(2==t.domEvent.detail)return a.selectAll(),t.preventDefault();e.$clickSelection=a.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(o){if(s.hasCssClass(o.domEvent.target||o.domEvent.srcElement,"ace_fold-widget"))return t();c.isOpen&&e.$tooltipFollowsMouse&&n(o),i=o,r||(r=setTimeout((function(){r=null,i&&!e.isMousePressed?function(){var r=i.getDocumentPosition().row;if(r==a.session.getLength()){var s=a.renderer.pixelToScreenCoordinates(0,i.y).row,o=i.$pos;if(s>a.session.documentToScreenRow(o.row,o.column))return t()}if(c.showTooltip(r),c.isOpen)if(a.on("mousewheel",t),e.$tooltipFollowsMouse)n(i);else{var u=i.getGutterRow(),h=l.$lines.get(u);if(h){var p=h.element.querySelector(".ace_gutter_annotation").getBoundingClientRect(),d=c.getElement().style;d.left=p.right+"px",d.top=p.bottom+"px"}else n(i)}}():t()}),50))})),o.addListener(a.renderer.$gutter,"mouseout",(function(){i=null,c.isOpen&&!r&&(r=setTimeout((function(){r=null,t()}),50))}),a),a.on("changeSession",t),a.on("input",t)};var u=function(e){function t(t){var n=e.call(this,t.container)||this;return n.editor=t,n}return r(t,e),t.prototype.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),s=this.getHeight();(e+=15)+i>n&&(e-=e+i-n),(t+=15)+s>r&&(t-=20+s),a.prototype.setPosition.call(this,e,t)},Object.defineProperty(t,"annotationLabels",{get:function(){return{error:{singular:l("error"),plural:l("errors")},warning:{singular:l("warning"),plural:l("warnings")},info:{singular:l("information message"),plural:l("information messages")}}},enumerable:!1,configurable:!0}),t.prototype.showTooltip=function(e){var n,r=this.editor.renderer.$gutterLayer,i=r.$annotations[e];n=i?{text:Array.from(i.text),type:Array.from(i.type)}:{text:[],type:[]};var s=r.session.getFoldLine(e);if(s&&r.$showFoldedAnnotations){for(var o,a={error:[],warning:[],info:[]},l=e+1;l<=s.end.row;l++)if(r.$annotations[l])for(var u=0;u<r.$annotations[l].text.length;u++){var c=r.$annotations[l].type[u];a[c].push(r.$annotations[l].text[u]),"error"!==c?"warning"!==c||(o="warning_fold"):o="error_fold"}if("error_fold"===o||"warning_fold"===o){var h="".concat(t.annotationsToSummaryString(a)," in folded code.");n.text.push(h),n.type.push(o)}}if(0===n.text.length)return this.hide();var p={error:[],warning:[],info:[]},d=r.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";for(l=0;l<n.text.length;l++){var f="<span class='ace_".concat(n.type[l]," ").concat(d,"' aria-label='").concat(t.annotationLabels[n.type[l].replace("_fold","")].singular,"' role=img> </span> ").concat(n.text[l]);p[n.type[l].replace("_fold","")].push(f)}var g=[].concat(p.error,p.warning,p.info).join("<br>");this.setHtml(g),this.$element.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},t.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},t.annotationsToSummaryString=function(e){var n,r,s=[];try{for(var o=i(["error","warning","info"]),a=o.next();!a.done;a=o.next()){var l=a.value;if(e[l].length){var u=1===e[l].length?t.annotationLabels[l].singular:t.annotationLabels[l].plural;s.push("".concat(e[l].length," ").concat(u))}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s.join(", ")},t}(a);t.GutterTooltip=u})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t){"use strict";var n=e("../lib/event"),r=e("../lib/useragent"),i=function(){function e(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return e.prototype.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},e.prototype.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},e.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},e.prototype.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},e.prototype.getGutterRow=function(){var e=this.getDocumentPosition().row;return this.editor.session.documentToScreenRow(e,0)-this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0)},e.prototype.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},e.prototype.getButton=function(){return n.getButton(this.domEvent)},e.prototype.getShiftKey=function(){return this.domEvent.shiftKey},e.prototype.getAccelKey=function(){return r.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},e}();t.MouseEvent=i})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t){"use strict";function n(e){function t(){var e=v;(function(e,t){var n=Date.now();w&&t&&e.row==t.row&&t&&e.column==t.column?r(S.x,S.y,f,g)>5?w=null:n-w>=200&&(h.renderer.scrollCursorIntoView(),w=null):(h.moveCursorToPosition(e),w=n,S={x:f,y:g})})(v=h.renderer.screenToTextCoordinates(f,g),e),function(e,t){var n=Date.now(),r=h.renderer.layerConfig.lineHeight,i=h.renderer.layerConfig.characterWidth,s=h.renderer.scroller.getBoundingClientRect(),o={x:{left:f-s.left,right:s.right-f},y:{top:g-s.top,bottom:s.bottom-g}},a=Math.min(o.x.left,o.x.right),l=Math.min(o.y.top,o.y.bottom),u={row:e.row,column:e.column};a/i<=2&&(u.column+=o.x.left<o.x.right?-3:2),l/r<=1&&(u.row+=o.y.top<o.y.bottom?-1:1),e.row!=u.row||e.column!=u.column&&t&&e.row==t.row?_?n-_>=200&&h.renderer.scrollCursorIntoView(u):_=n:_=null}(v,e)}function n(){y=h.selection.toOrientedRange(),d=h.session.addMarker(y,"ace_selection",h.getSelectionStyle()),h.clearSelection(),h.isFocused()&&h.renderer.$cursorLayer.setBlinking(!1),clearInterval(m),t(),m=setInterval(t,20),A=0,s.addListener(document,"mousemove",l)}function a(){clearInterval(m),h.session.removeMarker(d),d=null,h.selection.fromOrientedRange(y),h.isFocused()&&!b&&h.$resetCursorStyle(),y=null,v=null,A=0,_=null,w=null,s.removeListener(document,"mousemove",l)}function l(){null==E&&(E=setTimeout((function(){null!=E&&d&&a()}),20))}function u(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function c(e){var t=["copy","copymove","all","uninitialized"],n=o.isMac?e.altKey:e.ctrlKey,r="uninitialized";try{r=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var i="none";return n&&t.indexOf(r)>=0?i="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(r)>=0?i="move":t.indexOf(r)>=0&&(i="copy"),i}var h=e.editor,p=i.createElement("div");p.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",p.textContent=" ";["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),h.on("mousedown",this.onMouseDown.bind(e));var d,f,g,m,y,v,x,b,_,w,S,T=h.container,A=0;this.onDragStart=function(e){if(this.cancelDrag||!T.draggable){var t=this;return setTimeout((function(){t.startSelect(),t.captureMouse(e)}),0),e.preventDefault()}y=h.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=h.getReadOnly()?"copy":"copyMove",h.container.appendChild(p),n.setDragImage&&n.setDragImage(p,0,0),setTimeout((function(){h.container.removeChild(p)})),n.clearData(),n.setData("Text",h.session.getTextRange()),b=!0,this.setState("drag")},this.onDragEnd=function(e){(T.draggable=!1,b=!1,this.setState(null),h.getReadOnly())||(x||"move"!=e.dataTransfer.dropEffect||h.session.remove(h.getSelectionRange()),h.$resetCursorStyle());this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!h.getReadOnly()&&u(e.dataTransfer))return f=e.clientX,g=e.clientY,d||n(),A++,e.dataTransfer.dropEffect=x=c(e),s.preventDefault(e)},this.onDragOver=function(e){if(!h.getReadOnly()&&u(e.dataTransfer))return f=e.clientX,g=e.clientY,d||(n(),A++),null!==E&&(E=null),e.dataTransfer.dropEffect=x=c(e),s.preventDefault(e)},this.onDragLeave=function(e){if(--A<=0&&d)return a(),x=null,s.preventDefault(e)},this.onDrop=function(e){if(v){var t=e.dataTransfer;if(b)switch(x){case"move":y=y.contains(v.row,v.column)?{start:v,end:v}:h.moveText(y,v);break;case"copy":y=h.moveText(y,v,!0)}else{var n=t.getData("Text");y={start:v,end:h.session.insert(v,n)},h.focus(),x=null}return a(),s.preventDefault(e)}},s.addListener(T,"dragstart",this.onDragStart.bind(e),h),s.addListener(T,"dragend",this.onDragEnd.bind(e),h),s.addListener(T,"dragenter",this.onDragEnter.bind(e),h),s.addListener(T,"dragover",this.onDragOver.bind(e),h),s.addListener(T,"dragleave",this.onDragLeave.bind(e),h),s.addListener(T,"drop",this.onDrop.bind(e),h);var E=null}function r(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}var i=e("../lib/dom"),s=e("../lib/event"),o=e("../lib/useragent");(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging"),e.renderer.setCursorStyle(o.isWin?"default":"move"),this.setState("dragReady")},this.onMouseDrag=function(){var e=this.editor.container;o.isIE&&"dragReady"==this.state&&(r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&e.dragDrop());"dragWait"===this.state&&(r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton();if(1===(e.domEvent.detail||1)&&0===r&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var i=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in i&&(i.unselectable="on"),t.getDragDelay()){if(o.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(n.prototype),t.DragdropHandler=n})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t){"use strict";var n=e("./mouse_event").MouseEvent,r=e("../lib/event"),i=e("../lib/dom");t.addTouchListeners=function(e,t){function s(){var e=window.navigator&&window.navigator.clipboard,n=!1,r=function(r){var s,o,a=r.target.getAttribute("action");if("more"==a||!n)return n=!n,s=t.getCopyText(),o=t.session.getUndoManager().hasUndo(),void y.replaceChild(i.buildDom(n?["span",!s&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],s&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],s&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],o&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),y.firstChild);"paste"==a?e.readText().then((function(e){t.execCommand(a,e)})):a&&("cut"!=a&&"copy"!=a||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(a)),y.firstChild.style.display="none",n=!1,"openCommandPalette"!=a&&t.focus()};y=i.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){v="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),r(e)},onclick:r},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container)}function o(){y||s();var e=t.selection.cursor,n=t.renderer.textToScreenCoordinates(e.row,e.column),r=t.renderer.textToScreenCoordinates(0,0).pageX,i=t.renderer.scrollLeft,o=t.container.getBoundingClientRect();y.style.top=n.pageY-o.top-3+"px",n.pageX-o.left<o.width-70?(y.style.left="",y.style.right="10px"):(y.style.right="",y.style.left=r+i-o.left+"px"),y.style.display="",y.firstChild.style.display="none",t.on("input",a)}function a(){y&&(y.style.display="none"),t.off("input",a)}function l(){d=null,clearTimeout(d);var e=t.selection.getRange(),n=e.contains(g.row,g.column);!e.isEmpty()&&n||(t.selection.moveToPosition(g),t.selection.selectWord()),v="wait",o()}var u,c,h,p,d,f,g,m,y,v="scroll",x=0,b=0,_=0,w=0;r.addListener(e,"contextmenu",(function(){m&&t.textInput.getElement().focus()}),t),r.addListener(e,"touchstart",(function(e){var r=e.touches;if(d||r.length>1)return clearTimeout(d),d=null,h=-1,void(v="zoom");m=t.$mouseHandler.isMousePressed=!0;var i=t.renderer.layerConfig.lineHeight,s=t.renderer.layerConfig.lineHeight,o=e.timeStamp;p=o;var a=r[0],f=a.clientX,y=a.clientY;Math.abs(u-f)+Math.abs(c-y)>i&&(h=-1),u=e.clientX=f,c=e.clientY=y,_=w=0;var S=new n(e,t);if(g=S.getDocumentPosition(),o-h<500&&1==r.length&&!x)b++,e.preventDefault(),e.button=0,function(){d=null,clearTimeout(d),t.selection.moveToPosition(g);var e=b>=2?t.selection.getLineRange(g.row):t.session.getBracketRange(g);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),v="wait"}();else{b=0;var T=t.selection.cursor,A=t.selection.isEmpty()?T:t.selection.anchor,E=t.renderer.$cursorLayer.getPixelPosition(T,!0),k=t.renderer.$cursorLayer.getPixelPosition(A,!0),C=t.renderer.scroller.getBoundingClientRect(),L=t.renderer.layerConfig.offset,$=t.renderer.scrollLeft,R=function(e,t){return(e/=s)*e+(t=t/i-.75)*t};if(e.clientX<C.left)return void(v="zoom");var I=R(e.clientX-C.left-E.left+$,e.clientY-C.top-E.top+L),M=R(e.clientX-C.left-k.left+$,e.clientY-C.top-k.top+L);I<3.5&&M<3.5&&(v=I>M?"cursor":"anchor"),v=M<3.5?"anchor":I<3.5?"cursor":"scroll",d=setTimeout(l,450)}h=o}),t),r.addListener(e,"touchend",(function(){m=t.$mouseHandler.isMousePressed=!1,f&&clearInterval(f),"zoom"==v?(v="",x=0):d?(t.selection.moveToPosition(g),x=0,o()):"scroll"==v?(x+=60,f=setInterval((function(){x--<=0&&(clearInterval(f),f=null),Math.abs(_)<.01&&(_=0),Math.abs(w)<.01&&(w=0),x<20&&(_*=.9),x<20&&(w*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*_,10*w),e==t.session.getScrollTop()&&(x=0)}),10),a()):o(),clearTimeout(d),d=null}),t),r.addListener(e,"touchmove",(function(e){d&&(clearTimeout(d),d=null);var r=e.touches;if(!(r.length>1||"zoom"==v)){var i=r[0],s=u-i.clientX,o=c-i.clientY;if("wait"==v){if(!(s*s+o*o>4))return e.preventDefault();v="cursor"}u=i.clientX,c=i.clientY,e.clientX=i.clientX,e.clientY=i.clientY;var a=e.timeStamp,l=a-p;if(p=a,"scroll"==v){var h=new n(e,t);h.speed=1,h.wheelX=s,h.wheelY=o,10*Math.abs(s)<Math.abs(o)&&(s=0),10*Math.abs(o)<Math.abs(s)&&(o=0),0!=l&&(_=s/l,w=o/l),t._emit("mousewheel",h),h.propagationStopped||(_=w=0)}else{var f=new n(e,t).getDocumentPosition();"cursor"==v?t.selection.moveCursorToPosition(f):"anchor"==v&&t.selection.setSelectionAnchor(f.row,f.column),t.renderer.scrollCursorIntoView(f),e.preventDefault()}}}),t)}})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t){"use strict";var n=e("../lib/event"),r=e("../lib/useragent"),i=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,o=e("./mouse_event").MouseEvent,a=e("./dragdrop_handler").DragdropHandler,l=e("./touch_handler").addTouchListeners,u=e("../config"),c=function(){function e(e){var t=this;this.editor=e,new i(this),new s(this),new a(this);var o=function(){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus(),setTimeout((function(){e.isFocused()||e.focus()}))},u=e.renderer.getMouseEventTarget();n.addListener(u,"click",this.onMouseEvent.bind(this,"click"),e),n.addListener(u,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),n.addMultiMouseDownListener([u,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),n.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),l(e.container,e);var c=e.renderer.$gutter;n.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),n.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick"),e),n.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),n.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),n.addListener(u,"mousedown",o,e),n.addListener(c,"mousedown",o,e),r.isIE&&e.renderer.scrollBarV&&(n.addListener(e.renderer.scrollBarV.element,"mousedown",o,e),n.addListener(e.renderer.scrollBarH.element,"mousedown",o,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),s=e.renderer;!i.isEmpty()&&i.insideStart(r.row,r.column)?s.setCursorStyle("default"):s.setCursorStyle("")}}),e)}return e.prototype.onMouseEvent=function(e,t){this.editor.session&&this.editor._emit(e,new o(t,this.editor))},e.prototype.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new o(t,this.editor))},e.prototype.onMouseWheel=function(e,t){var n=new o(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},e.prototype.setState=function(e){this.state=e},e.prototype.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var i=this.editor,s=this.editor.renderer;s.$isMousePressed=!0;var a=this,l=function(e){if(e){if(r.isWebKit&&!e.which&&a.releaseMouse)return a.releaseMouse();a.x=e.clientX,a.y=e.clientY,t&&t(e),a.mouseEvent=new o(e,a.editor),a.$mouseMoved=!0}},u=function(e){i.off("beforeEndOperation",h),clearInterval(p),i.session&&c(),a[a.state+"End"]&&a[a.state+"End"](e),a.state="",a.isMousePressed=s.$isMousePressed=!1,s.$keepTextAreaAtCursor&&s.$moveTextAreaToCursor(),a.$onCaptureMouseMove=a.releaseMouse=null,e&&a.onMouseEvent("mouseup",e),i.endOperation()},c=function(){a[a.state]&&a[a.state](),a.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){u(e)}));var h=function(){a.releaseMouse&&i.curOp.command.name&&i.curOp.selectionChanged&&(a[a.state+"End"]&&a[a.state+"End"](),a.state="",a.releaseMouse())};i.on("beforeEndOperation",h),i.startOperation({command:{name:"mouse"}}),a.$onCaptureMouseMove=l,a.releaseMouse=n.capture(this.editor.container,l,u);var p=setInterval(c,20)},e.prototype.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&n.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},e.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},e}();c.prototype.releaseMouse=null,u.defineOptions(c.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=c})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t){"use strict";var n=e("../lib/dom");t.FoldHandler=function(e){e.on("click",(function(t){var r=t.getDocumentPosition(),i=e.session,s=i.getFoldAt(r.row,r.column,1);s&&(t.getAccelKey()?i.removeFold(s):i.expandFold(s),t.stop());var o=t.domEvent&&t.domEvent.target;o&&n.hasCssClass(o,"ace_inline_button")&&n.hasCssClass(o,"ace_toggle_wrap")&&(i.setOption("wrap",!i.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session;r.foldWidgets&&r.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session,i=r.getParentFoldRangeData(n,!0),s=i.range||i.firstRange;if(s){var o=r.getFoldAt(n=s.start.row,r.getLine(n).length,1);o?r.removeFold(o):(r.addFold("...",s),e.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t){"use strict";var n=e("../lib/keys"),r=e("../lib/event"),i=function(){function e(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)}return e.prototype.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},e.prototype.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},e.prototype.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},e.prototype.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},e.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},e.prototype.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},e.prototype.$callKeyboardHandlers=function(e,t,n,i){for(var s,o=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((s=this.$handlers[l].handleKeyboard(this.$data,e,t,n,i))&&s.command&&((o="null"==s.command||a.exec(s.command,this.$editor,s.args,i))&&i&&-1!=e&&1!=s.passEvent&&1!=s.command.passEvent&&r.stopEvent(i),o)););return o||-1!=e||(s={command:"insertstring"},o=a.exec("insertstring",this.$editor,t)),o&&this.$editor._signal&&this.$editor._signal("keyboardActivity",s),o},e.prototype.onCommandKey=function(e,t,r){var i=n.keyCodeToString(r);return this.$callKeyboardHandlers(t,i,r,e)},e.prototype.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)},e}();t.KeyBinding=i})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t){"use strict";function n(e,t,n){if(!(o<e))if(1!=e||1!=s||l)for(var r,i,a,u,c=n.length,h=0;h<c;){if(t[h]>=e){for(r=h+1;r<c&&t[r]>=e;)r++;for(i=h,a=r-1;i<a;i++,a--)u=n[i],n[i]=n[a],n[a]=u;h=r}h++}else n.reverse()}function r(e,t,n,r){var i,o,c,h,R=t[r];switch(R){case p:case d:a=!1;case m:case g:return R;case f:return a?g:f;case x:return a=!0,!0,d;case b:return m;case _:return r<1||r+1>=t.length||(i=n[r-1])!=f&&i!=g||(o=t[r+1])!=f&&o!=g?m:(a&&(o=g),o==i?o:m);case w:return(i=r>0?n[r-1]:y)==f&&r+1<t.length&&t[r+1]==f?f:m;case S:if(r>0&&n[r-1]==f)return f;if(a)return m;for(h=r+1,c=t.length;h<c&&t[h]==S;)h++;return h<c&&t[h]==f?f:m;case T:for(c=t.length,h=r+1;h<c&&t[h]==T;)h++;if(h<c){var I=e[r];if(i=t[h],(I>=1425&&I<=2303||64286==I)&&(i==d||i==x))return d}return r<1||(i=t[r-1])==y?m:n[r-1];case y:return a=!1,l=!0,s;case v:return u=!0,m;case A:case E:case C:case L:case k:a=!1;case $:return m}}function i(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?p:R[t]:5==n?/[\u0591-\u05f4]/.test(e)?d:p:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?T:/[\u0660-\u0669\u066b-\u066c]/.test(e)?g:1642==t?S:/[\u06f0-\u06f9]/.test(e)?f:x:32==n&&t<=8287?I[255&t]:254==n&&t>=65136?x:m}var s=0,o=0,a=!1,l=!1,u=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p=0,d=1,f=2,g=3,m=4,y=5,v=6,x=7,b=8,_=9,w=10,S=11,T=12,A=13,E=14,k=15,C=16,L=17,$=18,R=[$,$,$,$,$,$,$,$,$,v,y,v,b,y,$,$,$,$,$,$,$,$,$,$,$,$,$,$,y,y,y,v,b,m,m,S,S,S,m,m,m,m,m,w,_,w,_,_,f,f,f,f,f,f,f,f,f,f,_,m,m,m,m,m,m,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,m,m,m,m,m,m,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,m,m,m,m,$,$,$,$,$,$,y,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,_,m,S,S,S,S,m,m,m,m,p,m,m,$,m,m,S,S,f,f,m,p,m,m,m,f,p,m,m,m,m,m],I=[b,b,b,b,b,b,b,b,b,b,b,$,$,$,p,d,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,b,y,A,E,k,C,L,_,S,S,S,S,S,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,_,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,b];t.L=p,t.R=d,t.EN=f,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="·",t.doBidiReorder=function(e,p,f){if(e.length<2)return{};var _=e.split(""),w=new Array(_.length),S=new Array(_.length),T=[];s=f?1:0,function(e,t,n,p){var d=s?h:c,f=null,g=null,m=null,x=0,_=null,w=-1,S=null,T=null,A=[];if(!p)for(S=0,p=[];S<n;S++)p[S]=i(e[S]);for(o=s,a=!1,!1,l=!1,u=!1,T=0;T<n;T++){if(f=x,A[T]=g=r(e,p,A,T),_=240&(x=d[f][g]),t[T]=m=d[x&=15][5],_>0)if(16==_){for(S=w;S<T;S++)t[S]=1;w=-1}else w=-1;if(d[x][6])-1==w&&(w=T);else if(w>-1){for(S=w;S<T;S++)t[S]=m;w=-1}p[T]==y&&(t[T]=0),o|=m}if(u)for(S=0;S<n;S++)if(p[S]==v){t[S]=s;for(var E=S-1;E>=0&&p[E]==b;E--)t[E]=s}}(_,T,_.length,p);for(var E=0;E<w.length;w[E]=E,E++);n(2,T,w),n(1,T,w);for(E=0;E<w.length-1;E++)p[E]===g?T[E]=t.AN:T[E]===d&&(p[E]>x&&p[E]<A||p[E]===m||p[E]===$)?T[E]=t.ON_R:E>0&&"ل"===_[E-1]&&/\u0622|\u0623|\u0625|\u0627/.test(_[E])&&(T[E-1]=T[E]=t.R_H,E++);_[_.length-1]===t.DOT&&(T[_.length-1]=t.B),"‫"===_[0]&&(T[0]=t.RLE);for(E=0;E<w.length;E++)S[E]=T[w[E]];return{logicalFromVisual:w,bidiLevels:S}},t.hasBidiCharacters=function(e,t){for(var n=!1,r=0;r<e.length;r++)t[r]=i(e.charAt(r)),n||t[r]!=d&&t[r]!=x&&t[r]!=g||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t){"use strict";var n=e("./lib/bidiutil"),r=e("./lib/lang"),i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(){function e(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=n,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=i.test(e.getValue())}return e.prototype.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},e.prototype.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&i.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},e.prototype.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},e.prototype.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,r=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===r;)r=n,e++;else e=this.currentRow;return e},e.prototype.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var i=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var s=this.session.$wrapData[e];s&&(void 0===t&&(t=this.getSplitIndex()),t>0&&s.length?(this.wrapIndent=s.indent,this.wrapOffset=this.wrapIndent*this.charWidths[n.L],this.line=t<s.length?this.line.substring(s[t-1],s[t]):this.line.substring(s[s.length-1])):this.line=this.line.substring(0,s[t]),t==s.length&&(this.line+=this.showInvisibles?i:n.DOT))}else this.line+=this.showInvisibles?i:n.DOT;var o,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(o="\t"===e?a.getScreenTabSize(t+l):2,l+=o-1,r.stringRepeat(n.DOT,o)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==n.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},e.prototype.updateBidiMap=function(){var e=[];this.bidiMap=n.hasBidiCharacters(this.line,e)||this.isRtlDir?n.doBidiReorder(this.line,e,this.isRtlDir):{}},e.prototype.markAsDirty=function(){this.currentRow=null},e.prototype.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,r=e.$measureCharWidth("ה");this.charWidths[n.L]=this.charWidths[n.EN]=this.charWidths[n.ON_R]=t,this.charWidths[n.R]=this.charWidths[n.AN]=r,this.charWidths[n.R_H]=.45*r,this.charWidths[n.B]=this.charWidths[n.RLE]=0,this.currentRow=null}},e.prototype.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},e.prototype.setEolChar=function(e){this.EOL=e},e.prototype.setContentWidth=function(e){this.contentWidth=e},e.prototype.isRtlLine=function(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},e.prototype.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),r=e.selection.getSelectionAnchor().row;r<=n.row;r++)t||e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:r},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(r,0,1)},e.prototype.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,r=e>t?this.session.getOverwrite()?e:e-1:t,i=n.getVisualFromLogicalIdx(r,this.bidiMap),s=this.bidiMap.bidiLevels,o=0;!this.session.getOverwrite()&&e<=t&&s[i]%2!=0&&i++;for(var a=0;a<i;a++)o+=this.charWidths[s[a]];return!this.session.getOverwrite()&&e>t&&s[i]%2==0&&(o+=this.charWidths[s[i]]),this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(o+=this.rtlLineOffset),o},e.prototype.getSelections=function(e,t){var n,r=this.bidiMap,i=r.bidiLevels,s=[],o=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,u=!1,c=!1,h=0;this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var p,d=0;d<i.length;d++)n=i[d],(u=(p=r.logicalFromVisual[d])>=a&&p<l)&&!c?h=o:!u&&c&&s.push({left:h,width:o-h}),o+=this.charWidths[n],c=u;if(u&&d===i.length&&s.push({left:h,width:o-h}),this.isRtlDir)for(var f=0;f<s.length;f++)s[f].left+=this.rtlLineOffset;return s},e.prototype.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),r=0,i=this.bidiMap.bidiLevels,s=this.charWidths[i[r]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+s/2;){if(n+=s,r===i.length-1){s=0;break}s=this.charWidths[i[++r]]}return r>0&&i[r-1]%2!=0&&i[r]%2==0?(e<n&&r--,t=this.bidiMap.logicalFromVisual[r]):r>0&&i[r-1]%2==0&&i[r]%2!=0?t=1+(e>n?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===i.length-1&&0===s&&i[r-1]%2==0||!this.isRtlDir&&0===r&&i[r]%2!=0?t=1+this.bidiMap.logicalFromVisual[r]:(r>0&&i[r-1]%2!=0&&0!==s&&r--,t=this.bidiMap.logicalFromVisual[r]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent},e}();t.BidiHandler=s})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t){"use strict";var n=e("./lib/oop"),r=e("./lib/lang"),i=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,o=function(){function e(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))}return e.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},e.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},e.prototype.getCursor=function(){return this.lead.getPosition()},e.prototype.setAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},e.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},e.prototype.getSelectionLead=function(){return this.lead.getPosition()},e.prototype.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},e.prototype.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},e.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},e.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},e.prototype.setRange=function(e,t){var n=t?e.end:e.start,r=t?e.start:e.end;this.$setSelection(n.row,n.column,r.row,r.column)},e.prototype.$setSelection=function(e,t,n,r){if(!this.$silent){var i=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,r),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||i!=this.$isEmpty||o)&&this._emit("changeSelection")}},e.prototype.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},e.prototype.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},e.prototype.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},e.prototype.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},e.prototype.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},e.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},e.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},e.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},e.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},e.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},e.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},e.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},e.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},e.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},e.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},e.prototype.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},e.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},e.prototype.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},e.prototype.getLineRange=function(e,t){var n,r="number"==typeof e?e:this.lead.row,i=this.session.getFoldLine(r);return i?(r=i.start.row,n=i.end.row):n=r,!0===t?new s(r,0,n,this.session.getLine(n).length):new s(r,0,n+1,0)},e.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},e.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},e.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},e.prototype.wouldMoveIntoSoftTab=function(e,t,n){var r=e.column,i=e.column+t;return n<0&&(r=e.column-t,i=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(r,i).split(" ").length-1==t},e.prototype.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},e.prototype.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t=this.lead,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},e.prototype.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column).match(/^\s*/);i[0].length==t||this.session.$useEmacsStyleLineStart||(r.column+=i[0].length),this.moveCursorToPosition(r)},e.prototype.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},e.prototype.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},e.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},e.prototype.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(e,t,1);if(i)this.moveCursorTo(i.end.row,i.end.column);else{if(this.session.nonTokenRe.exec(r)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(r)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},e.prototype.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var s=r.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(s)&&(n-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(s)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},e.prototype.$shortWordEndIndex=function(e){var t,n=0,r=/\s/,i=this.session.tokenRe;if(i.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&r.test(t);)n++;if(n<1)for(i.lastIndex=0;(t=e[n])&&!i.test(t);)if(i.lastIndex=0,n++,r.test(t)){if(n>2){n--;break}for(;(t=e[n])&&r.test(t);)n++;if(n>2)break}}return i.lastIndex=0,n},e.prototype.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var s=this.doc.getLength();do{e++,r=this.doc.getLine(e)}while(e<s&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var o=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+o)},e.prototype.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var s=r.stringReverse(i),o=this.$shortWordEndIndex(s);return this.moveCursorTo(t,n-o)},e.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},e.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},e.prototype.moveCursorBy=function(e,t){var n,r=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var i=this.session.lineWidgets[this.lead.row];e<0?e-=i.rowsAbove||0:e>0&&(e+=i.rowCount-(i.rowsAbove||0))}var s=this.session.screenToDocumentPosition(r.row+e,r.column,n);this.moveCursorTo(s.row,s.column+t,0===t)},e.prototype.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},e.prototype.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(i.charAt(t))&&i.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},e.prototype.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},e.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},e.prototype.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},e.prototype.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},e.prototype.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return s.fromPoints(t,n)}catch(e){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},e.prototype.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},e.prototype.fromJSON=function(e){if(null==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=s.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},e.prototype.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0},e}();o.prototype.setSelectionAnchor=o.prototype.setAnchor,o.prototype.getSelectionAnchor=o.prototype.getAnchor,o.prototype.setSelectionRange=o.prototype.setRange,n.implement(o.prototype,i),t.Selection=o})),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],(function(e,t){"use strict";var n=e("./lib/report_error").reportError,r=2e3,i=function(){function e(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],r=[],i=0,s=this.matchMappings[t]={defaultToken:"text"},o="g",a=[],l=0;l<n.length;l++){var u=n[l];if(u.defaultToken&&(s.defaultToken=u.defaultToken),u.caseInsensitive&&-1===o.indexOf("i")&&(o+="i"),u.unicode&&-1===o.indexOf("u")&&(o+="u"),null!=u.regex){u.regex instanceof RegExp&&(u.regex=u.regex.toString().slice(1,-1));var c=u.regex,h=new RegExp("(?:("+c+")|(.))").exec("a").length-2;Array.isArray(u.token)?1==u.token.length||1==h?u.token=u.token[0]:h-1!=u.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:u,groupCount:h-1}),u.token=u.token[0]):(u.tokenArray=u.token,u.token=null,u.onMatch=this.$arrayTokens):"function"!=typeof u.token||u.onMatch||(u.onMatch=h>1?this.$applyToken:u.token),h>1&&(/\\\d/.test(u.regex)?c=u.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+i+1)})):(h=1,c=this.removeCapturingGroups(u.regex)),u.splitRegex||"string"==typeof u.token||a.push(u)),s[i]=l,i+=h,r.push(c),u.onMatch||(u.onMatch=null)}}r.length||(s[0]=0,r.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,o)}),this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",o)}}return e.prototype.$setMaxTokenCount=function(e){r=0|e},e.prototype.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var r=[],i=0,s=n.length;i<s;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},e.prototype.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],r=this.tokenArray,i=0,s=r.length;i<s;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},e.prototype.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(e,t){return t?"(?:":e}))},e.prototype.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,r=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,s,o,a,l){return r?r="]"!=a:a?r=!0:o?(n==i.stack&&(i.end=l+1,i.stack=-1),n--):s&&(n++,1!=s.length&&(i.stack=n,i.start=l)),e})),null!=i.end&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},e.prototype.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var i=t||"start",s=this.states[i];s||(s=this.states[i="start"]);var o=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var l,u=[],c=0,h=0,p={type:null,value:""};l=a.exec(e);){var d=o.defaultToken,f=null,g=l[0],m=a.lastIndex;if(m-g.length>c){var y=e.substring(c,m-g.length);p.type==d?p.value+=y:(p.type&&u.push(p),p={type:d,value:y})}for(var v=0;v<l.length-2;v++)if(void 0!==l[v+1]){d=(f=s[o[v]]).onMatch?f.onMatch(g,i,n,e):f.token,f.next&&(i="string"==typeof f.next?f.next:f.next(i,n),(s=this.states[i])||(this.reportError("state doesn't exist",i),s=this.states[i="start"]),o=this.matchMappings[i],c=m,(a=this.regExps[i]).lastIndex=m),f.consumeLineEnd&&(c=m);break}if(g)if("string"==typeof d)f&&!1===f.merge||p.type!==d?(p.type&&u.push(p),p={type:d,value:g}):p.value+=g;else if(d){p.type&&u.push(p),p={type:null,value:""};for(v=0;v<d.length;v++)u.push(d[v])}if(c==e.length)break;if(c=m,h++>r){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});c<e.length;)p.type&&u.push(p),p={value:e.substring(c,c+=500),type:"overflow"};i="start",n=[];break}}return p.type&&u.push(p),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:u,state:n.length?n:i}},e}();i.prototype.reportError=n,t.Tokenizer=i})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],(function(e,t){"use strict";var n,r=e("../lib/deep_copy").deepCopy;(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var r=e[n],i=0;i<r.length;i++){var s=r[i];(s.next||s.onMatch)&&("string"==typeof s.next&&0!==s.next.indexOf(t)&&(s.next=t+s.next),s.nextState&&0!==s.nextState.indexOf(t)&&(s.nextState=t+s.nextState))}this.$rules[t+n]=r}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,s){var o="function"==typeof e?(new e).getRules():e;if(i)for(var a=0;a<i.length;a++)i[a]=t+i[a];else for(var l in i=[],o)i.push(t+l);if(this.addRules(o,t),n){var u=Array.prototype[s?"push":"unshift"];for(a=0;a<i.length;a++)u.apply(this.$rules[i[a]],r(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,r=this.$rules;Object.keys(r).forEach((function i(s){var o=r[s];o.processed=!0;for(var a=0;a<o.length;a++){var l=o[a],u=null;Array.isArray(l)&&(u=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var c=l.next||l.push;if(c&&Array.isArray(c)){var h=l.stateName;h||("string"!=typeof(h=l.token)&&(h=h[0]||""),r[h]&&(h+=n++)),r[h]=c,l.next=h,i(h)}else"pop"==c&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var p in l.rules)r[p]?r[p].push&&r[p].push.apply(r[p],l.rules[p]):r[p]=l.rules[p];var d="string"==typeof l?l:l.include;if(d&&("$self"===d&&(d="start"),u=Array.isArray(d)?d.map((function(e){return r[e]})):r[d]),u){var f=[a,1].concat(u);l.noEscape&&(f=f.filter((function(e){return!e.next}))),o.splice.apply(o,f),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var s=e[t].split(r||"|"),o=s.length;o--;){var a=s[o];this.$keywordList.push(a),n&&(a=a.toLowerCase()),i[a]=t}}),this),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call((n=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}}).prototype),t.TextHighlightRules=n})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t){"use strict";var n;(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call((n=function(){this.$behaviours={}}).prototype),t.Behaviour=n})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t){"use strict";var n=e("./range").Range,r=function(){function e(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1}return e.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},e.prototype.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},e.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},e.prototype.getCurrentTokenRow=function(){return this.$row},e.prototype.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},e.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},e.prototype.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new n(this.$row,t,this.$row,t+e.value.length)},e}();t.TokenIterator=r})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t){"use strict";var n,r,i=e("../../lib/oop"),s=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],u=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],c={},h={'"':'"',"'":"'"},p=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,c.rangeCount!=e.multiSelect.rangeCount&&(c={rangeCount:e.multiSelect.rangeCount})),c[t])return n=c[t];n=c[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},d=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}};(r=function(e){e=e||{},this.add("braces","insertion",(function(t,i,s,o,l){var u=s.getCursorPosition(),c=o.doc.getLine(u.row);if("{"==l){p(s);var h=s.getSelectionRange(),f=o.doc.getTextRange(h);if(""!==f&&"{"!==f&&s.getWrapBehavioursEnabled())return d(h,f,"{","}");if(r.isSaneInsertion(s,o))return/[\]\}\)]/.test(c[u.column])||s.inMultiSelectMode||e.braces?(r.recordAutoInsert(s,o,"}"),{text:"{}",selection:[1,1]}):(r.recordMaybeInsert(s,o,"{"),{text:"{",selection:[1,1]})}else if("}"==l){if(p(s),"}"==c.substring(u.column,u.column+1))if(null!==o.$findOpeningBracket("}",{column:u.column+1,row:u.row})&&r.isAutoInsertedClosing(u,c,l))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==l||"\r\n"==l){p(s);var g="";if(r.isMaybeInsertedClosing(u,c)&&(g=a.stringRepeat("}",n.maybeInsertedBrackets),r.clearMaybeInsertedClosing()),"}"===c.substring(u.column,u.column+1)){var m=o.findMatchingBracket({row:u.row,column:u.column+1},"}");if(!m)return null;var y=this.$getIndent(o.getLine(m.row))}else{if(!g)return void r.clearMaybeInsertedClosing();y=this.$getIndent(c)}var v=y+o.getTabString();return{text:"\n"+v+"\n"+y+g,selection:[1,v.length,1,v.length]}}r.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,r,i,s){var o=i.doc.getTextRange(s);if(!s.isMultiLine()&&"{"==o){if(p(r),"}"==i.doc.getLine(s.start.row).substring(s.end.column,s.end.column+1))return s.end.column++,s;n.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,i,s){if("("==s){p(n);var o=n.getSelectionRange(),a=i.doc.getTextRange(o);if(""!==a&&n.getWrapBehavioursEnabled())return d(o,a,"(",")");if(r.isSaneInsertion(n,i))return r.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==s){p(n);var l=n.getCursorPosition(),u=i.doc.getLine(l.row);if(")"==u.substring(l.column,l.column+1))if(null!==i.$findOpeningBracket(")",{column:l.column+1,row:l.row})&&r.isAutoInsertedClosing(l,u,s))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&"("==s&&(p(n),")"==r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("brackets","insertion",(function(e,t,n,i,s){if("["==s){p(n);var o=n.getSelectionRange(),a=i.doc.getTextRange(o);if(""!==a&&n.getWrapBehavioursEnabled())return d(o,a,"[","]");if(r.isSaneInsertion(n,i))return r.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==s){p(n);var l=n.getCursorPosition(),u=i.doc.getLine(l.row);if("]"==u.substring(l.column,l.column+1))if(null!==i.$findOpeningBracket("]",{column:l.column+1,row:l.row})&&r.isAutoInsertedClosing(l,u,s))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&"["==s&&(p(n),"]"==r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("string_dquotes","insertion",(function(e,t,n,r,i){var s=r.$mode.$quotes||h;if(1==i.length&&s[i]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(i))return;p(n);var o=i,a=n.getSelectionRange(),l=r.doc.getTextRange(a);if(!(""===l||1==l.length&&s[l])&&n.getWrapBehavioursEnabled())return d(a,l,o,o);if(!l){var u=n.getCursorPosition(),c=r.doc.getLine(u.row),f=c.substring(u.column-1,u.column),g=c.substring(u.column,u.column+1),m=r.getTokenAt(u.row,u.column),y=r.getTokenAt(u.row,u.column+1);if("\\"==f&&m&&/escape/.test(m.type))return null;var v,x=m&&/string|escape/.test(m.type),b=!y||/string|escape/.test(y.type);if(g==o)(v=x!==b)&&/string\.end/.test(y.type)&&(v=!1);else{if(x&&!b)return null;if(x&&b)return null;var _=r.$mode.tokenRe;_.lastIndex=0;var w=_.test(f);_.lastIndex=0;var S=_.test(g),T=r.$mode.$pairQuotesAfter;if(!(T&&T[o]&&T[o].test(f))&&w||S)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var A=c[u.column-2];if(f==o&&(A==o||_.test(A)))return null;v=!0}return{text:v?o+o:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,r,i){var s=r.$mode.$quotes||h,o=r.doc.getTextRange(i);if(!i.isMultiLine()&&s.hasOwnProperty(o)&&(p(n),r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)==o))return i.end.column++,i})),!1!==e.closeDocComment&&this.add("doc comment end","insertion",(function(e,t,n,r,i){if("doc-start"===e&&("\n"===i||"\r\n"===i)&&n.selection.isEmpty()){var s=n.getCursorPosition(),o=r.doc.getLine(s.row),a=r.doc.getLine(s.row+1),l=this.$getIndent(o);if(/\s*\*/.test(a))return/^\s*\*/.test(o)?{text:i+l+"* ",selection:[1,3+l.length,1,3+l.length]}:{text:i+l+" * ",selection:[1,3+l.length,1,3+l.length]};if(/\/\*\*/.test(o.substring(0,s.column)))return{text:i+l+" * "+i+" "+l+"*/",selection:[1,4+l.length,1,4+l.length]}}}))}).isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new o(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",l)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var i=new o(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",l))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",u)},r.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},r.recordAutoInsert=function(e,t,r){var i=e.getCursorPosition(),s=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,s,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=i.row,n.autoInsertedLineEnd=r+s.substr(i.column),n.autoInsertedBrackets++},r.recordMaybeInsert=function(e,t,r){var i=e.getCursorPosition(),s=t.doc.getLine(i.row);this.isMaybeInsertedClosing(i,s)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=i.row,n.maybeInsertedLineStart=s.substr(0,i.column)+r,n.maybeInsertedLineEnd=s.substr(i.column),n.maybeInsertedBrackets++},r.isAutoInsertedClosing=function(e,t,r){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&r===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},r.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},r.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},r.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},i.inherits(r,s),t.CstyleBehaviour=r})),ace.define("ace/unicode",["require","exports","module"],(function(e,t){"use strict";for(var n=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],r=0,i=[],s=0;s<n.length;s+=2)i.push(r+=n[s]),n[s+1]&&i.push(45,r+=n[s+1]);t.wordChars=String.fromCharCode.apply(null,i)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t){"use strict";var n,r=e("../config"),i=e("../tokenizer").Tokenizer,s=e("./text_highlight_rules").TextHighlightRules,o=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),l=e("../lib/lang"),u=e("../token_iterator").TokenIterator,c=e("../range").Range;(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){function i(e){for(var t=n;t<=r;t++)e(s.getLine(t),t)}var s=t.doc,o=!0,a=!0,u=1/0,c=t.getTabSize(),h=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))m=this.lineCommentStart.map(l.escapeRegExp).join("|"),f=this.lineCommentStart[0];else m=l.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart;m=new RegExp("^(\\s*)(?:"+m+") ?"),h=t.getUseSoftTabs();x=function(e,t){var n=e.match(m);if(n){var r=n[1].length,i=n[0].length;d(e,r,i)||" "!=n[0][i-1]||i--,s.removeInLine(t,r,i)}};var p=f+" ",d=(v=function(e,t){o&&!/\S/.test(e)||(d(e,u,u)?s.insertInLine({row:t,column:u},p):s.insertInLine({row:t,column:u},f))},b=function(e){return m.test(e)},function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%c!=0)return!1;for(r=0;" "==e.charAt(n++);)r++;return c>2?r%c!=c-1:r%c==0})}else{if(!this.blockComment)return!1;var f=this.blockComment.start,g=this.blockComment.end,m=new RegExp("^(\\s*)(?:"+l.escapeRegExp(f)+")"),y=new RegExp("(?:"+l.escapeRegExp(g)+")\\s*$"),v=function(e,t){b(e,t)||o&&!/\S/.test(e)||(s.insertInLine({row:t,column:e.length},g),s.insertInLine({row:t,column:u},f))},x=function(e,t){var n;(n=e.match(y))&&s.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(m))&&s.removeInLine(t,n[1].length,n[0].length)},b=function(e,n){if(m.test(e))return!0;for(var r=t.getTokens(n),i=0;i<r.length;i++)if("comment"===r[i].type)return!0}}var _=1/0;i((function(e,t){var n=e.search(/\S/);-1!==n?(n<u&&(u=n),a&&!b(e,t)&&(a=!1)):_>e.length&&(_=e.length)})),u==1/0&&(u=_,o=!1,a=!1),h&&u%c!=0&&(u=Math.floor(u/c)*c),i(a?x:v)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(i){!i.start&&i[0]&&(i=i[0]);var s,o,a=(g=new u(t,r.row,r.column)).getCurrentToken(),l=t.selection.toOrientedRange();if(a&&/comment/.test(a.type)){for(var h,p;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(i.start))){var d=g.getCurrentTokenRow(),f=g.getCurrentTokenColumn()+m;h=new c(d,f,d,f+i.start.length);break}a=g.stepBackward()}var g;for(a=(g=new u(t,r.row,r.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(i.end))){d=g.getCurrentTokenRow(),f=g.getCurrentTokenColumn()+m;p=new c(d,f,d,f+i.end.length);break}a=g.stepForward()}p&&t.remove(p),h&&(t.remove(h),s=h.start.row,o=-i.start.length)}else o=i.start.length,s=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);l.start.row==s&&(l.start.column+=o),l.end.row==s&&(l.end.column+=o),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t){return this.$getIndent(t)},this.checkOutdent=function(){return!1},this.autoOutdent=function(){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],i=n.prototype.$id,s=r.$modes[i];s||(r.$modes[i]=s=new n),r.$modes[t]||(r.$modes[t]=s),this.$embeds.push(t),this.$modes[t]=s}var o=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],a=function(e){var t,n,r;r=(t=l)[n=o[e]],t[o[e]]=function(){return this.$delegator(n,arguments,r)}},l=this;for(t=0;t<o.length;t++)a(t)},this.$delegator=function(e,t,n){var r=t[0]||"start";if("string"!=typeof r){if(Array.isArray(r[2]))if(s=this.$modes[r[2][r[2].length-1]])return s[e].apply(s,[r[1]].concat([].slice.call(t,1)));r=r[0]||"start"}for(var i=0;i<this.$embeds.length;i++)if(this.$modes[this.$embeds[i]]){var s,o=r.split(this.$embeds[i]);if(!o[0]&&o[1])return t[0]=o[1],(s=this.$modes[this.$embeds[i]])[e].apply(s,t)}var a=n.apply(this,t);return n?a:void 0},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][t]){var a=s[o][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t)for(var i=t[r],s=0,o=i.length;s<o;s++)if("string"==typeof i[s].token)/keyword|support|storage/.test(i[s].token)&&n.push(i[s].regex);else if("object"==typeof i[s].token)for(var a=0,l=i[s].token.length;a<l;a++)if(/keyword|support|storage/.test(i[s].token[a])){r=i[s].regex.match(/\(.+?\)/g)[a];n.push(r.substr(1,r.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call((n=function(){this.HighlightRules=s}).prototype),t.Mode=n})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t){"use strict";t.applyDelta=function(e,t){var n=t.start.row,r=t.start.column,i=e[n]||"";switch(t.action){case"insert":if(1===t.lines.length)e[n]=i.substring(0,r)+t.lines[0]+i.substring(r);else{var s=[n,1].concat(t.lines);e.splice.apply(e,s),e[n]=i.substring(0,r)+e[n],e[n+t.lines.length-1]+=i.substring(r)}break;case"remove":var o=t.end.column,a=t.end.row;n===a?e[n]=i.substring(0,r)+i.substring(o):e.splice(n,a-n+1,i.substring(0,r)+e[a].substring(o))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t){"use strict";function n(e,t,n){return e.row<t.row||e.row==t.row&&(n?e.column<=t.column:e.column<t.column)}var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,s=function(){function e(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"number"!=typeof t?this.setPosition(t.row,t.column):this.setPosition(t,n)}return e.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},e.prototype.getDocument=function(){return this.document},e.prototype.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var t=function(e,t,r){var i="insert"==e.action,s=(i?1:-1)*(e.end.row-e.start.row),o=(i?1:-1)*(e.end.column-e.start.column),a=e.start,l=i?a:e.end;return n(t,a,r)?{row:t.row,column:t.column}:n(l,t,!r)?{row:t.row+s,column:t.column+(t.row==l.row?o:0)}:{row:a.row,column:a.column}}(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,!0)}},e.prototype.setPosition=function(e,t,n){var r;if(r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})}},e.prototype.detach=function(){this.document.off("change",this.$onChange)},e.prototype.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},e.prototype.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n},e}();s.prototype.$insertRight=!1,r.implement(s.prototype,i),t.Anchor=s})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t){"use strict";var n=e("./lib/oop"),r=e("./apply_delta").applyDelta,i=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,o=e("./anchor").Anchor,a=function(){function e(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)}return e.prototype.setValue=function(e){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e||"")},e.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},e.prototype.createAnchor=function(e,t){return new o(this,e,t)},e.prototype.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},e.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},e.prototype.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},e.prototype.getNewLineMode=function(){return this.$newLineMode},e.prototype.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},e.prototype.getLine=function(e){return this.$lines[e]||""},e.prototype.getLines=function(e,t){return this.$lines.slice(e,t+1)},e.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},e.prototype.getLength=function(){return this.$lines.length},e.prototype.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},e.prototype.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},e.prototype.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},e.prototype.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},e.prototype.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},e.prototype.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},e.prototype.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},e.prototype.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var r=this.getLine(e);return null==t&&(t=r.length),{row:e,column:t=Math.min(Math.max(t,0),r.length)}},e.prototype.clonePos=function(e){return{row:e.row,column:e.column}},e.prototype.pos=function(e,t){return{row:e,column:t}},e.prototype.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},e.prototype.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},e.prototype.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:"insert",lines:t}),this.clonePos(r)},e.prototype.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},e.prototype.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:r,end:i,action:"remove",lines:this.getLinesForRange({start:r,end:i})},!0),this.clonePos(r)},e.prototype.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,r=t<this.getLength()-1,i=n?e-1:e,o=n?this.getLine(i).length:0,a=r?t+1:t,l=r?0:this.getLine(a).length,u=new s(i,o,a,l),c=this.$lines.slice(e,t+1);return this.applyDelta({start:u.start,end:u.end,action:"remove",lines:this.getLinesForRange(u)}),c},e.prototype.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},e.prototype.replace=function(e,t){return e instanceof s||(e=s.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},e.prototype.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},e.prototype.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},e.prototype.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!s.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(r(this.$lines,e,t),this._signal("change",e)))},e.prototype.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},e.prototype.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,r=n.length-t+1,i=e.start.row,s=e.start.column,o=0,a=0;o<r;o=a){var l=n.slice(o,a+=t-1);l.push(""),this.applyDelta({start:this.pos(i+o,s),end:this.pos(i+a,s=0),action:e.action,lines:l},!0)}e.lines=n.slice(o),e.start.row=i+o,e.start.column=s,this.applyDelta(e,!0)},e.prototype.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},e.prototype.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=t||0,s=n.length;i<s;i++)if((e-=n[i].length+r)<0)return{row:i,column:e+n[i].length+r};return{row:s-1,column:e+n[s-1].length+r}},e.prototype.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,s=Math.min(e.row,n.length),o=t||0;o<s;++o)i+=n[o].length+r;return i+e.column},e.prototype.$split=function(e){return e.split(/\r\n|\r|\n/)},e}();a.prototype.$autoNewLine="",a.prototype.$newLineMode="auto",n.implement(a.prototype,i),t.Document=a})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t){"use strict";var n=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,i=function(){function e(e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var t=this;this.$worker=function(){if(t.running){for(var e=new Date,n=t.currentLine,r=-1,i=t.doc,s=n;t.lines[n];)n++;var o=i.getLength(),a=0;for(t.running=!1;n<o;){t.$tokenizeRow(n),r=n;do{n++}while(t.lines[n]);if(++a%5==0&&new Date-e>20){t.running=setTimeout(t.$worker,20);break}}t.currentLine=n,-1==r&&(r=n),s<=r&&t.fireUpdateEvent(s,r)}}}return e.prototype.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},e.prototype.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},e.prototype.fireUpdateEvent=function(e,t){this._signal("update",{data:{first:e,last:t}})},e.prototype.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},e.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},e.prototype.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},e.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},e.prototype.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},e.prototype.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},e.prototype.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.tokenizer.getLineTokens(t,this.states[e-1],e);return this.states[e]+""!=n.state+""?(this.states[e]=n.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=n.tokens},e.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},e}();n.implement(i.prototype,r),t.BackgroundTokenizer=i})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],(function(e,t){"use strict";var n=e("./lib/lang"),r=e("./range").Range,i=function(){function e(e,t,n){void 0===n&&(n="text"),this.setRegexp(e),this.clazz=t,this.type=n}return e.prototype.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},e.prototype.update=function(e,t,i,s){if(this.regExp)for(var o=s.lastRow,a={},l=s.firstRow;l<=o;l++){var u=this.cache[l];null==u&&((u=n.getMatchOffsets(i.getLine(l),this.regExp)).length>this.MAX_RANGES&&(u=u.slice(0,this.MAX_RANGES)),u=u.map((function(e){return new r(l,e.offset,l,e.offset+e.length)})),this.cache[l]=u.length?u:"");for(var c=u.length;c--;){var h=u[c].toScreenRange(i),p=h.toString();a[p]||(a[p]=!0,t.drawSingleLineMarker(e,h,this.clazz,s))}}},e}();i.prototype.MAX_RANGES=500,t.SearchHighlight=i})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t){"use strict";function n(e){return{row:e.row,column:e.column}}function r(e){if(e=e||this,Array.isArray(e))return e.map(r).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(i).join("\n"):i(e.value)),e.start&&(t+=i(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function i(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function s(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)if(f(t.start,e.end)>=0)l(t,e,-1);else{if(!(f(t.start,e.start)<=0))return null;l(e,t,1)}else if(n&&!r)if(f(t.start,e.end)>=0)l(t,e,-1);else{if(!(f(t.end,e.start)<=0))return null;l(e,t,-1)}else if(!n&&r)if(f(t.start,e.start)>=0)l(t,e,1);else{if(!(f(t.start,e.start)<=0))return null;l(e,t,1)}else if(!n&&!r)if(f(t.start,e.start)>=0)l(t,e,1);else{if(!(f(t.end,e.start)<=0))return null;l(e,t,-1)}return[t,e]}function o(e,t){for(var n=e.length;n--;)for(var r=0;r<t.length;r++)if(!s(e[n],t[r])){for(;n<e.length;){for(;r--;)s(t[r],e[n]);r=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function a(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)f(e.start,t.start)<0?l(t,e,1):l(e,t,1);else if(n&&!r)f(e.start,t.end)>=0?l(e,t,-1):(f(e.start,t.start)<=0||l(e,d.fromPoints(t.start,e.start),-1),l(t,e,1));else if(!n&&r)f(t.start,e.end)>=0?l(t,e,-1):(f(t.start,e.start)<=0||l(t,d.fromPoints(e.start,t.start),-1),l(e,t,1));else if(!n&&!r)if(f(t.start,e.end)>=0)l(t,e,-1);else{var i,s;if(!(f(t.end,e.start)<=0))return f(e.start,t.start)<0&&(i=e,e=c(e,t.start)),f(e.end,t.end)>0&&(s=c(e,t.end)),u(t.end,e.start,e.end,-1),s&&!i&&(e.lines=s.lines,e.start=s.start,e.end=s.end,s=e),[t,i,s].filter(Boolean);l(e,t,-1)}return[t,e]}function l(e,t,n){u(e.start,t.start,t.end,n),u(e.end,t.start,t.end,n)}function u(e,t,n,r){e.row==(1==r?t:n).row&&(e.column+=r*(n.column-t.column)),e.row+=r*(n.row-t.row)}function c(e,t){var r=e.lines,i=e.end;e.end=n(t);var s=e.end.row-e.start.row,o=r.splice(s,r.length),a=s?t.column:t.column-e.start.column;return r.push(o[0].substring(0,a)),o[0]=o[0].substr(a),{start:n(t),end:i,lines:o,action:e.action}}function h(e,t){t=function(e){return{start:n(e.start),end:n(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var r=e.length;r--;){for(var i=e[r],s=0;s<i.length;s++){var o=a(i[s],t);t=o[0],2!=o.length&&(o[2]?(i.splice(s+1,1,o[1],o[2]),s++):o[1]||(i.splice(s,1),s--))}i.length||e.splice(r,1)}return e}var p=function(){function e(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return e.prototype.addSession=function(e){this.$session=e},e.prototype.add=function(e,t){if(!this.$fromUndo&&e!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===t||!this.lastDeltas){this.lastDeltas=[];var n=this.$undoStack.length;n>this.$undoDepth-1&&this.$undoStack.splice(0,n-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev}"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e)}},e.prototype.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},e.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},e.prototype.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=n.length;r--;){var i=n[r][0];if(i.id<=e)break;i.id<t&&(i.ignore=!0)}this.lastDeltas=null},e.prototype.getSelection=function(e,t){for(var n=this.selections,r=n.length;r--;){var i=n[r];if(i.rev<e)return t&&(i=n[r+1]),i}},e.prototype.getRevision=function(){return this.$rev},e.prototype.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=null,i=0,s=n.length;s--;){var o=n[s][0];if(o.id<t&&!r&&(r=s+1),o.id<=e){i=s+1;break}}return n.slice(i,r)},e.prototype.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},e.prototype.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},e.prototype.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var r=e[n];if(r&&!r[0].ignore){for(;n<t-1;){var i=o(e[n],e[n+1]);e[n]=i[0],e[n+1]=i[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var r=n.pop(),i=null;return r&&(i=e.undoChanges(r,t),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,i}},e.prototype.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)h(e,r[i])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var r=this.$redoStack.pop(),i=null;return r&&(i=e.redoChanges(r,t),this.$undoStack.push(r),this.$syncRev()),this.$fromUndo=!1,i},e.prototype.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},e.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},e.prototype.canUndo=function(){return this.$undoStack.length>0},e.prototype.canRedo=function(){return this.$redoStack.length>0},e.prototype.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},e.prototype.isAtBookmark=function(){return this.$rev===this.mark},e.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},e.prototype.fromJSON=function(e){this.reset(),this.$undoStack=e.$undoStack,this.$redoStack=e.$redoStack},e.prototype.$prettyPrint=function(e){return e?r(e):r(this.$undoStack)+"\n---\n"+r(this.$redoStack)},e}();p.prototype.hasUndo=p.prototype.canUndo,p.prototype.hasRedo=p.prototype.canRedo,p.prototype.isClean=p.prototype.isAtBookmark,p.prototype.markClean=p.prototype.bookmark;var d=e("./range").Range,f=d.comparePoints;t.UndoManager=p})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t){"use strict";var n=e("../range").Range,r=function(){function e(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var r=t[t.length-1];this.range=new n(t[0].start.row,t[0].start.column,r.end.row,r.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}return e.prototype.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},e.prototype.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},e.prototype.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},e.prototype.walk=function(e,t,n){var r,i,s=0,o=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<o.length;l++){if(-1==(i=(r=o[l]).range.compareStart(t,n)))return void e(null,t,n,s,a);if(!e(null,r.start.row,r.start.column,s,a)&&e(r.placeholder,r.start.row,r.start.column,s)||0===i)return;a=!r.sameRow,s=r.end.column}e(null,t,n,s,a)},e.prototype.getNextFoldTo=function(e,t){for(var n,r,i=0;i<this.folds.length;i++){if(-1==(r=(n=this.folds[i]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===r)return{fold:n,kind:"inside"}}return null},e.prototype.addRemoveChars=function(e,t,n){var r,i,s=this.getNextFoldTo(e,t);if(s)if(r=s.fold,"inside"==s.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){var o=(i=this.folds).indexOf(r);for(0===o&&(this.start.column+=n);o<i.length;o++){if((r=i[o]).start.column+=n,!r.sameRow)return;r.end.column+=n}this.end.column+=n}},e.prototype.split=function(t,n){var r=this.getNextFoldTo(t,n);if(!r||"inside"==r.kind)return null;var i=this.folds,s=this.foldData,o=i.indexOf(r.fold),a=i[o-1];this.end.row=a.end.row,this.end.column=a.end.column;var l=new e(s,i=i.splice(o,i.length-o));return s.splice(s.indexOf(this)+1,0,l),l},e.prototype.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},e.prototype.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},e.prototype.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var r=this.folds[n];if((e-=r.start.column-t)<0)return{row:r.start.row,column:r.start.column+e};if((e-=r.placeholder.length)<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}},e}();t.FoldLine=r})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t){"use strict";var n=e("./range").Range.comparePoints,r=function(){function e(){this.ranges=[],this.$bias=1}return e.prototype.pointIndex=function(e,t,r){for(var i=this.ranges,s=r||0;s<i.length;s++){var o=i[s],a=n(e,o.end);if(!(a>0)){var l=n(e,o.start);return 0===a?t&&0!==l?-s-2:s:l>0||0===l&&!t?s:-s-1}}return-s-1},e.prototype.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},e.prototype.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},e.prototype.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},e.prototype.merge=function(){for(var e,t=[],r=this.ranges,i=(r=r.sort((function(e,t){return n(e.start,t.start)})))[0],s=1;s<r.length;s++){var o=n((e=i).end,(i=r[s]).start);o<0||(0!=o||e.isEmpty()||i.isEmpty())&&(n(e.end,i.end)<0&&(e.end.row=i.end.row,e.end.column=i.end.column),r.splice(s,1),t.push(i),i=e,s--)}return this.ranges=r,t},e.prototype.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},e.prototype.containsPoint=function(e){return this.pointIndex(e)>=0},e.prototype.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},e.prototype.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);i<0&&(i=-i-1);for(var s=[],o=r;o<i;o++)s.push(n[o]);return s},e.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},e.prototype.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},e.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},e.prototype.$onChange=function(e){for(var t=e.start,n=e.end,r=t.row,i=n.row,s=this.ranges,o=0,a=s.length;o<a;o++){if((c=s[o]).end.row>=r)break}if("insert"==e.action)for(var l=i-r,u=-t.column+n.column;o<a;o++){if((c=s[o]).start.row>r)break;if(c.start.row==r&&c.start.column>=t.column&&(c.start.column==t.column&&this.$bias<=0||(c.start.column+=u,c.start.row+=l)),c.end.row==r&&c.end.column>=t.column){if(c.end.column==t.column&&this.$bias<0)continue;c.end.column==t.column&&u>0&&o<a-1&&c.end.column>c.start.column&&c.end.column==s[o+1].start.column&&(c.end.column-=u),c.end.column+=u,c.end.row+=l}}else for(l=r-i,u=t.column-n.column;o<a;o++){if((c=s[o]).start.row>i)break;c.end.row<i&&(r<c.end.row||r==c.end.row&&t.column<c.end.column)?(c.end.row=r,c.end.column=t.column):c.end.row==i?c.end.column<=n.column?(l||c.end.column>t.column)&&(c.end.column=t.column,c.end.row=t.row):(c.end.column+=u,c.end.row+=l):c.end.row>i&&(c.end.row+=l),c.start.row<i&&(r<c.start.row||r==c.start.row&&t.column<c.start.column)?(c.start.row=r,c.start.column=t.column):c.start.row==i?c.start.column<=n.column?(l||c.start.column>t.column)&&(c.start.column=t.column,c.start.row=t.row):(c.start.column+=u,c.start.row+=l):c.start.row>i&&(c.start.row+=l)}if(0!=l&&o<a)for(;o<a;o++){var c;(c=s[o]).start.row+=l,c.end.row+=l}},e}();r.prototype.comparePoints=n,t.RangeList=r})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],(function(e,t){"use strict";function n(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function r(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}var i,s=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){var r=e.call(this)||this;return r.foldLine=null,r.placeholder=n,r.range=t,r.start=t.start,r.end=t.end,r.sameRow=t.start.row==t.end.row,r.subFolds=r.ranges=[],r}return s(t,e),t.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},t.prototype.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},t.prototype.clone=function(){var e=new t(this.range.clone(),this.placeholder);return this.subFolds.forEach((function(t){e.subFolds.push(t.clone())})),e.collapseChildren=this.collapseChildren,e},t.prototype.addSubFold=function(e){if(!this.range.isEqual(e)){var t,r;n((t=e).start,r=this.start),n(t.end,r);for(var i=e.start.row,s=e.start.column,o=0,a=-1;o<this.subFolds.length&&1==(a=this.subFolds[o].range.compare(i,s));o++);var l=this.subFolds[o],u=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);u=1}i=e.range.end.row,s=e.range.end.column;var c=o;for(a=-1;c<this.subFolds.length&&1==(a=this.subFolds[c].range.compare(i,s));c++);0==a&&c++;for(var h=this.subFolds.splice(o,c-o,e),p=0==a?h.length-1:h.length,d=u;d<p;d++)e.addSubFold(h[d]);return e.setFoldLine(this.foldLine),e}},t.prototype.restoreRange=function(e){return function(e,t){r(e.start,t),r(e.end,t)}(e,this.start)},t}(e("../range_list").RangeList);t.Fold=o})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],(function(e,t){"use strict";var n=e("../range").Range,r=e("./fold_line").FoldLine,i=e("./fold").Fold,s=e("../token_iterator").TokenIterator,o=e("../mouse/mouse_event").MouseEvent;t.Folding=function(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;for(var i=r.folds,s=0;s<i.length;s++){var o=i[s].range;if(o.contains(e,t)){if(1==n&&o.isEnd(e,t)&&!o.isEmpty())continue;if(-1==n&&o.isStart(e,t)&&!o.isEmpty())continue;return i[s]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var s=0;s<r.length;s++){var o=r[s].range.compareRange(e);if(2!=o){if(-2==o)break;for(var a=r[s].folds,l=0;l<a.length;l++){var u=a[l];if(-2==(o=u.range.compareRange(e)))break;if(2!=o){if(42==o)break;i.push(u)}}}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){if(!(r=r||this.getFoldLine(e)))return null;for(var i,s,o={end:{column:0}},a=0;a<r.folds.length;a++){var l=(s=r.folds[a]).range.compareEnd(e,t);if(-1==l){i=this.getLine(s.start.row).substring(o.end.column,s.start.column);break}if(0===l)return null;o=s}return i||(i=this.getLine(s.start.row).substring(o.end.column)),-1==n?i.substring(0,t-o.end.column):1==n?i.substring(t-o.end.column):i},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,r=t-e+1,i=0;i<n.length;i++){var s=n[i],o=s.end.row,a=s.start.row;if(o>=t){a<t&&(a>=e?r-=t-a:r=0);break}o>=e&&(r-=a>=e?o-a:o-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,s=this.$foldData,o=!1;e instanceof i?n=e:(n=new i(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,u=n.end.row,c=n.end.column,h=this.getFoldAt(a,l,1),p=this.getFoldAt(u,c,-1);if(h&&p==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),p&&!p.range.isEnd(u,c)&&this.removeFold(p);var d=this.getFoldsInRange(n.range);d.length>0&&(this.removeFolds(d),n.collapseChildren||d.forEach((function(e){n.addSubFold(e)})));for(var f=0;f<s.length;f++){var g=s[f];if(u==g.start.row){g.addFold(n),o=!0;break}if(a==g.end.row){if(g.addFold(n),o=!0,!n.sameRow){var m=s[f+1];if(m&&m.start.row==u){g.merge(m);break}}break}if(u<=g.start.row)break}return o||(g=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,s=t.folds;if(1==s.length)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))s.pop(),t.end.row=s[s.length-1].end.row,t.end.column=s[s.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))s.shift(),t.start.row=s[0].start.row,t.start.column=s[0].start.column;else if(e.sameRow)s.splice(s.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);(s=o.folds).shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var r,i;if(null==e)r=new n(0,0,this.getLength(),0),null==t&&(t=!0);else if("number"==typeof e)r=new n(e,0,e,this.getLine(e).length);else if("row"in e)r=n.fromPoints(e,e);else{if(Array.isArray(e))return i=[],e.forEach((function(e){i=i.concat(this.unfold(e))}),this),i;r=e}for(var s=i=this.getFoldsInRangeList(r);1==i.length&&n.comparePoints(i[0].start,r.start)<0&&n.comparePoints(i[0].end,r.end)>0;)this.expandFolds(i),i=this.getFoldsInRangeList(r);if(0!=t?this.removeFolds(i):this.expandFolds(i),s.length)return s},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){null==r&&(r=e.start.row),null==i&&(i=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var s=this.doc,o="";return e.walk((function(e,t,n,a){if(!(t<r)){if(t==r){if(n<i)return;a=Math.max(i,a)}o+=null!=e?e:s.getLine(t).substring(a,n)}}),t,n),o},this.getDisplayLine=function(e,t,n,r){var i,s=this.getFoldLine(e);return s?this.getFoldDisplayLine(s,e,t,n,r):(i=this.doc.getLine(e)).substring(r||0,t||i.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new r(e,n)}))},this.toggleFold=function(e){var t,n,r=this.selection.getRange();if(r.isEmpty()){var i=r.start;if(t=this.getFoldAt(i.row,i.column))return void this.expandFold(t);(n=this.findMatchingBracket(i))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:i.row,column:i.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(i.row,i.column)||r}else{var s=this.getFoldsInRange(r);if(e&&s.length)return void this.expandFolds(s);1==s.length&&(t=s[0])}if(t||(t=this.getFoldAt(r.start.row,r.start.column)),t&&t.range.toString()==r.toString())this.expandFold(t);else{var o="...";if(!r.isMultiLine()){if((o=this.getTextRange(r)).length<4)return;o=o.trim().substring(0,2)+".."}this.addFold(o,r)}},this.getCommentFoldRange=function(e,t,r){var i=new s(this,e,t),o=i.getCurrentToken(),a=o&&o.type;if(o&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start|\\.doc");var l=new RegExp(a),u=new n;if(1!=r){do{o=i.stepBackward()}while(o&&l.test(o.type)&&!/^comment.end/.test(o.type));o=i.stepForward()}if(u.start.row=i.getCurrentTokenRow(),u.start.column=i.getCurrentTokenColumn()+(/^comment.start/.test(o.type)?o.value.length:2),i=new s(this,e,t),-1!=r){var c=-1;do{if(o=i.stepForward(),-1==c){var h=this.getState(i.$row);l.test(h)||(c=i.$row)}else if(i.$row>c)break}while(o&&l.test(o.type)&&!/^comment.start/.test(o.type));o=i.stepBackward()}else o=i.getCurrentToken();return u.end.row=i.getCurrentTokenRow(),u.end.column=i.getCurrentTokenColumn(),/^comment.end/.test(o.type)||(u.end.column+=o.value.length-2),u}},this.foldAll=function(e,t,n,r){null==n&&(n=1e5);var i=this.foldWidgets;if(i){t=t||this.getLength();for(var s=e=e||0;s<t;s++)if(null==i[s]&&(i[s]=this.getFoldWidget(s)),"start"==i[s]&&(!r||r(s))){var o=this.getFoldWidgetRange(s);o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e&&(s=o.end.row,o.collapseChildren=n,this.addFold("...",o))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),r=0;r<n.length;r++){var i=n[r];if("text"!=i.type||!/^\s+$/.test(i.value))return!!/comment/.test(i.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var r,i=e-1;i>=0;){var s=n[i];if(null==s&&(s=n[i]=this.getFoldWidget(i)),"start"==s){var o=this.getFoldWidgetRange(i);if(r||(r=o),o&&o.end.row>=e)break}i--}return{range:-1!==i&&o,firstRange:r}},this.onFoldWidgetClick=function(e,t){if(t instanceof o&&(t=t.domEvent),!this.$toggleFoldWidget(e,{children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey})){var n=t.target||t.srcElement;n&&/ace_fold-widget/.test(n.className)&&(n.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),r=this.getLine(e),i="end"===n?-1:1,s=this.getFoldAt(e,-1===i?0:r.length,i);if(s)return t.children||t.all?this.removeFold(s):this.expandFold(s),s;var o=this.getFoldWidgetRange(e,!0);if(o&&!o.isMultiLine()&&(s=this.getFoldAt(o.start.row,o.start.column,1))&&o.isEqual(s.range))return this.removeFold(s),s;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,u=a.range.end.row;this.foldAll(l,u,t.all?1e4:0)}else t.children?(u=o?o.end.row:this.getLength(),this.foldAll(e+1,u,t.all?1e4:0)):o&&(t.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o}},this.toggleFoldWidget=function(){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var t=this.$toggleFoldWidget(e,{});if(!t){var n=this.getParentFoldRangeData(e,!0);if(t=n.range||n.firstRange){var r=this.getFoldAt(e=t.start.row,this.getLine(e).length,1);r?this.removeFold(r):this.addFold("...",t)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t){"use strict";var n=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,s=n.charAt(e.column-1),o=s&&s.match(/([\(\[\{])|([\)\]\}])/);if(o||(s=n.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(/([\(\[\{])|([\)\]\}])/),i=!1),!o)return null;if(o[1]){if(!(a=this.$findClosingBracket(o[1],e)))return null;t=r.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(o[2],e)))return null;t=r.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e,t){var n=this.getLine(e.row),i=/([\(\[\{])|([\)\]\}])/,s=!t&&n.charAt(e.column-1),o=s&&s.match(i);if(o||(s=(void 0===t||t)&&n.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(i)),!o)return null;var a=new r(e.row,e.column-1,e.row,e.column),l=o[1]?this.$findClosingBracket(o[1],e):this.$findOpeningBracket(o[2],e);return l?[a,new r(l.row,l.column,l.row,l.column+1)]:[a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,r){var i=this.$brackets[e],s=1,o=new n(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){r||(r=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var l=t.column-o.getCurrentTokenColumn()-2,u=a.value;;){for(;l>=0;){var c=u.charAt(l);if(c==i){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else c==e&&(s+=1);l-=1}do{a=o.stepBackward()}while(a&&!r.test(a.type));if(null==a)break;l=(u=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,r){var i=this.$brackets[e],s=1,o=new n(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){r||(r=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var l=t.column-o.getCurrentTokenColumn();;){for(var u=a.value,c=u.length;l<c;){var h=u.charAt(l);if(h==i){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else h==e&&(s+=1);l+=1}do{a=o.stepForward()}while(a&&!r.test(a.type));if(null==a)break;l=0}return null}},this.getMatchingTags=function(e){var t=new n(this,e.row,e.column),r=this.$findTagName(t);if(r)return"<"===t.stepBackward().value?this.$findClosingTag(t,r):this.$findOpeningTag(t,r)},this.$findTagName=function(e){var t=e.getCurrentToken(),n=!1,r=!1;if(t&&-1===t.type.indexOf("tag-name"))do{(t=r?e.stepBackward():e.stepForward())&&("/>"===t.value?r=!0:-1!==t.type.indexOf("tag-name")&&(n=!0))}while(t&&!n);return t},this.$findClosingTag=function(e,t){var n,i=t.value,s=t.value,o=0,a=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);t=e.stepForward();var l=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length),u=!1;do{if(n=t,t=e.stepForward()){if(">"===t.value&&!u){var c=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);u=!0}if(-1!==t.type.indexOf("tag-name")){if(s===(i=t.value))if("<"===n.value)o++;else if("</"===n.value&&--o<0){e.stepBackward();var h=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2);t=e.stepForward();var p=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if(!(t=e.stepForward())||">"!==t.value)return;var d=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else if(s===i&&"/>"===t.value&&--o<0)d=p=h=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2),c=new r(l.end.row,l.end.column,l.end.row,l.end.column+1)}}while(t&&o>=0);if(a&&c&&h&&d&&l&&p)return{openTag:new r(a.start.row,a.start.column,c.end.row,c.end.column),closeTag:new r(h.start.row,h.start.column,d.end.row,d.end.column),openTagName:l,closeTagName:p}},this.$findOpeningTag=function(e,t){var n=e.getCurrentToken(),i=t.value,s=0,o=e.getCurrentTokenRow(),a=e.getCurrentTokenColumn(),l=a+2,u=new r(o,a,o,l);e.stepForward();var c=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if((t=e.stepForward())&&">"===t.value){var h=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);e.stepBackward(),e.stepBackward();do{if(t=n,o=e.getCurrentTokenRow(),l=(a=e.getCurrentTokenColumn())+t.value.length,n=e.stepBackward(),t)if(-1!==t.type.indexOf("tag-name")){if(i===t.value)if("<"===n.value){if(++s>0){var p=new r(o,a,o,l),d=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);do{t=e.stepForward()}while(t&&">"!==t.value);var f=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else"</"===n.value&&s--}else if("/>"===t.value){for(var g=0,m=n;m;){if(-1!==m.type.indexOf("tag-name")&&m.value===i){s--;break}if("<"===m.value)break;m=e.stepBackward(),g++}for(var y=0;y<g;y++)e.stepForward()}}while(n&&s<=0);return d&&f&&u&&h&&p&&c?{openTag:new r(d.start.row,d.start.column,f.end.row,f.end.column),closeTag:new r(u.start.row,u.start.column,h.end.row,h.end.column),openTagName:p,closeTagName:c}:void 0}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t){"use strict";function n(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}var r=e("./lib/oop"),i=e("./lib/lang"),s=e("./bidihandler").BidiHandler,o=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,u=e("./mode/text").Mode,c=e("./range").Range,h=e("./document").Document,p=e("./background_tokenizer").BackgroundTokenizer,d=e("./search_highlight").SearchHighlight,f=e("./undomanager").UndoManager,g=function(){function e(t,n){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++e.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new p((new u).getTokenizer(),this);var r=this;this.bgTokenizer.on("update",(function(e){r._signal("tokenizerUpdate",e)})),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new h(t)),this.setDocument(t),this.selection=new l(this),this.$bidiHandler=new s(this),o.resetOptions(this),this.setMode(n),o._signal("session",this),this.destroyed=!1}return e.prototype.setDocument=function(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},e.prototype.getDocument=function(){return this.doc},e.prototype.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},e.prototype.$getRowCacheIndex=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>1,s=e[i];if(t>s)n=i+1;else{if(!(t<s))return i;r=i-1}}return n-1},e.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},e.prototype.onChangeFold=function(e){this.$resetRowCache(e.data.start.row)},e.prototype.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},e.prototype.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},e.fromJSON=function(t){"string"==typeof t&&(t=JSON.parse(t));var n=new f;n.$undoStack=t.history.undo,n.$redoStack=t.history.redo,n.mark=t.history.mark,n.$rev=t.history.rev;var r=new e(t.value);return t.folds.forEach((function(e){r.addFold("...",c.fromPoints(e.start,e.end))})),r.setAnnotations(t.annotations),r.setBreakpoints(t.breakpoints),r.setMode(t.mode),r.setScrollLeft(t.scrollLeft),r.setScrollTop(t.scrollTop),r.setUndoManager(n),r.selection.fromJSON(t.selection),r},e.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map((function(e){return e.range})),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},e.prototype.toString=function(){return this.doc.getValue()},e.prototype.getSelection=function(){return this.selection},e.prototype.getState=function(e){return this.bgTokenizer.getState(e)},e.prototype.getTokens=function(e){return this.bgTokenizer.getTokens(e)},e.prototype.getTokenAt=function(e,t){var n,r=this.bgTokenizer.getTokens(e),i=0;if(null==t){var s=r.length-1;i=this.getLine(e).length}else for(s=0;s<r.length&&!((i+=r[s].value.length)>=t);s++);return(n=r[s])?(n.index=s,n.start=i-n.value.length,n):null},e.prototype.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},e.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},e.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},e.prototype.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"\t"},e.prototype.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},e.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},e.prototype.setTabSize=function(e){this.setOption("tabSize",e)},e.prototype.getTabSize=function(){return this.$tabSize},e.prototype.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},e.prototype.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},e.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},e.prototype.setOverwrite=function(e){this.setOption("overwrite",e)},e.prototype.getOverwrite=function(){return this.$overwrite},e.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},e.prototype.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},e.prototype.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},e.prototype.getBreakpoints=function(){return this.$breakpoints},e.prototype.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},e.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},e.prototype.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},e.prototype.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},e.prototype.addMarker=function(e,t,n,r){var i=this.$markerId++,s={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=s,this._signal("changeFrontMarker")):(this.$backMarkers[i]=s,this._signal("changeBackMarker")),i},e.prototype.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},e.prototype.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},e.prototype.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},e.prototype.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},e.prototype.highlightLines=function(e,t,n,r){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var i=new c(e,0,t,1/0);return i.id=this.addMarker(i,n,"fullLine",r),i},e.prototype.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},e.prototype.getAnnotations=function(){return this.$annotations||[]},e.prototype.clearAnnotations=function(){this.setAnnotations([])},e.prototype.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},e.prototype.getWordRange=function(e,t){var n=this.getLine(e),r=!1;if(t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe)),r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))i=/\s/;else i=this.nonTokenRe;var s=t;if(s>0){do{s--}while(s>=0&&n.charAt(s).match(i));s++}for(var o=t;o<n.length&&n.charAt(o).match(i);)o++;return new c(e,s,e,o)},e.prototype.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),r=this.getLine(n.end.row);r.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},e.prototype.setNewLineMode=function(e){this.doc.setNewLineMode(e)},e.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},e.prototype.setUseWorker=function(e){this.setOption("useWorker",e)},e.prototype.getUseWorker=function(){return this.$useWorker},e.prototype.onReloadTokenizer=function(e){this.bgTokenizer.start(e.data.first),this._signal("tokenizerUpdate",e)},e.prototype.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=e.path}else r=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new u),this.$modes[r]&&!n)return this.$onChangeMode(this.$modes[r]),void(t&&t());this.$modeId=r,o.loadModule(["mode",r],function(e){if(this.$modeId!==r)return t&&t();this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},e.prototype.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var r=e.getTokenizer();if(void 0!==r.on){var i=this.onReloadTokenizer.bind(this);r.on("update",i)}this.bgTokenizer.setTokenizer(r),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},e.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},e.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){o.warn("Could not load worker",e),this.$worker=null}},e.prototype.getMode=function(){return this.$mode},e.prototype.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},e.prototype.getScrollTop=function(){return this.$scrollTop},e.prototype.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},e.prototype.getScrollLeft=function(){return this.$scrollLeft},e.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},e.prototype.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},e.prototype.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,s=this.$foldData[i],o=s?s.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>o){if((l=s.end.row+1)>=a)break;o=(s=this.$foldData[i++])?s.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>r&&(r=n[l])}this.screenWidth=r}},e.prototype.getLine=function(e){return this.doc.getLine(e)},e.prototype.getLines=function(e,t){return this.doc.getLines(e,t)},e.prototype.getLength=function(){return this.doc.getLength()},e.prototype.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},e.prototype.insert=function(e,t){return this.doc.insert(e,t)},e.prototype.remove=function(e){return this.doc.remove(e)},e.prototype.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},e.prototype.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var r=e[n];"insert"==r.action||"remove"==r.action?this.doc.revertDelta(r):r.folds&&this.addFolds(r.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},e.prototype.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var r=e[n];"insert"!=r.action&&"remove"!=r.action||this.doc.$safeApplyDelta(r)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},e.prototype.setUndoSelect=function(e){this.$undoSelect=e},e.prototype.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var r,i,s=0;s<e.length;s++){var o=e[s];o.start&&(r?n(o)?(-1==r.compare((i=o.start).row,i.column)&&r.setStart(i),1==r.compare((i=o.end).row,i.column)&&r.setEnd(i)):-1==r.compare((i=o.start).row,i.column)&&(r=c.fromPoints(o.start,o.start)):r=n(o)?c.fromPoints(o.start,o.end):c.fromPoints(o.start,o.start))}return r},e.prototype.replace=function(e,t){return this.doc.replace(e,t)},e.prototype.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),s=c.fromPoints(t,t);n||(this.remove(e),(u=(l=e.start.row-e.end.row)?-e.end.column:e.start.column-e.end.column)&&(s.start.row==e.end.row&&s.start.column>e.end.column&&(s.start.column+=u),s.end.row==e.end.row&&s.end.column>e.end.column&&(s.end.column+=u)),l&&s.start.row>=e.end.row&&(s.start.row+=l,s.end.row+=l));if(s.end=this.insert(s.start,r),i.length){var o=e.start,a=s.start,l=a.row-o.row,u=a.column-o.column;this.addFolds(i.map((function(e){return(e=e.clone()).start.row==o.row&&(e.start.column+=u),e.end.row==o.row&&(e.end.column+=u),e.start.row+=l,e.end.row+=l,e})))}return s},e.prototype.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},e.prototype.outdentRows=function(e){for(var t=e.collapseRows(),n=new c(0,0,0,0),r=this.getTabSize(),i=t.start.row;i<=t.end.row;++i){var s=this.getLine(i);n.start.row=i,n.end.row=i;for(var o=0;o<r&&" "==s.charAt(o);++o);o<r&&"\t"==s.charAt(o)?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},e.prototype.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((i=this.getRowFoldStart(e+n))<0)return 0;var r=i-e}else if(n>0){var i;if((i=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;r=i-t}else{e=this.$clipRowToDocument(e);r=(t=this.$clipRowToDocument(t))-e+1}var s=new c(e,0,t,Number.MAX_VALUE),o=this.getFoldsInRange(s).map((function(e){return(e=e.clone()).start.row+=r,e.end.row+=r,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+r,a),o.length&&this.addFolds(o),r},e.prototype.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},e.prototype.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},e.prototype.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},e.prototype.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},e.prototype.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},e.prototype.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},e.prototype.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},e.prototype.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},e.prototype.getUseWrapMode=function(){return this.$useWrapMode},e.prototype.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},e.prototype.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1&&(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},e.prototype.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},e.prototype.getWrapLimit=function(){return this.$wrapLimit},e.prototype.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},e.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},e.prototype.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,i=e.end,s=r.row,o=i.row,a=o-s,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(s,a);var u=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var c=0;if(g=this.getFoldLine(i.row)){g.addRemoveChars(i.row,i.column,r.column-i.column),g.shiftRow(-a);var h=this.getFoldLine(s);h&&h!==g&&(h.merge(g),g=h),c=u.indexOf(g)+1}for(;c<u.length;c++){(g=u[c]).start.row>=i.row&&g.shiftRow(-a)}o=s}else{var p=Array(a);p.unshift(s,0);var d=t?this.$wrapData:this.$rowLengthCache;d.splice.apply(d,p);u=this.$foldData,c=0;if(g=this.getFoldLine(s)){var f=g.range.compareInside(r.row,r.column);0==f?(g=g.split(r.row,r.column))&&(g.shiftRow(a),g.addRemoveChars(o,0,i.column-r.column)):-1==f&&(g.addRemoveChars(s,0,i.column-r.column),g.shiftRow(a)),c=u.indexOf(g)+1}for(;c<u.length;c++){var g;(g=u[c]).start.row>=s&&g.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(g=this.getFoldLine(s))&&g.addRemoveChars(s,r.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(s,o):this.$updateRowLengthCache(s,o),l},e.prototype.$updateRowLengthCache=function(e,t){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},e.prototype.$updateWrapData=function(e,t){var n,r,i=this.doc.getAllLines(),s=this.getTabSize(),o=this.$wrapData,a=this.$wrapLimit,l=e;for(t=Math.min(t,i.length-1);l<=t;)(r=this.getFoldLine(l,r))?(n=[],r.walk(function(e,t,r,s){var o;if(null!=e){(o=this.$getDisplayTokens(e,n.length))[0]=v;for(var a=1;a<o.length;a++)o[a]=x}else o=this.$getDisplayTokens(i[t].substring(s,r),n.length);n=n.concat(o)}.bind(this),r.end.row,i[r.end.row].length+1),o[r.start.row]=this.$computeWrapSplits(n,a,s),l=r.end.row+1):(n=this.$getDisplayTokens(i[l]),o[l]=this.$computeWrapSplits(n,a,s),l++)},e.prototype.$computeWrapSplits=function(e,t,n){function r(t){for(var r=t-o,s=o;s<t;s++){var p=e[s];12!==p&&2!==p||(r-=1)}i.length||(h=function(){var t=0;if(0===c)return t;if(u)for(var r=0;r<e.length;r++){var i=e[r];if(i==_)t+=1;else{if(i!=w){if(i==S)continue;break}t+=n}}return l&&!1!==u&&(t+=n),Math.min(t,c)}(),i.indent=h),i.push(a+=r),o=t}if(0==e.length)return[];for(var i=[],s=e.length,o=0,a=0,l=this.$wrapAsCode,u=this.$indentedSoftWrap,c=t<=Math.max(2*n,8)||!1===u?0:Math.floor(t/2),h=0;s-o>t-h;){var p=o+t-h;if(e[p-1]>=_&&e[p]>=_)r(p);else if(e[p]!=v&&e[p]!=x){for(var d=Math.max(p-(t-(t>>2)),o-1);p>d&&e[p]<v;)p--;if(l){for(;p>d&&e[p]<v;)p--;for(;p>d&&e[p]==b;)p--}else for(;p>d&&e[p]<_;)p--;p>d?r(++p):(e[p=o+t]==y&&p--,r(p-h))}else{for(;p!=o-1&&e[p]!=v;p--);if(p>o){r(p);continue}for(p=o+t;p<e.length&&e[p]==x;p++);if(p==e.length)break;r(p)}}return i},e.prototype.$getDisplayTokens=function(e,t){var r,i=[];t=t||0;for(var s=0;s<e.length;s++){var o=e.charCodeAt(s);if(9==o){r=this.getScreenTabSize(i.length+t),i.push(w);for(var a=1;a<r;a++)i.push(S)}else 32==o?i.push(_):o>39&&o<48||o>57&&o<64?i.push(b):o>=4352&&n(o)?i.push(m,y):i.push(m)}return i},e.prototype.$getStringScreenWidth=function(e,t,r){if(0==t)return[0,0];var i,s;for(null==t&&(t=1/0),r=r||0,s=0;s<e.length&&(9==(i=e.charCodeAt(s))?r+=this.getScreenTabSize(r):i>=4352&&n(i)?r+=2:r+=1,!(r>t));s++);return[r,s]},e.prototype.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},e.prototype.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},e.prototype.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},e.prototype.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},e.prototype.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},e.prototype.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},e.prototype.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},e.prototype.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},e.prototype.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},e.prototype.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},e.prototype.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var r,i,s=0,o=0,a=0,l=0,u=this.$screenRowCache,c=this.$getRowCacheIndex(u,e),h=u.length;if(h&&c>=0){a=u[c],s=this.$docRowCache[c];var p=e>u[h-1]}else p=!h;for(var d=this.getLength()-1,f=this.getNextFoldLine(s),g=f?f.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(s))>e||s>=d);)a+=l,++s>g&&(g=(f=this.getNextFoldLine(s=f.end.row+1,f))?f.start.row:1/0),p&&(this.$docRowCache.push(s),this.$screenRowCache.push(a));if(f&&f.start.row<=s)r=this.getFoldDisplayLine(f),s=f.start.row;else{if(a+l<=e||s>d)return{row:d,column:this.getLine(d).length};r=this.getLine(s),f=null}var m=0,y=Math.floor(e-a);if(this.$useWrapMode){var v=this.$wrapData[s];v&&(i=v[y],y>0&&v.length&&(m=v.indent,r=r.substring(o=v[y-1]||v[v.length-1])))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+y,s,y)&&(t=this.$bidiHandler.offsetToCol(n)),o+=this.$getStringScreenWidth(r,t-m)[1],this.$useWrapMode&&o>=i&&(o=i-1),f?f.idxToPosition(o):{row:s,column:o}},e.prototype.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);var r,i=0,s=null;(r=this.getFoldAt(e=n.row,t=n.column,1))&&(e=r.start.row,t=r.start.column);var o,a=0,l=this.$docRowCache,u=this.$getRowCacheIndex(l,e),c=l.length;if(c&&u>=0){a=l[u],i=this.$screenRowCache[u];var h=e>l[c-1]}else h=!c;for(var p=this.getNextFoldLine(a),d=p?p.start.row:1/0;a<e;){if(a>=d){if((o=p.end.row+1)>e)break;d=(p=this.getNextFoldLine(o,p))?p.start.row:1/0}else o=a+1;i+=this.getRowLength(a),a=o,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var f="";p&&a>=d?(f=this.getFoldDisplayLine(p,e,t),s=p.start.row):(f=this.getLine(e).substring(0,t),s=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[s];if(m){for(var y=0;f.length>=m[y];)i++,y++;f=f.substring(m[y-1]||0,f.length),g=y>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(i+=this.lineWidgets[a].rowsAbove),{row:i,column:g+this.$getStringScreenWidth(f)[0]}},e.prototype.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},e.prototype.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},e.prototype.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,r=0,i=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);r<n;){var s=this.$wrapData[r];e+=s?s.length+1:1,++r>i&&(r=t.end.row+1,i=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var o=this.$foldData,a=0;a<o.length;a++)e-=(t=o[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},e.prototype.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,r){if(0===n)return[0,0];var i,s;for(n||(n=1/0),r=r||0,s=0;s<t.length&&!((r+="\t"===(i=t.charAt(s))?this.getScreenTabSize(r):e.getCharacterWidth(i))>n);s++);return[r,s]})},e.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},e}();g.$uid=0,g.prototype.$modes=o.$modes,g.prototype.getValue=g.prototype.toString,g.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},g.prototype.$overwrite=!1,g.prototype.$mode=null,g.prototype.$modeId=null,g.prototype.$scrollTop=0,g.prototype.$scrollLeft=0,g.prototype.$wrapLimit=80,g.prototype.$useWrapMode=!1,g.prototype.$wrapLimitRange={min:null,max:null},g.prototype.lineWidgets=null,g.prototype.isFullWidth=n,r.implement(g.prototype,a);var m=1,y=2,v=3,x=4,b=9,_=10,w=11,S=12;e("./edit_session/folding").Folding.call(g.prototype),e("./edit_session/bracket_match").BracketMatch.call(g.prototype),o.defineOptions(g.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=g})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t){"use strict";var n=e("./lib/lang"),r=e("./lib/oop"),i=e("./range").Range,s=function(){function e(){this.$options={}}return e.prototype.set=function(e){return r.mixin(this.$options,e),this},e.prototype.getOptions=function(){return n.copyObject(this.$options)},e.prototype.setOptions=function(e){this.$options=e},e.prototype.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach((function(e,n,s,o){return r=new i(e,n,s,o),!(n==o&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))||(r=null,!1)})),r},e.prototype.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var r=t.range,s=r?e.getLines(r.start.row,r.end.row):e.doc.getAllLines(),o=[],a=t.re;if(t.$isMultiLine){var l,u=a.length,c=s.length-u;e:for(var h=a.offset||0;h<=c;h++){for(var p=0;p<u;p++)if(-1==s[h+p].search(a[p]))continue e;var d=s[h],f=s[h+u-1],g=d.length-d.match(a[0])[0].length,m=f.match(a[u-1])[0].length;l&&l.end.row===h&&l.end.column>g||(o.push(l=new i(h,g,h+u-1,m)),u>2&&(h=h+u-2))}}else for(var y=0;y<s.length;y++){var v=n.getMatchOffsets(s[y],a);for(p=0;p<v.length;p++){var x=v[p];o.push(new i(y,x.offset,y,x.offset+x.length))}}if(r){var b=r.start.column,_=r.end.column;for(y=0,p=o.length-1;y<p&&o[y].start.column<b&&0==o[y].start.row;)y++;for(var w=r.end.row-r.start.row;y<p&&o[p].end.column>_&&o[p].end.row==w;)p--;for(o=o.slice(y,p+1),y=0,p=o.length;y<p;y++)o[y].start.row+=r.start.row,o[y].end.row+=r.start.row}return o},e.prototype.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(r){var i=r.exec(e);if(!i||i[0].length!=e.length)return null;if(n.regExp||(t=t.replace(/\$/g,"$$$$")),t=e.replace(r,t),n.preserveCase){t=t.split("");for(var s=Math.min(e.length,e.length);s--;){var o=e[s];t[s]=o&&o.toLowerCase()!=o?t[s].toUpperCase():t[s].toLowerCase()}t=t.join("")}return t}},e.prototype.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var r=e.needle;if(!e.needle)return e.re=!1;e.regExp||(r=n.escapeRegExp(r));var i=e.caseSensitive?"gm":"gmi";try{new RegExp(r,"u"),e.$supportsUnicodeFlag=!0,i+="u"}catch(t){e.$supportsUnicodeFlag=!1}if(e.wholeWord&&(r=function(e,t){function r(e,n){return void 0===n&&(n=!0),(i&&t.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w")).test(e)||t.regExp?i&&t.$supportsUnicodeFlag?n?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var i=n.supportsLookbehind(),s=Array.from(e),o=s[s.length-1];return r(s[0])+e+r(o,!1)}(r,e)),e.$isMultiLine=!t&&/[\n\r]/.test(r),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(r,i);try{var s=new RegExp(r,i)}catch(e){s=!1}return e.re=s},e.prototype.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(e){return!1}return r},e.prototype.$matchIterator=function(e,t){var r=this.$assembleRegExp(t);if(!r)return!1;var i=1==t.backwards,s=0!=t.skipCurrent,o=r.unicode,a=t.range,l=t.start;l||(l=a?a[i?"end":"start"]:e.selection.getRange()),l.start&&(l=l[s!=i?"end":"start"]);var u=a?a.start.row:0,c=a?a.end.row:e.getLength()-1;if(i)var h=function(e){var n=l.row;if(!d(n,l.column,e)){for(n--;n>=u;n--)if(d(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=c,u=l.row;n>=u;n--)if(d(n,Number.MAX_VALUE,e))return}};else h=function(e){var n=l.row;if(!d(n,l.column,e)){for(n+=1;n<=c;n++)if(d(n,0,e))return;if(0!=t.wrap)for(n=u,c=l.row;n<=c;n++)if(d(n,0,e))return}};if(t.$isMultiLine)var p=r.length,d=function(t,n,s){var o=i?t-p+1:t;if(!(o<0||o+p>e.getLength())){var a=e.getLine(o),l=a.search(r[0]);if(!(!i&&l<n||-1===l)){for(var u=1;u<p;u++)if(-1==(a=e.getLine(o+u)).search(r[u]))return;var c=a.match(r[p-1])[0].length;if(!(i&&c>n))return!!s(o,l,o+p-1,c)||void 0}}};else if(i)d=function(t,i,s){var a,l=e.getLine(t),u=[],c=0;for(r.lastIndex=0;a=r.exec(l);){if(c=a.index,!(p=a[0].length)){if(c>=l.length)break;r.lastIndex=c+=n.skipEmptyMatch(l,c,o)}if(a.index+p>i)break;u.push(a.index,p)}for(var h=u.length-1;h>=0;h-=2){var p,d=u[h-1];if(s(t,d,t,d+(p=u[h])))return!0}};else d=function(t,i,s){var a,l,u=e.getLine(t);for(r.lastIndex=i;l=r.exec(u);){var c=l[0].length;if(s(t,a=l.index,t,a+c))return!0;if(!c&&(r.lastIndex=a+=n.skipEmptyMatch(u,a,o),a>=u.length))return!1}};return{forEach:h}},e}();t.Search=s})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t){"use strict";function n(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=e("../lib/keys"),o=e("../lib/useragent"),a=s.KEY_MODS,l=function(){function e(e,t){this.$init(e,t,!1)}return e.prototype.$init=function(e,t,n){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=n},e.prototype.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},e.prototype.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var s=r[i];if(s==e)delete r[i];else if(Array.isArray(s)){var o=s.indexOf(e);-1!=o&&(s.splice(o,1),1==s.length&&(r[i]=s[0]))}}},e.prototype.bindKey=function(e,t,n){if("object"==typeof e&&e&&(null==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var r="";if(-1!=e.indexOf(" ")){var i=e.split(/\s+/);e=i.pop(),i.forEach((function(e){var t=this.parseKeys(e);this._addCommandToBinding(r+=(r?" ":"")+(a[t.hashId]+t.key),"chainKeys")}),this),r+=" "}var s=this.parseKeys(e);this._addCommandToBinding(r+(a[s.hashId]+s.key),t,n)}),this)},e.prototype._addCommandToBinding=function(e,t,r){var i,s=this.commandKeyBinding;if(t)if(!s[e]||this.$singleCommand)s[e]=t;else{Array.isArray(s[e])?-1!=(i=s[e].indexOf(t))&&s[e].splice(i,1):s[e]=[s[e]],"number"!=typeof r&&(r=n(t));var o=s[e];for(i=0;i<o.length;i++){if(n(o[i])>r)break}o.splice(i,0,t)}else delete s[e]},e.prototype.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},e.prototype.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},e.prototype.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},e.prototype._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},e.prototype.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),r=s[n];if(s.FUNCTION_KEYS[r])n=s.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var i=0,o=t.length;o--;){var a=s.KEY_MODS[t[o]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[o]+" in "+e),!1;i|=a}return{key:n,hashId:i}},e.prototype.findKeyCommand=function(e,t){return this.commandKeyBinding[a[e]+t]},e.prototype.handleKeyboard=function(e,t,n,r){if(!(r<0)){var i=a[t]+n,s=this.commandKeyBinding[i];return e.$keyChain&&(e.$keyChain+=" "+i,s=this.commandKeyBinding[e.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||r>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-i.length-1)),{command:s}):(e.$keyChain=e.$keyChain||i,{command:"null"})}},e.prototype.getStatusText=function(e,t){return t.$keyChain||""},e}(),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.$singleCommand=!0,r}return i(t,e),t}(l);u.call=function(e,t,n){l.prototype.$init.call(e,t,n,!0)},l.call=function(e,t,n){l.prototype.$init.call(e,t,n,!1)},t.HashHandler=u,t.MultiHashHandler=l})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=e("../lib/oop"),s=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,a=function(e){function t(t,n){var r=e.call(this,n,t)||this;return r.byName=r.commands,r.setDefaultHandler("exec",(function(e){return e.args?e.command.exec(e.editor,e.args,e.event,!1):e.command.exec(e.editor,{},e.event,!0)})),r}return r(t,e),t.prototype.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit("exec",i),this._signal("afterExec",i),!1!==i.returnValue},t.prototype.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},t.prototype.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},t.prototype.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))},t}(s);i.implement(a.prototype,o),t.CommandManager=a})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t){"use strict";function n(e,t){return{win:e,mac:t}}var r=e("../lib/lang"),i=e("../config"),s=e("../range").Range;t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:n("Ctrl-,","Command-,"),exec:function(e){i.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:n("Alt-E","F4"),exec:function(e){i.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:n("Alt-Shift-E","Shift-F4"),exec:function(e){i.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:n("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:n(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:n("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:n("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:n("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:n("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:n("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:n("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:n("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:n("Ctrl-F","Command-F"),exec:function(e){i.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:n("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:n("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:n("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:n("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:n("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:n("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:n("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:n("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:n("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:n("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:n("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:n("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:n("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:n("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:n(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:n(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:n("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:n("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:n("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:n("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:n("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:n(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:n("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:n("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(e){i.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:n("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:n("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:n("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:n("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:n("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:n("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:n("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:n(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:n("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:n(null,null),exec:function(e){e.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:n("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:n("Ctrl+F3","F3"),exec:function(e){e.openLink()}},{name:"joinlines",description:"Join lines",bindKey:n(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),o=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),u=n.row+1;u<=i.row+1;u++){var c=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(u)));0!==c.length&&(c=" "+c),l+=c}i.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new s(n.row,0,i.row+2,0),l),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(o=e.session.doc.getLine(n.row).length>o?o+1:o,e.selection.moveCursorTo(n.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:n(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var o=0;o<r.length;o++)o==r.length-1&&(r[o].end.row===t&&r[o].end.column===n||i.push(new s(r[o].end.row,r[o].end.column,t,n))),0===o?0===r[o].start.row&&0===r[o].start.column||i.push(new s(0,0,r[o].start.row,r[o].start.column)):i.push(new s(r[o-1].end.row,r[o-1].end.column,r[o].start.row,r[o].start.column));e.exitMultiSelectMode(),e.clearSelection();for(o=0;o<i.length;o++)e.selection.addRange(i[o],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(e){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),e.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:n("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:n(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var o=1;o<9;o++)t.commands.push({name:"foldToLevel"+o,description:"Fold To Level "+o,level:o,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t){"use strict";var n=e("./lib/dom"),r=function(){function e(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return e.prototype.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},e.prototype.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},e.prototype.$onChangeEditor=function(e){this.attach(e.editor)},e.prototype.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},e.prototype.detach=function(){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var t=this.session.lineWidgets;t&&t.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},e.prototype.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var r=e.data,i=r.start.row,s=r.end.row,o="add"==e.action,a=i+1;a<s;a++)n[a]&&(n[a].hidden=o);n[s]&&(o?n[i]?n[s].hidden=o:n[i]=n[s]:(n[i]==n[s]&&(n[i]=void 0),n[s].hidden=o))}},e.prototype.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,r=e.end.row-n;if(0===r);else if("remove"==e.action){var i=t.splice(n+1,r);!t[n]&&i[i.length-1]&&(t[n]=i.pop()),i.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var s=new Array(r);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,s.unshift(n,0),t.splice.apply(t,s),this.$updateRows()}}},e.prototype.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},e.prototype.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},e.prototype.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=n.createElement("div"),e.el.innerHTML=e.html),e.text&&!e.el&&(e.el=n.createElement("div"),e.el.textContent=e.text),e.el&&(n.addCssClass(e.el,"ace_lineWidgetContainer"),e.className&&n.addCssClass(e.el,e.className),e.el.style.position="absolute",e.el.style.zIndex="5",t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex="3"),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var r=this.session.getFoldAt(e.row,0);if(e.$fold=r,r){var i=this.session.lineWidgets;e.row!=r.end.row||i[r.start.row]?e.hidden=!0:i[r.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},e.prototype.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},e.prototype.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],r=[];n;)r.push(n),n=n.$oldWidget;return r},e.prototype.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},e.prototype.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(n&&n.length){for(var i=1/0,s=0;s<n.length;s++){var o=n[s];if(o&&o.el&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,t.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/r.characterWidth));var a=o.h/r.lineHeight;o.coverLine&&(a-=this.session.getRowLineCount(o.row))<0&&(a=0),o.rowCount!=a&&(o.rowCount=a,o.row<i&&(i=o.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},e.prototype.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(r){for(var i=Math.min(this.firstRow,n.firstRow),s=Math.max(this.lastRow,n.lastRow,r.length);i>0&&!r[i];)i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var o=i;o<=s;o++){var a=r[o];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var u=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(u-=t.scrollLeft),a.el.style.left=u+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.el.style.right=a.fixedWidth?t.scrollBar.getWidth()+"px":""}}}},e}();t.LineWidgets=r})),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],(function(e,t){"use strict";var n=e("../lib/keys"),r=e("../mouse/default_gutter_handler").GutterTooltip,i=function(){function e(e){this.editor=e,this.gutterLayer=e.renderer.$gutterLayer,this.element=e.renderer.$gutter,this.lines=e.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new r(this.editor)}return e.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},e.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},e.prototype.$onGutterKeyDown=function(e){if(this.annotationTooltip.isOpen)return e.preventDefault(),void(e.keyCode===n.escape&&this.annotationTooltip.hideTooltip());if(e.target===this.element){if(e.keyCode!=n.enter)return;e.preventDefault();var t=this.editor.getCursorPosition().row;return this.editor.isRowVisible(t)||this.editor.scrollToLine(t,!0,!0),void setTimeout(function(){var e=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),t=this.$findNearestFoldWidget(e),n=this.$findNearestAnnotation(e);if(null!==t||null!==n)return null===t&&null!==n?(this.activeRowIndex=n,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):null!==t&&null===n?(this.activeRowIndex=t,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex)):Math.abs(n-e)<Math.abs(t-e)?(this.activeRowIndex=n,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):(this.activeRowIndex=t,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10)}this.$handleGutterKeyboardInteraction(e),setTimeout(function(){this.editor._signal("gutterkeydown",new s(e,this))}.bind(this),10)},e.prototype.$handleGutterKeyboardInteraction=function(e){if(e.keyCode!==n.tab){if(e.keyCode===n.escape)return e.preventDefault(),this.$blurGutter(),this.element.focus(),void(this.lane=null);if(e.keyCode!==n.up)if(e.keyCode!==n.down){if(e.keyCode===n.left)return e.preventDefault(),void this.$switchLane("annotation");if(e.keyCode===n.right)return e.preventDefault(),void this.$switchLane("fold");if(e.keyCode!==n.enter&&e.keyCode!==n.space);else switch(e.preventDefault(),this.activeLane){case"fold":if("start"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]){var t=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),e),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==t&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(t),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}if("end"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)])break;return;case"annotation":var r=this.lines.cells[this.activeRowIndex].element.childNodes[2].getBoundingClientRect(),i=this.annotationTooltip.getElement().style;i.left=r.right+"px",i.top=r.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}}else e.preventDefault()},e.prototype.$blurGutter=function(){if(null!==this.activeRowIndex)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},e.prototype.$isFoldWidgetVisible=function(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n="none"!==this.$getFoldWidget(e).style.display;return t&&n},e.prototype.$isAnnotationVisible=function(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n="none"!==this.$getAnnotation(e).style.display;return t&&n},e.prototype.$getFoldWidget=function(e){return this.lines.get(e).element.childNodes[1]},e.prototype.$getAnnotation=function(e){return this.lines.get(e).element.childNodes[2]},e.prototype.$findNearestFoldWidget=function(e){if(this.$isFoldWidgetVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(e-++t>=0&&this.$isFoldWidgetVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(e+t))return e+t}return null},e.prototype.$findNearestAnnotation=function(e){if(this.$isAnnotationVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(e-++t>=0&&this.$isAnnotationVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isAnnotationVisible(e+t))return e+t}return null},e.prototype.$focusFoldWidget=function(e){if(null!=e){var t=this.$getFoldWidget(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}},e.prototype.$focusAnnotation=function(e){if(null!=e){var t=this.$getAnnotation(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}},e.prototype.$blurFoldWidget=function(e){var t=this.$getFoldWidget(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()},e.prototype.$blurAnnotation=function(e){var t=this.$getAnnotation(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()},e.prototype.$moveFoldWidgetUp=function(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isFoldWidgetVisible(e))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=e,void this.$focusFoldWidget(this.activeRowIndex)},e.prototype.$moveFoldWidgetDown=function(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isFoldWidgetVisible(e))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=e,void this.$focusFoldWidget(this.activeRowIndex)},e.prototype.$moveAnnotationUp=function(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isAnnotationVisible(e))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,void this.$focusAnnotation(this.activeRowIndex)},e.prototype.$moveAnnotationDown=function(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isAnnotationVisible(e))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,void this.$focusAnnotation(this.activeRowIndex)},e.prototype.$switchLane=function(e){switch(e){case"annotation":if("annotation"===this.activeLane)break;var t=this.$findNearestAnnotation(this.activeRowIndex);if(null==t)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=t,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if("fold"===this.activeLane)break;var n=this.$findNearestFoldWidget(this.activeRowIndex);if(null==n)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=n,this.$focusFoldWidget(this.activeRowIndex)}},e.prototype.$rowIndexToRow=function(e){var t=this.lines.get(e);return t?t.row:null},e.prototype.$rowToRowIndex=function(e){for(var t=0;t<this.lines.getLength();t++){if(this.lines.get(t).row==e)return t}return null},e}();t.GutterKeyboardHandler=i;var s=function(){function e(e,t){this.gutterKeyboardHandler=t,this.domEvent=e}return e.prototype.getKey=function(){return n.keyCodeToString(this.domEvent.keyCode)},e.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},e.prototype.isInAnnotationLane=function(){return"annotation"===this.gutterKeyboardHandler.activeLane},e.prototype.isInFoldLane=function(){return"fold"===this.gutterKeyboardHandler.activeLane},e}();t.GutterKeyboardEvent=s})),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],(function(e,t){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=e("./lib/oop"),i=e("./lib/dom"),s=e("./lib/lang"),o=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,u=e("./mouse/fold_handler").FoldHandler,c=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,p=e("./search").Search,d=e("./range").Range,f=e("./lib/event_emitter").EventEmitter,g=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,y=e("./config"),v=e("./token_iterator").TokenIterator,x=e("./line_widgets").LineWidgets,b=e("./keyboard/gutter_handler").GutterKeyboardHandler,_=e("./config").nls,w=e("./clipboard"),S=e("./lib/keys"),T=function(){function e(t,n,r){this.$toDestroy=[];var i=t.getContainerElement();this.container=i,this.renderer=t,this.id="editor"+ ++e.$uid,this.commands=new g(o.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new a(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new u(this)),this.keyBinding=new c(this),this.$search=(new p).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(n||r&&r.session||new h("")),y.resetOptions(this),r&&this.setOptions(r),y._signal("editor",this)}return e.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},e.prototype.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},e.prototype.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),i=this.renderer.layerConfig;(r.start.row>=i.lastRow||r.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var s=this.selection.toJSON();this.curOp.selectionAfter=s,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(s),this.prevOp=this.curOp,this.curOp=null}},e.prototype.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var i=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},e.prototype.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;y.loadModule(["keybinding",e],(function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},e.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},e.prototype.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&!e.destroyed&&e.bgTokenizer.scheduleStart()}},e.prototype.getSession=function(){return this.session},e.prototype.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},e.prototype.getValue=function(){return this.session.getValue()},e.prototype.getSelection=function(){return this.selection},e.prototype.resize=function(e){this.renderer.onResize(e)},e.prototype.setTheme=function(e,t){this.renderer.setTheme(e,t)},e.prototype.getTheme=function(){return this.renderer.getTheme()},e.prototype.setStyle=function(e){this.renderer.setStyle(e)},e.prototype.unsetStyle=function(e){this.renderer.unsetStyle(e)},e.prototype.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container).fontSize},e.prototype.setFontSize=function(e){this.setOption("fontSize",e)},e.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&!t.destroyed){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=e.getCursorPosition(),r=e.getKeyboardHandler(),i=r&&r.$getDirectionForHighlight&&r.$getDirectionForHighlight(e),s=t.getMatchingBracketRanges(n,i);if(!s){var o=new v(t,n.row,n.column).getCurrentToken();if(o&&/\b(?:tag-open|tag-name)/.test(o.type)){var a=t.getMatchingTags(n);a&&(s=[a.openTagName,a.closeTagName])}}if(!s&&t.$mode.getMatching&&(s=t.$mode.getMatching(e.session)),s){var l="ace_bracket";Array.isArray(s)?1==s.length&&(l="ace_error_bracket"):s=[s],2==s.length&&(0==d.comparePoints(s[0].end,s[1].start)?s=[d.fromPoints(s[0].start,s[1].end)]:0==d.comparePoints(s[0].start,s[1].end)&&(s=[d.fromPoints(s[1].start,s[0].end)])),t.$bracketHighlight={ranges:s,markerIds:s.map((function(e){return t.addMarker(e,l,"text")}))},e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}else e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}}),50)}},e.prototype.focus=function(){this.textInput.focus()},e.prototype.isFocused=function(){return this.textInput.isFocused()},e.prototype.blur=function(){this.textInput.blur()},e.prototype.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},e.prototype.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},e.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},e.prototype.onDocumentChange=function(e){this.renderer.updateLines(e.start.row,e.start.row==e.end.row?e.end.row:1/0,this.session.$useWrapMode),this._signal("change",e),this.$cursorChange()},e.prototype.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},e.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},e.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},e.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},e.prototype.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new d(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},e.prototype.onSelectionChange=function(){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var t=this.selection.getRange(),n=this.getSelectionStyle();e.$selectionMarker=e.addMarker(t,"ace_selection",n)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},e.prototype.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,r=t.end.column,i=e.getLine(t.start.row),s=i.substring(n,r);if(!(s.length>5e3)&&/[\w\d]/.test(s)){var o=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s}),a=i.substring(n-1,r+1);if(o.test(a))return o}}},e.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},e.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},e.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},e.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},e.prototype.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},e.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},e.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},e.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},e.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},e.prototype.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var r=this.selection.getAllRanges(),i=0;i<r.length;i++){var s=r[i];i&&r[i-1].start.row==s.start.row||(e+=this.session.getLine(s.start.row)+t)}}var o={text:e};return this._signal("copy",o),w.lineMode=!!n&&o.text,o.text},e.prototype.onCopy=function(){this.commands.exec("copy",this)},e.prototype.onCut=function(){this.commands.exec("cut",this)},e.prototype.onPaste=function(e,t){this.commands.exec("paste",this,{text:e,event:t})},e.prototype.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t===w.lineMode,r=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?r.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){r.insert({row:e.start.row,column:0},t)}));else{var i=t.split(/\r\n|\r|\n/),s=this.selection.rangeList.ranges;if(i.length!=s.length||!(2!=i.length||i[0]&&i[1]))return this.commands.exec("insertstring",this,t);for(var o=s.length;o--;){var a=s[o];a.isEmpty()||r.remove(a),r.insert(a.start,i[o])}}},e.prototype.execCommand=function(e,t){return this.commands.exec(e,this,t)},e.prototype.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var s=r.transformAction(n.getState(i.row),"insertion",this,n,e);s&&(e!==s.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=s.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){(o=d.fromPoints(i,i)).end.column+=e.length,this.session.remove(o)}}else{var o=this.getSelectionRange();i=this.session.remove(o),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(i.row);if(i.column>a.search(/\S|$/)){var l=a.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+l)}}this.clearSelection();var u=i.column,c=n.getState(i.row),h=(a=n.getLine(i.row),r.checkOutdent(c,a,e));if(n.insert(i,e),s&&s.selection&&this.selection.setSelectionRange(2==s.selection.length?new d(i.row,u+s.selection[0],i.row,u+s.selection[1]):new d(i.row+s.selection[0],s.selection[1],i.row+s.selection[2],s.selection[3])),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var p=r.getNextLineIndent(c,a.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},p)}h&&r.autoOutdent(c,n,i.row)}},e.prototype.autoIndent=function(){for(var e=this.session,t=e.getMode(),n=this.selection.isEmpty()?[new d(0,0,e.doc.getLength()-1,0)]:this.selection.getAllRanges(),r="",i="",s="",o=e.getTabString(),a=0;a<n.length;a++)for(var l=n[a].end.row,u=n[a].start.row;u<=l;u++){u>0&&(r=e.getState(u-1),i=e.getLine(u-1),s=t.getNextLineIndent(r,i,o));var c=e.getLine(u),h=t.$getIndent(c);if(s!==h){if(h.length>0){var p=new d(u,0,u,h.length);e.remove(p)}s.length>0&&e.insert({row:u,column:0},s)}t.autoOutdent(r,e,u)}},e.prototype.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},e.prototype.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove());(!e&&this.selection.isEmpty()||this.insert(e,!0),t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},e.prototype.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},e.prototype.setOverwrite=function(e){this.session.setOverwrite(e)},e.prototype.getOverwrite=function(){return this.session.getOverwrite()},e.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},e.prototype.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},e.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},e.prototype.setDragDelay=function(e){this.setOption("dragDelay",e)},e.prototype.getDragDelay=function(){return this.getOption("dragDelay")},e.prototype.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},e.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},e.prototype.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},e.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},e.prototype.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},e.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},e.prototype.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},e.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},e.prototype.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},e.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},e.prototype.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},e.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},e.prototype.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},e.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},e.prototype.setHighlightIndentGuides=function(e){this.renderer.setHighlightIndentGuides(e)},e.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},e.prototype.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},e.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},e.prototype.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},e.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},e.prototype.setReadOnly=function(e){this.setOption("readOnly",e)},e.prototype.getReadOnly=function(){return this.getOption("readOnly")},e.prototype.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},e.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},e.prototype.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},e.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},e.prototype.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},e.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},e.prototype.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},e.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},e.prototype.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,"deletion",this,n,t);if(0===t.end.column){var s=n.getTextRange(t);if("\n"==s[s.length-1]){var o=n.getLine(t.end.row);/^\s+$/.test(o)&&(t.end.column=o.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},e.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},e.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},e.prototype.setGhostText=function(e,t){this.session.widgetManager||(this.session.widgetManager=new x(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(e,t)},e.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},e.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,r,i=this.session.getLine(e.row);t<i.length?(n=i.charAt(t)+i.charAt(t-1),r=new d(e.row,t-1,e.row,t+1)):(n=i.charAt(t-1)+i.charAt(t-2),r=new d(e.row,t-2,e.row,t)),this.session.replace(r,n),this.session.selection.moveToPosition(r.end)}}},e.prototype.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},e.prototype.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},e.prototype.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){c=this.$getSelectedRows();return void e.indentRows(c.first,c.last,"\t")}}var r=e.getLine(t.start.row),i=t.start,o=e.getTabSize(),a=e.documentToScreenColumn(i.row,i.column);if(this.session.getUseSoftTabs())var l=s.stringRepeat(" ",u=o-a%o);else{for(var u=a%o;" "==r[t.start.column-1]&&u;)t.start.column--,u--;this.selection.setSelectionRange(t),l="\t"}return this.insert(l)}var c=this.$getSelectedRows();e.indentRows(c.first,c.last,"\t")},e.prototype.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},e.prototype.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},e.prototype.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var i=new d(0,0,0,0);for(r=e.first;r<=e.last;r++){var s=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=s.length,t.replace(i,n[r-e.first])}},e.prototype.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},e.prototype.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},e.prototype.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var r=this.session.getLine(e);n.lastIndex<t;){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t)return{value:i[0],start:i.index,end:i.index+i[0].length}}return null},e.prototype.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new d(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var s=this.getNumberAt(t,n);if(s){var o=s.value.indexOf(".")>=0?s.start+s.value.indexOf(".")+1:s.end,a=s.start+s.value.length-o,l=parseFloat(s.value);l*=Math.pow(10,a),l+=e*=o!==s.end&&n<o?Math.pow(10,s.end-n-1):Math.pow(10,s.end-n);var u=(l/=Math.pow(10,a)).toFixed(a),c=new d(t,s.start,t,s.end);this.session.replace(c,u),this.moveCursorTo(t,Math.max(s.start+1,n+u.length-s.value.length))}}else this.toggleWord()},e.prototype.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),r=this.selection.getWordRange().start.column,i=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),o=t-r-1;o<0&&(o=0);var a=0,l=0,u=this;n.match(/[A-Za-z0-9_]+/)&&i.forEach((function(t){l=a+t.length,o>=a&&o<=l&&(n=t,u.selection.clearSelection(),u.moveCursorTo(e,a+r),u.selection.selectTo(e,l+r)),a=l}));for(var c,h=this.$toggleWordPairs,p=0;p<h.length;p++)for(var d=h[p],f=0;f<=1;f++){var g=+!f,m=n.match(new RegExp("^\\s?_?("+s.escapeRegExp(d[f])+")\\s?$","i"));if(m)n.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(m[1])+")($|\\s)","g"))&&(c=n.replace(new RegExp(s.escapeRegExp(d[f]),"i"),(function(e){var t=d[g];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+d[g].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(c),c="")}},e.prototype.findLinkAt=function(e,t){var r,i,s=this.session.getLine(e).split(/((?:https?|ftp):\/\/[\S]+)/),o=t;o<0&&(o=0);var a,l=0,u=0;try{for(var c=n(s),h=c.next();!h.done;h=c.next()){var p=h.value;if(u=l+p.length,o>=l&&o<=u&&p.match(/((?:https?|ftp):\/\/[\S]+)/)){a=p.replace(/[\s:.,'";}\]]+$/,"");break}l=u}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return a},e.prototype.openLink=function(){var e=this.selection.getCursor(),t=this.findLinkAt(e.row,e.column);return t&&window.open(t,"_blank"),null!=t},e.prototype.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},e.prototype.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var s=r?n.start:n.end,o=t.insert(s,t.getTextRange(n));n.start=s,n.end=o,e.setSelectionRange(n,r)}},e.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},e.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},e.prototype.moveText=function(e,t,n){return this.session.moveText(e,t,n)},e.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},e.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},e.prototype.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var s=i.toOrientedRange();n=this.$getSelectedRows(s),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(r=0),s.moveBy(r,0),i.fromOrientedRange(s)}else{var o=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,u=o.length,c=0;c<u;c++){var h=c;o[c].moveBy(a,0);for(var p=(n=this.$getSelectedRows(o[c])).first,d=n.last;++c<u;){l&&o[c].moveBy(l,0);var f=this.$getSelectedRows(o[c]);if(t&&f.first!=d)break;if(!t&&f.first>d+1)break;d=f.last}for(c--,a=this.session.$moveLines(p,d,t?0:e),t&&-1==e&&(h=c+1);h<=c;)o[h].moveBy(a,0),h++;t||(a=0),l+=a}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},e.prototype.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},e.prototype.onCompositionStart=function(e){this.renderer.showComposition(e)},e.prototype.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},e.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},e.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},e.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},e.prototype.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},e.prototype.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},e.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},e.prototype.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(i,0)})):!1===t&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection());var s=n.scrollTop;n.scrollBy(0,i*r.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},e.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},e.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},e.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},e.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},e.prototype.scrollPageDown=function(){this.$moveByPage(1)},e.prototype.scrollPageUp=function(){this.$moveByPage(-1)},e.prototype.scrollToRow=function(e){this.renderer.scrollToRow(e)},e.prototype.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},e.prototype.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},e.prototype.getCursorPosition=function(){return this.selection.getCursor()},e.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},e.prototype.getSelectionRange=function(){return this.selection.getRange()},e.prototype.selectAll=function(){this.selection.selectAll()},e.prototype.clearSelection=function(){this.selection.clearSelection()},e.prototype.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},e.prototype.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},e.prototype.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new v(this.session,n.row,n.column),i=r.getCurrentToken(),s=0;i&&-1!==i.type.indexOf("tag-name")&&(i=r.stepBackward());var o=i||r.stepForward();if(o){var a,l,u=!1,c={},h=n.column-o.start,p={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;h<o.value.length&&!u;h++)if(p[o.value[h]])switch(l=p[o.value[h]]+"."+o.type.replace("rparen","lparen"),isNaN(c[l])&&(c[l]=0),o.value[h]){case"(":case"[":case"{":c[l]++;break;case")":case"]":case"}":c[l]--,-1===c[l]&&(a="bracket",u=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===i.value&&s>1?c[o.value]++:"</"===i.value&&c[o.value]--,-1===c[o.value]&&(a="tag",u=!0));u||(i=o,s++,o=r.stepForward(),h=0)}while(o&&!u);if(a){var f,g;if("bracket"===a)(f=this.session.getBracketRange(n))||(g=(f=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+h-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+h-1)).start,(t||g.row===n.row&&Math.abs(g.column-n.column)<2)&&(f=this.session.getBracketRange(g)));else if("tag"===a){if(!o||-1===o.type.indexOf("tag-name"))return;if(0===(f=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2)).compare(n.row,n.column)){var m=this.session.getMatchingTags(n);m&&(m.openTag.contains(n.row,n.column)?g=(f=m.closeTag).start:(f=m.openTag,g=m.closeTag.start.row===n.row&&m.closeTag.start.column===n.column?f.end:f.start))}g=g||f.start}(g=f&&f.cursor||g)&&(e?f&&t?this.selection.setRange(f):f&&f.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(g.row,g.column):this.selection.moveTo(g.row,g.column))}}},e.prototype.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},e.prototype.navigateTo=function(e,t){this.selection.moveTo(e,t)},e.prototype.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},e.prototype.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},e.prototype.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},e.prototype.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},e.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},e.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},e.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},e.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},e.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},e.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},e.prototype.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),r):r},e.prototype.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var s=n.length-1;s>=0;--s)this.$tryReplace(n[s],e)&&r++;return this.selection.setSelectionRange(i),r},e.prototype.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},e.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},e.prototype.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var i=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(i)||this.$search.$options.needle)||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var s=this.$search.find(this.session);return t.preventScroll?s:s?(this.revealRange(s,n),s):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},e.prototype.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},e.prototype.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},e.prototype.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},e.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},e.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},e.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},e.prototype.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var s=this.on("changeSelection",(function(){r=!0})),o=this.renderer.on("beforeRender",(function(){r&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,s=e.$cursorLayer.$pixelPos,o=e.layerConfig,a=s.top-o.offset;null!=(r=s.top>=0&&a+t.top<0||!(s.top<o.height&&s.top+t.top+o.lineHeight>window.innerHeight)&&null)&&(i.style.top=a+"px",i.style.left=s.left+"px",i.style.height=o.lineHeight+"px",i.scrollIntoView(r)),r=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",s),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",o))}}},e.prototype.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},e.prototype.prompt=function(e,t,n){var r=this;y.loadModule("ace/ext/prompt",(function(i){i.prompt(r,e,t,n)}))},e}();T.$uid=0,T.prototype.curOp=null,T.prototype.prevOp={},T.prototype.$mergeableCommands=["backspace","del","insertstring"],T.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],r.implement(T.prototype,f),y.defineOptions(T.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?A.attach(this):A.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?A.attach(this):A.detach(this)}},placeholder:{set:function(){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),i.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),i.addCssClass(this.container,"ace_hasPlaceholder");var t=i.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(e){var t,n={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(e){e.blur(),e.renderer.scroller.focus()},readOnly:!0},r=function(e){if(e.target==this.renderer.scroller&&e.keyCode===S.enter){e.preventDefault();var t=this.getCursorPosition().row;this.isRowVisible(t)||this.scrollToLine(t,!0,!0),this.focus()}};e?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(o.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",_("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",_("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",r.bind(this)),this.commands.addCommand(n),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",_("editor")),this.renderer.$gutter.setAttribute("aria-label",_("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),t||(t=new b(this)),t.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",r.bind(this)),this.commands.removeCommand(n),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),t&&t.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var A={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"·":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=T})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t){"use strict";var n=e("../lib/dom"),r=function(){function e(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return e.prototype.moveContainer=function(e){n.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},e.prototype.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},e.prototype.computeLineTop=function(e,t,n){var r=Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-r*this.canvasHeight},e.prototype.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},e.prototype.getLength=function(){return this.cells.length},e.prototype.get=function(e){return this.cells[e]},e.prototype.shift=function(){this.$cacheCell(this.cells.shift())},e.prototype.pop=function(){this.$cacheCell(this.cells.pop())},e.prototype.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=n.createFragment(this.element),r=0;r<e.length;r++)t.appendChild(e[r].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},e.prototype.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=n.createFragment(this.element),r=0;r<e.length;r++)t.appendChild(e[r].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},e.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},e.prototype.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},e.prototype.createCell=function(e,t,r,i){var s=this.cellCache.pop();if(!s){var o=n.createElement("div");i&&i(o),this.element.appendChild(o),s={element:o,text:"",row:e}}return s.row=e,s},e}();t.Lines=r})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],(function(e,t){"use strict";function n(e){var t=document.createTextNode("");e.appendChild(t);var n=r.createElement("span");e.appendChild(n);var i=r.createElement("span");e.appendChild(i);var s=r.createElement("span");return i.appendChild(s),e}var r=e("../lib/dom"),i=e("../lib/oop"),s=e("../lib/lang"),o=e("../lib/event_emitter").EventEmitter,a=e("./lines").Lines,l=e("../config").nls,u=function(){function e(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1}return e.prototype.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},e.prototype.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},e.prototype.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},e.prototype.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[],type:[]});var o=n.text,a=n.type;o=o?s.escapeHTML(o):n.html||"",-1===i.text.indexOf(o)&&(i.text.push(o),i.type.push(a));var l=n.className;l?i.className=l:"error"==a?i.className=" ace_error":"warning"==a&&" ace_error"!=i.className?i.className=" ace_warning":"info"!=a||i.className||(i.className=" ace_info")}},e.prototype.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}}},e.prototype.update=function(e){this.config=e;var t=this.session,r=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=i,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var s=t.getNextFoldLine(r),o=s?s.start.row:1/0,a=null,l=-1,u=r;;){if(u>o&&(o=(s=t.getNextFoldLine(u=s.end.row+1,s))?s.start.row:1/0),u>i){for(;this.$lines.getLength()>l+1;)this.$lines.pop();break}(a=this.$lines.get(++l))?a.row=u:(a=this.$lines.createCell(u,e,this.session,n),this.$lines.push(a)),this.$renderCell(a,e,s,u),u++}this._signal("afterRender"),this.$updateGutterWidth(e)},e.prototype.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,r=t.$firstLineNumber,i=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(i=t.getLength()+r-1);var s=n?n.getWidth(t,i,e):i.toString().length*e.characterWidth,o=this.$padding||this.$computePadding();(s+=o.left+o.right)===this.gutterWidth||isNaN(s)||(this.gutterWidth=s,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",s))},e.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},e.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var r=t[n];if(r.row>=this.$cursorRow){if(r.row>this.$cursorRow){var i=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&i&&i.start.row==t[n-1].row))break;r=t[n-1]}r.element.className="ace_gutter-active-line "+r.element.className,this.$cursorCell=r;break}}}}},e.prototype.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),r=this.oldLastRow;if(this.oldLastRow=n,!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(r>n)for(i=this.session.getFoldedRowCount(n+1,r);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>r&&this.$lines.push(this.$renderLines(e,r+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},e.prototype.$renderLines=function(e,t,r){for(var i=[],s=t,o=this.session.getNextFoldLine(s),a=o?o.start.row:1/0;s>a&&(a=(o=this.session.getNextFoldLine(s=o.end.row+1,o))?o.start.row:1/0),!(s>r);){var l=this.$lines.createCell(s,e,this.session,n);this.$renderCell(l,e,o,s),i.push(l),s++}return i},e.prototype.$renderCell=function(e,t,n,i){var s=e.element,o=this.session,a=s.childNodes[0],u=s.childNodes[1],c=s.childNodes[2],h=c.firstChild,p=o.$firstLineNumber,d=o.$breakpoints,f=o.$decorations,g=o.gutterRenderer||this.$renderer,m=this.$showFoldWidgets&&o.foldWidgets,y=n?n.start.row:Number.MAX_VALUE,v=t.lineHeight+"px",x=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",b=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",_=(g?g.getText(o,i):i+p).toString();if(this.$highlightGutterLine&&(i==this.$cursorRow||n&&i<this.$cursorRow&&i>=y&&this.$cursorRow<=n.end.row)&&(x+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),d[i]&&(x+=d[i]),f[i]&&(x+=f[i]),this.$annotations[i]&&i!==y&&(x+=this.$annotations[i].className),m){var w=m[i];null==w&&(w=m[i]=o.getFoldWidget(i))}if(w){var S="ace_fold-widget ace_"+w,T="start"==w&&i==y&&i<n.end.row;if(T){S+=" ace_closed";for(var A="",E=!1,k=i+1;k<=n.end.row;k++)if(this.$annotations[k]){if(" ace_error"===this.$annotations[k].className){E=!0,A=" ace_error_fold";break}" ace_warning"!==this.$annotations[k].className||(E=!0,A=" ace_warning_fold")}x+=A}else S+=" ace_open";u.className!=S&&(u.className=S),r.setStyle(u.style,"height",v),r.setStyle(u.style,"display","inline-block"),u.setAttribute("role","button"),u.setAttribute("tabindex","-1");var C=o.getFoldWidgetRange(i);u.setAttribute("aria-label",C?l("Toggle code folding, rows $0 through $1",[C.start.row+1,C.end.row+1]):n?l("Toggle code folding, rows $0 through $1",[n.start.row+1,n.end.row+1]):l("Toggle code folding, row $0",[i+1])),T?(u.setAttribute("aria-expanded","false"),u.setAttribute("title",l("Unfold code"))):(u.setAttribute("aria-expanded","true"),u.setAttribute("title",l("Fold code")))}else u&&(r.setStyle(u.style,"display","none"),u.setAttribute("tabindex","0"),u.removeAttribute("role"),u.removeAttribute("aria-label"));return E&&this.$showFoldedAnnotations?(c.className="ace_gutter_annotation",h.className=b,h.className+=A,r.setStyle(h.style,"height",v),r.setStyle(c.style,"display","block"),r.setStyle(c.style,"height",v),c.setAttribute("aria-label",l("Read annotations row $0",[_])),c.setAttribute("tabindex","-1"),c.setAttribute("role","button")):this.$annotations[i]?(c.className="ace_gutter_annotation",h.className=b,this.$useSvgGutterIcons?h.className+=this.$annotations[i].className:s.classList.add(this.$annotations[i].className.replace(" ","")),r.setStyle(h.style,"height",v),r.setStyle(c.style,"display","block"),r.setStyle(c.style,"height",v),c.setAttribute("aria-label",l("Read annotations row $0",[_])),c.setAttribute("tabindex","-1"),c.setAttribute("role","button")):(r.setStyle(c.style,"display","none"),c.removeAttribute("aria-label"),c.removeAttribute("role"),c.setAttribute("tabindex","0")),_!==a.data&&(a.data=_),s.className!=x&&(s.className=x),r.setStyle(e.element.style,"height",this.$lines.computeLineHeight(i,t,o)+"px"),r.setStyle(e.element.style,"top",this.$lines.computeLineTop(i,t,o)+"px"),e.text=_,e.element.setAttribute("aria-hidden","none"===c.style.display&&"none"===u.style.display),e},e.prototype.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},e.prototype.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},e.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},e.prototype.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},e.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},e.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},e.prototype.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0},e}();u.prototype.$fixedWidth=!1,u.prototype.$highlightGutterLine=!0,u.prototype.$renderer="",u.prototype.$showLineNumbers=!0,u.prototype.$showFoldWidgets=!0,i.implement(u.prototype,o),t.Gutter=u})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t){"use strict";var n=e("../range").Range,r=e("../lib/dom"),i=function(){function e(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)}return e.prototype.setPadding=function(e){this.$padding=e},e.prototype.setSession=function(e){this.session=e},e.prototype.setMarkers=function(e){this.markers=e},e.prototype.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},e.prototype.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var r=this.markers[n];if(r.range){var i=r.range.clipRows(e.firstRow,e.lastRow);if(!i.isEmpty())if(i=i.toScreenRange(this.session),r.renderer){var s=this.$getTop(i.start.row,e);r.renderer(t,i,this.$padding+i.start.column*e.characterWidth,s,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,i,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?"text"==r.type?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.drawSingleLineMarker(t,i,r.clazz+" ace_start ace_br15",e)}else r.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},e.prototype.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},e.prototype.drawTextMarker=function(e,t,r,i,s){for(var o=this.session,a=t.start.row,l=t.end.row,u=a,c=0,h=0,p=o.getScreenLastRowColumn(u),d=new n(u,t.start.column,u,h);u<=l;u++)d.start.row=d.end.row=u,d.start.column=u==a?t.start.column:o.getRowWrapIndent(u),d.end.column=p,c=h,h=p,p=u+1<l?o.getScreenLastRowColumn(u+1):u==l?0:t.end.column,this.drawSingleLineMarker(e,d,r+(u==a?" ace_start":"")+" ace_br"+((u==a||u==a+1&&t.start.column?1:0)|(c<h?2:0)|(h>p?4:0)|(u==l?8:0)),i,u==l?0:1,s)},e.prototype.drawMultiLineMarker=function(e,t,n,r,i){var s,o=this.$padding,a=r.lineHeight,l=this.$getTop(t.start.row,r),u=o+t.start.column*r.characterWidth;(i=i||"",this.session.$bidiHandler.isBidiRow(t.start.row))?((s=t.clone()).end.row=s.start.row,s.end.column=this.session.getLine(s.start.row).length,this.drawBidiSingleLineMarker(e,s,n+" ace_br1 ace_start",r,null,i)):this.elt(n+" ace_br1 ace_start","height:"+a+"px;right:0;top:"+l+"px;left:"+u+"px;"+(i||""));this.session.$bidiHandler.isBidiRow(t.end.row)?((s=t.clone()).start.row=s.end.row,s.start.column=0,this.drawBidiSingleLineMarker(e,s,n+" ace_br12",r,null,i)):(l=this.$getTop(t.end.row,r),this.elt(n+" ace_br12","height:"+a+"px;width:"+t.end.column*r.characterWidth+"px;top:"+l+"px;left:"+o+"px;"+(i||"")));if(!((a=(t.end.row-t.start.row-1)*r.lineHeight)<=0)){l=this.$getTop(t.start.row+1,r);var c=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(c?" ace_br"+c:""),"height:"+a+"px;right:0;top:"+l+"px;left:"+o+"px;"+(i||""))}},e.prototype.drawSingleLineMarker=function(e,t,n,r,i,s){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,r,i,s);var o=r.lineHeight,a=(t.end.column+(i||0)-t.start.column)*r.characterWidth,l=this.$getTop(t.start.row,r);this.elt(n,"height:"+o+"px;width:"+a+"px;top:"+l+"px;left:"+(this.$padding+t.start.column*r.characterWidth)+"px;"+(s||""))},e.prototype.drawBidiSingleLineMarker=function(e,t,n,r,i,s){var o=r.lineHeight,a=this.$getTop(t.start.row,r),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+o+"px;width:"+(e.width+(i||0))+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(s||""))}),this)},e.prototype.drawFullLineMarker=function(e,t,n,r,i){var s=this.$getTop(t.start.row,r),o=r.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,r)-s),this.elt(n,"height:"+o+"px;top:"+s+"px;left:0;right:0;"+(i||""))},e.prototype.drawScreenLineMarker=function(e,t,n,r,i){var s=this.$getTop(t.start.row,r);this.elt(n,"height:"+r.lineHeight+"px;top:"+s+"px;left:0;right:0;"+(i||""))},e}();i.prototype.$padding=0,t.Marker=i})),ace.define("ace/layer/text_util",["require","exports","module"],(function(e,t){var n=new Set(["text","rparen","lparen"]);t.isTextToken=function(e){return n.has(e)}})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],(function(e,t){"use strict";var n=e("../lib/oop"),r=e("../lib/dom"),i=e("../lib/lang"),s=e("./lines").Lines,o=e("../lib/event_emitter").EventEmitter,a=e("../config").nls,l=e("./text_util").isTextToken,u=function(){function e(e){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)}return e.prototype.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},e.prototype.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},e.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},e.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},e.prototype.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},e.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},e.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},e.prototype.setSession=function(e){this.session=e,e&&this.$computeTabString()},e.prototype.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},e.prototype.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},e.prototype.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides!==e&&(this.$highlightIndentGuides=e,e)},e.prototype.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++){if(this.showTabs)(r=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",r.textContent=i.stringRepeat(this.TAB_CHAR,n),t.push(r);else t.push(this.dom.createTextNode(i.stringRepeat(" ",n),this.element))}if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r,s="ace_indent-guide",o=this.showSpaces?" ace_invisible ace_invisible_space":"",a=i.stringRepeat(this.showSpaces?this.SPACE_CHAR:" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",u=this.showTabs?i.stringRepeat(this.TAB_CHAR,this.tabSize):a;(r=this.dom.createElement("span")).className=s+o,r.textContent=a,this.$tabStrings[" "]=r,(r=this.dom.createElement("span")).className=s+l,r.textContent=u,this.$tabStrings["\t"]=r}},e.prototype.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),s=this.element.childNodes,o=0,a=e.firstRow;a<r;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(r)){r=l.start.row;break}a=l.end.row}o++}for(var l,u=!1,c=(l=this.session.getNextFoldLine(a=r))?l.start.row:1/0;a>c&&(c=(l=this.session.getNextFoldLine(a=l.end.row+1,l))?l.start.row:1/0),!(a>i);){var h=s[o++];if(h){this.dom.removeChildren(h),this.$renderLine(h,a,a==c&&l),u&&(h.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var p=e.lineHeight*this.session.getRowLength(a)+"px";h.style.height!=p&&(u=!0,h.style.height=p)}a++}if(u)for(;o<this.$lines.cells.length;){var d=this.$lines.cells[o++];d.element.style.top=this.$lines.computeLineTop(d.row,e,this.session)+"px"}},e.prototype.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow;if(!t||(t?t.lastRow:-1)<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(t.lastRow>e.lastRow)for(r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},e.prototype.$renderLinesFragment=function(e,t,n){for(var i=[],s=t,o=this.session.getNextFoldLine(s),a=o?o.start.row:1/0;s>a&&(a=(o=this.session.getNextFoldLine(s=o.end.row+1,o))?o.start.row:1/0),!(s>n);){var l=this.$lines.createCell(s,e,this.session),u=l.element;this.dom.removeChildren(u),r.setStyle(u.style,"height",this.$lines.computeLineHeight(s,e,this.session)+"px"),r.setStyle(u.style,"top",this.$lines.computeLineTop(s,e,this.session)+"px"),this.$renderLine(u,s,s==a&&o),u.className=this.$useLineGroups()?"ace_line_group":"ace_line",i.push(l),s++}return i},e.prototype.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,r=this.$lines;r.getLength();)r.pop();r.push(this.$renderLinesFragment(e,t,n))},e.prototype.$renderToken=function(e,t,n,r){for(var s,o=this,u=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,c=this.dom.createFragment(this.element),h=0;s=u.exec(r);){var p=s[1],d=s[2],f=s[3],g=s[4],m=s[5];if(o.showSpaces||!d){var y=h!=s.index?r.slice(h,s.index):"";if(h=s.index+s[0].length,y&&c.appendChild(this.dom.createTextNode(y,this.element)),p){var v=o.session.getScreenTabSize(t+s.index);c.appendChild(o.$tabStrings[v].cloneNode(!0)),t+=v-1}else if(d){if(o.showSpaces)(b=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",b.textContent=i.stringRepeat(o.SPACE_CHAR,d.length),c.appendChild(b);else c.appendChild(this.dom.createTextNode(d,this.element))}else if(f){(b=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",b.textContent=i.stringRepeat(o.SPACE_CHAR,f.length),c.appendChild(b)}else if(g){t+=1,(b=this.dom.createElement("span")).style.width=2*o.config.characterWidth+"px",b.className=o.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",b.textContent=o.showSpaces?o.SPACE_CHAR:g,c.appendChild(b)}else if(m){t+=1,(b=this.dom.createElement("span")).style.width=2*o.config.characterWidth+"px",b.className="ace_cjk",b.textContent=m,c.appendChild(b)}}}if(c.appendChild(this.dom.createTextNode(h?r.slice(h):r,this.element)),l(n.type))e.appendChild(c);else{var x="ace_"+n.type.replace(/\./g," ace_"),b=this.dom.createElement("span");"fold"==n.type&&(b.style.width=n.value.length*this.config.characterWidth+"px",b.setAttribute("title",a("Unfold code"))),b.className=x,b.appendChild(c),e.appendChild(b)}return t+r.length},e.prototype.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);if(r<=0||r>=n)return t;if(" "==t[0]){for(var i=(r-=r%this.tabSize)/this.tabSize,s=0;s<i;s++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(r)}if("\t"==t[0]){for(s=0;s<r;s++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(r)}return this.$highlightIndentGuide(),t},e.prototype.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var t=this.session.selection.getCursor(),n=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,r=Math.floor(n/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:r,start:t.row},this.session.$bracketHighlight)for(var i=this.session.$bracketHighlight.ranges,s=0;s<i.length;s++)if(t.row!==i[s].start.row){this.$highlightIndentGuideMarker.end=i[s].start.row,this.$highlightIndentGuideMarker.dir=t.row>i[s].start.row?-1:1;break}if(!this.$highlightIndentGuideMarker.end&&""!==e[t.row]&&t.column===e[t.row].length){this.$highlightIndentGuideMarker.dir=1;for(s=t.row+1;s<e.length;s++){var o=e[s],a=/^\s*/.exec(o)[0].length;if(""!==o&&(this.$highlightIndentGuideMarker.end=s,a<=n))break}}this.$renderHighlightIndentGuide()}}},e.prototype.$clearActiveIndentGuide=function(){for(var e=this.$lines.cells,t=0;t<e.length;t++){var n=e[t].element.childNodes;if(n.length>0)for(var r=0;r<n.length;r++)if(n[r].classList&&n[r].classList.contains("ace_indent-guide-active")){n[r].classList.remove("ace_indent-guide-active");break}}},e.prototype.$setIndentGuideActive=function(e,t){if(""!==this.session.doc.getLine(e.row)){var n=e.element.childNodes;if(n){var r=n[t-1];r&&r.classList&&r.classList.contains("ace_indent-guide")&&r.classList.add("ace_indent-guide-active")}}},e.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var t=this.$highlightIndentGuideMarker.indentLevel;if(0!==t)if(1===this.$highlightIndentGuideMarker.dir)for(var n=0;n<e.length;n++){var r=e[n];if(this.$highlightIndentGuideMarker.end&&r.row>=this.$highlightIndentGuideMarker.start+1){if(r.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(r,t)}}else for(n=e.length-1;n>=0;n--){r=e[n];if(this.$highlightIndentGuideMarker.end&&r.row<this.$highlightIndentGuideMarker.start){if(r.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(r,t)}}}},e.prototype.$createLineElement=function(){var e=this.dom.createElement("div");return e.className="ace_line",e.style.height=this.config.lineHeight+"px",e},e.prototype.$renderWrappedLine=function(e,t,n){var r=0,s=0,o=n[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var u=0;u<t.length;u++){var c=t[u],h=c.value;if(0==u&&this.displayIndentGuides){if(r=h.length,!(h=this.renderIndentGuide(l,h,o)))continue;r-=h.length}if(r+h.length<o)a=this.$renderToken(l,a,c,h),r+=h.length;else{for(;r+h.length>=o;)a=this.$renderToken(l,a,c,h.substring(0,o-r)),h=h.substring(o-r),r=o,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(i.stringRepeat(" ",n.indent),this.element)),a=0,o=n[++s]||Number.MAX_VALUE;0!=h.length&&(r+=h.length,a=this.$renderToken(l,a,c,h))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},e.prototype.$renderSimpleLine=function(e,t){for(var n=0,r=0;r<t.length;r++){var i=t[r],s=i.value;if(0!=r||!this.displayIndentGuides||(s=this.renderIndentGuide(e,s))){if(n+s.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,i,s);n=this.$renderToken(e,n,i,s)}}},e.prototype.$renderOverflowMessage=function(e,t,n,r,i){n&&this.$renderToken(e,t,n,r.slice(0,this.MAX_LINE_LENGTH-t));var s=this.dom.createElement("span");s.className="ace_inline_button ace_keyword ace_toggle_wrap",s.textContent=i?"<hide>":"<click to see more...>",e.appendChild(s)},e.prototype.$renderLine=function(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var r=this.$getFoldLineTokens(t,n);else r=this.session.getTokens(t);var i=e;if(r.length){var s=this.session.getRowSplitData(t);if(s&&s.length){this.$renderWrappedLine(e,r,s);i=e.lastChild}else{i=e;this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i)),this.$renderSimpleLine(i,r)}}else this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i));if(this.showEOL&&i){n&&(t=n.end.row);var o=this.dom.createElement("span");o.className="ace_invisible ace_invisible_eol",o.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,i.appendChild(o)}},e.prototype.$getFoldLineTokens=function(e,t){var n=this.session,r=[],i=n.getTokens(e);return t.walk((function(e,t,s,o,a){null!=e?r.push({type:"fold",value:e}):(a&&(i=n.getTokens(t)),i.length&&function(e,t,n){for(var i=0,s=0;s+e[i].value.length<t;)if(s+=e[i].value.length,++i==e.length)return;for(s!=t&&((o=e[i].value.substring(t-s)).length>n-t&&(o=o.substring(0,n-t)),r.push({type:e[i].type,value:o}),s=t+o.length,i+=1);s<n&&i<e.length;){var o;r.push((o=e[i].value).length+s>n?{type:e[i].type,value:o.substring(0,n-s)}:e[i]),s+=o.length,i+=1}}(i,o,s))}),t.end.row,this.session.getLine(t.end.row).length),r},e.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},e}();u.prototype.EOF_CHAR="¶",u.prototype.EOL_CHAR_LF="¬",u.prototype.EOL_CHAR_CRLF="¤",u.prototype.EOL_CHAR=u.prototype.EOL_CHAR_LF,u.prototype.TAB_CHAR="—",u.prototype.SPACE_CHAR="·",u.prototype.$padding=0,u.prototype.MAX_LINE_LENGTH=1e4,u.prototype.showInvisibles=!1,u.prototype.showSpaces=!1,u.prototype.showTabs=!1,u.prototype.showEOL=!1,u.prototype.displayIndentGuides=!0,u.prototype.$highlightIndentGuides=!0,u.prototype.$tabStrings=[],u.prototype.destroy={},u.prototype.onChangeTabSize=u.prototype.$computeTabString,n.implement(u.prototype,o),t.Text=u})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t){"use strict";var n=e("../lib/dom"),r=function(){function e(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),n.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return e.prototype.$updateOpacity=function(e){for(var t=this.cursors,r=t.length;r--;)n.setStyle(t[r].style,"opacity",e?"":"0")},e.prototype.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&n.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},e.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,n.removeCssClass(this.element,"ace_animate-blinking")},e.prototype.setPadding=function(e){this.$padding=e},e.prototype.setSession=function(e){this.session=e},e.prototype.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},e.prototype.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},e.prototype.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,n.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},e.prototype.addCursor=function(){var e=n.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},e.prototype.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},e.prototype.hideCursor=function(){this.isVisible=!1,n.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},e.prototype.showCursor=function(){this.isVisible=!0,n.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},e.prototype.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,n.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&n.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),n.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},e.prototype.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},e.prototype.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},e.prototype.update=function(e){this.config=e;var t=this.session.$selectionMarkers,r=0,i=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);r=0;for(var s=t.length;r<s;r++){var o=this.getPixelPosition(t[r].cursor,!0);if(!((o.top>e.height+e.offset||o.top<0)&&r>1)){var a=this.cursors[i++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,o,e,t[r],this.session):this.isCursorInView(o,e)?(n.setStyle(l,"display","block"),n.translate(a,o.left,o.top),n.setStyle(l,"width",Math.round(e.characterWidth)+"px"),n.setStyle(l,"height",e.lineHeight+"px")):n.setStyle(l,"display","none")}}for(;this.cursors.length>i;)this.removeCursor();var u=this.session.getOverwrite();this.$setOverwrite(u),this.$pixelPos=o,this.restartTimer()},e.prototype.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?n.addCssClass(this.element,"ace_overwrite-cursors"):n.removeCssClass(this.element,"ace_overwrite-cursors"))},e.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},e}();r.prototype.$padding=0,r.prototype.drawCursor=null,t.Cursor=r})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=e("./lib/oop"),s=e("./lib/dom"),o=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter,l=32768,u=function(){function e(e,t){this.element=s.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+t,this.inner=s.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)}return e.prototype.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1},e}();i.implement(u.prototype,a);var c=function(e){function t(t,n){var r=e.call(this,t,"-v")||this;return r.scrollTop=0,r.scrollHeight=0,n.$scrollbarWidth=r.width=s.scrollbarWidth(t.ownerDocument),r.inner.style.width=r.element.style.width=(r.width||15)+5+"px",r.$minWidth=0,r}return r(t,e),t.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(e){this.element.style.height=e+"px"},t.prototype.setScrollHeight=function(e){this.scrollHeight=e,e>l?(this.coeff=l/e,e=l):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},t.prototype.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)},t}(u);c.prototype.setInnerHeight=c.prototype.setScrollHeight;var h=function(e){function t(t,n){var r=e.call(this,t,"-h")||this;return r.scrollLeft=0,r.height=n.$scrollbarWidth,r.inner.style.height=r.element.style.height=(r.height||15)+5+"px",r}return r(t,e),t.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.setWidth=function(e){this.element.style.width=e+"px"},t.prototype.setInnerWidth=function(e){this.inner.style.width=e+"px"},t.prototype.setScrollWidth=function(e){this.inner.style.width=e+"px"},t.prototype.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)},t}(u);t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=h,t.VScrollBar=c,t.HScrollBar=h})),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=e("./lib/oop"),s=e("./lib/dom"),o=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter;s.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);var l=function(){function e(e,t){this.element=s.createElement("div"),this.element.className="ace_sb"+t,this.inner=s.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return e.prototype.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1},e}();i.implement(l.prototype,a);var u=function(e){function t(t,n){var r=e.call(this,t,"-v")||this;return r.scrollTop=0,r.scrollHeight=0,r.parent=t,r.width=r.VScrollWidth,r.renderer=n,r.inner.style.width=r.element.style.width=(r.width||15)+"px",r.$minWidth=0,r}return r(t,e),t.prototype.onMouseDown=function(e,t){if("mousedown"===e&&0===o.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,r=t.clientY,i=t.clientY,s=this.thumbTop;o.capture(this.inner,(function(e){r=e.clientY}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==r){var e=n.scrollTopFromThumbTop(s+r-i);e!==n.scrollTop&&n._emit("scroll",{data:e})}}),20);return o.preventDefault(t)}var l=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(l)}),o.preventDefault(t)}},t.prototype.getHeight=function(){return this.height},t.prototype.scrollTopFromThumbTop=function(e){var t=e*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(t>>=0)<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(e){this.height=Math.max(0,e),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},t.prototype.setScrollHeight=function(e,t){(this.pageHeight!==e||t)&&(this.pageHeight=e,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},t.prototype.setScrollTop=function(e){this.scrollTop=e,e<0&&(e=0),this.thumbTop=e*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},t}(l);u.prototype.setInnerHeight=u.prototype.setScrollHeight;var c=function(e){function t(t,n){var r=e.call(this,t,"-h")||this;return r.scrollLeft=0,r.scrollWidth=0,r.height=r.HScrollHeight,r.inner.style.height=r.element.style.height=(r.height||12)+"px",r.renderer=n,r}return r(t,e),t.prototype.onMouseDown=function(e,t){if("mousedown"===e&&0===o.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,r=t.clientX,i=t.clientX,s=this.thumbLeft;o.capture(this.inner,(function(e){r=e.clientX}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==r){var e=n.scrollLeftFromThumbLeft(s+r-i);e!==n.scrollLeft&&n._emit("scroll",{data:e})}}),20);return o.preventDefault(t)}var l=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(l)}),o.preventDefault(t)}},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.scrollLeftFromThumbLeft=function(e){var t=e*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(t>>=0)<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t},t.prototype.setWidth=function(e){this.width=Math.max(0,e),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},t.prototype.setScrollWidth=function(e,t){(this.pageWidth!==e||t)&&(this.pageWidth=e,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},t.prototype.setScrollLeft=function(e){this.scrollLeft=e,e<0&&(e=0),this.thumbLeft=e*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},t}(l);c.prototype.setInnerWidth=c.prototype.setScrollWidth,t.ScrollBar=u,t.ScrollBarV=u,t.ScrollBarH=c,t.VScrollBar=u,t.HScrollBar=c})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t){"use strict";var n=e("./lib/event"),r=function(){function e(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var r=this;this._flush=function(){r.pending=!1;var e=r.changes;if(e&&(n.blockIdle(100),r.changes=0,r.onRender(e)),r.changes){if(r.$recursionLimit--<0)return;r.schedule()}else r.$recursionLimit=2}}return e.prototype.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(n.nextFrame(this._flush),this.pending=!0)},e.prototype.clear=function(){var e=this.changes;return this.changes=0,e},e}();t.RenderLoop=r})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t){var n=e("../lib/oop"),r=e("../lib/dom"),i=e("../lib/lang"),s=e("../lib/event"),o=e("../lib/useragent"),a=e("../lib/event_emitter").EventEmitter,l=512,u="function"==typeof ResizeObserver,c=200,h=function(){function e(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=i.stringRepeat("X",l),this.$characterSize={width:0,height:0},u?this.$addObserver():this.checkForSizeChanges()}return e.prototype.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",o.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},e.prototype.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},e.prototype.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},e.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=s.onIdle((function t(){e.checkForSizeChanges(),s.onIdle(t,500)}),500)},e.prototype.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},e.prototype.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/l};return 0===t.width||0===t.height?null:t},e.prototype.$measureCharWidth=function(e){return this.$main.textContent=i.stringRepeat(e,l),this.$main.getBoundingClientRect().width/l},e.prototype.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},e.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},e.prototype.$getZoom=function(e){return e&&e.parentElement?(window.getComputedStyle(e).zoom||1)*this.$getZoom(e.parentElement):1},e.prototype.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=r.buildDom([e(0,0),e(c,0),e(0,c),e(c,c)],this.el)},e.prototype.transformCoordinates=function(e,t){function n(e,t,n){var r=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/r,(+e[1]*n[0]-e[0]*n[1])/r]}function r(e,t){return[e[0]-t[0],e[1]-t[1]]}function i(e,t){return[e[0]+t[0],e[1]+t[1]]}function s(e,t){return[e*t[0],e*t[1]]}function o(e){var t=e.getBoundingClientRect();return[t.left,t.top]}e&&(e=s(1/this.$getZoom(this.el),e));this.els||this.$initTransformMeasureNodes();var a=o(this.els[0]),l=o(this.els[1]),u=o(this.els[2]),h=o(this.els[3]),p=n(r(h,l),r(h,u),r(i(l,u),i(h,a))),d=s(1+p[0],r(l,a)),f=s(1+p[1],r(u,a));if(t){var g=t,m=p[0]*g[0]/c+p[1]*g[1]/c+1,y=i(s(g[0],d),s(g[1],f));return i(s(1/m/c,y),a)}var v=r(e,a),x=n(r(d,s(p[0],v)),r(f,s(p[1],v)),v);return s(c,x)},e}();h.prototype.$characterSize={width:0,height:0},n.implement(h.prototype,a),t.FontMetrics=h})),ace.define("ace/css/editor-css",["require","exports","module"],(function(e,t,n){n.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n    overflow: auto;\n    max-width: min(60em, 66vw);\n    overscroll-behavior: contain;\n}\n.ace_tooltip pre {\n    white-space: pre-wrap;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n    white-space: pre;\n}\n\n.ace_screenreader-only {\n    position:absolute;\n    left:-10000px;\n    top:auto;\n    width:1px;\n    height:1px;\n    overflow:hidden;\n}'})),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],(function(e,t){"use strict";var n=e("../lib/dom"),r=e("../lib/oop"),i=e("../lib/event_emitter").EventEmitter,s=function(){function e(e,t){this.canvas=n.createElement("canvas"),this.renderer=t,this.pixelRatio=1,this.maxHeight=t.layerConfig.maxHeight,this.lineHeight=t.layerConfig.lineHeight,this.canvasHeight=e.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=e.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},e.element.appendChild(this.canvas)}return e.prototype.$updateDecorators=function(e){var t=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;e&&(this.maxHeight=e.maxHeight,this.lineHeight=e.lineHeight,this.canvasHeight=e.height,this.heightRatio=(e.lastRow+1)*this.lineHeight<this.canvasHeight?1:this.canvasHeight/this.maxHeight);var n=this.canvas.getContext("2d"),r=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),r){var i={info:1,warning:2,error:3};r.forEach((function(e){e.priority=i[e.type]||null})),r=r.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));for(var s=this.renderer.session.$foldData,o=0;o<r.length;o++){var a=r[o].row,l=this.compensateFoldRows(a,s),u=Math.round((a-l)*this.lineHeight*this.heightRatio),c=Math.round((a-l)*this.lineHeight*this.heightRatio),h=Math.round(((a-l)*this.lineHeight+this.lineHeight)*this.heightRatio);if(h-c<this.minDecorationHeight){var p=(c+h)/2|0;p<this.halfMinDecorationHeight?p=this.halfMinDecorationHeight:p+this.halfMinDecorationHeight>this.canvasHeight&&(p=this.canvasHeight-this.halfMinDecorationHeight),c=Math.round(p-this.halfMinDecorationHeight),h=Math.round(p+this.halfMinDecorationHeight)}n.fillStyle=t[r[o].type]||null,n.fillRect(0,u,this.canvasWidth,h-c)}}var d=this.renderer.session.selection.getCursor();if(d){l=this.compensateFoldRows(d.row,s),u=Math.round((d.row-l)*this.lineHeight*this.heightRatio);n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,u,this.canvasWidth,2)}},e.prototype.compensateFoldRows=function(e,t){var n=0;if(t&&t.length>0)for(var r=0;r<t.length;r++)e>t[r].start.row&&e<t[r].end.row?n+=e-t[r].start.row:e>=t[r].end.row&&(n+=t[r].end.row-t[r].start.row);return n},e}();r.implement(s.prototype,i),t.Decorator=s})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],(function(e,t){"use strict";var n=e("./lib/oop"),r=e("./lib/dom"),i=e("./lib/lang"),s=e("./config"),o=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,u=e("./layer/cursor").Cursor,c=e("./scrollbar").HScrollBar,h=e("./scrollbar").VScrollBar,p=e("./scrollbar_custom").HScrollBar,d=e("./scrollbar_custom").VScrollBar,f=e("./renderloop").RenderLoop,g=e("./layer/font_metrics").FontMetrics,m=e("./lib/event_emitter").EventEmitter,y=e("./css/editor-css"),v=e("./layer/decorators").Decorator,x=e("./lib/useragent");r.importCssString(y,"ace_editor.css",!1);var b=function(){function e(e,t){var n=this;this.container=e||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==s.get("useStrictCSP")&&s.set("useStrictCSP",!1),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new o(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var i=this.$textLayer=new l(this.content);this.canvas=i.element,this.$markerFront=new a(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!x.isIOS,this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),s.resetOptions(this),s._signal("renderer",this)}return e.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},e.prototype.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},e.prototype.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},e.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},e.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},e.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},e.prototype.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},e.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},e.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},e.prototype.onResize=function(e,t,n,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var s=this.$updateCachedSize(e,t,n,r);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(s|this.$changes,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},e.prototype.$updateCachedSize=function(e,t,n,i){var s=0,o=this.$size,a={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};if((i-=this.$extraHeight||0)&&(e||o.height!=i)&&(o.height=i,s|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(o.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",s|=this.CHANGE_SCROLL),n&&(e||o.width!=n)){s|=this.CHANGE_SIZE,o.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,r.setStyle(this.scrollBarH.element.style,"left",t+"px"),r.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),o.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";r.setStyle(this.scrollBarH.element.style,"right",l),r.setStyle(this.scroller.style,"right",l),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(o.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(s|=this.CHANGE_FULL)}return o.$dirty=!n||!i,s&&this._signal("resize",a),s},e.prototype.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},e.prototype.adjustWrapLimit=function(){var e=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},e.prototype.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},e.prototype.getAnimatedScroll=function(){return this.$animatedScroll},e.prototype.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},e.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},e.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},e.prototype.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},e.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},e.prototype.setHighlightIndentGuides=function(e){this.setOption("highlightIndentGuides",e)},e.prototype.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},e.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},e.prototype.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},e.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},e.prototype.getShowGutter=function(){return this.getOption("showGutter")},e.prototype.setShowGutter=function(e){return this.setOption("showGutter",e)},e.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},e.prototype.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},e.prototype.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},e.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},e.prototype.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},e.prototype.getContainerElement=function(){return this.container},e.prototype.getMouseEventTarget=function(){return this.scroller},e.prototype.getTextAreaContainer=function(){return this.container},e.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var i=this.layerConfig,s=n.top,o=n.left,a=t&&t.useTextareaForIME||x.isMobile?this.lineHeight:1;if((s-=i.offset)<0||s>i.height-a)r.translate(this.textarea,0,0);else{var l=1,u=this.$size.height-a;if(t)if(t.useTextareaForIME)l=this.characterWidth*this.session.$getStringScreenWidth(this.textarea.value)[0];else s+=this.lineHeight+2;else s+=this.lineHeight;(o-=this.scrollLeft)>this.$size.scrollerWidth-l&&(o=this.$size.scrollerWidth-l),o+=this.gutterWidth+this.margin.left,r.setStyle(e,"height",a+"px"),r.setStyle(e,"width",l+"px"),r.translate(this.textarea,Math.min(o,this.$size.scrollerWidth-l),Math.min(s,u))}}}else r.translate(this.textarea,-100,0)}},e.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},e.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},e.prototype.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},e.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},e.prototype.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},e.prototype.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},e.prototype.setMargin=function(e,t,n,r){var i=this.margin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},e.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},e.prototype.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},e.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},e.prototype.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},e.prototype.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(e-=(t-this.lineHeight)*this.$scrollPastEnd)-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},e.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},e.prototype.freeze=function(){this.$frozen=!0},e.prototype.unfreeze=function(){this.$frozen=!1},e.prototype.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-n.offset);var s=n.minHeight+"px";r.setStyle(this.content.style,"width",n.width+2*this.$padding+"px"),r.setStyle(this.content.style,"height",s)}if(e&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_LINES?((this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)}else this.$changes|=e},e.prototype.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var i=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,i,n),this.desiredHeight=n,this._signal("autosize")}},e.prototype.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength()*this.lineHeight,i=this.$getLongestLine(),s=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-i-2*this.$padding<0),o=this.$horizScroll!==s;o&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,u=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=u;var c=this.scrollMargin;this.session.setScrollTop(Math.max(-c.top,Math.min(this.scrollTop,r-t.scrollerHeight+c.bottom))),this.session.setScrollLeft(Math.max(-c.left,Math.min(this.scrollLeft,i+2*this.$padding-t.scrollerWidth+c.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-r+u<0||this.scrollTop>c.top),p=a!==h;p&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var d,f,g=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,y=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),v=y+m,x=this.lineHeight;y=e.screenToDocumentRow(y,0);var b=e.getFoldLine(y);b&&(y=b.start.row),d=e.documentToScreenRow(y,0),f=e.getRowLength(y)*x,v=Math.min(e.screenToDocumentRow(v,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(v)*x+f,g=this.scrollTop-d*x;var _=0;return(this.layerConfig.width!=i||o)&&(_=this.CHANGE_H_SCROLL),(o||p)&&(_|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),p&&(i=this.$getLongestLine())),this.layerConfig={width:i,padding:this.$padding,firstRow:y,firstRowScreen:d,lastRow:v,lineHeight:x,characterWidth:this.characterWidth,minHeight:l,maxHeight:r,offset:g,gutterOffset:x?Math.max(0,Math.ceil((g+t.height-t.scrollerHeight)/x)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(i-this.$padding),_},e.prototype.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},e.prototype.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},e.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},e.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},e.prototype.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},e.prototype.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},e.prototype.updateBreakpoints=function(e){this._rows=e,this.$loop.schedule(this.CHANGE_GUTTER)},e.prototype.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},e.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},e.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},e.prototype.showCursor=function(){this.$cursorLayer.showCursor()},e.prototype.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},e.prototype.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),i=r.left,s=r.top,o=n&&n.top||0,a=n&&n.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+o>s?(t&&l+o>s+this.lineHeight&&(s-=t*this.$size.scrollerHeight),0===s&&(s=-this.scrollMargin.top),this.session.setScrollTop(s)):l+this.$size.scrollerHeight-a<s+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<s-this.lineHeight&&(s+=t*this.$size.scrollerHeight),this.session.setScrollTop(s+this.lineHeight+a-this.$size.scrollerHeight));var u=this.scrollLeft,c=2*this.layerConfig.characterWidth;i-c<u?((i-=c)<this.$padding+c&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):u+this.$size.scrollerWidth<(i+=c)+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):u<=this.$padding&&i-u<this.characterWidth&&this.session.setScrollLeft(0)}},e.prototype.getScrollTop=function(){return this.session.getScrollTop()},e.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},e.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},e.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},e.prototype.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},e.prototype.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e).top-(this.$size.scrollerHeight-this.lineHeight)*(t||0);return this.session.setScrollTop(n),n},e.prototype.$calcSteps=function(e,t){var n,r=0,i=this.STEPS,s=[];for(r=0;r<i;++r)s.push((n=e,(t-e)*(Math.pow(r/this.STEPS-1,3)+1)+n));return s},e.prototype.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(i-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(i),!1!==n&&this.animateScrolling(s,r)},e.prototype.animateScrolling=function(e,t){function n(){i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,i.$stopAnimation=!1,t&&t()}var r=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=r){if(this.$scrollAnimation){var s=this.$scrollAnimation.steps;if(s.length&&(e=s[0])==r)return}var o=i.$calcSteps(e,r);this.$scrollAnimation={from:e,to:r,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=r,this.$timer=setInterval((function(){if(!i.$stopAnimation)return i.session?void(o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=r):null!=r?(i.session.$scrollTop=-1,i.session.setScrollTop(r),r=null):n()):clearInterval(i.$timer);n()}),10)}}},e.prototype.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},e.prototype.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},e.prototype.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)},e.prototype.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},e.prototype.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},e.prototype.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,s=i/this.characterWidth,o=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(s):Math.round(s);return{row:o,column:a,side:s-a>0?1:-1,offsetX:i}},e.prototype.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,s=i/this.characterWidth,o=this.$blockCursor?Math.floor(s):Math.round(s),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(o,0),i)},e.prototype.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,e)?this.session.$bidiHandler.getPosLeft(r.column):Math.round(r.column*this.characterWidth));return{pageX:n.left+i-this.scrollLeft,pageY:n.top+r.row*this.lineHeight-this.scrollTop}},e.prototype.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},e.prototype.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},e.prototype.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},e.prototype.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},e.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},e.prototype.setGhostText=function(e,t){var n=this.session.selection.cursor,r=t||{row:n.row,column:n.column};this.removeGhostText();var i=e.split("\n");if(this.addToken(i[0],"ghost_text",r.row,r.column),this.$ghostText={text:e,position:{row:r.row,column:r.column}},i.length>1){this.$ghostTextWidget={text:i.slice(1).join("\n"),row:r.row,column:r.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var s=this.$cursorLayer.getPixelPosition(r,!0),o=this.container.getBoundingClientRect().height,a=i.length*this.lineHeight;if(a<o-s.top)return;this.scrollBy(0,a<o?(i.length-1)*this.lineHeight:s.top)}},e.prototype.removeGhostText=function(){if(this.$ghostText){var e=this.$ghostText.position;this.removeExtraToken(e.row,e.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},e.prototype.addToken=function(e,t,n,r){var i=this.session;i.bgTokenizer.lines[n]=null;var s={type:t,value:e},o=i.getTokens(n);if(null!=r&&o.length)for(var a=0,l=0;l<o.length;l++){var u=o[l];if(r<=(a+=u.value.length)){var c=u.value.length-(a-r),h=u.value.slice(0,c),p=u.value.slice(c);o.splice(l,1,{type:u.type,value:h},s,{type:u.type,value:p});break}}else o.push(s);this.updateLines(n,n)},e.prototype.removeExtraToken=function(e){this.session.bgTokenizer.lines[e]=null,this.updateLines(e,e)},e.prototype.setTheme=function(e,t){function n(n){if(i.$themeId!=e)return t&&t();if(!n||!n.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");n.$id&&(i.$themeId=n.$id),r.importCssString(n.cssText,n.cssClass,i.container),i.theme&&r.removeCssClass(i.container,i.theme.cssClass);var s="padding"in n?n.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&s!=i.$padding&&i.setPadding(s),i.$theme=n.cssClass,i.theme=n,r.addCssClass(i.container,n.cssClass),r.setCssClass(i.container,"ace_dark",n.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:n}),t&&t()}var i=this;(this.$themeId=e,i._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)?n(e):s.loadModule(["theme",e||this.$options.theme.initialValue],n)},e.prototype.getTheme=function(){return this.$themeId},e.prototype.setStyle=function(e,t){r.setCssClass(this.container,e,!1!==t)},e.prototype.unsetStyle=function(e){r.removeCssClass(this.container,e)},e.prototype.setCursorStyle=function(e){r.setStyle(this.scroller.style,"cursor",e)},e.prototype.setMouseCursor=function(e){r.setStyle(this.scroller.style,"cursor",e)},e.prototype.attachToShadowRoot=function(){r.importCssString(y,"ace_editor.css",this.container)},e.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},e.prototype.$updateCustomScrollbar=function(e){var t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===e?(this.scrollBarV=new d(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})),this.$scrollDecorator=new v(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new h(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})))},e.prototype.$addResizeObserver=function(){if(window.ResizeObserver&&!this.$resizeObserver){var e=this;this.$resizeTimer=i.delayedCall((function(){e.destroyed||e.onResize()}),50),this.$resizeObserver=new window.ResizeObserver((function(t){var n=t[0].contentRect.height;Math.abs(e.$size.width-t[0].contentRect.width)>1||Math.abs(e.$size.height-n)>1?e.$resizeTimer.delay():e.$resizeTimer.cancel()})),this.$resizeObserver.observe(this.container)}},e}();b.prototype.CHANGE_CURSOR=1,b.prototype.CHANGE_MARKER=2,b.prototype.CHANGE_GUTTER=4,b.prototype.CHANGE_SCROLL=8,b.prototype.CHANGE_LINES=16,b.prototype.CHANGE_TEXT=32,b.prototype.CHANGE_SIZE=64,b.prototype.CHANGE_MARKER_BACK=128,b.prototype.CHANGE_MARKER_FRONT=256,b.prototype.CHANGE_FULL=512,b.prototype.CHANGE_H_SCROLL=1024,b.prototype.$changes=0,b.prototype.$padding=null,b.prototype.$frozen=!1,b.prototype.STEPS=8,n.implement(b.prototype,m),s.defineOptions(b.prototype,"renderer",{useResizeObserver:{set:function(e){!e&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):e&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(e){this.$gutterLayer.$useSvgGutterIcons=e},initialValue:!1},showFoldedAnnotations:{set:function(e){this.$gutterLayer.$showFoldedAnnotations=e},initialValue:!1},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(e){1==this.$textLayer.setHighlightIndentGuides(e)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){this.$scrollPastEnd!=(e=+e||0)&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(e){this.$updateCustomScrollbar(e)},initialValue:!1},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!x.isMobile&&!x.isIE}}),t.VirtualRenderer=b})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t){"use strict";function n(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(o.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+i.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var r=e("../lib/oop"),i=e("../lib/net"),s=e("../lib/event_emitter").EventEmitter,o=e("../config"),a=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,s),this.$createWorkerFromOldConfig=function(t,r,i,s,a){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),o.get("packaged")||!e.toUrl)s=s||o.moduleUrl(r,"worker");else{var l=this.$normalizePath;s=s||l(e.toUrl("ace/worker/worker.js",null,"_"));var u={};t.forEach((function(t){u[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=n(s),a&&this.send("importScripts",a),this.$worker.postMessage({init:!0,tlns:u,module:r,classname:i}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(e){e.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker&&this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener,!0)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(e.start,"insert"==e.action?e.lines:e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(a.prototype);t.UIWorkerClient=function(e,t,n){var r=null,i=!1,l=Object.create(s),u=[],c=new a({messageBuffer:u,terminate:function(){},postMessage:function(e){u.push(e),r&&(i?setTimeout(h):h())}});c.setEmitSync=function(e){i=e};var h=function(){var e=u.shift();e.command?r[e.command].apply(r,e.args):e.event&&l._signal(e.event,e.data)};return l.postMessage=function(e){c.onMessage({data:e})},l.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},l.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},o.loadModule(["worker",t],(function(e){for(r=new e[n](l);u.length;)h()})),c},t.WorkerClient=a,t.createWorker=n})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t){"use strict";var n=e("./range").Range,r=e("./lib/event_emitter").EventEmitter,i=e("./lib/oop"),s=function(){function e(e,t,n,r,i,s){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=r,this.$onCursorChange=function(){setTimeout((function(){o.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)}return e.prototype.setup=function(){var e=this,t=this.doc,r=this.session;this.selectionBefore=r.selection.toJSON(),r.selection.inMultiSelectMode&&r.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=r.addMarker(new n(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)})),r.setUndoSelect(!1)},e.prototype.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(r){r.markerId=e.addMarker(new n(r.row,r.column,r.row,r.column+t.length),t.othersClass,null,!1)}))}},e.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},e.prototype.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var r="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;if(this.updateAnchors(e),i&&(this.length+=r),i&&!this.session.$fromUndo)if("insert"===e.action)for(var o=this.others.length-1;o>=0;o--){this.doc.insertMergedLines(l={row:(a=this.others[o]).row,column:a.column+s},e.lines)}else if("remove"===e.action)for(o=this.others.length-1;o>=0;o--){var a,l;this.doc.remove(new n((l={row:(a=this.others[o]).row,column:a.column+s}).row,l.column,l.row,l.column-r))}this.$updating=!1,this.updateMarkers()}},e.prototype.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},e.prototype.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,r=function(r,i){t.removeMarker(r.markerId),r.markerId=t.addMarker(new n(r.row,r.column,r.row,r.column+e.length),i,null,!1)};r(this.pos,this.mainClass);for(var i=this.others.length;i--;)r(this.others[i],this.othersClass)}},e.prototype.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},e.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},e.prototype.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},e}();i.implement(s.prototype,r),t.PlaceHolder=s})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t){function n(e,t){return e.row==t.row&&e.column==t.column}var r=e("../lib/event"),i=e("../lib/useragent");t.onMouseDown=function(e){var t=e.domEvent,s=t.altKey,o=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),u=e.getButton();if(a&&i.isMac&&(u=t.button),e.editor.inMultiSelectMode&&2==u)e.editor.textInput.onContextMenu(e.domEvent);else if(a||s||l){if(0===u){var c,h=e.editor,p=h.selection,d=h.inMultiSelectMode,f=e.getDocumentPosition(),g=p.getCursor(),m=e.inSelection()||p.isEmpty()&&n(f,g),y=e.x,v=e.y,x=h.session,b=h.renderer.pixelToScreenCoordinates(y,v),_=b;if(h.$mouseHandler.$enableJumpToDef)a&&s||l&&s?c=o?"block":"add":s&&h.$blockSelectEnabled&&(c="block");else if(l&&!s){if(c="add",!d&&o)return}else s&&h.$blockSelectEnabled&&(c="block");if(c&&i.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==c){if(!d&&m)return;if(!d){var w=p.toOrientedRange();h.addSelectionMarker(w)}var S=p.rangeList.rangeAtPoint(f);h.inVirtualSelectionMode=!0,o&&(S=null,h.removeSelectionMarker(w=p.ranges[0]||w)),h.once("mouseup",(function(){var e=p.toOrientedRange();S&&e.isEmpty()&&n(S.cursor,e.cursor)?p.substractPoint(e.cursor):(o?p.substractPoint(w.cursor):w&&(h.removeSelectionMarker(w),p.addRange(w)),p.addRange(e)),h.inVirtualSelectionMode=!1}))}else if("block"==c){var T;e.stop(),h.inVirtualSelectionMode=!0;var A=[],E=function(){var e=h.renderer.pixelToScreenCoordinates(y,v),t=x.screenToDocumentPosition(e.row,e.column,e.offsetX);n(_,e)&&n(t,p.lead)||(_=e,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(A),A=p.rectangularRangeBlock(_,b),h.$mouseHandler.$clickSelection&&1==A.length&&A[0].isEmpty()&&(A[0]=h.$mouseHandler.$clickSelection.clone()),A.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};d&&!l?p.toSingleRange():!d&&l&&(T=p.toOrientedRange(),h.addSelectionMarker(T)),o?b=x.documentToScreenPosition(p.lead):p.moveToPosition(f),_={row:-1,column:-1};var k=E;r.capture(h.container,(function(e){y=e.clientX,v=e.clientY}),(function(){E(),clearInterval(C),h.removeSelectionMarkers(A),A.length||(A=[p.toOrientedRange()]),T&&(h.removeSelectionMarker(T),p.toSingleRange(T));for(var e=0;e<A.length;e++)p.addRange(A[e]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null}));var C=setInterval((function(){k()}),20);return e.preventDefault()}}}else 0===u&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t){function n(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",o),e.commands.addCommands(u.defaultCommands),function(e){function t(){r&&(e.renderer.setMouseCursor(""),r=!1)}if(!e.textInput)return;var n=e.textInput.getElement(),r=!1;a.addListener(n,"keydown",(function(n){e.$blockSelectEnabled&&(18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey))?r||(e.renderer.setMouseCursor("crosshair"),r=!0):r&&t()}),e),a.addListener(n,"keyup",t,e),a.addListener(n,"blur",t,e)}(e))}var r=e("./range_list").RangeList,i=e("./range").Range,s=e("./selection").Selection,o=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),l=e("./lib/lang"),u=e("./commands/multi_select_commands");t.commands=u.defaultCommands.concat(u.multiSelectCommands);var c=new(0,e("./search").Search),h=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(h.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new r,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var r=e[n],s=r.start.row,o=r.end.row;if(s===o)t.push(r.clone());else{for(t.push(new i(s,r.start.column,s,this.session.getLine(s).length));++s<o;)t.push(this.getLineRange(s,!0));t.push(new i(o,0,o,r.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}this.toSingleRange();for(n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.cursor),s=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(r,s).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],s=e.column<t.column;if(s)var o=e.column,a=t.column,l=e.offsetX,u=t.offsetX;else o=t.column,a=e.column,l=t.offsetX,u=e.offsetX;var c,h,p,d=e.row<t.row;if(d)var f=e.row,g=t.row;else f=t.row,g=e.row;o<0&&(o=0),f<0&&(f=0),f==g&&(n=!0);for(var m=f;m<=g;m++){var y=i.fromPoints(this.session.screenToDocumentPosition(m,o,l),this.session.screenToDocumentPosition(m,a,u));if(y.isEmpty()){if(c&&((h=y.end).row==(p=c).row&&h.column==p.column))break;c=y.end}y.cursor=s?y.start:y.end,r.push(y)}if(d&&r.reverse(),!n){for(var v=r.length-1;r[v].isEmpty()&&v>0;)v--;if(v>0)for(var x=0;r[x].isEmpty();)x++;for(var b=v;b>=x;b--)r[b].isEmpty()&&r.splice(b,1)}return r}}.call(s.prototype);var p=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var r=e[n];if(r.marker){this.session.removeMarker(r.marker);var i=t.indexOf(r);-1!=i&&t.splice(i,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(u.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(u.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});else{var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var r,i=1==n||n&&n.$byLines,o=this.session,a=this.selection,l=(n&&n.keepOrder?a:a.rangeList).ranges;if(!l.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var u=a._eventRegistry;a._eventRegistry={};var c=new s(o);this.inVirtualSelectionMode=!0;for(var h=l.length;h--;){if(i)for(;h>0&&l[h].start.row==l[h-1].end.row;)h--;c.fromOrientedRange(l[h]),c.index=h,this.selection=o.selection=c;var p=e.exec?e.exec(this,t||{}):e(this,t||{});r||void 0===p||(r=p),c.toOrientedRange(l[h])}c.detach(),this.selection=o.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=u,a.mergeOverlappingRanges(),a.ranges[0]&&a.fromOrientedRange(a.ranges[0]);var d=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),d&&d.from==d.to&&this.renderer.animateScrolling(d.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();(e=n.join(i)).length==(n.length-1)*i.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,null==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;var s=this.multiSelect;n||s.toSingleRange(i[0]);for(var o=i.length;o--;)s.addRange(i[o],!0);return r&&s.rangeList.rangeAtPoint(r.start)&&s.addRange(r,!0),i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,s=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(s.column=this.selection.$desiredColumn);var o,a=this.session.screenToDocumentPosition(s.row+e,s.column);if(n.isEmpty())u=a;else var l=this.session.documentToScreenPosition(r?n.end:n.start),u=this.session.screenToDocumentPosition(l.row+e,l.column);r?(o=i.fromPoints(a,u)).cursor=o.start:(o=i.fromPoints(u,a)).cursor=o.end;if(o.desiredColumn=s.column,this.selection.inMultiSelectMode){if(t)var c=n.cursor}else this.selection.addRange(n);this.selection.addRange(o),c&&this.selection.substractPoint(c)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,r=n.ranges,i=r.length;i--;){if((a=r[i]).isEmpty()){var s=t.getWordRange(a.start.row,a.start.column);a.start.row=s.start.row,a.start.column=s.start.column,a.end.row=s.end.row,a.end.column=s.end.column}}n.mergeOverlappingRanges();var o=[];for(i=r.length;i--;){o.unshift(t.getTextRange(a=r[i]))}e<0?o.unshift(o.pop()):o.push(o.shift());for(i=r.length;i--;){var a,l=(a=r[i]).clone();t.replace(a,o[i]),a.start.row=l.start.row,a.start.column=l.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var r=this.session,i=r.multiSelect.toOrientedRange();if(!i.isEmpty()||((i=r.getWordRange(i.start.row,i.start.column)).cursor=-1==e?i.start:i.end,this.multiSelect.addRange(i),!n)){var s=r.getTextRange(i),o=function(e,t,n){return c.$options.wrap=!0,c.$options.needle=t,c.$options.backwards=-1==n,c.find(e)}(r,s,e);o&&(o.cursor=-1==e?o.start:o.end,this.session.unfold(o),this.multiSelect.addRange(o),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(i.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,s=n.filter((function(e){if(e.cursor.row==r)return!0;r=e.cursor.row}));if(n.length&&s.length!=n.length-1){s.forEach((function(e){t.substractPoint(e.cursor)}));var o=0,a=1/0,u=n.map((function(t){var n=t.cursor,r=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==r&&(r=0),n.column>o&&(o=n.column),r<a&&(a=r),r}));n.forEach((function(t,n){var r=t.cursor,s=o-r.column,c=u[n]-a;s>c?e.insert(r,l.stringRepeat(" ",s-c)):e.remove(new i(r.row,r.column,r.row,r.column-s+c)),t.start.column=t.end.column=o,t.start.row=t.end.row=r.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),h=c.start.row,p=c.end.row,d=h==p;if(d){var f,g=this.session.getLength();do{f=this.session.getLine(p)}while(/[=:]/.test(f)&&++p<g);do{f=this.session.getLine(h)}while(/[=:]/.test(f)&&--h>0);h<0&&(h=0),p>=g&&(p=g-1)}var m=this.session.removeFullLines(h,p);m=this.$reAlignText(m,d),this.session.insert({row:h,column:0},m.join("\n")+"\n"),d||(c.start.column=0,c.end.column=m[m.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){function n(e){return l.stringRepeat(" ",e)}function r(e){return e[2]?n(i)+e[2]+n(s-e[2].length+o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var i,s,o,a=!0,u=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==i?(i=t[1].length,s=t[2].length,o=t[3].length,t):(i+s+o!=t[1].length+t[2].length+t[3].length&&(u=!1),i!=t[1].length&&(a=!1),i>t[1].length&&(i=t[1].length),s<t[2].length&&(s=t[2].length),o>t[3].length&&(o=t[3].length),t):[e]})).map(t?r:a?u?function(e){return e[2]?n(i+s-e[2].length)+e[2]+n(o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:r:function(e){return e[2]?n(i)+e[2]+n(o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]})}}).call(p.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=n,e("./config").defineOptions(p.prototype,"editor",{enableMultiselect:{set:function(e){n(this),e?this.on("mousedown",o):this.off("mousedown",o)},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t){"use strict";var n=e("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(){return null},this.indentationBlock=function(e,t,r){var i=/\S/,s=e.getLine(t),o=s.search(i);if(-1!=o){for(var a=r||s.length,l=e.getLength(),u=t,c=t;++t<l;){var h=e.getLine(t).search(i);if(-1!=h){if(h<=o){var p=e.getTokenAt(t,0);if(!p||"string"!==p.type)break}c=t}}if(c>u){var d=e.getLine(c).length;return new n(u,a,c,d)}}},this.openingBracketBlock=function(e,t,r,i,s){var o={row:r,column:i+1},a=e.$findClosingBracket(t,o,s);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>o.row&&(a.row--,a.column=e.getLine(a.row).length),n.fromPoints(o,a)}},this.closingBracketBlock=function(e,t,r,i){var s={row:r,column:i},o=e.$findOpeningBracket(t,s);if(o)return o.column++,s.column--,n.fromPoints(o,s)}}).call(r.prototype)})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],(function(e,t){"use strict";var n=e("../line_widgets").LineWidgets,r=e("../lib/dom"),i=e("../range").Range,s=e("../config").nls;t.showErrorMarker=function(e,t){var o=e.session;o.widgetManager||(o.widgetManager=new n(o),o.widgetManager.attach(e));var a=e.getCursorPosition(),l=a.row,u=o.widgetManager.getWidgetsAtRow(l).filter((function(e){return"errorMarker"==e.type}))[0];u?u.destroy():l-=t;var c,h=function(e,t,n){var r=e.getAnnotations().sort(i.comparePoints);if(r.length){var s=function(e,t,n){for(var r=0,i=e.length-1;r<=i;){var s=r+i>>1,o=n(t,e[s]);if(o>0)r=s+1;else{if(!(o<0))return s;i=s-1}}return-(r+1)}(r,{row:t,column:-1},i.comparePoints);s<0&&(s=-s-1),s>=r.length?s=n>0?0:r.length-1:0===s&&n<0&&(s=r.length-1);var o=r[s];if(o&&n){if(o.row===t){do{o=r[s+=n]}while(o&&o.row===t);if(!o)return r.slice()}var a=[];t=o.row;do{a[n<0?"unshift":"push"](o),o=r[s+=n]}while(o&&o.row==t);return a.length&&a}}}(o,l,t);if(h){var p=h[0];a.column=(p.pos&&"number"!=typeof p.column?p.pos.sc:p.column)||0,a.row=p.row,c=e.renderer.$gutterLayer.$annotations[a.row]}else{if(u)return;c={text:[s("Looks good!")],className:"ace_ok"}}e.session.unfold(a.row),e.selection.moveToPosition(a);var d={row:a.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},f=d.el.appendChild(r.createElement("div")),g=d.el.appendChild(r.createElement("div"));g.className="error_widget_arrow "+c.className;var m=e.renderer.$cursorLayer.getPixelPosition(a).left;g.style.left=m+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",f.className="error_widget "+c.className,f.innerHTML=c.text.join("<br>"),f.appendChild(r.createElement("div"));var y=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(y),o.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(y),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},r.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],(function(e,t){"use strict";e("./loader_build")(t);var n=e("./lib/dom"),r=e("./range").Range,i=e("./editor").Editor,s=e("./edit_session").EditSession,o=e("./undomanager").UndoManager,a=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.edit=function(e,r){if("string"==typeof e){var s=e;if(!(e=document.getElementById(s)))throw new Error("ace.edit can't find div #"+s)}if(e&&e.env&&e.env.editor instanceof i)return e.env.editor;var o="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;o=l.value,e=n.createElement("pre"),l.parentNode.replaceChild(e,l)}else e&&(o=e.textContent,e.innerHTML="");var u=t.createEditSession(o),c=new i(new a(e),u,r),h={document:u,editor:c,onResize:c.resize.bind(c,null)};return l&&(h.textarea=l),c.on("destroy",(function(){h.editor.container.env=null})),c.container.env=c.env=h,c},t.createEditSession=function(e,t){var n=new s(e,t);return n.setUndoManager(new o),n},t.Range=r,t.Editor=i,t.EditSession=s,t.UndoManager=o,t.VirtualRenderer=a,t.version=t.config.version})),ace.require(["ace/ace"],(function(t){t&&(t.config.init(!0),t.define=ace.define);var n=function(){return this}();for(var r in n||"undefined"==typeof window||(n=window),n||"undefined"==typeof self||(n=self),n.ace||(n.ace=t),t)t.hasOwnProperty(r)&&(n.ace[r]=t[r]);n.ace.default=n.ace,e&&(e.exports=n.ace)}))}).call(this,n("RoC8")(e))},eoLT:function(e,t,n){(function(e){function n(){if(void 0!==s)return s;if(e.XMLHttpRequest){s=new e.XMLHttpRequest;try{s.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){s=null}}else s=null;return s}function r(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function i(e){return"function"==typeof e}t.fetch=i(e.fetch)&&i(e.ReadableStream),t.writableStream=i(e.WritableStream),t.abortController=i(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var s,o=void 0!==e.ArrayBuffer,a=o&&i(e.ArrayBuffer.prototype.slice);t.arraybuffer=t.fetch||o&&r("arraybuffer"),t.msstream=!t.fetch&&a&&r("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o&&r("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!n()&&i(n().overrideMimeType),t.vbArray=i(e.VBArray),s=null}).call(this,n("pCvA"))},f2gj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gpuRuntimeTranspile=void 0;const r=n("XwI5"),i=n("my7b"),s=n("Lq4A"),o=n("bIKd");let a=0;t.gpuRuntimeTranspile=function(e,t){const n=e.params.map((e=>e.name)),s=e.body;r.simple(s,{CallExpression(e){if("Identifier"!==e.callee.type)return;const t=e.callee.name.split("_")[1],n=e.arguments;i.mutateToCallExpression(e,i.memberExpression(i.identifier("Math"),t),n)}});const o=new Set([...n,"Math"]);r.simple(s,{Identifier(e){o.has(e.name)||t.has(e.name)||i.mutateToMemberExpression(e,i.memberExpression(i.identifier("this"),"constants"),i.identifier(e.name))}});let a=["x"];2===n.length&&(a=["y","x"]),3===n.length&&(a=["z","y","x"]);const l=n.slice();return r.simple(s,{Identifier(e){let t=-1;for(let n=0;n<l.length;n+=1)if(e.name===l[n]){t=n;break}if(-1===t)return;const n=a[t];i.mutateToMemberExpression(e,i.memberExpression(i.identifier("this"),"thread"),i.identifier(n))}}),s},t.default=class{constructor(e,t){this.transform=()=>{const e=this.gpuTranspile,t=[];return r.simple(this.program,{ForStatement(n){const r=e(n);r>0&&n.loc&&t.push([n.loc.start.line,r])}},r.make({ForStatement:()=>{}})),t},this.gpuTranspile=e=>{if(this.state=0,this.counters=[],this.end=[],this.checkOuterLoops(e),0===this.counters.length||new Set(this.counters).size!==this.counters.length)return 0;const t=new o.default(this.program,this.innerBody,this.counters);if(0===t.state)return 0;this.state=t.state,this.outputArray=t.outputArray,this.localVar=t.localVar,this.getOuterVariables(),this.getTargetBody(e);const n=[];for(const e in this.outerVariables)if(this.outerVariables.hasOwnProperty(e)){const t=this.outerVariables[e];n.push([i.literal(e),JSON.parse(JSON.stringify(t))])}const s=t.getArrayName,l=this.localVar;r.ancestor(this.targetBody,{AssignmentExpression(e,t){if("Identifier"===e.left.type)return;if("MemberExpression"!==e.left.type)return;const n=s(e.left);if(l.has(n.name))return;i.mutateToReturnStatement(t[t.length-2],e.right)}});const u=[];for(let e=0;e<this.state;e++)u.push(i.identifier(this.counters[e]));const c=i.blockArrowFunction(this.counters.map((e=>i.identifier(e))),this.targetBody),h=i.callExpression(this.globalIds.__createKernelSource,[i.arrayExpression(this.end),i.arrayExpression(n.map(i.arrayExpression)),i.arrayExpression(Array.from(l.values()).map((e=>i.literal(e)))),this.outputArray,c,i.literal(a++)],e.loc);return i.mutateToExpressionStatement(e,h),this.state},this.checkOuterLoops=e=>{let t=e;for(;"ForStatement"===t.type;){const e=new s.default(t);if(!e.ok)break;if(this.innerBody=t.body,this.counters.push(e.counter),this.end.push(e.end),"BlockStatement"!==this.innerBody.type)break;if(this.innerBody.body.length>1||0===this.innerBody.body.length)break;t=this.innerBody.body[0]}},this.program=e,this.globalIds={__createKernelSource:t}}getTargetBody(e){let t=this.state;for(this.targetBody=e;t>1;)this.targetBody=this.targetBody.body.body[0],t--;this.targetBody=this.targetBody.body}getOuterVariables(){const e=this.localVar,t=this.counters,n=this.outputArray.name,i={};r.simple(this.innerBody,{Identifier(r){e.has(r.name)||t.includes(r.name)||r.name===n||r.name.startsWith("math_")||(i[r.name]=r)}}),this.outerVariables=i}}},f9Fa:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){return l.parse(e,b(t))}let s,o=e=>e;Object.defineProperty(t,"__esModule",{value:!0}),t.typedParse=t.looseParse=t.parseForNames=t.tokenize=t.parse=t.parseAt=t.TrailingCommaError=t.MissingSemicolonError=t.FatalSyntaxError=t.DisallowedConstructError=void 0;const a=n("Xy3c"),l=n("4N5z"),u=n("XwI5"),c=n("Otp2"),h=n("QyX9"),p=n("zZ3m"),d=n("36Vq"),f=n("0ZcR"),g=n("g7l+");class m{constructor(e){this.node=e,this.type=h.ErrorType.SYNTAX,this.severity=h.ErrorSeverity.ERROR,this.nodeType=this.formatNodeType(this.node.type)}get location(){return this.node.loc}explain(){return`${this.nodeType} are not allowed`}elaborate(){return p.stripIndent(s||(s=o`
      You are trying to use ${0}, which is not allowed (yet).
    `),this.nodeType)}formatNodeType(e){switch(e){case"ThisExpression":return"'this' expressions";case"Property":return"Properties";default:return e.split(/(?=[A-Z])/).map(((e,t)=>0===t?e:e.toLowerCase())).join(" ")+"s"}}}t.DisallowedConstructError=m;class y{constructor(e,t){this.location=e,this.message=t,this.type=h.ErrorType.SYNTAX,this.severity=h.ErrorSeverity.ERROR}explain(){return this.message}elaborate(){return"There is a syntax error in your program"}}t.FatalSyntaxError=y;class v{constructor(e){this.location=e,this.type=h.ErrorType.SYNTAX,this.severity=h.ErrorSeverity.ERROR}explain(){return"Missing semicolon at the end of statement"}elaborate(){return"Every statement must be terminated by a semicolon."}}t.MissingSemicolonError=v;class x{constructor(e){this.location=e}explain(){return"Trailing comma"}elaborate(){return"Please remove the trailing comma"}}t.TrailingCommaError=x,t.parseAt=function(e,t){let n;try{n=a.parseExpressionAt(e,t,c.ACORN_PARSE_OPTIONS)}catch(e){return}return n},t.parse=function(e,t){let n;try{n=a.parse(e,b(t)),u.ancestor(n,w,void 0,t)}catch(e){if(!(e instanceof SyntaxError))throw e;{const n=e.loc;t.errors.push(new y({start:{line:n.line,column:n.column},end:{line:n.line,column:n.column+1}},e.toString()))}}const r=t.errors.find((e=>e.severity===h.ErrorSeverity.ERROR));return n&&!r?n:void 0},t.tokenize=function(e,t){return[...a.tokenizer(e,b(t))]};const b=e=>({sourceType:"module",ecmaVersion:6,locations:!0,onInsertedSemicolon(t,n){e.errors.push(new v({end:{line:n.line,column:n.column+1},start:n}))},onTrailingComma(t,n){e.errors.push(new x({end:{line:n.line,column:n.column+1},start:n}))}});t.parseForNames=function(e){let t=[];const n={sourceType:"module",ecmaVersion:6,locations:!0,onComment:t};let r;try{r=a.parse(e,n)}catch(i){t=[],r=l.parse(e,n)}return[r,t]},t.looseParse=i,t.typedParse=function(e,t){const n=i(e,t);return void 0===n?null:g.validateAndAnnotate(n,t)};const _=e=>Array.from(e).reduce(((e,[t,n])=>r(e,{[t]:n})),{}),w=function(e,t){const n=new Map,r=new Set;return Object.entries(e).map((t=>{n.set(t[0],((t,n)=>{r.has(t)||(r.add(t),n.chapter<e[t.type]&&n.errors.push(new m(t)))}))})),t.forEach((e=>{Object.entries(e.checkers).forEach((t=>{const r=t[0],i=t[1],s=n.get(r);n.set(r,((t,n,r)=>{s(t,n,r),((t,n,r)=>{if(void 0!==e.disableOn&&n.chapter>=e.disableOn)return;i(t,r).forEach((e=>n.errors.push(e)))})(t,n,r)}))}))})),_(n)}(f.default,d.default)},"g+31":function(e,t,n){"use strict";(function(t,r){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}function s(){}function o(e,t){m=m||n("A/eZ");var r=t instanceof m;this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var s=e.highWaterMark,o=e.writableHighWaterMark;this.highWaterMark=s||0===s?s:r&&(o||0===o)?o:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(g.nextTick(i,r),g.nextTick(f,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),f(e,t))}(e,n,r,t,i);else{var s=p(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||h(e,n),r?y(c,e,n,s,i):c(e,n,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function a(e){if(m=m||n("A/eZ"),!(x.call(a,this)||this instanceof m))return new a(e);this._writableState=new o(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),_.call(this)}function l(e,t,n,r,i,s){if(!n){var o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=w.from(t,n)),t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var a=t.objectMode?1:r.length;t.length+=a;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else u(e,t,!1,a,r,i,s);return l}function u(e,t,n,r,i,s,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function c(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),f(e,t)}function h(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=new Array(t.bufferedRequestCount),s=t.corkedRequestsFree;s.entry=n;for(var o=0,a=!0;n;)r[o]=n,n.isBuf||(a=!1),n=n.next,o+=1;r.allBuffers=a,u(e,t,!0,t.length,r,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk;if(u(e,t,!1,t.objectMode?1:l.length,l,n.encoding,n.callback),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function p(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function d(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),f(e,t)}))}function f(e,t){var n=p(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,g.nextTick(d,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}var g=n("upWy");e.exports=a;var m,y=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?setImmediate:g.nextTick;a.WritableState=o;var v=Object.create(n("nrnY"));v.inherits=n("wfEq");var x,b={deprecate:n("ct8n")},_=n("n428"),w=n("XKyj").Buffer,S=r.Uint8Array||function(){},T=n("xTpk");v.inherits(a,_),o.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(o.prototype,"buffer",{get:b.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(a,Symbol.hasInstance,{value:function(e){return!!x.call(this,e)||this===a&&(e&&e._writableState instanceof o)}})):x=function(e){return e instanceof this},a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},a.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,a=!i.objectMode&&(w.isBuffer(r=e)||r instanceof S);return a&&!w.isBuffer(e)&&(e=function(e){return w.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=s),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),g.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),g.nextTick(r,s),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=l(this,i,a,e,t,n)),o},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||h(this,e))},a.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),a.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},a.prototype._writev=null,a.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,f(e,t),n&&(t.finished?g.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(a.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),a.prototype.destroy=T.destroy,a.prototype._undestroy=T.undestroy,a.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n("5IsQ"),n("pCvA"))},g0lB:function(e,t,n){"use strict";function r(e){return"number"==typeof e}function i(e){return"function"==typeof e}function s(){return(new Date).getTime()}Object.defineProperty(t,"__esModule",{value:!0}),t.get_time=t.char_at=t.parse_int=t.array_length=t.is_array=t.has_own_property=t.is_NaN=t.is_function=t.is_object=t.is_boolean=t.is_string=t.is_undefined=t.is_number=t.timed=t.error_message=t.rawDisplay=void 0;const o=n("GFFv");t.rawDisplay=function(e,t){return console.log((void 0===t?"":t+" ")+e.toString()),e},t.error_message=function(e,...t){const n=(void 0===t[0]?"":t[0]+" ")+o.stringify(e);throw new Error(n)},t.timed=function(e,t,n,r){return(...e)=>{const i=s(),o=t(...e),a=s()-i;return r("Duration: "+Math.round(a)+"ms","",n),o}},t.is_number=r,t.is_undefined=function(e){return void 0===e},t.is_string=function(e){return"string"==typeof e},t.is_boolean=function(e){return"boolean"==typeof e},t.is_object=function(e){return"object"==typeof e||i(e)},t.is_function=i,t.is_NaN=function(e){return r(e)&&isNaN(e)},t.has_own_property=function(e,t){return e.hasOwnProperty(t)},t.is_array=function(e){return e instanceof Array},t.array_length=function(e){return e.length},t.parse_int=function(e,t){if("string"==typeof e&&"number"==typeof t&&Number.isInteger(t)&&2<=t&&t<=36)return parseInt(e,t);throw new Error("parse_int expects two arguments a string s, and a positive integer i between 2 and 36, inclusive.")},t.char_at=function(e,t){if("string"!=typeof e)throw new Error("char_at expects the first argument to be a string.");if("number"!=typeof t||!Number.isInteger(t)||t<0)throw new Error("char_at expects the second argument to be a nonnegative integer.");return e[t]},t.get_time=s},g4mi:function(e,t,n){"use strict";let r,i=e=>e;Object.defineProperty(t,"__esModule",{value:!0}),t.BracesAroundIfElseError=void 0;const s=n("j0Aj"),o=n("QyX9"),a=n("zZ3m");class l{constructor(e,t){this.node=e,this.branch=t,this.type=o.ErrorType.SYNTAX,this.severity=o.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"consequent"===this.branch?'Missing curly braces around "if" block.':'Missing curly braces around "else" block.'}elaborate(){let e,t,n;return"consequent"===this.branch?(e="if",t=`if (${s.generate(this.node.test)})`,n=this.node.consequent):(e=t="else",n=this.node.alternate),a.stripIndent(r||(r=i`
      ${0} block need to be enclosed with a pair of curly braces.

      ${0} {
        ${0}
      }

      An exception is when you have an "if" followed by "else if", in this case
      "else if" block does not need to be surrounded by curly braces.

      if (someCondition) {
        // ...
      } else /* notice missing { here */ if (someCondition) {
        // ...
      } else {
        // ...
      }

      Rationale: Readability in dense packed code.

      In the snippet below, for instance, with poor indentation it is easy to
      mistaken hello() and world() to belong to the same branch of logic.

      if (someCondition) {
        2;
      } else
        hello();
      world();

    `),e,t,s.generate(n))}}t.BracesAroundIfElseError=l;t.default={name:"braces-around-if-else",checkers:{IfStatement(e,t){const n=[];if(e.consequent&&"BlockStatement"!==e.consequent.type&&n.push(new l(e,"consequent")),e.alternate){"BlockStatement"!==e.alternate.type&&"IfStatement"!==e.alternate.type&&n.push(new l(e,"alternate"))}return n}}}},"g7l+":function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.validateAndAnnotate=void 0;const i=n("XwI5"),s=n("JFiO"),o=n("X0TW"),a=n("my7b");class l{constructor(e){this.isConstant=e,this.accessedBeforeDeclaration=!1}}t.validateAndAnnotate=function(e,t){function n(e){const t=new Map;for(const n of e.body)"VariableDeclaration"===n.type?t.set(a.getVariableDecarationName(n),new l("const"===n.kind)):"FunctionDeclaration"===n.type&&t.set(n.id.name,new l(!0));p.set(e,!1),h.set(e,t)}function u(e){h.set(e,new Map(e.params.map((e=>[e.name,new l(!1)])))),p.set(e,!1)}function c(e,n){const r=e.name,i=n[n.length-2];for(let a=n.length-1;a>=0;a--){const l=n[a],u=h.get(l);if(null==u?void 0:u.has(r)){u.get(r).accessedBeforeDeclaration=!0,"AssignmentExpression"===i.type&&i.left===e&&(u.get(r).isConstant&&t.errors.push(new s.ConstAssignment(i,r)),"ForStatement"===l.type&&l.init!==i&&l.update!==i&&t.errors.push(new o.NoAssignmentToForVariable(i)));break}}}const h=new Map,p=new Map;i.ancestor(e,{Program:n,BlockStatement:n,FunctionDeclaration:u,ArrowFunctionExpression:u,ForStatement(e,t){const n=e.init;"VariableDeclaration"===n.type&&(h.set(e,new Map([[a.getVariableDecarationName(n),new l("const"===n.kind)]])),p.set(e,!1))}});const d=r(r({},i.base),{VariableDeclarator(e,t,n){e.init&&n(e.init,t,"Expression")}});return i.ancestor(e,{VariableDeclaration(e,t){const n=t[t.length-2],r=a.getVariableDecarationName(e),i=h.get(n).get(r).accessedBeforeDeclaration;e.typability=i?"Untypable":"NotYetTyped"},Identifier:c,FunctionDeclaration(e,t){e.typability=p.get(t[t.length-2])?"Untypable":"NotYetTyped"},Pattern(e,t){"Identifier"===e.type?c(e,t):"MemberExpression"===e.type&&"Identifier"===e.object.type&&c(e.object,t)},CallExpression(e,t){for(let e=t.length-1;e>=0;e--){const n=t[e];if(p.has(n)){p.set(n,!0);break}}}},d),e}},hBZP:function(e){"use strict";function t(){t.init.call(this)}function n(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function r(e){return void 0===e._maxListeners?t.defaultMaxListeners:e._maxListeners}function i(e,t,i,s){var o,a,l,u;if(n(i),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),a=e._events),l=a[t]),void 0===l)l=a[t]=i,++e._eventsCount;else if("function"==typeof l?l=a[t]=s?[i,l]:[l,i]:s?l.unshift(i):l.push(i),(o=r(e))>0&&l.length>o&&!l.warned){l.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=l.length,u=c,console&&console.warn&&console.warn(u)}return e}function s(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function o(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=s.bind(r);return i.listener=n,r.wrapFn=i,i}function a(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):u(i,i.length)}function l(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function u(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function c(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){r.once&&e.removeEventListener(t,i),n(s)}))}}var h,p="object"==typeof Reflect?Reflect:null,d=p&&"function"==typeof p.apply?p.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};h=p&&"function"==typeof p.ownKeys?p.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var f=Number.isNaN||function(e){return e!=e};e.exports=t,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}c(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&c(e,"error",t,n)}(e,i,{once:!0})}))},t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var g=10;Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(e){if("number"!=typeof e||e<0||f(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");g=e}}),t.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||f(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},t.prototype.getMaxListeners=function(){return r(this)},t.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)d(a,this,t);else{var l=a.length,c=u(a,l);for(n=0;n<l;++n)d(c[n],this,t)}return!0},t.prototype.on=t.prototype.addListener=function(e,t){return i(this,e,t,!1)},t.prototype.prependListener=function(e,t){return i(this,e,t,!0)},t.prototype.once=function(e,t){return n(t),this.on(e,o(this,e,t)),this},t.prototype.prependOnceListener=function(e,t){return n(t),this.prependListener(e,o(this,e,t)),this},t.prototype.off=t.prototype.removeListener=function(e,t){var r,i,s,o,a;if(n(t),void 0===(i=this._events))return this;if(void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,s=o;break}if(s<0)return this;0===s?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,s),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},t.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},t.prototype.listeners=function(e){return a(this,e,!0)},t.prototype.rawListeners=function(e){return a(this,e,!1)},t.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):l.call(e,t)},t.prototype.listenerCount=l,t.prototype.eventNames=function(){return this._eventsCount>0?h(this._events):[]}},hosL:function(e,t,n){"use strict";function r(e,t){for(var n in t)e[n]=t[n];return e}function i(e){var t=e.parentNode;t&&t.removeChild(e)}function s(e,t,n){var r,i,s,a={};for(s in t)"key"==s?r=t[s]:"ref"==s?i=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?N.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===a[s]&&(a[s]=e.defaultProps[s]);return o(e,a,r,i,null)}function o(e,t,n,r,i){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++D:i,__i:-1,__u:0};return null==i&&null!=O.vnode&&O.vnode(s),s}function a(){return{current:null}}function l(e){return e.children}function u(e,t){this.props=e,this.context=t}function c(e,t){if(null==t)return e.__?c(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?c(e):null}function h(e,t,n){var i,s=e.__v,o=s.__e,a=e.__P;if(a)return(i=r({},s)).__v=s.__v+1,O.vnode&&O.vnode(i),T(a,i,s,e.__n,void 0!==a.ownerSVGElement,32&s.__u?[o]:null,t,null==o?c(s):o,!!(32&s.__u),n),i.__v=s.__v,i.__.__k[i.__i]=i,i.__d=void 0,i.__e!=o&&p(i),i}function p(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return p(e)}}function d(e){(!e.__d&&(e.__d=!0)&&P.push(e)&&!f.__r++||V!==O.debounceRendering)&&((V=O.debounceRendering)||B)(f)}function f(){var e,t,n,r=[],i=[];for(P.sort(z);e=P.shift();)e.__d&&(n=P.length,t=h(e,r,i)||t,0===n||P.length>n?(A(r,t,i),i.length=r.length=0,t=void 0,P.sort(z)):t&&O.__c&&O.__c(t,W));t&&A(r,t,i),f.__r=0}function g(e,t,n,r,i,s,o,a,l,u,c){var h,p,d,f,g,v=r&&r.__k||W,x=t.length;for(n.__d=l,m(n,t,v),l=n.__d,h=0;h<x;h++)null!=(d=n.__k[h])&&"boolean"!=typeof d&&"function"!=typeof d&&(p=-1===d.__i?G:v[d.__i]||G,d.__i=h,T(e,d,p,i,s,o,a,l,u,c),f=d.__e,d.ref&&p.ref!=d.ref&&(p.ref&&k(p.ref,null,d),c.push(d.ref,d.__c||f,d)),null==g&&null!=f&&(g=f),65536&d.__u||p.__k===d.__k?l=y(d,l,e):"function"==typeof d.type&&void 0!==d.__d?l=d.__d:f&&(l=f.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=l,n.__e=g}function m(e,t,n){var r,i,s,a,u,h=t.length,p=n.length,d=p,f=0;for(e.__k=[],r=0;r<h;r++)a=r+f,null!=(i=e.__k[r]=null==(i=t[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?o(null,i,null,null,null):j(i)?o(l,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?o(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,u=x(i,n,a,d),i.__i=u,s=null,-1!==u&&(d--,(s=n[u])&&(s.__u|=131072)),null==s||null===s.__v?(-1==u&&f--,"function"!=typeof i.type&&(i.__u|=65536)):u!==a&&(u===a+1?f++:u>a?d>h-a?f+=u-a:f--:u<a?u==a-1&&(f=u-a):f=0,u!==r+f&&(i.__u|=65536))):(s=n[a])&&null==s.key&&s.__e&&0==(131072&s.__u)&&(s.__e==e.__d&&(e.__d=c(s)),C(s,s,!1),n[a]=null,d--);if(d)for(r=0;r<p;r++)null!=(s=n[r])&&0==(131072&s.__u)&&(s.__e==e.__d&&(e.__d=c(s)),C(s,s))}function y(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=y(r[i],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function v(e,t){return t=t||[],null==e||"boolean"==typeof e||(j(e)?e.some((function(e){v(e,t)})):t.push(e)),t}function x(e,t,n,r){var i=e.key,s=e.type,o=n-1,a=n+1,l=t[n];if(null===l||l&&i==l.key&&s===l.type&&0==(131072&l.__u))return n;if(r>(null!=l&&0==(131072&l.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&0==(131072&l.__u)&&i==l.key&&s===l.type)return o;o--}if(a<t.length){if((l=t[a])&&0==(131072&l.__u)&&i==l.key&&s===l.type)return a;a++}}return-1}function b(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||H.test(t)?n:n+"px"}function _(e,t,n,r,i){var s;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||b(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||b(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,s?S:w,s)):e.removeEventListener(t,s?S:w,s);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function w(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(O.event?O.event(e):e)}}function S(e){if(this.l)return this.l[e.type+!0](O.event?O.event(e):e)}function T(e,t,n,i,s,o,a,c,h,p){var d,f,m,y,v,x,b,_,w,S,T,A,k,C,$,R=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(h=!!(32&n.__u),o=[c=t.__e=n.__e]),(d=O.__b)&&d(t);e:if("function"==typeof R)try{if(_=t.props,w=(d=R.contextType)&&i[d.__c],S=d?w?w.props.value:d.__:i,n.__c?b=(f=t.__c=n.__c).__=f.__E:("prototype"in R&&R.prototype.render?t.__c=f=new R(_,S):(t.__c=f=new u(_,S),f.constructor=R,f.render=L),w&&w.sub(f),f.props=_,f.state||(f.state={}),f.context=S,f.__n=i,m=f.__d=!0,f.__h=[],f._sb=[]),null==f.__s&&(f.__s=f.state),null!=R.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=r({},f.__s)),r(f.__s,R.getDerivedStateFromProps(_,f.__s))),y=f.props,v=f.state,f.__v=t,m)null==R.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==R.getDerivedStateFromProps&&_!==y&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(_,S),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(_,f.__s,S)||t.__v===n.__v)){for(t.__v!==n.__v&&(f.props=_,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),T=0;T<f._sb.length;T++)f.__h.push(f._sb[T]);f._sb=[],f.__h.length&&a.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(_,f.__s,S),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(y,v,x)}))}if(f.context=S,f.props=_,f.__P=e,f.__e=!1,A=O.__r,k=0,"prototype"in R&&R.prototype.render){for(f.state=f.__s,f.__d=!1,A&&A(t),d=f.render(f.props,f.state,f.context),C=0;C<f._sb.length;C++)f.__h.push(f._sb[C]);f._sb=[]}else do{f.__d=!1,A&&A(t),d=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++k<25);f.state=f.__s,null!=f.getChildContext&&(i=r(r({},i),f.getChildContext())),m||null==f.getSnapshotBeforeUpdate||(x=f.getSnapshotBeforeUpdate(y,v)),g(e,j($=null!=d&&d.type===l&&null==d.key?d.props.children:d)?$:[$],t,n,i,s,o,a,c,h,p),f.base=t.__e,t.__u&=-161,f.__h.length&&a.push(f),b&&(f.__E=f.__=null)}catch(e){t.__v=null,h||null!=o?(t.__e=c,t.__u|=h?160:32,o[o.indexOf(c)]=null):(t.__e=n.__e,t.__k=n.__k),O.__e(e,t,n)}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=E(n.__e,t,n,i,s,o,a,h,p);(d=O.diffed)&&d(t)}function A(e,t,n){for(var r=0;r<n.length;r++)k(n[r],n[++r],n[++r]);O.__c&&O.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){O.__e(e,t.__v)}}))}function E(e,t,n,r,s,o,a,l,u){var h,p,d,f,m,y,v,x=n.props,b=t.props,w=t.type;if("svg"===w&&(s=!0),null!=o)for(h=0;h<o.length;h++)if((m=o[h])&&"setAttribute"in m==!!w&&(w?m.localName===w:3===m.nodeType)){e=m,o[h]=null;break}if(null==e){if(null===w)return document.createTextNode(b);e=s?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,b.is&&b),o=null,l=!1}if(null===w)x===b||l&&e.data===b||(e.data=b);else{if(o=o&&N.call(e.childNodes),x=n.props||G,!l&&null!=o)for(x={},h=0;h<e.attributes.length;h++)x[(m=e.attributes[h]).name]=m.value;for(h in x)m=x[h],"children"==h||("dangerouslySetInnerHTML"==h?d=m:"key"===h||h in b||_(e,h,null,m,s));for(h in b)m=b[h],"children"==h?f=m:"dangerouslySetInnerHTML"==h?p=m:"value"==h?y=m:"checked"==h?v=m:"key"===h||l&&"function"!=typeof m||x[h]===m||_(e,h,m,x[h],s);if(p)l||d&&(p.__html===d.__html||p.__html===e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(d&&(e.innerHTML=""),g(e,j(f)?f:[f],t,n,r,s&&"foreignObject"!==w,o,a,o?o[0]:n.__k&&c(n,0),l,u),null!=o)for(h=o.length;h--;)null!=o[h]&&i(o[h]);l||(h="value",void 0!==y&&(y!==e[h]||"progress"===w&&!y||"option"===w&&y!==x[h])&&_(e,h,y,x[h],!1),h="checked",void 0!==v&&v!==e[h]&&_(e,h,v,x[h],!1))}return e}function k(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){O.__e(e,n)}}function C(e,t,n){var r,s;if(O.unmount&&O.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||k(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){O.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&C(r[s],t,n||"function"!=typeof e.type);n||null==e.__e||i(e.__e),e.__=e.__e=e.__d=void 0}function L(e,t,n){return this.constructor(e,n)}function $(e,t,n){var r,i,o,a;O.__&&O.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,o=[],a=[],T(t,e=(!r&&n||t).__k=s(l,null,[e]),i||G,G,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?N.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r,a),e.__d=void 0,A(o,e,a)}function R(e,t){$(e,t,R)}function I(e,t,n){var i,s,a,l,u=r({},e.props);for(a in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)"key"==a?i=t[a]:"ref"==a?s=t[a]:u[a]=void 0===t[a]&&void 0!==l?l[a]:t[a];return arguments.length>2&&(u.children=arguments.length>3?N.call(arguments,2):n),o(e.type,u,i||e.key,s||e.ref,null)}function M(e,t){var n={__c:t="__cC"+U++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,d(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}n.r(t),n.d(t,"Component",(function(){return u})),n.d(t,"Fragment",(function(){return l})),n.d(t,"cloneElement",(function(){return I})),n.d(t,"createContext",(function(){return M})),n.d(t,"createElement",(function(){return s})),n.d(t,"createRef",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"hydrate",(function(){return R})),n.d(t,"isValidElement",(function(){return F})),n.d(t,"options",(function(){return O})),n.d(t,"render",(function(){return $})),n.d(t,"toChildArray",(function(){return v}));var N,O,D,F,P,V,B,z,U,G={},W=[],H=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,j=Array.isArray;N=W.slice,O={__e:function(e,t,n,r){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&null!=s.getDerivedStateFromError&&(i.setState(s.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},D=0,F=function(e){return null!=e&&null==e.constructor},u.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=r({},this.state),"function"==typeof e&&(e=e(r({},n),this.props)),e&&r(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),d(this))},u.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),d(this))},u.prototype.render=l,P=[],B="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z=function(e,t){return e.__v.__b-t.__v.__b},f.__r=0,U=0},ig9r:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultipleDeclarationsError=void 0;const r=n("j0Aj"),i=n("QyX9");class s{constructor(e){this.node=e,this.type=i.ErrorType.SYNTAX,this.severity=i.ErrorSeverity.ERROR,this.fixs=e.declarations.map((e=>({type:"VariableDeclaration",kind:"let",loc:e.loc,declarations:[e]})))}get location(){return this.node.loc}explain(){return"Multiple declaration in a single statement."}elaborate(){return"Split the variable declaration into multiple lines as follows\n\n"+this.fixs.map((e=>"\t"+r.generate(e))).join("\n")+"\n"}}t.MultipleDeclarationsError=s;t.default={name:"single-variable-declaration",checkers:{VariableDeclaration:e=>e.declarations.length>1?[new s(e)]:[]}}},j0Aj:function(e,t,n){"use strict";function r(e,t){const{generator:n}=e;if(e.write("("),null!=t&&t.length>0){n[t[0].type](t[0],e);const{length:r}=t;for(let i=1;i<r;i++){const r=t[i];e.write(", "),n[r.type](r,e)}}e.write(")")}function i(e,t,n,r){const i=e.expressionsPrecedence[t.type];if(i===p)return!0;const s=e.expressionsPrecedence[n.type];return i!==s?!r&&15===i&&14===s&&"**"===n.operator||i<s:(13===i||14===i)&&("**"===t.operator&&"**"===n.operator?!r:r?h[t.operator]<=h[n.operator]:h[t.operator]<h[n.operator])}function s(e,t,n,r){const{generator:s}=e;i(e,t,n,r)?(e.write("("),s[t.type](t,e),e.write(")")):s[t.type](t,e)}function o(e,t,n,r){const i=t.split("\n"),s=i.length-1;if(e.write(i[0].trim()),s>0){e.write(r);for(let t=1;t<s;t++)e.write(n+i[t].trim()+r);e.write(n+i[s].trim())}}function a(e,t,n,r){const{length:i}=t;for(let s=0;s<i;s++){const i=t[s];e.write(n),"L"===i.type[0]?e.write("// "+i.value.trim()+"\n",i):(e.write("/*"),o(e,i.value,n,r),e.write("*/"+r))}}function l(e,t){const{generator:n}=e,{declarations:r}=t;e.write(t.kind+" ");const{length:i}=r;if(i>0){n.VariableDeclarator(r[0],e);for(let t=1;t<i;t++)e.write(", "),n.VariableDeclarator(r[t],e)}}function u(e,t){const n=new S(t);return n.generator[e.type](e,n),n.output}n.r(t),n.d(t,"NEEDS_PARENTHESES",(function(){return p})),n.d(t,"EXPRESSIONS_PRECEDENCE",(function(){return d})),n.d(t,"GENERATOR",(function(){return b})),n.d(t,"baseGenerator",(function(){return w})),n.d(t,"generate",(function(){return u}));const{stringify:c}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");const h={"||":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},p=17,d={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:p,ClassExpression:p,FunctionExpression:p,ObjectExpression:p,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};let f,g,m,y,v,x;const b={Program(e,t){const n=t.indent.repeat(t.indentLevel),{lineEnd:r,writeComments:i}=t;i&&null!=e.comments&&a(t,e.comments,n,r);const s=e.body,{length:o}=s;for(let e=0;e<o;e++){const o=s[e];i&&null!=o.comments&&a(t,o.comments,n,r),t.write(n),this[o.type](o,t),t.write(r)}i&&null!=e.trailingComments&&a(t,e.trailingComments,n,r)},BlockStatement:x=function(e,t){const n=t.indent.repeat(t.indentLevel++),{lineEnd:r,writeComments:i}=t,s=n+t.indent;t.write("{");const o=e.body;if(null!=o&&o.length>0){t.write(r),i&&null!=e.comments&&a(t,e.comments,s,r);const{length:l}=o;for(let e=0;e<l;e++){const n=o[e];i&&null!=n.comments&&a(t,n.comments,s,r),t.write(s),this[n.type](n,t),t.write(r)}t.write(n)}else i&&null!=e.comments&&(t.write(r),a(t,e.comments,s,r),t.write(n));i&&null!=e.trailingComments&&a(t,e.trailingComments,s,r),t.write("}"),t.indentLevel--},ClassBody:x,EmptyStatement(e,t){t.write(";")},ExpressionStatement(e,t){const n=t.expressionsPrecedence[e.expression.type];n===p||3===n&&"O"===e.expression.left.type[0]?(t.write("("),this[e.expression.type](e.expression,t),t.write(")")):this[e.expression.type](e.expression,t),t.write(";")},IfStatement(e,t){t.write("if ("),this[e.test.type](e.test,t),t.write(") "),this[e.consequent.type](e.consequent,t),null!=e.alternate&&(t.write(" else "),this[e.alternate.type](e.alternate,t))},LabeledStatement(e,t){this[e.label.type](e.label,t),t.write(": "),this[e.body.type](e.body,t)},BreakStatement(e,t){t.write("break"),null!=e.label&&(t.write(" "),this[e.label.type](e.label,t)),t.write(";")},ContinueStatement(e,t){t.write("continue"),null!=e.label&&(t.write(" "),this[e.label.type](e.label,t)),t.write(";")},WithStatement(e,t){t.write("with ("),this[e.object.type](e.object,t),t.write(") "),this[e.body.type](e.body,t)},SwitchStatement(e,t){const n=t.indent.repeat(t.indentLevel++),{lineEnd:r,writeComments:i}=t;t.indentLevel++;const s=n+t.indent,o=s+t.indent;t.write("switch ("),this[e.discriminant.type](e.discriminant,t),t.write(") {"+r);const{cases:l}=e,{length:u}=l;for(let e=0;e<u;e++){const n=l[e];i&&null!=n.comments&&a(t,n.comments,s,r),n.test?(t.write(s+"case "),this[n.test.type](n.test,t),t.write(":"+r)):t.write(s+"default:"+r);const{consequent:u}=n,{length:c}=u;for(let e=0;e<c;e++){const n=u[e];i&&null!=n.comments&&a(t,n.comments,o,r),t.write(o),this[n.type](n,t),t.write(r)}}t.indentLevel-=2,t.write(n+"}")},ReturnStatement(e,t){t.write("return"),e.argument&&(t.write(" "),this[e.argument.type](e.argument,t)),t.write(";")},ThrowStatement(e,t){t.write("throw "),this[e.argument.type](e.argument,t),t.write(";")},TryStatement(e,t){if(t.write("try "),this[e.block.type](e.block,t),e.handler){const{handler:n}=e;null==n.param?t.write(" catch "):(t.write(" catch ("),this[n.param.type](n.param,t),t.write(") ")),this[n.body.type](n.body,t)}e.finalizer&&(t.write(" finally "),this[e.finalizer.type](e.finalizer,t))},WhileStatement(e,t){t.write("while ("),this[e.test.type](e.test,t),t.write(") "),this[e.body.type](e.body,t)},DoWhileStatement(e,t){t.write("do "),this[e.body.type](e.body,t),t.write(" while ("),this[e.test.type](e.test,t),t.write(");")},ForStatement(e,t){if(t.write("for ("),null!=e.init){const{init:n}=e;"V"===n.type[0]?l(t,n):this[n.type](n,t)}t.write("; "),e.test&&this[e.test.type](e.test,t),t.write("; "),e.update&&this[e.update.type](e.update,t),t.write(") "),this[e.body.type](e.body,t)},ForInStatement:f=function(e,t){t.write(`for ${e.await?"await ":""}(`);const{left:n}=e;"V"===n.type[0]?l(t,n):this[n.type](n,t),t.write("I"===e.type[3]?" in ":" of "),this[e.right.type](e.right,t),t.write(") "),this[e.body.type](e.body,t)},ForOfStatement:f,DebuggerStatement(e,t){t.write("debugger;",e)},FunctionDeclaration:g=function(e,t){t.write((e.async?"async ":"")+(e.generator?"function* ":"function ")+(e.id?e.id.name:""),e),r(t,e.params),t.write(" "),this[e.body.type](e.body,t)},FunctionExpression:g,VariableDeclaration(e,t){l(t,e),t.write(";")},VariableDeclarator(e,t){this[e.id.type](e.id,t),null!=e.init&&(t.write(" = "),this[e.init.type](e.init,t))},ClassDeclaration(e,t){if(t.write("class "+(e.id?`${e.id.name} `:""),e),e.superClass){t.write("extends ");const{superClass:n}=e,{type:r}=n,i=t.expressionsPrecedence[r];"C"===r[0]&&"l"===r[1]&&"E"===r[5]||!(i===p||i<t.expressionsPrecedence.ClassExpression)?this[n.type](n,t):(t.write("("),this[e.superClass.type](n,t),t.write(")")),t.write(" ")}this.ClassBody(e.body,t)},ImportDeclaration(e,t){t.write("import ");const{specifiers:n}=e,{length:r}=n;let i=0;if(r>0){for(;i<r;){i>0&&t.write(", ");const e=n[i],r=e.type[6];if("D"===r)t.write(e.local.name,e),i++;else{if("N"!==r)break;t.write("* as "+e.local.name,e),i++}}if(i<r){for(t.write("{");;){const e=n[i],{name:s}=e.imported;if(t.write(s,e),s!==e.local.name&&t.write(" as "+e.local.name),!(++i<r))break;t.write(", ")}t.write("}")}t.write(" from ")}this.Literal(e.source,t),t.write(";")},ImportExpression(e,t){t.write("import("),this[e.source.type](e.source,t),t.write(")")},ExportDefaultDeclaration(e,t){t.write("export default "),this[e.declaration.type](e.declaration,t),null!=t.expressionsPrecedence[e.declaration.type]&&"F"!==e.declaration.type[0]&&t.write(";")},ExportNamedDeclaration(e,t){if(t.write("export "),e.declaration)this[e.declaration.type](e.declaration,t);else{t.write("{");const{specifiers:n}=e,{length:r}=n;if(r>0)for(let e=0;;){const i=n[e],{name:s}=i.local;if(t.write(s,i),s!==i.exported.name&&t.write(" as "+i.exported.name),!(++e<r))break;t.write(", ")}t.write("}"),e.source&&(t.write(" from "),this.Literal(e.source,t)),t.write(";")}},ExportAllDeclaration(e,t){t.write(null!=e.exported?"export * as "+e.exported.name+" from ":"export * from "),this.Literal(e.source,t),t.write(";")},MethodDefinition(e,t){e.static&&t.write("static ");const n=e.kind[0];"g"!==n&&"s"!==n||t.write(e.kind+" "),e.value.async&&t.write("async "),e.value.generator&&t.write("*"),e.computed?(t.write("["),this[e.key.type](e.key,t),t.write("]")):this[e.key.type](e.key,t),r(t,e.value.params),t.write(" "),this[e.value.body.type](e.value.body,t)},ClassExpression(e,t){this.ClassDeclaration(e,t)},ArrowFunctionExpression(e,t){t.write(e.async?"async ":"",e);const{params:n}=e;null!=n&&(1===n.length&&"I"===n[0].type[0]?t.write(n[0].name,n[0]):r(t,e.params)),t.write(" => "),"O"===e.body.type[0]?(t.write("("),this.ObjectExpression(e.body,t),t.write(")")):this[e.body.type](e.body,t)},ThisExpression(e,t){t.write("this",e)},Super(e,t){t.write("super",e)},RestElement:m=function(e,t){t.write("..."),this[e.argument.type](e.argument,t)},SpreadElement:m,YieldExpression(e,t){t.write(e.delegate?"yield*":"yield"),e.argument&&(t.write(" "),this[e.argument.type](e.argument,t))},AwaitExpression(e,t){t.write("await ",e),s(t,e.argument,e)},TemplateLiteral(e,t){const{quasis:n,expressions:r}=e;t.write("`");const{length:i}=r;for(let e=0;e<i;e++){const i=r[e],s=n[e];t.write(s.value.raw,s),t.write("${"),this[i.type](i,t),t.write("}")}const s=n[n.length-1];t.write(s.value.raw,s),t.write("`")},TemplateElement(e,t){t.write(e.value.raw,e)},TaggedTemplateExpression(e,t){this[e.tag.type](e.tag,t),this[e.quasi.type](e.quasi,t)},ArrayExpression:v=function(e,t){if(t.write("["),e.elements.length>0){const{elements:n}=e,{length:r}=n;for(let e=0;;){const i=n[e];if(null!=i&&this[i.type](i,t),!(++e<r)){null==i&&t.write(", ");break}t.write(", ")}}t.write("]")},ArrayPattern:v,ObjectExpression(e,t){const n=t.indent.repeat(t.indentLevel++),{lineEnd:r,writeComments:i}=t,s=n+t.indent;if(t.write("{"),e.properties.length>0){t.write(r),i&&null!=e.comments&&a(t,e.comments,s,r);const o=","+r,{properties:l}=e,{length:u}=l;for(let e=0;;){const n=l[e];if(i&&null!=n.comments&&a(t,n.comments,s,r),t.write(s),this[n.type](n,t),!(++e<u))break;t.write(o)}t.write(r),i&&null!=e.trailingComments&&a(t,e.trailingComments,s,r),t.write(n+"}")}else i?null!=e.comments?(t.write(r),a(t,e.comments,s,r),null!=e.trailingComments&&a(t,e.trailingComments,s,r),t.write(n+"}")):null!=e.trailingComments?(t.write(r),a(t,e.trailingComments,s,r),t.write(n+"}")):t.write("}"):t.write("}");t.indentLevel--},Property(e,t){e.method||"i"!==e.kind[0]?this.MethodDefinition(e,t):(e.shorthand||(e.computed?(t.write("["),this[e.key.type](e.key,t),t.write("]")):this[e.key.type](e.key,t),t.write(": ")),this[e.value.type](e.value,t))},ObjectPattern(e,t){if(t.write("{"),e.properties.length>0){const{properties:n}=e,{length:r}=n;for(let e=0;this[n[e].type](n[e],t),++e<r;)t.write(", ")}t.write("}")},SequenceExpression(e,t){r(t,e.expressions)},UnaryExpression(e,t){if(e.prefix){const{operator:n,argument:r,argument:{type:s}}=e;t.write(n);const o=i(t,r,e);o||!(n.length>1)&&("U"!==s[0]||"n"!==s[1]&&"p"!==s[1]||!r.prefix||r.operator[0]!==n||"+"!==n&&"-"!==n)||t.write(" "),o?(t.write(n.length>1?" (":"("),this[s](r,t),t.write(")")):this[s](r,t)}else this[e.argument.type](e.argument,t),t.write(e.operator)},UpdateExpression(e,t){e.prefix?(t.write(e.operator),this[e.argument.type](e.argument,t)):(this[e.argument.type](e.argument,t),t.write(e.operator))},AssignmentExpression(e,t){this[e.left.type](e.left,t),t.write(" "+e.operator+" "),this[e.right.type](e.right,t)},AssignmentPattern(e,t){this[e.left.type](e.left,t),t.write(" = "),this[e.right.type](e.right,t)},BinaryExpression:y=function(e,t){const n="in"===e.operator;n&&t.write("("),s(t,e.left,e,!1),t.write(" "+e.operator+" "),s(t,e.right,e,!0),n&&t.write(")")},LogicalExpression:y,ConditionalExpression(e,t){const{test:n}=e,r=t.expressionsPrecedence[n.type];r===p||r<=t.expressionsPrecedence.ConditionalExpression?(t.write("("),this[n.type](n,t),t.write(")")):this[n.type](n,t),t.write(" ? "),this[e.consequent.type](e.consequent,t),t.write(" : "),this[e.alternate.type](e.alternate,t)},NewExpression(e,t){t.write("new ");const n=t.expressionsPrecedence[e.callee.type];n===p||n<t.expressionsPrecedence.CallExpression||function(e){let t=e;for(;null!=t;){const{type:e}=t;if("C"===e[0]&&"a"===e[1])return!0;if("M"!==e[0]||"e"!==e[1]||"m"!==e[2])return!1;t=t.object}}(e.callee)?(t.write("("),this[e.callee.type](e.callee,t),t.write(")")):this[e.callee.type](e.callee,t),r(t,e.arguments)},CallExpression(e,t){const n=t.expressionsPrecedence[e.callee.type];n===p||n<t.expressionsPrecedence.CallExpression?(t.write("("),this[e.callee.type](e.callee,t),t.write(")")):this[e.callee.type](e.callee,t),e.optional&&t.write("?."),r(t,e.arguments)},ChainExpression(e,t){this[e.expression.type](e.expression,t)},MemberExpression(e,t){const n=t.expressionsPrecedence[e.object.type];n===p||n<t.expressionsPrecedence.MemberExpression?(t.write("("),this[e.object.type](e.object,t),t.write(")")):this[e.object.type](e.object,t),e.computed?(e.optional&&t.write("?."),t.write("["),this[e.property.type](e.property,t),t.write("]")):(t.write(e.optional?"?.":"."),this[e.property.type](e.property,t))},MetaProperty(e,t){t.write(e.meta.name+"."+e.property.name,e)},Identifier(e,t){t.write(e.name,e)},Literal(e,t){null!=e.raw?t.write(e.raw,e):null!=e.regex?this.RegExpLiteral(e,t):t.write(null!=e.bigint?e.bigint+"n":c(e.value),e)},RegExpLiteral(e,t){const{regex:n}=e;t.write(`/${n.pattern}/${n.flags}`,e)}},_={},w=b;class S{constructor(e){const t=null==e?_:e;this.output="",null!=t.output?(this.output=t.output,this.write=this.writeToStream):this.output="",this.generator=null!=t.generator?t.generator:b,this.expressionsPrecedence=null!=t.expressionsPrecedence?t.expressionsPrecedence:d,this.indent=null!=t.indent?t.indent:"  ",this.lineEnd=null!=t.lineEnd?t.lineEnd:"\n",this.indentLevel=null!=t.startingIndentLevel?t.startingIndentLevel:0,this.writeComments=!!t.comments&&t.comments,null!=t.sourceMap&&(this.write=null==t.output?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=t.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split("\n").length-1,this.mapping={original:null,generated:this,name:void 0,source:t.sourceMap.file||t.sourceMap._file})}write(e){this.output+=e}writeToStream(e){this.output.write(e)}writeAndMap(e,t){this.output+=e,this.map(e,t)}writeToStreamAndMap(e,t){this.output.write(e),this.map(e,t)}map(e,t){if(null!=t){const{type:n}=t;if("L"===n[0]&&"n"===n[2])return this.column=0,void this.line++;if(null!=t.loc){const{mapping:e}=this;e.original=t.loc.start,e.name=t.name,this.sourceMap.addMapping(e)}if("T"===n[0]&&"E"===n[8]||"L"===n[0]&&"i"===n[1]&&"string"==typeof t.value){const{length:t}=e;let{column:n,line:r}=this;for(let i=0;i<t;i++)"\n"===e[i]?(n=0,r++):n++;return this.column=n,void(this.line=r)}}const{length:n}=e,{lineEnd:r}=this;n>0&&(this.lineEndSize>0&&(1===r.length?e[n-1]===r:e.endsWith(r))?(this.line+=this.lineEndSize,this.column=0):this.column+=n)}toString(){return this.output}}},jahb:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lazyListPrelude=void 0,t.lazyListPrelude='\n\n/**\n * recurses down the list and checks that it ends with the empty list null\n * @param {value} xs - given candidate\n * @returns {boolean} indicating whether {xs} is a list\n */\n\nfunction is_list(xs) {\n  return is_null(xs) || (is_pair(xs) && is_list(tail(xs)));\n}\n\n// equal computes the structural equality\n// over its arguments\n\nfunction equal(xs, ys) {\n    return is_pair(xs)\n        ? (is_pair(ys) &&\n           equal(head(xs), head(ys)) &&\n           equal(tail(xs), tail(ys)))\n        : is_null(xs)\n        ? is_null(ys)\n        : is_number(xs)\n        ? (is_number(ys) && xs === ys)\n        : is_string(xs)\n        ? (is_string(ys) && xs === ys)\n        :  xs === ys;\n}\n\n// returns the length of a given argument list\n// assumes that the argument is a list\n\nfunction length(xs) {\n  return is_null(xs) ? 0 : 1 + length(tail(xs));\n}\n\n// map applies first arg f, assumed to be a unary function,\n// to the elements of the second argument, assumed to be a list.\n// f is applied element-by-element:\n// map(f, list(1, 2)) results in list(f(1), f(2))\n\nfunction map(f, xs) {\n  return is_null(xs) ? null : pair(f(head(xs)), map(f, tail(xs)));\n}\n\n// build_list takes a nonnegative integer n as first argument,\n// and a function fun as second argument.\n// build_list returns a list of n elements, that results from\n// applying fun to the numbers from 0 to n-1.\n\nfunction build_list(fun, n) {\n  function build(i, fun, already_built) {\n    return i < 0 ? already_built : build(i - 1, fun, pair(fun(i), already_built));\n  }\n  return build(n - 1, fun, null);\n}\n\n// for_each applies first arg fun, assumed to be a unary function,\n// to the elements of the second argument, assumed to be a list.\n// fun is applied element-by-element:\n// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).\n// for_each returns true.\n\nfunction for_each(fun, xs) {\n  if (is_null(xs)) {\n    return true;\n  } else {\n    fun(head(xs));\n    return for_each(fun, tail(xs));\n  }\n}\n\n// list_to_string returns a string that represents the argument list.\n// It applies itself recursively on the elements of the given list.\n// When it encounters a non-list, it applies to_string to it.\n\nfunction list_to_string(xs) {\n    return is_null(xs)\n        ? "null"\n        : is_pair(xs)\n            ? "[" + list_to_string(head(xs)) + "," +\n                list_to_string(tail(xs)) + "]"\n            : stringify(xs);\n}\n\n// reverse reverses the argument, assumed to be a list\n\nfunction reverse(xs) {\n  function rev(original, reversed) {\n    return is_null(original) ? reversed : rev(tail(original), pair(head(original), reversed));\n  }\n  return rev(xs, null);\n}\n\n// append first argument, assumed to be a list, to the second argument.\n// In the result null at the end of the first argument list\n// is replaced by the second argument, regardless what the second\n// argument consists of.\n\nfunction append(xs, ys) {\n  return is_null(xs) ? ys : pair(head(xs), append(tail(xs), ys));\n}\n\n// member looks for a given first-argument element in the\n// second argument, assumed to be a list. It returns the first\n// postfix sublist that starts with the given element. It returns null if the\n// element does not occur in the list\n\nfunction member(v, xs) {\n  return is_null(xs) ? null : v === head(xs) ? xs : member(v, tail(xs));\n}\n\n// removes the first occurrence of a given first-argument element\n// in second-argument, assmed to be a list. Returns the original\n// list if there is no occurrence.\n\nfunction remove(v, xs) {\n  return is_null(xs) ? null : v === head(xs) ? tail(xs) : pair(head(xs), remove(v, tail(xs)));\n}\n\n// Similar to remove, but removes all instances of v\n// instead of just the first\n\nfunction remove_all(v, xs) {\n  return is_null(xs)\n    ? null\n    : v === head(xs)\n    ? remove_all(v, tail(xs))\n    : pair(head(xs), remove_all(v, tail(xs)));\n}\n\n// filter returns the sublist of elements of the second argument\n// (assumed to be a list), for which the given predicate function\n// returns true.\n\nfunction filter(pred, xs) {\n  return is_null(xs)\n    ? xs\n    : pred(head(xs))\n    ? pair(head(xs), filter(pred, tail(xs)))\n    : filter(pred, tail(xs));\n}\n\n// enumerates numbers starting from start, assumed to be a number,\n// using a step size of 1, until the number exceeds end, assumed\n// to be a number\n\nfunction enum_list(start, end) {\n  const newStart = start + 1;\n  return start > end ? null : pair(start, enum_list(newStart, end));\n}\n\n// Returns the item in xs (assumed to be a list) at index n,\n// assumed to be a nonnegative integer.\n// Note: the first item is at position 0\n\nfunction list_ref(xs, n) {\n  const rest = tail(xs);\n  return n === 0 ? head(xs) : list_ref(rest, n - 1);\n}\n\n// accumulate applies an operation op (assumed to be a binary function)\n// to elements of sequence (assumed to be a list) in a right-to-left order.\n// first apply op to the last element and initial, resulting in r1, then to\n// the  second-last element and r1, resulting in r2, etc, and finally\n// to the first element and r_n-1, where n is the length of the\n// list.\n// accumulate(op, zero, list(1, 2, 3)) results in\n// op(1, op(2, op(3, zero)))\n\nfunction accumulate(f, initial, xs) {\n  return is_null(xs) ? initial : f(head(xs), accumulate(f, initial, tail(xs)));\n}\n'},kMiM:function(e,t,n){"use strict";let r,i=e=>e;Object.defineProperty(t,"__esModule",{value:!0}),t.NoImplicitDeclareUndefinedError=void 0;const s=n("QyX9"),o=n("zZ3m");class a{constructor(e){this.node=e,this.type=s.ErrorType.SYNTAX,this.severity=s.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in variable declaration."}elaborate(){return o.stripIndent(r||(r=i`
      A variable declaration assigns a value to a name.
      For instance, to assign 20 to ${0}, you can write:

        let ${0} = 20;

        ${0} + ${0}; // 40
    `),this.node.name,this.node.name,this.node.name,this.node.name)}}t.NoImplicitDeclareUndefinedError=a;t.default={name:"no-implicit-declare-undefined",checkers:{VariableDeclaration(e,t){const n=[];for(const t of e.declarations)t.init||n.push(new a(t.id));return n}}}},kah5:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},l8WD:function(e,t,n){"use strict";function r(e,t){for(var n in t)e[n]=t[n];return e}function i(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function s(e,t){this.props=e,this.context=t}function o(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:i(this.props,e)}function r(t){return this.shouldComponentUpdate=n,Object(M.createElement)(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}function a(e){function t(t){var n=r({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=D,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}function l(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=r({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return l(e,t,n)}))),e}function u(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return u(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function c(){this.__u=0,this.t=null,this.__b=null}function h(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function p(e){function t(t){if(n||(n=e()).then((function(e){r=e.default||e}),(function(e){i=e})),i)throw i;if(!r)throw n;return Object(M.createElement)(r,t)}var n,r,i;return t.displayName="Lazy",t.__f=!0,t}function d(){this.u=null,this.o=null}function f(e){return this.getChildContext=function(){return e.context},e.children}function g(e){var t=this,n=e.i;t.componentWillUnmount=function(){Object(M.render)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Object(M.render)(Object(M.createElement)(f,{context:t.context},e.__v),t.l)}function m(e,t){var n=Object(M.createElement)(g,{__v:e,i:t});return n.containerInfo=t,n}function y(e,t,n){return null==t.__k&&(t.textContent=""),Object(M.render)(e,t),"function"==typeof n&&n(),e?e.__c:null}function v(e,t,n){return Object(M.hydrate)(e,t),"function"==typeof n&&n(),e?e.__c:null}function x(){}function b(){return this.cancelBubble}function _(){return this.defaultPrevented}function w(e){return M.createElement.bind(null,e)}function S(e){return!!e&&e.$$typeof===U}function T(e){return S(e)&&e.type===M.Fragment}function A(e){return S(e)?M.cloneElement.apply(null,arguments):e}function E(e){return!!e.__k&&(Object(M.render)(null,e),!0)}function k(e){return e&&(e.base||1===e.nodeType&&e)||null}function C(e){e()}function L(e){return e}function $(){return[!1,C]}function R(e,t){var n=t(),r=Object(N.l)({h:{__:n,v:t}}),i=r[0].h,s=r[1];return Object(N.h)((function(){i.__=n,i.v=t,I(i)&&s({h:i})}),[e,n,t]),Object(N.d)((function(){return I(i)&&s({h:i}),e((function(){I(i)&&s({h:i})}))}),[e]),n}function I(e){var t,n,r=e.v,i=e.__;try{var s=r();return!((t=i)===(n=s)&&(0!==t||1/t==1/n)||t!=t&&n!=n)}catch(e){return!0}}n.r(t),n.d(t,"Children",(function(){return P})),n.d(t,"PureComponent",(function(){return s})),n.d(t,"StrictMode",(function(){return ie})),n.d(t,"Suspense",(function(){return c})),n.d(t,"SuspenseList",(function(){return d})),n.d(t,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return ee})),n.d(t,"cloneElement",(function(){return A})),n.d(t,"createFactory",(function(){return w})),n.d(t,"createPortal",(function(){return m})),n.d(t,"default",(function(){return ae})),n.d(t,"findDOMNode",(function(){return k})),n.d(t,"flushSync",(function(){return re})),n.d(t,"forwardRef",(function(){return a})),n.d(t,"hydrate",(function(){return v})),n.d(t,"isElement",(function(){return oe})),n.d(t,"isFragment",(function(){return T})),n.d(t,"isValidElement",(function(){return S})),n.d(t,"lazy",(function(){return p})),n.d(t,"memo",(function(){return o})),n.d(t,"render",(function(){return y})),n.d(t,"startTransition",(function(){return C})),n.d(t,"unmountComponentAtNode",(function(){return E})),n.d(t,"unstable_batchedUpdates",(function(){return ne})),n.d(t,"useDeferredValue",(function(){return L})),n.d(t,"useInsertionEffect",(function(){return se})),n.d(t,"useSyncExternalStore",(function(){return R})),n.d(t,"useTransition",(function(){return $})),n.d(t,"version",(function(){return te}));var M=n("hosL");n.d(t,"Component",(function(){return M.Component})),n.d(t,"Fragment",(function(){return M.Fragment})),n.d(t,"createContext",(function(){return M.createContext})),n.d(t,"createElement",(function(){return M.createElement})),n.d(t,"createRef",(function(){return M.createRef}));var N=n("QRet");n.d(t,"useCallback",(function(){return N.a})),n.d(t,"useContext",(function(){return N.b})),n.d(t,"useDebugValue",(function(){return N.c})),n.d(t,"useEffect",(function(){return N.d})),n.d(t,"useErrorBoundary",(function(){return N.e})),n.d(t,"useId",(function(){return N.f})),n.d(t,"useImperativeHandle",(function(){return N.g})),n.d(t,"useLayoutEffect",(function(){return N.h})),n.d(t,"useMemo",(function(){return N.i})),n.d(t,"useReducer",(function(){return N.j})),n.d(t,"useRef",(function(){return N.k})),n.d(t,"useState",(function(){return N.l})),(s.prototype=new M.Component).isPureReactComponent=!0,s.prototype.shouldComponentUpdate=function(e,t){return i(this.props,e)||i(this.state,t)};var O=M.options.__b;M.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),O&&O(e)};var D="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,F=function(e,t){return null==e?null:Object(M.toChildArray)(Object(M.toChildArray)(e).map(t))},P={map:F,forEach:F,count:function(e){return e?Object(M.toChildArray)(e).length:0},only:function(e){var t=Object(M.toChildArray)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:M.toChildArray},V=M.options.__e;M.options.__e=function(e,t,n,r){if(e.then)for(var i,s=t;s=s.__;)if((i=s.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);V(e,t,n,r)};var B=M.options.unmount;M.options.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),B&&B(e)},(c.prototype=new M.Component).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=h(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=u(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(o,o)},c.prototype.componentWillUnmount=function(){this.t=[]},c.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=l(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&Object(M.createElement)(M.Fragment,null,e.fallback);return i&&(i.__u&=-33),[Object(M.createElement)(M.Fragment,null,t.__a?null:e.children),i]};var z=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(d.prototype=new M.Component).__a=function(e){var t=this,n=h(t.__v),r=t.o.get(e);return r[0]++,function(i){var s=function(){t.props.revealOrder?(r.push(i),z(t,e,r)):i()};n?n(s):s()}},d.prototype.render=function(e){this.u=null,this.o=new Map;var t=Object(M.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},d.prototype.componentDidUpdate=d.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){z(e,n,t)}))};var U="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,W=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,H=/[A-Z0-9]/g,j="undefined"!=typeof document,K=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};M.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(M.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var q=M.options.event;M.options.event=function(e){return q&&(e=q(e)),e.persist=x,e.isPropagationStopped=b,e.isDefaultPrevented=_,e.nativeEvent=e};var X,Y={enumerable:!1,configurable:!0,get:function(){return this.class}},Q=M.options.vnode;M.options.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,r={};for(var i in t){var s=t[i];if(!("value"===i&&"defaultValue"in t&&null==s||j&&"children"===i&&"noscript"===n||"class"===i||"className"===i)){var o=i.toLowerCase();"defaultValue"===i&&"value"in t&&null==t.value?i="value":"download"===i&&!0===s?s="":"translate"===o&&"no"===s?s=!1:"ondoubleclick"===o?i="ondblclick":"onchange"!==o||"input"!==n&&"textarea"!==n||K(t.type)?"onfocus"===o?i="onfocusin":"onblur"===o?i="onfocusout":W.test(i)?i=o:-1===n.indexOf("-")&&G.test(i)?i=i.replace(H,"-$&").toLowerCase():null===s&&(s=void 0):o=i="oninput","oninput"===o&&r[i=o]&&(i="oninputCapture"),r[i]=s}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=Object(M.toChildArray)(t.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=Object(M.toChildArray)(t.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",Y)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.$$typeof=U,Q&&Q(e)};var Z=M.options.__r;M.options.__r=function(e){Z&&Z(e),X=e.__c};var J=M.options.diffed;M.options.diffed=function(e){J&&J(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),X=null};var ee={ReactCurrentDispatcher:{current:{readContext:function(e){return X.__n[e.__c].props.value}}}},te="17.0.2",ne=function(e,t){return e(t)},re=function(e,t){return e(t)},ie=M.Fragment,se=N.h,oe=S,ae={useState:N.l,useId:N.f,useReducer:N.j,useEffect:N.d,useLayoutEffect:N.h,useInsertionEffect:se,useTransition:$,useDeferredValue:L,useSyncExternalStore:R,startTransition:C,useRef:N.k,useImperativeHandle:N.g,useMemo:N.i,useCallback:N.a,useContext:N.b,useDebugValue:N.c,version:"17.0.2",Children:P,render:y,hydrate:v,unmountComponentAtNode:E,createPortal:m,createElement:M.createElement,createContext:M.createContext,createFactory:w,cloneElement:A,createRef:M.createRef,Fragment:M.Fragment,isValidElement:S,isElement:S,isFragment:T,findDOMNode:k,Component:M.Component,PureComponent:s,memo:o,forwardRef:a,flushSync:re,unstable_batchedUpdates:ne,StrictMode:ie,Suspense:c,SuspenseList:d,lazy:p,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ee}},lVFF:function(){},lWdj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diff=t.split=void 0;var r=n("K573"),i=n("5afc");t.diff=i.default;var s=n("NpYg");t.split=s.default,t.default=r.default},lXuL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoUnspecifiedOperatorError=void 0;const r=n("QyX9");class i{constructor(e){this.node=e,this.type=r.ErrorType.SYNTAX,this.severity=r.ErrorSeverity.ERROR,this.unspecifiedOperator=e.operator}get location(){return this.node.loc}explain(){return`Operator '${this.unspecifiedOperator}' is not allowed.`}elaborate(){return""}}t.NoUnspecifiedOperatorError=i;t.default={name:"no-unspecified-operator",checkers:{BinaryExpression:e=>["+","-","*","/","%","===","!==","<",">","<=",">=","&&","||"].includes(e.operator)?[]:[new i(e)],UnaryExpression:e=>["-","!"].includes(e.operator)?[]:[new i(e)]}}},mbKv:function(e,t,n){"use strict";let r,i=e=>e;Object.defineProperty(t,"__esModule",{value:!0}),t.NoImplicitReturnUndefinedError=void 0;const s=n("QyX9"),o=n("zZ3m");class a{constructor(e){this.node=e,this.type=s.ErrorType.SYNTAX,this.severity=s.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"Missing value in return statement."}elaborate(){return o.stripIndent(r||(r=i`
      This return statement is missing a value.
      For instance, to return the value 42, you can write

        return 42;
    `))}}t.NoImplicitReturnUndefinedError=a;t.default={name:"no-implicit-return-undefined",checkers:{ReturnStatement:e=>e.argument?[]:[new a(e)]}}},mpBs:function(e){function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}var n;e.exports=function(){function e(t,n,r){function i(o){if(!n[o]){if(!t[o]){if(s)return s(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){return i(t[o][1][e]||e)}),l,l.exports,e,t,n,r)}return n[o].exports}for(var s=!1,o=0;o<r.length;o++)i(r[o]);return i}return e}()({1:[function(e,t,r){var i,s;i=this,s=function(e){"use strict";function t(e,t){for(var n=65536,r=0;r<t.length;r+=2){if((n+=t[r])>e)return!1;if((n+=t[r+1])>=e)return!0}}function n(e,n){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&V.test(String.fromCharCode(e)):!1!==n&&t(e,z)))}function r(e,n){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&B.test(String.fromCharCode(e)):!1!==n&&(t(e,z)||t(e,U)))))}function i(e,t){return new G(e,{beforeExpr:!0,binop:t})}function s(e,t){return void 0===t&&(t={}),t.keyword=e,j[e]=new G(e,t)}function o(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}function a(e,t){return J.call(e,t)}function l(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}function u(e,t){for(var n=1,r=0;;){X.lastIndex=r;var i=X.exec(e);if(!(i&&i.index<t))return new ne(n,t-r);++n,r=i.index+i[0].length}}function c(e){var t={};for(var n in ie)t[n]=e&&a(e,n)?e[n]:ie[n];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),te(t.onToken)){var r=t.onToken;t.onToken=function(e){return r.push(e)}}return te(t.onComment)&&(t.onComment=h(t,t.onComment)),t}function h(e,t){return function(n,r,i,s,o,a){var l={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(l.loc=new re(this,o,a)),e.ranges&&(l.range=[i,s]),t.push(l)}}function p(e,t){return oe|(e?le:0)|(t?ue:0)}function d(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}function f(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}function g(e){var t=Xe[e]={binary:l(We[e]+" "+He),nonBinary:{General_Category:l(He),Script:l(qe[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}function m(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function y(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function v(e){return n(e,!0)||36===e||95===e}function x(e){return r(e,!0)||36===e||95===e||8204===e||8205===e}function b(e){return e>=65&&e<=90||e>=97&&e<=122}function _(e){return e>=0&&e<=1114111}function w(e){return 100===e||68===e||115===e||83===e||119===e||87===e}function S(e){return b(e)||95===e}function T(e){return S(e)||A(e)}function A(e){return e>=48&&e<=57}function E(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function k(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function C(e){return e>=48&&e<=55}function L(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function $(e,t){return be.parse(e,t)}function R(e,t,n){return be.parseExpressionAt(e,t,n)}function I(e,t){return be.tokenizer(e,t)}var M={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},N="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",O={5:N,"5module":N+" export import",6:N+" const class extends export import super"},D=/^in(stanceof)?$/,F="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-Ᶎꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭧꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",P="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",V=new RegExp("["+F+"]"),B=new RegExp("["+F+P+"]");F=P=null;var z=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],U=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239],G=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null},W={beforeExpr:!0},H={startsExpr:!0},j={},K={num:new G("num",H),regexp:new G("regexp",H),string:new G("string",H),name:new G("name",H),eof:new G("eof"),bracketL:new G("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new G("]"),braceL:new G("{",{beforeExpr:!0,startsExpr:!0}),braceR:new G("}"),parenL:new G("(",{beforeExpr:!0,startsExpr:!0}),parenR:new G(")"),comma:new G(",",W),semi:new G(";",W),colon:new G(":",W),dot:new G("."),question:new G("?",W),arrow:new G("=>",W),template:new G("template"),invalidTemplate:new G("invalidTemplate"),ellipsis:new G("...",W),backQuote:new G("`",H),dollarBraceL:new G("${",{beforeExpr:!0,startsExpr:!0}),eq:new G("=",{beforeExpr:!0,isAssign:!0}),assign:new G("_=",{beforeExpr:!0,isAssign:!0}),incDec:new G("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new G("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:i("||",1),logicalAND:i("&&",2),bitwiseOR:i("|",3),bitwiseXOR:i("^",4),bitwiseAND:i("&",5),equality:i("==/!=/===/!==",6),relational:i("</>/<=/>=",7),bitShift:i("<</>>/>>>",8),plusMin:new G("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:i("%",10),star:i("*",10),slash:i("/",10),starstar:new G("**",{beforeExpr:!0}),_break:s("break"),_case:s("case",W),_catch:s("catch"),_continue:s("continue"),_debugger:s("debugger"),_default:s("default",W),_do:s("do",{isLoop:!0,beforeExpr:!0}),_else:s("else",W),_finally:s("finally"),_for:s("for",{isLoop:!0}),_function:s("function",H),_if:s("if"),_return:s("return",W),_switch:s("switch"),_throw:s("throw",W),_try:s("try"),_var:s("var"),_const:s("const"),_while:s("while",{isLoop:!0}),_with:s("with"),_new:s("new",{beforeExpr:!0,startsExpr:!0}),_this:s("this",H),_super:s("super",H),_class:s("class",H),_extends:s("extends",W),_export:s("export"),_import:s("import",H),_null:s("null",H),_true:s("true",H),_false:s("false",H),_in:s("in",{beforeExpr:!0,binop:7}),_instanceof:s("instanceof",{beforeExpr:!0,binop:7}),_typeof:s("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:s("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:s("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},q=/\r\n?|\n|\u2028|\u2029/,X=new RegExp(q.source,"g"),Y=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Q=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Z=Object.prototype,J=Z.hasOwnProperty,ee=Z.toString,te=Array.isArray||function(e){return"[object Array]"===ee.call(e)},ne=function(e,t){this.line=e,this.column=t};ne.prototype.offset=function(e){return new ne(this.line,this.column+e)};var re=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)},ie={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},se=1,oe=2,ae=se|oe,le=4,ue=8,ce=16,he=32,pe=64,de=128,fe=0,ge=1,me=2,ye=3,ve=4,xe=5,be=function(e,t,n){this.options=e=c(e),this.sourceFile=e.sourceFile,this.keywords=l(O[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var r="";if(!0!==e.allowReserved){for(var i=e.ecmaVersion;!(r=M[i]);i--);"module"===e.sourceType&&(r+=" await")}this.reservedWords=l(r);var s=(r?r+" ":"")+M.strict;this.reservedWordsStrict=l(s),this.reservedWordsStrictBind=l(s+" "+M.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(q).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=K.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(se),this.regexpState=null},_e={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};be.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},_e.inFunction.get=function(){return(this.currentVarScope().flags&oe)>0},_e.inGenerator.get=function(){return(this.currentVarScope().flags&ue)>0},_e.inAsync.get=function(){return(this.currentVarScope().flags&le)>0},_e.allowSuper.get=function(){return(this.currentThisScope().flags&pe)>0},_e.allowDirectSuper.get=function(){return(this.currentThisScope().flags&de)>0},_e.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},be.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&oe)>0},be.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},be.parse=function(e,t){return new this(t,e).parse()},be.parseExpressionAt=function(e,t,n){var r=new this(n,e,t);return r.nextToken(),r.parseExpression()},be.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(be.prototype,_e);var we=be.prototype,Se=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;we.strictDirective=function(e){for(;;){Q.lastIndex=e,e+=Q.exec(this.input)[0].length;var t=Se.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2]))return!0;Q.lastIndex=e+=t[0].length,e+=Q.exec(this.input)[0].length,";"===this.input[e]&&e++}},we.eat=function(e){return this.type===e&&(this.next(),!0)},we.isContextual=function(e){return this.type===K.name&&this.value===e&&!this.containsEsc},we.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},we.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},we.canInsertSemicolon=function(){return this.type===K.eof||this.type===K.braceR||q.test(this.input.slice(this.lastTokEnd,this.start))},we.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},we.semicolon=function(){this.eat(K.semi)||this.insertSemicolon()||this.unexpected()},we.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},we.expect=function(e){this.eat(e)||this.unexpected()},we.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},we.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},we.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},we.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},we.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var Te=be.prototype;Te.parseTopLevel=function(e){var t={};for(e.body||(e.body=[]);this.type!==K.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var Ae={kind:"loop"},Ee={kind:"switch"};Te.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Q.lastIndex=this.pos;var t=Q.exec(this.input),i=this.pos+t[0].length,s=this.input.charCodeAt(i);if(91===s)return!0;if(e)return!1;if(123===s)return!0;if(n(s,!0)){for(var o=i+1;r(this.input.charCodeAt(o),!0);)++o;var a=this.input.slice(i,o);if(!D.test(a))return!0}return!1},Te.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Q.lastIndex=this.pos;var e=Q.exec(this.input),t=this.pos+e[0].length;return!(q.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!==this.input.length&&r(this.input.charAt(t+8)))},Te.parseStatement=function(e,t,n){var r,i=this.type,s=this.startNode();switch(this.isLet(e)&&(i=K._var,r="let"),i){case K._break:case K._continue:return this.parseBreakContinueStatement(s,i.keyword);case K._debugger:return this.parseDebuggerStatement(s);case K._do:return this.parseDoStatement(s);case K._for:return this.parseForStatement(s);case K._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!e);case K._class:return e&&this.unexpected(),this.parseClass(s,!0);case K._if:return this.parseIfStatement(s);case K._return:return this.parseReturnStatement(s);case K._switch:return this.parseSwitchStatement(s);case K._throw:return this.parseThrowStatement(s);case K._try:return this.parseTryStatement(s);case K._const:case K._var:return r=r||this.value,e&&"var"!==r&&this.unexpected(),this.parseVarStatement(s,r);case K._while:return this.parseWhileStatement(s);case K._with:return this.parseWithStatement(s);case K.braceL:return this.parseBlock(!0,s);case K.semi:return this.parseEmptyStatement(s);case K._export:case K._import:if(this.options.ecmaVersion>10&&i===K._import){Q.lastIndex=this.pos;var o=Q.exec(this.input);if(40===this.input.charCodeAt(this.pos+o[0].length))return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===K._import?this.parseImport(s):this.parseExport(s,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!e);var a=this.value,l=this.parseExpression();return i===K.name&&"Identifier"===l.type&&this.eat(K.colon)?this.parseLabeledStatement(s,a,l,e):this.parseExpressionStatement(s,l)}},Te.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(K.semi)||this.insertSemicolon()?e.label=null:this.type!==K.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(e.label&&n)break}}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},Te.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},Te.parseDoStatement=function(e){return this.next(),this.labels.push(Ae),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(K._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(K.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},Te.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Ae),this.enterScope(0),this.expect(K.parenL),this.type===K.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===K._var||this.type===K._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===K._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===r.declarations.length?(this.options.ecmaVersion>=9&&(this.type===K._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=new d,o=this.parseExpression(!0,s);return this.type===K._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===K._in?t>-1&&this.unexpected(t):e.await=t>-1),this.toAssignable(o,!1,s),this.checkLVal(o),this.parseForIn(e,o)):(this.checkExpressionErrors(s,!0),t>-1&&this.unexpected(t),this.parseFor(e,o))},Te.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,Ce|(n?0:Le),!1,t)},Te.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(K._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},Te.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(K.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},Te.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(K.braceL),this.labels.push(Ee),this.enterScope(0);for(var n=!1;this.type!==K.braceR;)if(this.type===K._case||this.type===K._default){var r=this.type===K._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(K.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},Te.parseThrowStatement=function(e){return this.next(),q.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var ke=[];Te.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===K._catch){var t=this.startNode();if(this.next(),this.eat(K.parenL)){t.param=this.parseBindingAtom();var n="Identifier"===t.param.type;this.enterScope(n?he:0),this.checkLVal(t.param,n?ve:me),this.expect(K.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(K._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},Te.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},Te.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(Ae),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},Te.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},Te.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},Te.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1)s[i].name===t&&this.raise(n.start,"Label '"+t+"' is already declared");for(var o=this.type.isLoop?"loop":this.type===K._switch?"switch":null,a=this.labels.length-1;a>=0;a--){var l=this.labels[a];if(l.statementStart!==e.start)break;l.statementStart=this.start,l.kind=o}return this.labels.push({name:t,kind:o,statementStart:this.start}),e.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},Te.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},Te.parseBlock=function(e,t){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(K.braceL),e&&this.enterScope(0);!this.eat(K.braceR);){var n=this.parseStatement(null);t.body.push(n)}return e&&this.exitScope(),this.finishNode(t,"BlockStatement")},Te.parseFor=function(e,t){return e.init=t,this.expect(K.semi),e.test=this.type===K.semi?null:this.parseExpression(),this.expect(K.semi),e.update=this.type===K.parenR?null:this.parseExpression(),this.expect(K.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},Te.parseForIn=function(e,t){var n=this.type===K._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)?this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===t.type&&this.raise(t.start,"Invalid left-hand side in for-loop"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(K.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},Te.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(K.eq)?r.init=this.parseMaybeAssign(t):"const"!==n||this.type===K._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===r.id.type||t&&(this.type===K._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(K.comma))break}return e},Te.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"var"===t?ge:me,!1)};var Ce=1,Le=2,$e=4;Te.parseFunction=function(e,t,n,r){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===K.star&&t&Le&&this.unexpected(),e.generator=this.eat(K.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&Ce&&(e.id=t&$e&&this.type!==K.name?null:this.parseIdent(),!e.id||t&Le||this.checkLVal(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?ge:me:ye));var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(p(e.async,e.generator)),t&Ce||(e.id=this.type===K.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,t&Ce?"FunctionDeclaration":"FunctionExpression")},Te.parseFunctionParams=function(e){this.expect(K.parenL),e.params=this.parseBindingList(K.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Te.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.startNode(),i=!1;for(r.body=[],this.expect(K.braceL);!this.eat(K.braceR);){var s=this.parseClassElement(null!==e.superClass);s&&(r.body.push(s),"MethodDefinition"===s.type&&"constructor"===s.kind&&(i&&this.raise(s.start,"Duplicate constructor in the same class"),i=!0))}return e.body=this.finishNode(r,"ClassBody"),this.strict=n,this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},Te.parseClassElement=function(e){var t=this;if(this.eat(K.semi))return null;var n=this.startNode(),r=function(e,r){void 0===r&&(r=!1);var i=t.start,s=t.startLoc;return!(!t.eatContextual(e)||(t.type===K.parenL||r&&t.canInsertSemicolon())&&(n.key&&t.unexpected(),n.computed=!1,n.key=t.startNodeAt(i,s),n.key.name=e,t.finishNode(n.key,"Identifier"),1))};n.kind="method",n.static=r("static");var i=this.eat(K.star),s=!1;i||(this.options.ecmaVersion>=8&&r("async",!0)?(s=!0,i=this.options.ecmaVersion>=9&&this.eat(K.star)):r("get")?n.kind="get":r("set")&&(n.kind="set")),n.key||this.parsePropertyName(n);var o=n.key,a=!1;return n.computed||n.static||!("Identifier"===o.type&&"constructor"===o.name||"Literal"===o.type&&"constructor"===o.value)?n.static&&"Identifier"===o.type&&"prototype"===o.name&&this.raise(o.start,"Classes may not have a static property named prototype"):("method"!==n.kind&&this.raise(o.start,"Constructor can't have get/set modifier"),i&&this.raise(o.start,"Constructor can't be a generator"),s&&this.raise(o.start,"Constructor can't be an async method"),n.kind="constructor",a=e),this.parseClassMethod(n,i,s,a),"get"===n.kind&&0!==n.value.params.length&&this.raiseRecoverable(n.value.start,"getter should have no params"),"set"===n.kind&&1!==n.value.params.length&&this.raiseRecoverable(n.value.start,"setter should have exactly one param"),"set"===n.kind&&"RestElement"===n.value.params[0].type&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params"),n},Te.parseClassMethod=function(e,t,n,r){return e.value=this.parseMethod(t,n,r),this.finishNode(e,"MethodDefinition")},Te.parseClassId=function(e,t){this.type===K.name?(e.id=this.parseIdent(),t&&this.checkLVal(e.id,me,!1)):(!0===t&&this.unexpected(),e.id=null)},Te.parseClassSuper=function(e){e.superClass=this.eat(K._extends)?this.parseExprSubscripts():null},Te.parseExport=function(e,t){if(this.next(),this.eat(K.star))return this.expectContextual("from"),this.type!==K.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(K._default)){var n;if(this.checkExport(t,"default",this.lastTokStart),this.type===K._function||(n=this.isAsyncFunction())){var r=this.startNode();this.next(),n&&this.next(),e.declaration=this.parseFunction(r,Ce|$e,!1,n)}else if(this.type===K._class){var i=this.startNode();e.declaration=this.parseClass(i,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==K.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var s=0,o=e.specifiers;s<o.length;s+=1){var a=o[s];this.checkUnreserved(a.local),this.checkLocalExport(a.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},Te.checkExport=function(e,t,n){e&&(a(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},Te.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===n)for(var r=0,i=t.properties;r<i.length;r+=1)this.checkPatternExport(e,i[r]);else if("ArrayPattern"===n)for(var s=0,o=t.elements;s<o.length;s+=1){var a=o[s];a&&this.checkPatternExport(e,a)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(e,t.expression)},Te.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1)this.checkPatternExport(e,r[n].id)},Te.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},Te.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(K.braceL);!this.eat(K.braceR);){if(n)n=!1;else if(this.expect(K.comma),this.afterTrailingComma(K.braceR))break;var r=this.startNode();r.local=this.parseIdent(!0),r.exported=this.eatContextual("as")?this.parseIdent(!0):r.local,this.checkExport(e,r.exported.name,r.exported.start),t.push(this.finishNode(r,"ExportSpecifier"))}return t},Te.parseImport=function(e){return this.next(),this.type===K.string?(e.specifiers=ke,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===K.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},Te.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===K.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,me),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(K.comma))return e}if(this.type===K.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLVal(r.local,me),e.push(this.finishNode(r,"ImportNamespaceSpecifier")),e}for(this.expect(K.braceL);!this.eat(K.braceR);){if(t)t=!1;else if(this.expect(K.comma),this.afterTrailingComma(K.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLVal(i.local,me),e.push(this.finishNode(i,"ImportSpecifier"))}return e},Te.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},Te.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var Re=be.prototype;Re.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},Re.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];6===this.options.ecmaVersion&&t&&s&&"RestElement"===s.type&&"Identifier"!==s.argument.type&&this.unexpected(s.argument.start)}return e},Re.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},Re.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==K.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},Re.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case K.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(K.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case K.braceL:return this.parseObj(!0)}return this.parseIdent()},Re.parseBindingList=function(e,t,n){for(var r=[],i=!0;!this.eat(e);)if(i?i=!1:this.expect(K.comma),t&&this.type===K.comma)r.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===K.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),r.push(s),this.type===K.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var o=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(o),r.push(o)}return r},Re.parseBindingListItem=function(e){return e},Re.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(K.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},Re.checkLVal=function(e,t,n){switch(void 0===t&&(t=fe),e.type){case"Identifier":t===me&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&(a(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==fe&&t!==xe&&this.declareName(e.name,t,e.start);break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1)this.checkLVal(i[r],t,n);break;case"Property":this.checkLVal(e.value,t,n);break;case"ArrayPattern":for(var s=0,o=e.elements;s<o.length;s+=1){var l=o[s];l&&this.checkLVal(l,t,n)}break;case"AssignmentPattern":this.checkLVal(e.left,t,n);break;case"RestElement":this.checkLVal(e.argument,t,n);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,n);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var Ie=be.prototype;Ie.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r,i=e.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===s&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);else{var o=t[r="$"+r];o?("init"===s?this.strict&&o.init||o.get||o.set:o.init||o[s])&&this.raiseRecoverable(i.start,"Redefinition of property"):o=t[r]={init:!1,get:!1,set:!1},o[s]=!0}}},Ie.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===K.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(K.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i},Ie.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,t.parenthesizedAssign=t.trailingComma=-1):(t=new d,r=!0);var o=this.start,a=this.startLoc;this.type!==K.parenL&&this.type!==K.name||(this.potentialArrowAt=this.start);var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,o,a)),this.type.isAssign){var u=this.startNodeAt(o,a);return u.operator=this.value,u.left=this.type===K.eq?this.toAssignable(l,!1,t):l,r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=u.left.start&&(t.shorthandAssign=-1),this.checkLVal(l),this.next(),u.right=this.parseMaybeAssign(e),this.finishNode(u,"AssignmentExpression")}return r&&this.checkExpressionErrors(t,!0),i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l},Ie.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(K.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(K.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i},Ie.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)||i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,e)},Ie.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(null!=s&&(!i||this.type!==K._in)&&s>r){var o=this.type===K.logicalOR||this.type===K.logicalAND,a=this.value;this.next();var l=this.start,u=this.startLoc,c=this.parseExprOp(this.parseMaybeUnary(null,!1),l,u,s,i),h=this.buildBinary(t,n,e,c,a,o);return this.parseExprOp(h,t,n,r,i)}return e},Ie.buildBinary=function(e,t,n,r,i,s){var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")},Ie.parseMaybeUnary=function(e,t){var n,r=this.start,i=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))n=this.parseAwait(),t=!0;else if(this.type.prefix){var s=this.startNode(),o=this.type===K.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),o?this.checkLVal(s.argument):this.strict&&"delete"===s.operator&&"Identifier"===s.argument.type?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):t=!0,n=this.finishNode(s,o?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var a=this.startNodeAt(r,i);a.operator=this.value,a.prefix=!1,a.argument=n,this.checkLVal(n),this.next(),n=this.finishNode(a,"UpdateExpression")}}return!t&&this.eat(K.starstar)?this.buildBinary(r,i,n,this.parseMaybeUnary(null,!1),"**",!1):n},Ie.parseExprSubscripts=function(e){var t=this.start,n=this.startLoc,r=this.parseExprAtom(e);if("ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return r;var i=this.parseSubscripts(r,t,n);return e&&"MemberExpression"===i.type&&(e.parenthesizedAssign>=i.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=i.start&&(e.parenthesizedBind=-1)),i},Ie.parseSubscripts=function(e,t,n,r){for(var i=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(e.start,e.end);;){var s=this.parseSubscript(e,t,n,r,i);if(s===e||"ArrowFunctionExpression"===s.type)return s;e=s}},Ie.parseSubscript=function(e,t,n,r,i){var s=this.eat(K.bracketL);if(s||this.eat(K.dot)){var o=this.startNodeAt(t,n);o.object=e,o.property=s?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),o.computed=!!s,s&&this.expect(K.bracketR),e=this.finishNode(o,"MemberExpression")}else if(!r&&this.eat(K.parenL)){var a=new d,l=this.yieldPos,u=this.awaitPos,c=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var h=this.parseExprList(K.parenR,this.options.ecmaVersion>=8,!1,a);if(i&&!this.canInsertSemicolon()&&this.eat(K.arrow))return this.checkPatternErrors(a,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=l,this.awaitPos=u,this.awaitIdentPos=c,this.parseArrowExpression(this.startNodeAt(t,n),h,!0);this.checkExpressionErrors(a,!0),this.yieldPos=l||this.yieldPos,this.awaitPos=u||this.awaitPos,this.awaitIdentPos=c||this.awaitIdentPos;var p=this.startNodeAt(t,n);p.callee=e,p.arguments=h,e=this.finishNode(p,"CallExpression")}else if(this.type===K.backQuote){var f=this.startNodeAt(t,n);f.tag=e,f.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(f,"TaggedTemplateExpression")}return e},Ie.parseExprAtom=function(e){this.type===K.slash&&this.readRegexp();var t,n=this.potentialArrowAt===this.start;switch(this.type){case K._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),t=this.startNode(),this.next(),this.type!==K.parenL||this.allowDirectSuper||this.raise(t.start,"super() call outside constructor of a subclass"),this.type!==K.dot&&this.type!==K.bracketL&&this.type!==K.parenL&&this.unexpected(),this.finishNode(t,"Super");case K._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case K.name:var r=this.start,i=this.startLoc,s=this.containsEsc,o=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!s&&"async"===o.name&&!this.canInsertSemicolon()&&this.eat(K._function))return this.parseFunction(this.startNodeAt(r,i),0,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(K.arrow))return this.parseArrowExpression(this.startNodeAt(r,i),[o],!1);if(this.options.ecmaVersion>=8&&"async"===o.name&&this.type===K.name&&!s)return o=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(K.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,i),[o],!0)}return o;case K.regexp:var a=this.value;return(t=this.parseLiteral(a.value)).regex={pattern:a.pattern,flags:a.flags},t;case K.num:case K.string:return this.parseLiteral(this.value);case K._null:case K._true:case K._false:return(t=this.startNode()).value=this.type===K._null?null:this.type===K._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case K.parenL:var l=this.start,u=this.parseParenAndDistinguishExpression(n);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(u)&&(e.parenthesizedAssign=l),e.parenthesizedBind<0&&(e.parenthesizedBind=l)),u;case K.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(K.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case K.braceL:return this.parseObj(!1,e);case K._function:return t=this.startNode(),this.next(),this.parseFunction(t,0);case K._class:return this.parseClass(this.startNode(),!1);case K._new:return this.parseNew();case K.backQuote:return this.parseTemplate();case K._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},Ie.parseExprImport=function(){var e=this.startNode();if(this.next(),this.type===K.parenL)return this.parseDynamicImport(e);this.unexpected()},Ie.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(K.parenR)){var t=this.start;this.eat(K.comma)&&this.eat(K.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},Ie.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1)),this.next(),this.finishNode(t,"Literal")},Ie.parseParenExpression=function(){this.expect(K.parenL);var e=this.parseExpression();return this.expect(K.parenR),e},Ie.parseParenAndDistinguishExpression=function(e){var t,n=this.start,r=this.startLoc,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s,o=this.start,a=this.startLoc,l=[],u=!0,c=!1,h=new d,p=this.yieldPos,f=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==K.parenR;){if(u?u=!1:this.expect(K.comma),i&&this.afterTrailingComma(K.parenR,!0)){c=!0;break}if(this.type===K.ellipsis){s=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===K.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,h,this.parseParenItem))}var g=this.start,m=this.startLoc;if(this.expect(K.parenR),e&&!this.canInsertSemicolon()&&this.eat(K.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=f,this.parseParenArrowList(n,r,l);l.length&&!c||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(h,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=f||this.awaitPos,l.length>1?((t=this.startNodeAt(o,a)).expressions=l,this.finishNodeAt(t,"SequenceExpression",g,m)):t=l[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(n,r);return y.expression=t,this.finishNode(y,"ParenthesizedExpression")}return t},Ie.parseParenItem=function(e){return e},Ie.parseParenArrowList=function(e,t,n){return this.parseArrowExpression(this.startNodeAt(e,t),n)};var Me=[];Ie.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(K.dot)){e.meta=t;var n=this.containsEsc;return e.property=this.parseIdent(!0),("target"!==e.property.name||n)&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(e.start,"new.target can only be used in functions"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc,s=this.type===K._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),r,i,!0),s&&"ImportExpression"===e.callee.type&&this.raise(r,"Cannot use new with import()"),e.arguments=this.eat(K.parenL)?this.parseExprList(K.parenR,this.options.ecmaVersion>=8,!1):Me,this.finishNode(e,"NewExpression")},Ie.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===K.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===K.backQuote,this.finishNode(n,"TemplateElement")},Ie.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===K.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(K.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(K.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},Ie.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===K.name||this.type===K.num||this.type===K.string||this.type===K.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===K.star)&&!q.test(this.input.slice(this.lastTokEnd,this.start))},Ie.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(K.braceR);){if(r)r=!1;else if(this.expect(K.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(K.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},Ie.parseProperty=function(e,t){var n,r,i,s,o=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(K.ellipsis))return e?(o.argument=this.parseIdent(!1),this.type===K.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(o,"RestElement")):(this.type===K.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),o.argument=this.parseMaybeAssign(!1,t),this.type===K.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(o,"SpreadElement"));this.options.ecmaVersion>=6&&(o.method=!1,o.shorthand=!1,(e||t)&&(i=this.start,s=this.startLoc),e||(n=this.eat(K.star)));var a=this.containsEsc;return this.parsePropertyName(o),!e&&!a&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(o)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(K.star),this.parsePropertyName(o,t)):r=!1,this.parsePropertyValue(o,e,n,r,i,s,t,a),this.finishNode(o,"Property")},Ie.parsePropertyValue=function(e,t,n,r,i,s,o,a){if((n||r)&&this.type===K.colon&&this.unexpected(),this.eat(K.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===K.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r);else if(t||a||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===K.comma||this.type===K.braceR)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,e.key):this.type===K.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else if((n||r)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1),e.value.params.length!==("get"===e.kind?0:1)){var l=e.value.start;this.raiseRecoverable(l,"get"===e.kind?"getter should have no params":"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},Ie.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(K.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(K.bracketR),e.key;e.computed=!1}return e.key=this.type===K.num||this.type===K.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},Ie.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},Ie.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(p(t,r.generator)|pe|(n?de:0)),this.expect(K.parenL),r.params=this.parseBindingList(K.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")},Ie.parseArrowExpression=function(e,t,n){var r=this.yieldPos,i=this.awaitPos,s=this.awaitIdentPos;return this.enterScope(p(n,!1)|ce),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1),this.yieldPos=r,this.awaitPos=i,this.awaitIdentPos=s,this.finishNode(e,"ArrowFunctionExpression")},Ie.parseFunctionBody=function(e,t,n){var r=this.strict,i=!1;if(t&&this.type!==K.braceL)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var s=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);r&&!s||(i=this.strictDirective(this.end))&&s&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var o=this.labels;this.labels=[],i&&(this.strict=!0),this.checkParams(e,!r&&!i&&!t&&!n&&this.isSimpleParamList(e.params)),e.body=this.parseBlock(!1),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=o}this.exitScope(),this.strict&&e.id&&this.checkLVal(e.id,xe),this.strict=r},Ie.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1)if("Identifier"!==n[t].type)return!1;return!0},Ie.checkParams=function(e,t){for(var n={},r=0,i=e.params;r<i.length;r+=1)this.checkLVal(i[r],ge,t?null:n)},Ie.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(K.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===K.comma?o=null:this.type===K.ellipsis?(o=this.parseSpread(r),r&&this.type===K.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i},Ie.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;this.inGenerator&&"yield"===r&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))},Ie.parseIdent=function(e){var t=this.startNode();return this.type===K.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,"class"!==t.name&&"function"!==t.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),"await"!==t.name||this.awaitIdentPos||(this.awaitIdentPos=t.start)),t},Ie.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===K.semi||this.canInsertSemicolon()||this.type!==K.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(K.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},Ie.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!1),this.finishNode(e,"AwaitExpression")};var Ne=be.prototype;Ne.raise=function(e,t){var n=u(this.input,e),r=new SyntaxError(t+=" ("+n.line+":"+n.column+")");throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},Ne.raiseRecoverable=Ne.raise,Ne.curPosition=function(){if(this.options.locations)return new ne(this.curLine,this.pos-this.lineStart)};var Oe=be.prototype,De=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[]};Oe.enterScope=function(e){this.scopeStack.push(new De(e))},Oe.exitScope=function(){this.scopeStack.pop()},Oe.treatFunctionsAsVarInScope=function(e){return e.flags&oe||!this.inModule&&e.flags&se},Oe.declareName=function(e,t,n){var r=!1;if(t===me){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&se&&delete this.undefinedExports[e]}else if(t===ve)this.currentScope().lexical.push(e);else if(t===ye){var s=this.currentScope();r=this.treatFunctionsAsVar?s.lexical.indexOf(e)>-1:s.lexical.indexOf(e)>-1||s.var.indexOf(e)>-1,s.functions.push(e)}else for(var o=this.scopeStack.length-1;o>=0;--o){var a=this.scopeStack[o];if(a.lexical.indexOf(e)>-1&&!(a.flags&he&&a.lexical[0]===e)||!this.treatFunctionsAsVarInScope(a)&&a.functions.indexOf(e)>-1){r=!0;break}if(a.var.push(e),this.inModule&&a.flags&se&&delete this.undefinedExports[e],a.flags&ae)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},Oe.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},Oe.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Oe.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&ae)return t}},Oe.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&ae&&!(t.flags&ce))return t}};var Fe=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new re(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},Pe=be.prototype;Pe.startNode=function(){return new Fe(this,this.start,this.startLoc)},Pe.startNodeAt=function(e,t){return new Fe(this,e,t)},Pe.finishNode=function(e,t){return f.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},Pe.finishNodeAt=function(e,t,n,r){return f.call(this,e,t,n,r)};var Ve=function(e,t,n,r,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!i},Be={b_stat:new Ve("{",!1),b_expr:new Ve("{",!0),b_tmpl:new Ve("${",!1),p_stat:new Ve("(",!1),p_expr:new Ve("(",!0),q_tmpl:new Ve("`",!0,!0,(function(e){return e.tryReadTemplateToken()})),f_stat:new Ve("function",!1),f_expr:new Ve("function",!0),f_expr_gen:new Ve("function",!0,!1,null,!0),f_gen:new Ve("function",!1,!1,null,!0)},ze=be.prototype;ze.initialContext=function(){return[Be.b_stat]},ze.braceIsBlock=function(e){var t=this.curContext();return t===Be.f_expr||t===Be.f_stat||(e!==K.colon||t!==Be.b_stat&&t!==Be.b_expr?e===K._return||e===K.name&&this.exprAllowed?q.test(this.input.slice(this.lastTokEnd,this.start)):e===K._else||e===K.semi||e===K.eof||e===K.parenR||e===K.arrow||(e===K.braceL?t===Be.b_stat:e!==K._var&&e!==K._const&&e!==K.name&&!this.exprAllowed):!t.isExpr)},ze.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},ze.updateContext=function(e){var t,n=this.type;n.keyword&&e===K.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},K.parenR.updateContext=K.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===Be.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},K.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Be.b_stat:Be.b_expr),this.exprAllowed=!0},K.dollarBraceL.updateContext=function(){this.context.push(Be.b_tmpl),this.exprAllowed=!0},K.parenL.updateContext=function(e){this.context.push(e===K._if||e===K._for||e===K._with||e===K._while?Be.p_stat:Be.p_expr),this.exprAllowed=!0},K.incDec.updateContext=function(){},K._function.updateContext=K._class.updateContext=function(e){!e.beforeExpr||e===K.semi||e===K._else||e===K._return&&q.test(this.input.slice(this.lastTokEnd,this.start))||(e===K.colon||e===K.braceL)&&this.curContext()===Be.b_stat?this.context.push(Be.f_stat):this.context.push(Be.f_expr),this.exprAllowed=!1},K.backQuote.updateContext=function(){this.curContext()===Be.q_tmpl?this.context.pop():this.context.push(Be.q_tmpl),this.exprAllowed=!1},K.star.updateContext=function(e){if(e===K._function){var t=this.context.length-1;this.context[t]=this.context[t]===Be.f_expr?Be.f_expr_gen:Be.f_gen}this.exprAllowed=!0},K.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==K.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Ue="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Ge=Ue+" Extended_Pictographic",We={9:Ue,10:Ge,11:Ge},He="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",je="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Ke=je+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",qe={9:je,10:Ke,11:Ke+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho"},Xe={};g(9),g(10),g(11);var Ye=be.prototype,Qe=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.unicodeProperties=Xe[e.options.ecmaVersion>=11?11:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Qe.prototype.reset=function(e,t,n){var r=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchN=r&&this.parser.options.ecmaVersion>=9},Qe.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},Qe.prototype.at=function(e){var t=this.source,n=t.length;if(e>=n)return-1;var r=t.charCodeAt(e);if(!this.switchU||r<=55295||r>=57344||e+1>=n)return r;var i=t.charCodeAt(e+1);return i>=56320&&i<=57343?(r<<10)+i-56613888:r},Qe.prototype.nextIndex=function(e){var t=this.source,n=t.length;if(e>=n)return n;var r,i=t.charCodeAt(e);return!this.switchU||i<=55295||i>=57344||e+1>=n||(r=t.charCodeAt(e+1))<56320||r>57343?e+1:e+2},Qe.prototype.current=function(){return this.at(this.pos)},Qe.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},Qe.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},Qe.prototype.eat=function(e){return this.current()===e&&(this.advance(),!0)},Ye.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=0;r<n.length;r++){var i=n.charAt(r);-1===t.indexOf(i)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(i,r+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},Ye.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},Ye.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1)-1===e.groupNames.indexOf(n[t])&&e.raise("Invalid named capture referenced")},Ye.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},Ye.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},Ye.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},Ye.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},Ye.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},Ye.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},Ye.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return-1!==i&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},Ye.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},Ye.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},Ye.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},Ye.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},Ye.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},Ye.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},Ye.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!y(t)&&(e.lastIntValue=t,e.advance(),!0)},Ye.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!y(n);)e.advance();return e.pos!==t},Ye.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t||(e.advance(),0))},Ye.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},Ye.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},Ye.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=m(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=m(e.lastIntValue);return!0}return!1},Ye.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=e.current();return e.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(n=e.lastIntValue),v(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)},Ye.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=e.current();return e.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(n=e.lastIntValue),x(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)},Ye.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},Ye.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},Ye.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},Ye.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},Ye.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},Ye.regexp_eatZero=function(e){return 48===e.current()&&!A(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},Ye.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},Ye.regexp_eatControlLetter=function(e){var t=e.current();return!!b(t)&&(e.lastIntValue=t%32,e.advance(),!0)},Ye.regexp_eatRegExpUnicodeEscapeSequence=function(e){var t=e.pos;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var n=e.lastIntValue;if(e.switchU&&n>=55296&&n<=56319){var r=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(i>=56320&&i<=57343)return e.lastIntValue=1024*(n-55296)+(i-56320)+65536,!0}e.pos=r,e.lastIntValue=n}return!0}if(e.switchU&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&_(e.lastIntValue))return!0;e.switchU&&e.raise("Invalid unicode escape"),e.pos=t}return!1},Ye.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t||(e.lastIntValue=t,e.advance(),0))},Ye.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},Ye.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(w(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},Ye.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e))return this.regexp_validateUnicodePropertyNameAndValue(e,n,e.lastStringValue),!0}return e.pos=t,!!this.regexp_eatLoneUnicodePropertyNameOrValue(e)&&(this.regexp_validateUnicodePropertyNameOrValue(e,e.lastStringValue),!0)},Ye.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){a(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},Ye.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},Ye.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";S(t=e.current());)e.lastStringValue+=m(t),e.advance();return""!==e.lastStringValue},Ye.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";T(t=e.current());)e.lastStringValue+=m(t),e.advance();return""!==e.lastStringValue},Ye.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},Ye.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},Ye.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},Ye.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||C(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return 93!==r&&(e.lastIntValue=r,e.advance(),!0)},Ye.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},Ye.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!A(t)&&95!==t||(e.lastIntValue=t%32,e.advance(),0))},Ye.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},Ye.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;A(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},Ye.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;E(n=e.current());)e.lastIntValue=16*e.lastIntValue+k(n),e.advance();return e.pos!==t},Ye.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;e.lastIntValue=t<=3&&this.regexp_eatOctalDigit(e)?64*t+8*n+e.lastIntValue:8*t+n}else e.lastIntValue=t;return!0}return!1},Ye.regexp_eatOctalDigit=function(e){var t=e.current();return C(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},Ye.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!E(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+k(i),e.advance()}return!0};var Ze=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new re(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},Je=be.prototype;Je.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ze(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Je.getToken=function(){return this.next(),new Ze(this)},"undefined"!=typeof Symbol&&(Je[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===K.eof,value:t}}}}),Je.curContext=function(){return this.context[this.context.length-1]},Je.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(K.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},Je.readToken=function(e){return n(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},Je.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);return e<=55295||e>=57344?e:(e<<10)+this.input.charCodeAt(this.pos+1)-56613888},Je.skipBlockComment=function(){var e,t=this.options.onComment&&this.curPosition(),n=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(-1===r&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(X.lastIndex=n;(e=X.exec(this.input))&&e.index<this.pos;)++this.curLine,this.lineStart=e.index+e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(n+2,r),n,this.pos,t,this.curPosition())},Je.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!o(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},Je.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&Y.test(String.fromCharCode(e))))break e;++this.pos}}},Je.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},Je.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(K.ellipsis)):(++this.pos,this.finishToken(K.dot))},Je.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(K.assign,2):this.finishOp(K.slash,1)},Je.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?K.star:K.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,r=K.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(K.assign,n+1):this.finishOp(r,n)},Je.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.finishOp(124===e?K.logicalOR:K.logicalAND,2):61===t?this.finishOp(K.assign,2):this.finishOp(124===e?K.bitwiseOR:K.bitwiseAND,1)},Je.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(K.assign,2):this.finishOp(K.bitwiseXOR,1)},Je.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!q.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(K.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(K.assign,2):this.finishOp(K.plusMin,1)},Je.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(K.assign,n+1):this.finishOp(K.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(K.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Je.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(K.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(K.arrow)):this.finishOp(61===e?K.eq:K.prefix,1)},Je.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(K.parenL);case 41:return++this.pos,this.finishToken(K.parenR);case 59:return++this.pos,this.finishToken(K.semi);case 44:return++this.pos,this.finishToken(K.comma);case 91:return++this.pos,this.finishToken(K.bracketL);case 93:return++this.pos,this.finishToken(K.bracketR);case 123:return++this.pos,this.finishToken(K.braceL);case 125:return++this.pos,this.finishToken(K.braceR);case 58:return++this.pos,this.finishToken(K.colon);case 63:return++this.pos,this.finishToken(K.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(K.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 126:return this.finishOp(K.prefix,1)}this.raise(this.pos,"Unexpected character '"+L(e)+"'")},Je.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},Je.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(q.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Qe(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var l=null;try{l=new RegExp(i,o)}catch(e){}return this.finishToken(K.regexp,{pattern:i,flags:o,value:l})},Je.readInt=function(e,t){for(var n=this.pos,r=0,i=0,s=null==t?1/0:t;i<s;++i){var o=this.input.charCodeAt(this.pos),a=void 0;if((a=o>=97?o-97+10:o>=65?o-65+10:o>=48&&o<=57?o-48:1/0)>=e)break;++this.pos,r=r*e+a}return this.pos===n||null!=t&&this.pos-n!==t?null:r},Je.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var r=this.readInt(e);return null==r&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(r="undefined"!=typeof BigInt?BigInt(this.input.slice(t,this.pos)):null,++this.pos):n(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(K.num,r)},Je.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10)||this.raise(t,"Invalid number");var r=this.pos-t>=2&&48===this.input.charCodeAt(t);r&&this.strict&&this.raise(t,"Invalid number");var i=this.input.charCodeAt(this.pos);if(!r&&!e&&this.options.ecmaVersion>=11&&110===i){var s=this.input.slice(t,this.pos),o="undefined"!=typeof BigInt?BigInt(s):null;return++this.pos,n(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(K.num,o)}r&&/[89]/.test(this.input.slice(t,this.pos))&&(r=!1),46!==i||r||(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),69!==i&&101!==i||r||(43!==(i=this.input.charCodeAt(++this.pos))&&45!==i||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),n(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=this.input.slice(t,this.pos),l=r?parseInt(a,8):parseFloat(a);return this.finishToken(K.num,l)},Je.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},Je.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):(o(r,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(K.string,t)};var et={};Je.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==et)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Je.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw et;this.raise(e,t)},Je.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==K.template&&this.type!==K.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(K.template,e)):36===n?(this.pos+=2,this.finishToken(K.dollarBraceL)):(++this.pos,this.finishToken(K.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(o(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},Je.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(K.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Je.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return L(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(e)return this.invalidStringToken(this.pos-1,"Invalid escape sequence in template string"),null;default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(n,8);return r>255&&(n=n.slice(0,-1),r=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),"0"===n&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return o(t)?"":String.fromCharCode(t)}},Je.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},Je.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,i=this.pos,s=this.options.ecmaVersion>=6;this.pos<this.input.length;){var o=this.fullCharCodeAtPos();if(r(o,s))this.pos+=o<=65535?1:2;else{if(92!==o)break;this.containsEsc=!0,e+=this.input.slice(i,this.pos);var a=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(t?n:r)(l,s)||this.invalidStringToken(a,"Invalid Unicode escape"),e+=L(l),i=this.pos}t=!1}return e+this.input.slice(i,this.pos)},Je.readWord=function(){var e=this.readWord1(),t=K.name;return this.keywords.test(e)&&(t=j[e]),this.finishToken(t,e)};var tt="7.1.0";be.acorn={Parser:be,version:tt,defaultOptions:ie,Position:ne,SourceLocation:re,getLineInfo:u,Node:Fe,TokenType:G,tokTypes:K,keywordTypes:j,TokContext:Ve,tokContexts:Be,isIdentifierChar:r,isIdentifierStart:n,Token:Ze,isNewLine:o,lineBreak:q,lineBreakG:X,nonASCIIwhitespace:Y},e.Node=Fe,e.Parser=be,e.Position=ne,e.SourceLocation=re,e.TokContext=Ve,e.Token=Ze,e.TokenType=G,e.defaultOptions=ie,e.getLineInfo=u,e.isIdentifierChar=r,e.isIdentifierStart=n,e.isNewLine=o,e.keywordTypes=j,e.lineBreak=q,e.lineBreakG=X,e.nonASCIIwhitespace=Y,e.parse=$,e.parseExpressionAt=R,e.tokContexts=Be,e.tokTypes=K,e.tokenizer=I,e.version=tt,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof r&&void 0!==t?s(r):"function"==typeof n&&n.amd?n(["exports"],s):s((i=i||self).acorn={})},{}],2:[function(){},{}],3:[function(e,t){function n(e,t={}){function n(t,n){switch(n){case"addComment":return d;case"checkThrowError":return f;case"getReadPixelsVariableName":return L;case"insertVariable":return l;case"reset":return a;case"setIndent":return c;case"toString":return s;case"getContextVariableName":return y}return"function"==typeof e[n]?function(){switch(n){case"getError":return w.push(x?`${R}if (${v}.getError() !== ${v}.NONE) throw new Error('error');`:`${R}${v}.getError();`),e.getError();case"getExtension":{const t=`${v}Variables${k.length}`;w.push(`${R}const ${t} = ${v}.getExtension('${arguments[0]}');`);const n=e.getExtension(arguments[0]);if(n&&"object"==typeof n){const e=r(n,{getEntity:u,useTrackablePrimitives:b,recording:w,contextName:t,contextVariables:k,variables:S,indent:R,onUnrecognizedArgumentLookup:A});return k.push(e),e}return k.push(null),n}case"readPixels":const t=k.indexOf(arguments[6]);let n;if(-1===t){const e=m(arguments[6]);e?(n=e,w.push(`${R}${e}`)):(n=`${v}Variable${k.length}`,k.push(arguments[6]),w.push(`${R}const ${n} = new ${arguments[6].constructor.name}(${arguments[6].length});`))}else n=`${v}Variable${t}`;L=n;const s=[arguments[0],arguments[1],arguments[2],arguments[3],u(arguments[4]),u(arguments[5]),n];return w.push(`${R}${v}.readPixels(${s.join(", ")});`),_&&p(arguments[2],arguments[3]),T&&T(n,s),e.readPixels.apply(e,arguments);case"drawBuffers":return w.push(`${R}${v}.drawBuffers([${i(arguments[0],{contextName:v,contextVariables:k,getEntity:u,addVariable:h,variables:S,onUnrecognizedArgumentLookup:A})}]);`),e.drawBuffers(arguments[0])}let t=e[n].apply(e,arguments);switch(typeof t){case"undefined":return void w.push(`${R}${g(n,arguments)};`);case"number":case"boolean":if(b&&-1===k.indexOf(o(t))){w.push(`${R}const ${v}Variable${k.length} = ${g(n,arguments)};`),k.push(t=o(t));break}default:w.push(null===t?`${g(n,arguments)};`:`${R}const ${v}Variable${k.length} = ${g(n,arguments)};`),k.push(t)}return t}:(C[e[n]]=n,e[n])}function s(){return w.join("\n")}function a(){for(;w.length>0;)w.pop()}function l(e,t){S[e]=t}function u(e){const t=C[e];return t?v+"."+t:e}function c(e){R=" ".repeat(e)}function h(e,t){const n=`${v}Variable${k.length}`;return w.push(`${R}const ${n} = ${t};`),k.push(e),n}function p(e,t){const n=`${v}Variable${k.length}`,r=`imageDatum${$}`;w.push(`${R}let ${r} = ["P3\\n# ${_}.ppm\\n", ${e}, ' ', ${t}, "\\n255\\n"].join("");`),w.push(`${R}for (let i = 0; i < ${r}.length; i += 4) {`),w.push(`${R}  ${r} += ${n}[i] + ' ' + ${n}[i + 1] + ' ' + ${n}[i + 2] + ' ';`),w.push(`${R}}`),w.push(`${R}if (typeof require !== "undefined") {`),w.push(`${R}  require('fs').writeFileSync('./${_}.ppm', ${r});`),w.push(`${R}}`),$++}function d(e){w.push(`${R}// ${e}`)}function f(){w.push(`${R}(() => {\n${R}const error = ${v}.getError();\n${R}if (error !== ${v}.NONE) {\n${R}  const names = Object.getOwnPropertyNames(gl);\n${R}  for (let i = 0; i < names.length; i++) {\n${R}    const name = names[i];\n${R}    if (${v}[name] === error) {\n${R}      throw new Error('${v} threw ' + name);\n${R}    }\n${R}  }\n${R}}\n${R}})();`)}function g(e,t){return`${v}.${e}(${i(t,{contextName:v,contextVariables:k,getEntity:u,addVariable:h,variables:S,onUnrecognizedArgumentLookup:A})})`}function m(e){if(S)for(const t in S)if(S[t]===e)return t;return null}function y(e){const t=k.indexOf(e);return-1!==t?`${v}Variable${t}`:null}const{contextName:v="gl",throwGetError:x,useTrackablePrimitives:b,readPixelsFile:_,recording:w=[],variables:S={},onReadPixels:T,onUnrecognizedArgumentLookup:A}=t,E=new Proxy(e,{get:n}),k=[],C={};let L,$=0,R="";return E}function r(e,t){function n(t,n){return"function"==typeof t[n]?function(){if("drawBuffersWEBGL"===n)return f.push(`${m}${c}.drawBuffersWEBGL([${i(arguments[0],{contextName:c,contextVariables:h,getEntity:r,addVariable:a,variables:g,onUnrecognizedArgumentLookup:y})}]);`),e.drawBuffersWEBGL(arguments[0]);let t=e[n].apply(e,arguments);switch(typeof t){case"undefined":return void f.push(`${m}${s(n,arguments)};`);case"number":case"boolean":d&&-1===h.indexOf(o(t))?(f.push(`${m}const ${c}Variable${h.length} = ${s(n,arguments)};`),h.push(t=o(t))):(f.push(`${m}const ${c}Variable${h.length} = ${s(n,arguments)};`),h.push(t));break;default:f.push(null===t?`${s(n,arguments)};`:`${m}const ${c}Variable${h.length} = ${s(n,arguments)};`),h.push(t)}return t}:(u[e[n]]=n,e[n])}function r(e){return u.hasOwnProperty(e)?`${c}.${u[e]}`:p(e)}function s(e,t){return`${c}.${e}(${i(t,{contextName:c,contextVariables:h,getEntity:r,addVariable:a,variables:g,onUnrecognizedArgumentLookup:y})})`}function a(e,t){const n=`${c}Variable${h.length}`;return h.push(e),f.push(`${m}const ${n} = ${t};`),n}const l=new Proxy(e,{get:n}),u={},{contextName:c,contextVariables:h,getEntity:p,useTrackablePrimitives:d,recording:f,variables:g,indent:m,onUnrecognizedArgumentLookup:y}=t;return l}function i(e,t){function n(e){if(r)for(const t in r)if(r.hasOwnProperty(t)&&r[t]===e)return t;return i?i(e):null}const{variables:r,onUnrecognizedArgumentLookup:i}=t;return Array.from(e).map((e=>{const r=n(e);return r||s(e,t)})).join(", ")}function s(e,t){const{contextName:n,contextVariables:r,getEntity:i,addVariable:s,onUnrecognizedArgumentLookup:o}=t;if(void 0===e)return"undefined";if(null===e)return"null";const a=r.indexOf(e);if(a>-1)return`${n}Variable${a}`;switch(e.constructor.name){case"String":const t=/\n/.test(e),n=/'/.test(e),r=/"/.test(e);return t?"`"+e+"`":n&&!r?'"'+e+'"':"'"+e+"'";case"Number":case"Boolean":return i(e);case"Array":return s(e,`new ${e.constructor.name}([${Array.from(e).join(",")}])`);case"Float32Array":case"Uint8Array":case"Uint16Array":case"Int32Array":return s(e,`new ${e.constructor.name}(${JSON.stringify(Array.from(e))})`);default:if(o){const t=o(e);if(t)return t}throw new Error(`unrecognized argument type ${e.constructor.name}`)}}function o(e){return new e.constructor(e)}void 0!==t&&(t.exports={glWiretap:n,glExtensionWiretap:r}),"undefined"!=typeof window&&(n.glExtensionWiretap=r,window.glWiretap=n)},{}],4:[function(e,t){function n(e){const t=new Array(e.length);for(let n=0;n<e.length;n++){const r=e[n];t[n]=r.toArray?r.toArray():r}return t}function r(){const e=n(arguments),t=new Float32Array(this.output.x);for(let n=0;n<this.output.x;n++)this.thread.x=n,this.thread.y=0,this.thread.z=0,t[n]=this._fn.apply(this,e);return t}function i(){const e=n(arguments),t=new Array(this.output.y);for(let n=0;n<this.output.y;n++){const r=new Float32Array(this.output.x);for(let t=0;t<this.output.x;t++)this.thread.x=t,this.thread.y=n,this.thread.z=0,r[t]=this._fn.apply(this,e);t[n]=r}return t}function s(){const e=n(arguments);for(let t=0;t<this.output.y;t++)for(let n=0;n<this.output.x;n++)this.thread.x=n,this.thread.y=t,this.thread.z=0,this._fn.apply(this,e)}function o(){const e=n(arguments),t=new Array(this.output.z);for(let n=0;n<this.output.z;n++){const r=new Array(this.output.y);for(let t=0;t<this.output.y;t++){const i=new Float32Array(this.output.x);for(let r=0;r<this.output.x;r++)this.thread.x=r,this.thread.y=t,this.thread.z=n,i[r]=this._fn.apply(this,e);r[t]=i}t[n]=r}return t}function a(e){e.setOutput=t=>{e.output=u(t),e.graphical&&l(e)},e.toJSON=()=>{throw new Error("Not usable with gpuMock")},e.setConstants=t=>(e.constants=t,e),e.setGraphical=t=>(e.graphical=t,e),e.setCanvas=t=>(e.canvas=t,e),e.setContext=t=>(e.context=t,e),e.destroy=()=>{},e.validateSettings=()=>{},e.graphical&&e.output&&l(e),e.exec=function(){return new Promise(((t,n)=>{try{t(e.apply(e,arguments))}catch(e){n(e)}}))},e.getPixels=t=>{const{x:n,y:r}=e.output;return t?h(e._imageData.data,n,r):e._imageData.data.slice(0)},e.color=function(t,n,r,i){void 0===i&&(i=1),t=Math.floor(255*t),n=Math.floor(255*n),r=Math.floor(255*r),i=Math.floor(255*i);const s=e.thread.x+(e.output.y-e.thread.y-1)*e.output.x;e._colorData[4*s+0]=t,e._colorData[4*s+1]=n,e._colorData[4*s+2]=r,e._colorData[4*s+3]=i};const t=()=>e,n=["setWarnVarUsage","setArgumentTypes","setTactic","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setPrecision","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","addSubKernel"];for(let r=0;r<n.length;r++)e[n[r]]=t;return e}function l(e){const{x:t,y:n}=e.output;if(e.context&&e.context.createImageData){const r=new Uint8ClampedArray(t*n*4);e._imageData=e.context.createImageData(t,n),e._colorData=r}else{const r=new Uint8ClampedArray(t*n*4);e._imageData={data:r},e._colorData=r}}function u(e){let t=null;if(e.length)if(3===e.length){const[n,r,i]=e;t={x:n,y:r,z:i}}else if(2===e.length){const[n,r]=e;t={x:n,y:r}}else{const[n]=e;t={x:n}}else t=e;return t}function c(e,t={}){function n(){return n.output.z?o.apply(n,arguments):n.output.y?n.graphical?s.apply(n,arguments):i.apply(n,arguments):r.apply(n,arguments)}const l=t.output?u(t.output):null;return n._fn=e,n.constants=t.constants||null,n.context=t.context||null,n.canvas=t.canvas||null,n.graphical=t.graphical||!1,n._imageData=null,n._colorData=null,n.output=l,n.thread={x:0,y:0,z:0},a(n)}function h(e,t,n){const r=n/2|0,i=4*t,s=new Uint8ClampedArray(4*t),o=e.slice(0);for(let e=0;e<r;++e){const t=e*i,r=(n-e-1)*i;s.set(o.subarray(t,t+i)),o.copyWithin(t,r,r+i),o.set(s,r)}return o}t.exports={gpuMock:c}},{}],5:[function(e,t){function n(e,t){const n=t.toString();return new Function(`return function ${e} (${r.getArgumentNamesFromString(n).join(", ")}) {\n  ${r.getFunctionBodyFromString(n)}\n}`)()}const{utils:r}=e("./utils");t.exports={alias:n}},{"./utils":114}],6:[function(e,t){const{FunctionNode:n}=e("../function-node");class r extends n{astFunction(e,t){if(!this.isRootKernel){t.push("function"),t.push(" "),t.push(this.name),t.push("(");for(let e=0;e<this.argumentNames.length;++e){const n=this.argumentNames[e];e>0&&t.push(", "),t.push("user_"),t.push(n)}t.push(") {\n")}for(let n=0;n<e.body.body.length;++n)this.astGeneric(e.body.body[n],t),t.push("\n");return this.isRootKernel||t.push("}\n"),t}astReturnStatement(e,t){const n=this.returnType||this.getType(e.argument);return this.returnType||(this.returnType=n),this.isRootKernel?(t.push(this.leadingReturnStatement),this.astGeneric(e.argument,t),t.push(";\n"),t.push(this.followingReturnStatement),t.push("continue;\n")):this.isSubKernel?(t.push(`subKernelResult_${this.name} = `),this.astGeneric(e.argument,t),t.push(";"),t.push(`return subKernelResult_${this.name};`)):(t.push("return "),this.astGeneric(e.argument,t),t.push(";")),t}astLiteral(e,t){if(isNaN(e.value))throw this.astErrorOutput("Non-numeric literal not supported : "+e.value,e);return t.push(e.value),t}astBinaryExpression(e,t){return t.push("("),this.astGeneric(e.left,t),t.push(e.operator),this.astGeneric(e.right,t),t.push(")"),t}astIdentifierExpression(e,t){if("Identifier"!==e.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",e);return"Infinity"===e.name?t.push("Infinity"):this.constants&&this.constants.hasOwnProperty(e.name)?t.push("constants_"+e.name):t.push("user_"+e.name),t}astForStatement(e,t){if("ForStatement"!==e.type)throw this.astErrorOutput("Invalid for statement",e);const n=[],r=[],i=[],s=[];let o=null;if(e.init){this.pushState("in-for-loop-init"),this.astGeneric(e.init,n);for(let e=0;e<n.length;e++)n[e].includes&&n[e].includes(",")&&(o=!1);this.popState("in-for-loop-init")}else o=!1;if(e.test?this.astGeneric(e.test,r):o=!1,e.update?this.astGeneric(e.update,i):o=!1,e.body&&(this.pushState("loop-body"),this.astGeneric(e.body,s),this.popState("loop-body")),null===o&&(o=this.isSafe(e.init)&&this.isSafe(e.test)),o)t.push(`for (${n.join("")};${r.join("")};${i.join("")}){\n`),t.push(s.join("")),t.push("}\n");else{const e=this.getInternalVariableName("safeI");n.length>0&&t.push(n.join(""),";\n"),t.push(`for (let ${e}=0;${e}<LOOP_MAX;${e}++){\n`),r.length>0&&t.push(`if (!${r.join("")}) break;\n`),t.push(s.join("")),t.push(`\n${i.join("")};`),t.push("}\n")}return t}astWhileStatement(e,t){if("WhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);return t.push("for (let i = 0; i < LOOP_MAX; i++) {"),t.push("if ("),this.astGeneric(e.test,t),t.push(") {\n"),this.astGeneric(e.body,t),t.push("} else {\n"),t.push("break;\n"),t.push("}\n"),t.push("}\n"),t}astDoWhileStatement(e,t){if("DoWhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);return t.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(e.body,t),t.push("if (!"),this.astGeneric(e.test,t),t.push(") {\n"),t.push("break;\n"),t.push("}\n"),t.push("}\n"),t}astAssignmentExpression(e,t){const n=this.getDeclaration(e.left);if(n&&!n.assignable)throw this.astErrorOutput(`Variable ${e.left.name} is not assignable here`,e);return this.astGeneric(e.left,t),t.push(e.operator),this.astGeneric(e.right,t),t}astBlockStatement(e,t){if(this.isState("loop-body")){this.pushState("block-body");for(let n=0;n<e.body.length;n++)this.astGeneric(e.body[n],t);this.popState("block-body")}else{t.push("{\n");for(let n=0;n<e.body.length;n++)this.astGeneric(e.body[n],t);t.push("}\n")}return t}astVariableDeclaration(e,t){t.push(`${e.kind} `);const{declarations:n}=e;for(let e=0;e<n.length;e++){e>0&&t.push(",");const r=n[e],i=this.getDeclaration(r.id);i.valueType||(i.valueType=this.getType(r.init)),this.astGeneric(r,t)}return this.isState("in-for-loop-init")||t.push(";"),t}astIfStatement(e,t){return t.push("if ("),this.astGeneric(e.test,t),t.push(")"),"BlockStatement"===e.consequent.type?this.astGeneric(e.consequent,t):(t.push(" {\n"),this.astGeneric(e.consequent,t),t.push("\n}\n")),e.alternate&&(t.push("else "),"BlockStatement"===e.alternate.type||"IfStatement"===e.alternate.type?this.astGeneric(e.alternate,t):(t.push(" {\n"),this.astGeneric(e.alternate,t),t.push("\n}\n"))),t}astSwitchStatement(e,t){const{discriminant:n,cases:r}=e;t.push("switch ("),this.astGeneric(n,t),t.push(") {\n");for(let e=0;e<r.length;e++)null!==r[e].test?(t.push("case "),this.astGeneric(r[e].test,t),t.push(":\n"),r[e].consequent&&r[e].consequent.length>0&&(this.astGeneric(r[e].consequent,t),t.push("break;\n"))):(t.push("default:\n"),this.astGeneric(r[e].consequent,t),r[e].consequent&&r[e].consequent.length>0&&t.push("break;\n"));t.push("\n}")}astThisExpression(e,t){return t.push("_this"),t}astMemberExpression(e,t){const{signature:n,type:r,property:i,xProperty:s,yProperty:o,zProperty:a,name:l,origin:u}=this.getMemberExpressionDetails(e);switch(n){case"this.thread.value":return t.push(`_this.thread.${l}`),t;case"this.output.value":switch(l){case"x":t.push("outputX");break;case"y":t.push("outputY");break;case"z":t.push("outputZ");break;default:throw this.astErrorOutput("Unexpected expression",e)}return t;case"value":default:throw this.astErrorOutput("Unexpected expression",e);case"value[]":case"value[][]":case"value[][][]":case"value.value":if("Math"===u)return t.push(Math[l]),t;switch(i){case"r":return t.push(`user_${l}[0]`),t;case"g":return t.push(`user_${l}[1]`),t;case"b":return t.push(`user_${l}[2]`),t;case"a":return t.push(`user_${l}[3]`),t}break;case"this.constants.value":case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":break;case"fn()[]":return this.astGeneric(e.object,t),t.push("["),this.astGeneric(e.property,t),t.push("]"),t;case"fn()[][]":return this.astGeneric(e.object.object,t),t.push("["),this.astGeneric(e.object.property,t),t.push("]"),t.push("["),this.astGeneric(e.property,t),t.push("]"),t}if(!e.computed)switch(r){case"Number":case"Integer":case"Float":case"Boolean":return t.push(`${u}_${l}`),t}const c=`${u}_${l}`;{let e,n;"constants"===u?(n="Input"===this.constantTypes[l],e=n?this.constants[l].size:null):(n=this.isInput(l),e=n?this.argumentSizes[this.argumentNames.indexOf(l)]:null),t.push(`${c}`),a&&o?n?(t.push("[("),this.astGeneric(a,t),t.push(`*${this.dynamicArguments?"(outputY * outputX)":e[1]*e[0]})+(`),this.astGeneric(o,t),t.push(`*${this.dynamicArguments?"outputX":e[0]})+`),this.astGeneric(s,t),t.push("]")):(t.push("["),this.astGeneric(a,t),t.push("]"),t.push("["),this.astGeneric(o,t),t.push("]"),t.push("["),this.astGeneric(s,t),t.push("]")):o?n?(t.push("[("),this.astGeneric(o,t),t.push(`*${this.dynamicArguments?"outputX":e[0]})+`),this.astGeneric(s,t),t.push("]")):(t.push("["),this.astGeneric(o,t),t.push("]"),t.push("["),this.astGeneric(s,t),t.push("]")):void 0!==s&&(t.push("["),this.astGeneric(s,t),t.push("]"))}return t}astCallExpression(e,t){if("CallExpression"!==e.type)throw this.astErrorOutput("Unknown CallExpression",e);let n=this.astMemberExpressionUnroll(e.callee);this.calledFunctions.indexOf(n)<0&&this.calledFunctions.push(n),this.isAstMathFunction(e),this.onFunctionCall&&this.onFunctionCall(this.name,n,e.arguments),t.push(n),t.push("(");const r=this.lookupFunctionArgumentTypes(n)||[];for(let i=0;i<e.arguments.length;++i){const s=e.arguments[i];let o=this.getType(s);r[i]||this.triggerImplyArgumentType(n,i,o,this),i>0&&t.push(", "),this.astGeneric(s,t)}return t.push(")"),t}astArrayExpression(e,t){const n=this.getType(e),r=e.elements.length,i=[];for(let t=0;t<r;++t){const n=[];this.astGeneric(e.elements[t],n),i.push(n.join(""))}switch(n){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":t.push(`[${i.join(", ")}]`);break;default:t.push(`new Float32Array([${i.join(", ")}])`)}return t}astDebuggerStatement(e,t){return t.push("debugger;"),t}}t.exports={CPUFunctionNode:r}},{"../function-node":10}],7:[function(e,t){function n(e,t){const n=[];for(const r in t){if(!t.hasOwnProperty(r))continue;const i=e[r];switch(t[r]){case"Number":case"Integer":case"Float":case"Boolean":n.push(`${r}:${i}`);break;case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":n.push(`${r}:new ${i.constructor.name}(${JSON.stringify(Array.from(i))})`)}}return`{ ${n.join()} }`}function r(e){const t=[],r=[],s=[],o=!/^function/.test(e.color.toString());if(t.push("  const { context, canvas, constants: incomingConstants } = settings;",`  const output = new Int32Array(${JSON.stringify(Array.from(e.output))});`,`  const _constantTypes = ${JSON.stringify(e.constantTypes)};`,`  const _constants = ${n(e.constants,e.constantTypes)};`),r.push("    constants: _constants,","    context,","    output,","    thread: {x: 0, y: 0, z: 0},"),e.graphical){t.push(`  const _imageData = context.createImageData(${e.output[0]}, ${e.output[1]});`),t.push(`  const _colorData = new Uint8ClampedArray(${e.output[0]} * ${e.output[1]} * 4);`);const n=i.flattenFunctionToString((o?"function ":"")+e.color.toString(),{thisLookup:t=>{switch(t){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(e[t])},findDependency:()=>null}),a=i.flattenFunctionToString((o?"function ":"")+e.getPixels.toString(),{thisLookup:t=>{switch(t){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(e[t])},findDependency:()=>null});r.push("    _imageData,","    _colorData,",`    color: ${n},`),s.push(`  kernel.getPixels = ${a};`)}const a=[],l=Object.keys(e.constantTypes);for(let t=0;t<l.length;t++)a.push(e.constantTypes[l]);if(-1!==e.argumentTypes.indexOf("HTMLImageArray")||-1!==a.indexOf("HTMLImageArray")){const t=i.flattenFunctionToString((o?"function ":"")+e._imageTo3DArray.toString(),{doNotDefine:["canvas"],findDependency:(t,n)=>"this"===t?(o?"function ":"")+e[n].toString():null,thisLookup:e=>{switch(e){case"canvas":return;case"context":return"context"}}});s.push(t),r.push("    _mediaTo2DArray,"),r.push("    _imageTo3DArray,")}else if(-1!==e.argumentTypes.indexOf("HTMLImage")||-1!==a.indexOf("HTMLImage")){const t=i.flattenFunctionToString((o?"function ":"")+e._mediaTo2DArray.toString(),{findDependency:()=>null,thisLookup:e=>{switch(e){case"canvas":return"settings.canvas";case"context":return"settings.context"}throw new Error("unhandled thisLookup")}});s.push(t),r.push("    _mediaTo2DArray,")}return`function(settings) {\n${t.join("\n")}\n  for (const p in _constantTypes) {\n    if (!_constantTypes.hasOwnProperty(p)) continue;\n    const type = _constantTypes[p];\n    switch (type) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n      case 'Boolean':\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        if (incomingConstants.hasOwnProperty(p)) {\n          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');\n        }\n        continue;\n    }\n    if (!incomingConstants.hasOwnProperty(p)) {\n      throw new Error('constant ' + p + ' not found');\n    }\n    _constants[p] = incomingConstants[p];\n  }\n  const kernel = (function() {\n${e._kernelString}\n  })\n    .apply({ ${r.join("\n")} });\n  ${s.join("\n")}\n  return kernel;\n}`}const{utils:i}=e("../../utils");t.exports={cpuKernelString:r}},{"../../utils":114}],8:[function(e,t){const{Kernel:n}=e("../kernel"),{FunctionBuilder:r}=e("../function-builder"),{CPUFunctionNode:i}=e("./function-node"),{utils:s}=e("../../utils"),{cpuKernelString:o}=e("./kernel-string");class a extends n{static getFeatures(){return this.features}static get features(){return Object.freeze({kernelMap:!0,isIntegerDivisionAccurate:!0})}static get isSupported(){return!0}static isContextMatch(e){return!1}static get mode(){return"cpu"}static nativeFunctionArguments(){return null}static nativeFunctionReturnType(){throw new Error(`Looking up native function return type not supported on ${this.name}`)}static combineKernels(e){return e}static getSignature(e,t){return"cpu"+(t.length>0?":"+t.join(","):"")}constructor(e,t){super(e,t),this.mergeSettings(e.settings||t),this._imageData=null,this._colorData=null,this._kernelString=null,this._prependedString=[],this.thread={x:0,y:0,z:0},this.translatedSources=null}initCanvas(){return"undefined"!=typeof document?document.createElement("canvas"):"undefined"!=typeof OffscreenCanvas?new OffscreenCanvas(0,0):void 0}initContext(){return this.canvas?this.canvas.getContext("2d"):null}initPlugins(e){return[]}validateSettings(e){if(!this.output||0===this.output.length){if(1!==e.length)throw new Error("Auto output only supported for kernels with only one input");const t=s.getVariableType(e[0],this.strictIntegers);if("Array"===t)this.output=s.getDimensions(t);else{if("NumberTexture"!==t&&"ArrayTexture(4)"!==t)throw new Error("Auto output not supported for input type: "+t);this.output=e[0].output}}if(this.graphical&&2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");this.checkOutput()}translateSource(){if(this.leadingReturnStatement=this.output.length>1?"resultX[x] = ":"result[x] = ",this.subKernels){const e=[];for(let t=0;t<this.subKernels.length;t++){const{name:n}=this.subKernels[t];e.push(this.output.length>1?`resultX_${n}[x] = subKernelResult_${n};\n`:`result_${n}[x] = subKernelResult_${n};\n`)}this.followingReturnStatement=e.join("")}const e=r.fromKernel(this,i);this.translatedSources=e.getPrototypes("kernel"),this.graphical||this.returnType||(this.returnType=e.getKernelResultType())}build(){if(this.built)return;if(this.setupConstants(),this.setupArguments(arguments),this.validateSettings(arguments),this.translateSource(),this.graphical){const{canvas:e,output:t}=this;if(!e)throw new Error("no canvas available for using graphical output");const n=t[0],r=t[1]||1;e.width=n,e.height=r,this._imageData=this.context.createImageData(n,r),this._colorData=new Uint8ClampedArray(n*r*4)}const e=this.getKernelString();this.kernelString=e,this.debug&&(console.log("Function output:"),console.log(e));try{this.run=new Function([],e).bind(this)()}catch(e){console.error("An error occurred compiling the javascript: ",e)}this.buildSignature(arguments),this.built=!0}color(e,t,n,r){void 0===r&&(r=1),e=Math.floor(255*e),t=Math.floor(255*t),n=Math.floor(255*n),r=Math.floor(255*r);const i=this.thread.x+(this.output[1]-this.thread.y-1)*this.output[0];this._colorData[4*i+0]=e,this._colorData[4*i+1]=t,this._colorData[4*i+2]=n,this._colorData[4*i+3]=r}getKernelString(){if(null!==this._kernelString)return this._kernelString;let e=null,{translatedSources:t}=this;return t.length>1?t=t.filter((t=>/^function/.test(t)?t:(e=t,!1))):e=t.shift(),this._kernelString=`  const LOOP_MAX = ${this._getLoopMaxString()};\n  ${this.injectedNative||""}\n  const _this = this;\n  ${this._resultKernelHeader()}\n  ${this._processConstants()}\n  return (${this.argumentNames.map((e=>"user_"+e)).join(", ")}) => {\n    ${this._prependedString.join("")}\n    ${this._earlyThrows()}\n    ${this._processArguments()}\n    ${this.graphical?this._graphicalKernelBody(e):this._resultKernelBody(e)}\n    ${t.length>0?t.join("\n"):""}\n  };`}toString(){return o(this)}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};`:" 1000;"}_processConstants(){if(!this.constants)return"";const e=[];for(let t in this.constants)switch(this.constantTypes[t]){case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":e.push(`    const constants_${t} = this._mediaTo2DArray(this.constants.${t});\n`);break;case"HTMLImageArray":e.push(`    const constants_${t} = this._imageTo3DArray(this.constants.${t});\n`);break;case"Input":e.push(`    const constants_${t} = this.constants.${t}.value;\n`);break;default:e.push(`    const constants_${t} = this.constants.${t};\n`)}return e.join("")}_earlyThrows(){if(this.graphical)return"";if(this.immutable)return"";if(!this.pipeline)return"";const e=[];for(let t=0;t<this.argumentTypes.length;t++)"Array"===this.argumentTypes[t]&&e.push(this.argumentNames[t]);if(0===e.length)return"";const t=[];for(let n=0;n<e.length;n++){const r=e[n],i=this._mapSubKernels((e=>`user_${r} === result_${e.name}`)).join(" || ");t.push(`user_${r} === result${i?` || ${i}`:""}`)}return`if (${t.join(" || ")}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`}_processArguments(){const e=[];for(let t=0;t<this.argumentTypes.length;t++){const n=`user_${this.argumentNames[t]}`;switch(this.argumentTypes[t]){case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":e.push(`    ${n} = this._mediaTo2DArray(${n});\n`);break;case"HTMLImageArray":e.push(`    ${n} = this._imageTo3DArray(${n});\n`);break;case"Input":e.push(`    ${n} = ${n}.value;\n`);break;case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"NumberTexture":case"MemoryOptimizedNumberTexture":e.push(`\n    if (${n}.toArray) {\n      if (!_this.textureCache) {\n        _this.textureCache = [];\n        _this.arrayCache = [];\n      }\n      const textureIndex = _this.textureCache.indexOf(${n});\n      if (textureIndex !== -1) {\n        ${n} = _this.arrayCache[textureIndex];\n      } else {\n        _this.textureCache.push(${n});\n        ${n} = ${n}.toArray();\n        _this.arrayCache.push(${n});\n      }\n    }`)}}return e.join("")}_mediaTo2DArray(e){const t=this.canvas,n=e.width>0?e.width:e.videoWidth,r=e.height>0?e.height:e.videoHeight;t.width<n&&(t.width=n),t.height<r&&(t.height=r);const i=this.context;i.drawImage(e,0,0,n,r);const s=i.getImageData(0,0,n,r).data,o=new Array(r);let a=0;for(let e=r-1;e>=0;e--){const t=o[e]=new Array(n);for(let e=0;e<n;e++){const n=new Float32Array(4);n[0]=s[a++]/255,n[1]=s[a++]/255,n[2]=s[a++]/255,n[3]=s[a++]/255,t[e]=n}}return o}getPixels(e){const[t,n]=this.output;return e?s.flipPixels(this._imageData.data,t,n):this._imageData.data.slice(0)}_imageTo3DArray(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=this._mediaTo2DArray(e[n]);return t}_resultKernelHeader(){if(this.graphical)return"";if(this.immutable)return"";if(!this.pipeline)return"";switch(this.output.length){case 1:return this._mutableKernel1DResults();case 2:return this._mutableKernel2DResults();case 3:return this._mutableKernel3DResults()}}_resultKernelBody(e){switch(this.output.length){case 1:return(!this.immutable&&this.pipeline?this._resultMutableKernel1DLoop(e):this._resultImmutableKernel1DLoop(e))+this._kernelOutput();case 2:return(!this.immutable&&this.pipeline?this._resultMutableKernel2DLoop(e):this._resultImmutableKernel2DLoop(e))+this._kernelOutput();case 3:return(!this.immutable&&this.pipeline?this._resultMutableKernel3DLoop(e):this._resultImmutableKernel3DLoop(e))+this._kernelOutput();default:throw new Error("unsupported size kernel")}}_graphicalKernelBody(e){if(2===this.output.length)return this._graphicalKernel2DLoop(e)+this._graphicalOutput();throw new Error("unsupported size kernel")}_graphicalOutput(){return"\n    this._imageData.data.set(this._colorData);\n    this.context.putImageData(this._imageData, 0, 0);\n    return;"}_getKernelResultTypeConstructorString(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return"Float32Array";case"Array(2)":case"Array(3)":case"Array(4)":return"Array";default:if(this.graphical)return"Float32Array";throw new Error(`unhandled returnType ${this.returnType}`)}}_resultImmutableKernel1DLoop(e){const t=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const result = new ${t}(outputX);\n    ${this._mapSubKernels((e=>`const result_${e.name} = new ${t}(outputX);\n`)).join("    ")}\n    ${this._mapSubKernels((e=>`let subKernelResult_${e.name};\n`)).join("    ")}\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${e}\n    }`}_mutableKernel1DResults(){const e=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const result = new ${e}(outputX);\n    ${this._mapSubKernels((t=>`const result_${t.name} = new ${e}(outputX);\n`)).join("    ")}\n    ${this._mapSubKernels((e=>`let subKernelResult_${e.name};\n`)).join("    ")}`}_resultMutableKernel1DLoop(e){return`  const outputX = _this.output[0];\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${e}\n    }`}_resultImmutableKernel2DLoop(e){const t=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${this._mapSubKernels((e=>`const result_${e.name} = new Array(outputY);\n`)).join("    ")}\n    ${this._mapSubKernels((e=>`let subKernelResult_${e.name};\n`)).join("    ")}\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y] = new ${t}(outputX);\n      ${this._mapSubKernels((e=>`const resultX_${e.name} = result_${e.name}[y] = new ${t}(outputX);\n`)).join("")}\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${e}\n      }\n    }`}_mutableKernel2DResults(){const e=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${this._mapSubKernels((e=>`const result_${e.name} = new Array(outputY);\n`)).join("    ")}\n    ${this._mapSubKernels((e=>`let subKernelResult_${e.name};\n`)).join("    ")}\n    for (let y = 0; y < outputY; y++) {\n      const resultX = result[y] = new ${e}(outputX);\n      ${this._mapSubKernels((t=>`const resultX_${t.name} = result_${t.name}[y] = new ${e}(outputX);\n`)).join("")}\n    }`}_resultMutableKernel2DLoop(e){const t=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y];\n      ${this._mapSubKernels((e=>`const resultX_${e.name} = result_${e.name}[y] = new ${t}(outputX);\n`)).join("")}\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${e}\n      }\n    }`}_graphicalKernel2DLoop(e){return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${e}\n      }\n    }`}_resultImmutableKernel3DLoop(e){const t=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${this._mapSubKernels((e=>`const result_${e.name} = new Array(outputZ);\n`)).join("    ")}\n    ${this._mapSubKernels((e=>`let subKernelResult_${e.name};\n`)).join("    ")}\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z] = new Array(outputY);\n      ${this._mapSubKernels((e=>`const resultY_${e.name} = result_${e.name}[z] = new Array(outputY);\n`)).join("      ")}\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y] = new ${t}(outputX);\n        ${this._mapSubKernels((e=>`const resultX_${e.name} = resultY_${e.name}[y] = new ${t}(outputX);\n`)).join("        ")}\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${e}\n        }\n      }\n    }`}_mutableKernel3DResults(){const e=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${this._mapSubKernels((e=>`const result_${e.name} = new Array(outputZ);\n`)).join("    ")}\n    ${this._mapSubKernels((e=>`let subKernelResult_${e.name};\n`)).join("    ")}\n    for (let z = 0; z < outputZ; z++) {\n      const resultY = result[z] = new Array(outputY);\n      ${this._mapSubKernels((e=>`const resultY_${e.name} = result_${e.name}[z] = new Array(outputY);\n`)).join("      ")}\n      for (let y = 0; y < outputY; y++) {\n        const resultX = resultY[y] = new ${e}(outputX);\n        ${this._mapSubKernels((t=>`const resultX_${t.name} = resultY_${t.name}[y] = new ${e}(outputX);\n`)).join("        ")}\n      }\n    }`}_resultMutableKernel3DLoop(e){return`  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z];\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y];\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${e}\n        }\n      }\n    }`}_kernelOutput(){return this.subKernels?`\n    return {\n      result: result,\n      ${this.subKernels.map((e=>`${e.property}: result_${e.name}`)).join(",\n      ")}\n    };`:"\n    return result;"}_mapSubKernels(e){return null===this.subKernels?[""]:this.subKernels.map(e)}destroy(e){e&&delete this.canvas}static destroyContext(e){}toJSON(){const e=super.toJSON();return e.functionNodes=r.fromKernel(this,i).toJSON(),e}setOutput(e){super.setOutput(e);const[t,n]=this.output;this.graphical&&(this._imageData=this.context.createImageData(t,n),this._colorData=new Uint8ClampedArray(t*n*4))}prependString(e){if(this._kernelString)throw new Error("Kernel already built");this._prependedString.push(e)}hasPrependString(e){return this._prependedString.indexOf(e)>-1}}t.exports={CPUKernel:a}},{"../../utils":114,"../function-builder":9,"../kernel":36,"./function-node":6,"./kernel-string":7}],9:[function(e,n){class r{static fromKernel(e,n,i){const{kernelArguments:s,kernelConstants:o,argumentNames:a,argumentSizes:l,argumentBitRatios:u,constants:c,constantBitRatios:h,debug:p,loopMaxIterations:d,nativeFunctions:f,output:g,optimizeFloatMemory:m,precision:y,plugins:v,source:x,subKernels:b,functions:_,leadingReturnStatement:w,followingReturnStatement:S,dynamicArguments:T,dynamicOutput:A}=e,E=new Array(s.length),k={};for(let e=0;e<s.length;e++)E[e]=s[e].type;for(let e=0;e<o.length;e++){const t=o[e];k[t.name]=t.type}const C=(e,t)=>G.needsArgumentType(e,t),L=(e,t,n)=>{G.assignArgumentType(e,t,n)},$=(e,t,n)=>G.lookupReturnType(e,t,n),R=e=>G.lookupFunctionArgumentTypes(e),I=(e,t)=>G.lookupFunctionArgumentName(e,t),M=(e,t)=>G.lookupFunctionArgumentBitRatio(e,t),N=(e,t,n,r)=>{G.assignArgumentType(e,t,n,r)},O=(e,t,n,r)=>{G.assignArgumentBitRatio(e,t,n,r)},D=(e,t,n)=>{G.trackFunctionCall(e,t,n)},F=(e,r)=>{const i=[];for(let t=0;t<e.params.length;t++)i.push(e.params[t].name);const s=new n(r,t({},P,{returnType:null,ast:e,name:e.id.name,argumentNames:i,lookupReturnType:$,lookupFunctionArgumentTypes:R,lookupFunctionArgumentName:I,lookupFunctionArgumentBitRatio:M,needsArgumentType:C,assignArgumentType:L,triggerImplyArgumentType:N,triggerImplyArgumentBitRatio:O,onFunctionCall:D}));s.traceFunctionAST(e),G.addFunctionNode(s)},P=t({isRootKernel:!1,onNestedFunction:F,lookupReturnType:$,lookupFunctionArgumentTypes:R,lookupFunctionArgumentName:I,lookupFunctionArgumentBitRatio:M,needsArgumentType:C,assignArgumentType:L,triggerImplyArgumentType:N,triggerImplyArgumentBitRatio:O,onFunctionCall:D,optimizeFloatMemory:m,precision:y,constants:c,constantTypes:k,constantBitRatios:h,debug:p,loopMaxIterations:d,output:g,plugins:v,dynamicArguments:T,dynamicOutput:A},i||{}),V=t({},P,{isRootKernel:!0,name:"kernel",argumentNames:a,argumentTypes:E,argumentSizes:l,argumentBitRatios:u,leadingReturnStatement:w,followingReturnStatement:S});if("object"==typeof x&&x.functionNodes)return(new r).fromJSON(x.functionNodes,n);const B=new n(x,V);let z=null;_&&(z=_.map((e=>new n(e.source,{returnType:e.returnType,argumentTypes:e.argumentTypes,output:g,plugins:v,constants:c,constantTypes:k,constantBitRatios:h,optimizeFloatMemory:m,precision:y,lookupReturnType:$,lookupFunctionArgumentTypes:R,lookupFunctionArgumentName:I,lookupFunctionArgumentBitRatio:M,needsArgumentType:C,assignArgumentType:L,triggerImplyArgumentType:N,triggerImplyArgumentBitRatio:O,onFunctionCall:D,onNestedFunction:F}))));let U=null;b&&(U=b.map((e=>{const{name:r,source:i}=e;return new n(i,t({},P,{name:r,isSubKernel:!0,isRootKernel:!1}))})));const G=new r({kernel:e,rootNode:B,functionNodes:z,nativeFunctions:f,subKernelNodes:U});return G}constructor(e){if(this.kernel=(e=e||{}).kernel,this.rootNode=e.rootNode,this.functionNodes=e.functionNodes||[],this.subKernelNodes=e.subKernelNodes||[],this.nativeFunctions=e.nativeFunctions||[],this.functionMap={},this.nativeFunctionNames=[],this.lookupChain=[],this.functionNodeDependencies={},this.functionCalls={},this.rootNode&&(this.functionMap.kernel=this.rootNode),this.functionNodes)for(let e=0;e<this.functionNodes.length;e++)this.functionMap[this.functionNodes[e].name]=this.functionNodes[e];if(this.subKernelNodes)for(let e=0;e<this.subKernelNodes.length;e++)this.functionMap[this.subKernelNodes[e].name]=this.subKernelNodes[e];if(this.nativeFunctions)for(let e=0;e<this.nativeFunctions.length;e++)this.nativeFunctionNames.push(this.nativeFunctions[e].name)}addFunctionNode(e){if(!e.name)throw new Error("functionNode.name needs set");this.functionMap[e.name]=e,e.isRootKernel&&(this.rootNode=e)}traceFunctionCalls(e,t){if(t=t||[],this.nativeFunctionNames.indexOf(e=e||"kernel")>-1){const n=t.indexOf(e);if(-1===n)t.push(e);else{const e=t.splice(n,1)[0];t.push(e)}return t}const n=this.functionMap[e];if(n){const r=t.indexOf(e);if(-1===r){t.push(e),n.toString();for(let e=0;e<n.calledFunctions.length;++e)this.traceFunctionCalls(n.calledFunctions[e],t)}else{const e=t.splice(r,1)[0];t.push(e)}}return t}getPrototypeString(e){return this.getPrototypes(e).join("\n")}getPrototypes(e){return this.rootNode&&this.rootNode.toString(),this.getPrototypesFromFunctionNames(e?this.traceFunctionCalls(e,[]).reverse():Object.keys(this.functionMap))}getStringFromFunctionNames(e){const t=[];for(let n=0;n<e.length;++n)this.functionMap[e[n]]&&t.push(this.functionMap[e[n]].toString());return t.join("\n")}getPrototypesFromFunctionNames(e){const t=[];for(let n=0;n<e.length;++n){const r=e[n],i=this.nativeFunctionNames.indexOf(r);if(i>-1){t.push(this.nativeFunctions[i].source);continue}const s=this.functionMap[r];s&&t.push(s.toString())}return t}toJSON(){return this.traceFunctionCalls(this.rootNode.name).reverse().map((e=>{const t=this.nativeFunctions.indexOf(e);if(t>-1)return{name:e,source:this.nativeFunctions[t].source};if(this.functionMap[e])return this.functionMap[e].toJSON();throw new Error(`function ${e} not found`)}))}fromJSON(e,t){this.functionMap={};for(let n=0;n<e.length;n++){const r=e[n];this.functionMap[r.settings.name]=new t(r.ast,r.settings)}return this}getString(e){return this.getStringFromFunctionNames(e?this.traceFunctionCalls(e).reverse():Object.keys(this.functionMap))}lookupReturnType(e,t,n){if("CallExpression"!==t.type)throw new Error(`expected ast type of "CallExpression", but is ${t.type}`);if(this._isNativeFunction(e))return this._lookupNativeFunctionReturnType(e);if(this._isFunction(e)){const r=this._getFunction(e);if(r.returnType)return r.returnType;{for(let e=0;e<this.lookupChain.length;e++)if(this.lookupChain[e].ast===t){if(0===r.argumentTypes.length&&t.arguments.length>0){const i=t.arguments;for(let t=0;t<i.length;t++)this.lookupChain.push({name:n.name,ast:i[e],requestingNode:n}),r.argumentTypes[t]=n.getType(i[t]),this.lookupChain.pop();return r.returnType=r.getType(r.getJsAST())}throw new Error("circlical logic detected!")}this.lookupChain.push({name:n.name,ast:t,requestingNode:n});const e=r.getType(r.getJsAST());return this.lookupChain.pop(),r.returnType=e}}return null}_getFunction(e){return this._isFunction(e)||new Error(`Function ${e} not found`),this.functionMap[e]}_isFunction(e){return Boolean(this.functionMap[e])}_getNativeFunction(e){for(let t=0;t<this.nativeFunctions.length;t++)if(this.nativeFunctions[t].name===e)return this.nativeFunctions[t];return null}_isNativeFunction(e){return Boolean(this._getNativeFunction(e))}_lookupNativeFunctionReturnType(e){let t=this._getNativeFunction(e);if(t)return t.returnType;throw new Error(`Native function ${e} not found`)}lookupFunctionArgumentTypes(e){return this._isNativeFunction(e)?this._getNativeFunction(e).argumentTypes:this._isFunction(e)?this._getFunction(e).argumentTypes:null}lookupFunctionArgumentName(e,t){return this._getFunction(e).argumentNames[t]}lookupFunctionArgumentBitRatio(e,t){if(!this._isFunction(e))throw new Error("function not found");if(this.rootNode.name===e){const e=this.rootNode.argumentNames.indexOf(t);if(-1!==e)return this.rootNode.argumentBitRatios[e]}const n=this._getFunction(e),r=n.argumentNames.indexOf(t);if(-1===r)throw new Error("argument not found");const i=n.argumentBitRatios[r];if("number"!=typeof i)throw new Error("argument bit ratio not found");return i}needsArgumentType(e,t){return!!this._isFunction(e)&&!this._getFunction(e).argumentTypes[t]}assignArgumentType(e,t,n,r){if(!this._isFunction(e))return;const i=this._getFunction(e);i.argumentTypes[t]||(i.argumentTypes[t]=n)}assignArgumentBitRatio(e,t,n,r){const i=this._getFunction(e);if(this._isNativeFunction(n))return null;const s=this._getFunction(n),o=i.argumentNames.indexOf(t);if(-1===o)throw new Error(`Argument ${t} not found in arguments from function ${e}`);const a=i.argumentBitRatios[o];if("number"!=typeof a)throw new Error(`Bit ratio for argument ${t} not found in function ${e}`);s.argumentBitRatios||(s.argumentBitRatios=new Array(s.argumentNames.length));const l=s.argumentBitRatios[o];if("number"==typeof l){if(l!==a)throw new Error(`Incompatible bit ratio found at function ${e} at argument ${t}`);return l}return s.argumentBitRatios[o]=a,a}trackFunctionCall(e,t,n){this.functionNodeDependencies[e]||(this.functionNodeDependencies[e]=new Set,this.functionCalls[e]=[]),this.functionNodeDependencies[e].add(t),this.functionCalls[e].push(n)}getKernelResultType(){return this.rootNode.returnType||this.rootNode.getType(this.rootNode.ast)}getSubKernelResultType(e){const t=this.subKernelNodes[e];let n=!1;for(let e=0;e<this.rootNode.functionCalls.length;e++)this.rootNode.functionCalls[e].ast.callee.name===t.name&&(n=!0);if(!n)throw new Error(`SubKernel ${t.name} never called by kernel`);return t.returnType||t.getType(t.getJsAST())}getReturnTypes(){const e={[this.rootNode.name]:this.rootNode.getType(this.rootNode.ast)},t=this.traceFunctionCalls(this.rootNode.name);for(let n=0;n<t.length;n++){const r=t[n],i=this.functionMap[r];e[r]=i.getType(i.ast)}return e}}n.exports={FunctionBuilder:r}},{}],10:[function(e,t){const n=e("acorn"),{utils:r}=e("../utils"),{FunctionTracer:i}=e("./function-tracer");class s{constructor(e,t){if(!e&&!t.ast)throw new Error("source parameter is missing");if(t=t||{},this.source=e,this.ast=null,this.name="string"==typeof e?t.isRootKernel?"kernel":t.name||r.getFunctionNameFromString(e):null,this.calledFunctions=[],this.constants={},this.constantTypes={},this.constantBitRatios={},this.isRootKernel=!1,this.isSubKernel=!1,this.debug=null,this.functions=null,this.identifiers=null,this.contexts=null,this.functionCalls=null,this.states=[],this.needsArgumentType=null,this.assignArgumentType=null,this.lookupReturnType=null,this.lookupFunctionArgumentTypes=null,this.lookupFunctionArgumentBitRatio=null,this.triggerImplyArgumentType=null,this.triggerImplyArgumentBitRatio=null,this.onNestedFunction=null,this.onFunctionCall=null,this.optimizeFloatMemory=null,this.precision=null,this.loopMaxIterations=null,this.argumentNames="string"==typeof this.source?r.getArgumentNamesFromString(this.source):null,this.argumentTypes=[],this.argumentSizes=[],this.argumentBitRatios=null,this.returnType=null,this.output=[],this.plugins=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.dynamicOutput=null,this.dynamicArguments=null,this.strictTypingChecking=!1,this.fixIntegerDivisionAccuracy=null,t)for(const e in t)t.hasOwnProperty(e)&&this.hasOwnProperty(e)&&(this[e]=t[e]);this.literalTypes={},this.validate(),this._string=null,this._internalVariableNames={}}validate(){if("string"!=typeof this.source&&!this.ast)throw new Error("this.source not a string");if(!this.ast&&!r.isFunctionString(this.source))throw new Error("this.source not a function string");if(!this.name)throw new Error("this.name could not be set");if(this.argumentTypes.length>0&&this.argumentTypes.length!==this.argumentNames.length)throw new Error(`argumentTypes count of ${this.argumentTypes.length} exceeds ${this.argumentNames.length}`);if(this.output.length<1)throw new Error("this.output is not big enough")}isIdentifierConstant(e){return!!this.constants&&this.constants.hasOwnProperty(e)}isInput(e){return"Input"===this.argumentTypes[this.argumentNames.indexOf(e)]}pushState(e){this.states.push(e)}popState(e){if(this.state!==e)throw new Error(`Cannot popState ${e} when in ${this.state}`);this.states.pop()}isState(e){return this.state===e}get state(){return this.states[this.states.length-1]}astMemberExpressionUnroll(e){if("Identifier"===e.type)return e.name;if("ThisExpression"===e.type)return"this";if("MemberExpression"===e.type&&e.object&&e.property)return e.object.hasOwnProperty("name")&&"Math"!==e.object.name?this.astMemberExpressionUnroll(e.property):this.astMemberExpressionUnroll(e.object)+"."+this.astMemberExpressionUnroll(e.property);if(e.hasOwnProperty("expressions")){const t=e.expressions[0];if("Literal"===t.type&&0===t.value&&2===e.expressions.length)return this.astMemberExpressionUnroll(e.expressions[1])}throw this.astErrorOutput("Unknown astMemberExpressionUnroll",e)}getJsAST(e){if(this.ast)return this.ast;if("object"==typeof this.source)return this.traceFunctionAST(this.source),this.ast=this.source;if(null===(e=e||n))throw new Error("Missing JS to AST parser");const t=Object.freeze(e.parse(`const parser_${this.name} = ${this.source};`,{locations:!0})),r=t.body[0].declarations[0].init;if(this.traceFunctionAST(r),!t)throw new Error("Failed to parse JS code");return this.ast=r}traceFunctionAST(e){const{contexts:t,declarations:n,functions:r,identifiers:s,functionCalls:o}=new i(e);this.contexts=t,this.identifiers=s,this.functionCalls=o,this.functions=r;for(let e=0;e<n.length;e++){const t=n[e],{ast:r,inForLoopInit:i,inForLoopTest:s}=t,{init:o}=r,a=this.getDependencies(o);let l=null;if(i&&s)l="Integer";else if(o){const e=this.getType(o);switch(e){case"Integer":case"Float":case"Number":l="MemberExpression"===o.type?e:"Number";break;case"LiteralInteger":l="Number";break;default:l=e}}t.valueType=l,t.dependencies=a,t.isSafe=this.isSafeDependencies(a)}for(let e=0;e<r.length;e++)this.onNestedFunction(r[e],this.source)}getDeclaration(e){for(let t=0;t<this.identifiers.length;t++){const n=this.identifiers[t];if(e===n.ast)return n.declaration}return null}getVariableType(e){if("Identifier"!==e.type)throw new Error(`ast of ${e.type} not "Identifier"`);let t=null;const n=this.argumentNames.indexOf(e.name);if(-1===n){const t=this.getDeclaration(e);if(t)return t.valueType}else{const e=this.argumentTypes[n];e&&(t=e)}if(!t&&this.strictTypingChecking)throw new Error(`Declaration of ${name} not found`);return t}getLookupType(e){if(!o.hasOwnProperty(e))throw new Error(`unknown typeLookupMap ${e}`);return o[e]}getConstantType(e){if(this.constantTypes[e]){const t=this.constantTypes[e];return"Float"===t?"Number":t}throw new Error(`Type for constant "${e}" not declared`)}toString(){return this._string?this._string:this._string=this.astGeneric(this.getJsAST(),[]).join("").trim()}toJSON(){return{ast:this.ast,settings:{source:this.source,name:this.name,constants:this.constants,constantTypes:this.constantTypes,isRootKernel:this.isRootKernel,isSubKernel:this.isSubKernel,debug:this.debug,output:this.output,loopMaxIterations:this.loopMaxIterations,argumentNames:this.argumentNames,argumentTypes:this.argumentTypes,argumentSizes:this.argumentSizes,returnType:this.returnType,leadingReturnStatement:this.leadingReturnStatement,followingReturnStatement:this.followingReturnStatement}}}getType(e){if(Array.isArray(e))return this.getType(e[e.length-1]);switch(e.type){case"BlockStatement":return this.getType(e.body);case"ArrayExpression":switch(this.getType(e.elements[0])){case"Array(2)":case"Array(3)":case"Array(4)":return`Matrix(${e.elements.length})`}return`Array(${e.elements.length})`;case"Literal":const t=this.astKey(e);return this.literalTypes[t]?this.literalTypes[t]:Number.isInteger(e.value)?"LiteralInteger":!0===e.value||!1===e.value?"Boolean":"Number";case"AssignmentExpression":return this.getType(e.left);case"CallExpression":if(this.isAstMathFunction(e))return"Number";if(!e.callee||!e.callee.name){if("SequenceExpression"===e.callee.type&&e.callee.expressions[e.callee.expressions.length-1].property.name){const t=e.callee.expressions[e.callee.expressions.length-1].property.name;return this.inferArgumentTypesIfNeeded(t,e.arguments),this.lookupReturnType(t,e,this)}if("this.color"===this.getVariableSignature(e.callee,!0))return null;if("MemberExpression"===e.callee.type&&e.callee.object&&e.callee.property&&e.callee.property.name&&e.arguments){const t=e.callee.property.name;return this.inferArgumentTypesIfNeeded(t,e.arguments),this.lookupReturnType(t,e,this)}throw this.astErrorOutput("Unknown call expression",e)}if(e.callee&&e.callee.name){const t=e.callee.name;return this.inferArgumentTypesIfNeeded(t,e.arguments),this.lookupReturnType(t,e,this)}throw this.astErrorOutput(`Unhandled getType Type "${e.type}"`,e);case"LogicalExpression":return"Boolean";case"BinaryExpression":switch(e.operator){case"%":case"/":if(this.fixIntegerDivisionAccuracy)return"Number";break;case">":case"<":return"Boolean";case"&":case"|":case"^":case"<<":case">>":case">>>":return"Integer"}const n=this.getType(e.left);if(this.isState("skip-literal-correction"))return n;if("LiteralInteger"===n){const t=this.getType(e.right);return"LiteralInteger"===t?e.left.value%1==0?"Integer":"Float":t}return o[n]||n;case"UpdateExpression":case"ReturnStatement":return this.getType(e.argument);case"UnaryExpression":return"~"===e.operator?"Integer":this.getType(e.argument);case"VariableDeclaration":{const t=e.declarations;let n;for(let e=0;e<t.length;e++)n=this.getType(t[e]);if(!n)throw this.astErrorOutput("Unable to find type for declaration",e);return n}case"VariableDeclarator":const r=this.getDeclaration(e.id);if(!r)throw this.astErrorOutput("Unable to find declarator",e);if(!r.valueType)throw this.astErrorOutput("Unable to find declarator valueType",e);return r.valueType;case"Identifier":if("Infinity"===e.name)return"Number";if(this.isAstVariable(e)&&"value"===this.getVariableSignature(e))return this.getCheckVariableType(e);const i=this.findIdentifierOrigin(e);return i&&i.init?this.getType(i.init):null;case"MemberExpression":if(this.isAstMathFunction(e)){switch(e.property.name){case"ceil":case"floor":case"round":return"Integer"}return"Number"}if(this.isAstVariable(e)){switch(this.getVariableSignature(e)){case"value[]":return this.getLookupType(this.getCheckVariableType(e.object));case"value[][]":return this.getLookupType(this.getCheckVariableType(e.object.object));case"value[][][]":return this.getLookupType(this.getCheckVariableType(e.object.object.object));case"value[][][][]":return this.getLookupType(this.getCheckVariableType(e.object.object.object.object));case"value.thread.value":case"this.thread.value":return"Integer";case"this.output.value":return this.dynamicOutput?"Integer":"LiteralInteger";case"this.constants.value":return this.getConstantType(e.property.name);case"this.constants.value[]":return this.getLookupType(this.getConstantType(e.object.property.name));case"this.constants.value[][]":return this.getLookupType(this.getConstantType(e.object.object.property.name));case"this.constants.value[][][]":return this.getLookupType(this.getConstantType(e.object.object.object.property.name));case"this.constants.value[][][][]":return this.getLookupType(this.getConstantType(e.object.object.object.object.property.name));case"fn()[]":case"fn()[][]":case"fn()[][][]":return this.getLookupType(this.getType(e.object));case"value.value":if(this.isAstMathVariable(e))return"Number";switch(e.property.name){case"r":case"g":case"b":case"a":return this.getLookupType(this.getCheckVariableType(e.object))}case"[][]":return"Number"}throw this.astErrorOutput("Unhandled getType MemberExpression",e)}throw this.astErrorOutput("Unhandled getType MemberExpression",e);case"ConditionalExpression":case"IfStatement":return this.getType(e.consequent);case"FunctionDeclaration":case"FunctionExpression":const s=this.findLastReturn(e.body);return s?this.getType(s):null;case"SequenceExpression":return this.getType(e.expressions[e.expressions.length-1]);default:throw this.astErrorOutput(`Unhandled getType Type "${e.type}"`,e)}}getCheckVariableType(e){const t=this.getVariableType(e);if(!t)throw this.astErrorOutput(`${e.type} is not defined`,e);return t}inferArgumentTypesIfNeeded(e,t){for(let n=0;n<t.length;n++){if(!this.needsArgumentType(e,n))continue;const r=this.getType(t[n]);if(!r)throw this.astErrorOutput(`Unable to infer argument ${n}`,t[n]);this.assignArgumentType(e,n,r)}}isAstMathVariable(e){return"MemberExpression"===e.type&&e.object&&"Identifier"===e.object.type&&"Math"===e.object.name&&e.property&&"Identifier"===e.property.type&&["E","PI","SQRT2","SQRT1_2","LN2","LN10","LOG2E","LOG10E"].indexOf(e.property.name)>-1}isAstMathFunction(e){return"CallExpression"===e.type&&e.callee&&"MemberExpression"===e.callee.type&&e.callee.object&&"Identifier"===e.callee.object.type&&"Math"===e.callee.object.name&&e.callee.property&&"Identifier"===e.callee.property.type&&["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","expm1","exp","floor","fround","imul","log","log2","log10","log1p","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc"].indexOf(e.callee.property.name)>-1}isAstVariable(e){return"Identifier"===e.type||"MemberExpression"===e.type}isSafe(e){return this.isSafeDependencies(this.getDependencies(e))}isSafeDependencies(e){return!e||!e.every||e.every((e=>e.isSafe))}getDependencies(e,t,n){if(t||(t=[]),!e)return null;if(Array.isArray(e)){for(let r=0;r<e.length;r++)this.getDependencies(e[r],t,n);return t}switch(e.type){case"AssignmentExpression":return this.getDependencies(e.left,t,n),this.getDependencies(e.right,t,n),t;case"ConditionalExpression":return this.getDependencies(e.test,t,n),this.getDependencies(e.alternate,t,n),this.getDependencies(e.consequent,t,n),t;case"Literal":t.push({origin:"literal",value:e.value,isSafe:!0!==n&&e.value>-1/0&&e.value<1/0&&!isNaN(e.value)});break;case"VariableDeclarator":return this.getDependencies(e.init,t,n);case"Identifier":const r=this.getDeclaration(e);if(r)t.push({name:e.name,origin:"declaration",isSafe:!n&&this.isSafeDependencies(r.dependencies)});else if(this.argumentNames.indexOf(e.name)>-1)t.push({name:e.name,origin:"argument",isSafe:!1});else if(this.strictTypingChecking)throw new Error(`Cannot find identifier origin "${e.name}"`);break;case"FunctionDeclaration":return this.getDependencies(e.body.body[e.body.body.length-1],t,n);case"ReturnStatement":return this.getDependencies(e.argument,t);case"BinaryExpression":case"LogicalExpression":return this.getDependencies(e.left,t,n="/"===e.operator||"*"===e.operator),this.getDependencies(e.right,t,n),t;case"UnaryExpression":case"UpdateExpression":return this.getDependencies(e.argument,t,n);case"VariableDeclaration":return this.getDependencies(e.declarations,t,n);case"ArrayExpression":return t.push({origin:"declaration",isSafe:!0}),t;case"CallExpression":return t.push({origin:"function",isSafe:!0}),t;case"MemberExpression":const i=this.getMemberExpressionDetails(e);switch(i.signature){case"value[]":this.getDependencies(e.object,t,n);break;case"value[][]":this.getDependencies(e.object.object,t,n);break;case"value[][][]":this.getDependencies(e.object.object.object,t,n);break;case"this.output.value":this.dynamicOutput&&t.push({name:i.name,origin:"output",isSafe:!1})}if(i)return i.property&&this.getDependencies(i.property,t,n),i.xProperty&&this.getDependencies(i.xProperty,t,n),i.yProperty&&this.getDependencies(i.yProperty,t,n),i.zProperty&&this.getDependencies(i.zProperty,t,n),t;case"SequenceExpression":return this.getDependencies(e.expressions,t,n);default:throw this.astErrorOutput(`Unhandled type ${e.type} in getDependencies`,e)}return t}getVariableSignature(e,t){if(!this.isAstVariable(e))throw new Error(`ast of type "${e.type}" is not a variable signature`);if("Identifier"===e.type)return"value";const n=[];for(;e;)e.computed?n.push("[]"):n.unshift("ThisExpression"===e.type?"this":e.property&&e.property.name?"x"===e.property.name||"y"===e.property.name||"z"===e.property.name?t?"."+e.property.name:".value":"constants"===e.property.name||"thread"===e.property.name||"output"===e.property.name||t?"."+e.property.name:".value":e.name?t?e.name:"value":e.callee&&e.callee.name?t?e.callee.name+"()":"fn()":e.elements?"[]":"unknown"),e=e.object;const r=n.join("");return t||["value","value[]","value[][]","value[][][]","value[][][][]","value.value","value.thread.value","this.thread.value","this.output.value","this.constants.value","this.constants.value[]","this.constants.value[][]","this.constants.value[][][]","this.constants.value[][][][]","fn()[]","fn()[][]","fn()[][][]","[][]"].indexOf(r)>-1?r:null}build(){return this.toString().length>0}astGeneric(e,t){if(null===e)throw this.astErrorOutput("NULL ast",e);if(Array.isArray(e)){for(let n=0;n<e.length;n++)this.astGeneric(e[n],t);return t}switch(e.type){case"FunctionDeclaration":return this.astFunctionDeclaration(e,t);case"FunctionExpression":return this.astFunctionExpression(e,t);case"ReturnStatement":return this.astReturnStatement(e,t);case"Literal":return this.astLiteral(e,t);case"BinaryExpression":return this.astBinaryExpression(e,t);case"Identifier":return this.astIdentifierExpression(e,t);case"AssignmentExpression":return this.astAssignmentExpression(e,t);case"ExpressionStatement":return this.astExpressionStatement(e,t);case"EmptyStatement":return this.astEmptyStatement(e,t);case"BlockStatement":return this.astBlockStatement(e,t);case"IfStatement":return this.astIfStatement(e,t);case"SwitchStatement":return this.astSwitchStatement(e,t);case"BreakStatement":return this.astBreakStatement(e,t);case"ContinueStatement":return this.astContinueStatement(e,t);case"ForStatement":return this.astForStatement(e,t);case"WhileStatement":return this.astWhileStatement(e,t);case"DoWhileStatement":return this.astDoWhileStatement(e,t);case"VariableDeclaration":return this.astVariableDeclaration(e,t);case"VariableDeclarator":return this.astVariableDeclarator(e,t);case"ThisExpression":return this.astThisExpression(e,t);case"SequenceExpression":return this.astSequenceExpression(e,t);case"UnaryExpression":return this.astUnaryExpression(e,t);case"UpdateExpression":return this.astUpdateExpression(e,t);case"LogicalExpression":return this.astLogicalExpression(e,t);case"MemberExpression":return this.astMemberExpression(e,t);case"CallExpression":return this.astCallExpression(e,t);case"ArrayExpression":return this.astArrayExpression(e,t);case"DebuggerStatement":return this.astDebuggerStatement(e,t);case"ConditionalExpression":return this.astConditionalExpression(e,t)}throw this.astErrorOutput("Unknown ast type : "+e.type,e)}astErrorOutput(e,t){if("string"!=typeof this.source)return new Error(e);const n=r.getAstString(this.source,t),i=this.source.substr(t.start).split(/\n/);return new Error(`${e} on line ${i.length}, position ${(i.length>0?i[i.length-1]:0).length}:\n ${n}`)}astDebuggerStatement(e,t){return t}astConditionalExpression(e,t){if("ConditionalExpression"!==e.type)throw this.astErrorOutput("Not a conditional expression",e);return t.push("("),this.astGeneric(e.test,t),t.push("?"),this.astGeneric(e.consequent,t),t.push(":"),this.astGeneric(e.alternate,t),t.push(")"),t}astFunction(e,t){throw new Error(`"astFunction" not defined on ${this.constructor.name}`)}astFunctionDeclaration(e,t){return this.isChildFunction(e)?t:this.astFunction(e,t)}astFunctionExpression(e,t){return this.isChildFunction(e)?t:this.astFunction(e,t)}isChildFunction(e){for(let t=0;t<this.functions.length;t++)if(this.functions[t]===e)return!0;return!1}astReturnStatement(e,t){return t}astLiteral(e,t){return this.literalTypes[this.astKey(e)]="Number",t}astBinaryExpression(e,t){return t}astIdentifierExpression(e,t){return t}astAssignmentExpression(e,t){return t}astExpressionStatement(e,t){return this.astGeneric(e.expression,t),t.push(";"),t}astEmptyStatement(e,t){return t}astBlockStatement(e,t){return t}astIfStatement(e,t){return t}astSwitchStatement(e,t){return t}astBreakStatement(e,t){return t.push("break;"),t}astContinueStatement(e,t){return t.push("continue;\n"),t}astForStatement(e,t){return t}astWhileStatement(e,t){return t}astDoWhileStatement(e,t){return t}astVariableDeclarator(e,t){return this.astGeneric(e.id,t),null!==e.init&&(t.push("="),this.astGeneric(e.init,t)),t}astThisExpression(e,t){return t}astSequenceExpression(e,t){const{expressions:n}=e,r=[];for(let e=0;e<n.length;e++){const t=[];this.astGeneric(n[e],t),r.push(t.join(""))}return r.length>1?t.push("(",r.join(","),")"):t.push(r[0]),t}astUnaryExpression(e,t){return this.checkAndUpconvertBitwiseUnary(e,t)||(e.prefix?(t.push(e.operator),this.astGeneric(e.argument,t)):(this.astGeneric(e.argument,t),t.push(e.operator))),t}checkAndUpconvertBitwiseUnary(e,t){}astUpdateExpression(e,t){return e.prefix?(t.push(e.operator),this.astGeneric(e.argument,t)):(this.astGeneric(e.argument,t),t.push(e.operator)),t}astLogicalExpression(e,t){return t.push("("),this.astGeneric(e.left,t),t.push(e.operator),this.astGeneric(e.right,t),t.push(")"),t}astMemberExpression(e,t){return t}astCallExpression(e,t){return t}astArrayExpression(e,t){return t}getMemberExpressionDetails(e){if("MemberExpression"!==e.type)throw this.astErrorOutput(`Expression ${e.type} not a MemberExpression`,e);let t=null,n=null;const r=this.getVariableSignature(e);switch(r){case"value":return null;case"value.thread.value":case"this.thread.value":case"this.output.value":return{signature:r,type:"Integer",name:e.property.name};case"value[]":if("string"!=typeof e.object.name)throw this.astErrorOutput("Unexpected expression",e);return t=e.object.name,{name:t,origin:"user",signature:r,type:this.getVariableType(e.object),xProperty:e.property};case"value[][]":if("string"!=typeof e.object.object.name)throw this.astErrorOutput("Unexpected expression",e);return t=e.object.object.name,{name:t,origin:"user",signature:r,type:this.getVariableType(e.object.object),yProperty:e.object.property,xProperty:e.property};case"value[][][]":if("string"!=typeof e.object.object.object.name)throw this.astErrorOutput("Unexpected expression",e);return t=e.object.object.object.name,{name:t,origin:"user",signature:r,type:this.getVariableType(e.object.object.object),zProperty:e.object.object.property,yProperty:e.object.property,xProperty:e.property};case"value[][][][]":if("string"!=typeof e.object.object.object.object.name)throw this.astErrorOutput("Unexpected expression",e);return t=e.object.object.object.object.name,{name:t,origin:"user",signature:r,type:this.getVariableType(e.object.object.object.object),zProperty:e.object.object.property,yProperty:e.object.property,xProperty:e.property};case"value.value":if("string"!=typeof e.property.name)throw this.astErrorOutput("Unexpected expression",e);if(this.isAstMathVariable(e))return t=e.property.name,{name:t,origin:"Math",type:"Number",signature:r};switch(e.property.name){case"r":case"g":case"b":case"a":return t=e.object.name,{name:t,property:e.property.name,origin:"user",signature:r,type:"Number"};default:throw this.astErrorOutput("Unexpected expression",e)}case"this.constants.value":if("string"!=typeof e.property.name)throw this.astErrorOutput("Unexpected expression",e);if(t=e.property.name,n=this.getConstantType(t),!n)throw this.astErrorOutput("Constant has no type",e);return{name:t,type:n,origin:"constants",signature:r};case"this.constants.value[]":if("string"!=typeof e.object.property.name)throw this.astErrorOutput("Unexpected expression",e);if(t=e.object.property.name,n=this.getConstantType(t),!n)throw this.astErrorOutput("Constant has no type",e);return{name:t,type:n,origin:"constants",signature:r,xProperty:e.property};case"this.constants.value[][]":if("string"!=typeof e.object.object.property.name)throw this.astErrorOutput("Unexpected expression",e);if(t=e.object.object.property.name,n=this.getConstantType(t),!n)throw this.astErrorOutput("Constant has no type",e);return{name:t,type:n,origin:"constants",signature:r,yProperty:e.object.property,xProperty:e.property};case"this.constants.value[][][]":if("string"!=typeof e.object.object.object.property.name)throw this.astErrorOutput("Unexpected expression",e);if(t=e.object.object.object.property.name,n=this.getConstantType(t),!n)throw this.astErrorOutput("Constant has no type",e);return{name:t,type:n,origin:"constants",signature:r,zProperty:e.object.object.property,yProperty:e.object.property,xProperty:e.property};case"fn()[]":case"fn()[][]":case"[][]":return{signature:r,property:e.property};default:throw this.astErrorOutput("Unexpected expression",e)}}findIdentifierOrigin(e){const t=[this.ast];for(;t.length>0;){const n=t[0];if("VariableDeclarator"===n.type&&n.id&&n.id.name&&n.id.name===e.name)return n;if(t.shift(),n.argument)t.push(n.argument);else if(n.body)t.push(n.body);else if(n.declarations)t.push(n.declarations);else if(Array.isArray(n))for(let e=0;e<n.length;e++)t.push(n[e])}return null}findLastReturn(e){const t=[e||this.ast];for(;t.length>0;){const e=t.pop();if("ReturnStatement"===e.type)return e;if("FunctionDeclaration"!==e.type)if(e.argument)t.push(e.argument);else if(e.body)t.push(e.body);else if(e.declarations)t.push(e.declarations);else if(Array.isArray(e))for(let n=0;n<e.length;n++)t.push(e[n]);else e.consequent?t.push(e.consequent):e.cases&&t.push(e.cases)}return null}getInternalVariableName(e){return this._internalVariableNames.hasOwnProperty(e)||(this._internalVariableNames[e]=0),this._internalVariableNames[e]++,1===this._internalVariableNames[e]?e:e+this._internalVariableNames[e]}astKey(e,t=","){if(!e.start||!e.end)throw new Error("AST start and end needed");return`${e.start}${t}${e.end}`}}const o={Number:"Number",Float:"Float",Integer:"Integer",Array:"Number","Array(2)":"Number","Array(3)":"Number","Array(4)":"Number","Matrix(2)":"Number","Matrix(3)":"Number","Matrix(4)":"Number",Array2D:"Number",Array3D:"Number",Input:"Number",HTMLCanvas:"Array(4)",HTMLImage:"Array(4)",HTMLVideo:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number",MemoryOptimizedNumberTexture:"Number","Array1D(2)":"Array(2)","Array1D(3)":"Array(3)","Array1D(4)":"Array(4)","Array2D(2)":"Array(2)","Array2D(3)":"Array(3)","Array2D(4)":"Array(4)","Array3D(2)":"Array(2)","Array3D(3)":"Array(3)","Array3D(4)":"Array(4)","ArrayTexture(1)":"Number","ArrayTexture(2)":"Array(2)","ArrayTexture(3)":"Array(3)","ArrayTexture(4)":"Array(4)"};t.exports={FunctionNode:s}},{"../utils":114,"./function-tracer":11,acorn:1}],11:[function(e,n){function r(e){return e.length>0?e[e.length-1]:null}const{utils:i}=e("../utils"),s={trackIdentifiers:"trackIdentifiers",memberExpression:"memberExpression",inForLoopInit:"inForLoopInit"};class o{constructor(e){this.runningContexts=[],this.functionContexts=[],this.contexts=[],this.functionCalls=[],this.declarations=[],this.identifiers=[],this.functions=[],this.returnStatements=[],this.trackedIdentifiers=null,this.states=[],this.newFunctionContext(),this.scan(e)}isState(e){return this.states[this.states.length-1]===e}hasState(e){return this.states.indexOf(e)>-1}pushState(e){this.states.push(e)}popState(e){if(!this.isState(e))throw new Error(`Cannot pop the non-active state "${e}"`);this.states.pop()}get currentFunctionContext(){return r(this.functionContexts)}get currentContext(){return r(this.runningContexts)}newFunctionContext(){const e={"@contextType":"function"};this.contexts.push(e),this.functionContexts.push(e)}newContext(e){const n=t({"@contextType":"const/let"},this.currentContext);this.contexts.push(n),this.runningContexts.push(n),e();const{currentFunctionContext:r}=this;for(const e in r)r.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=r[e]);return this.runningContexts.pop(),n}useFunctionContext(e){const t=r(this.functionContexts);this.runningContexts.push(t),e(),this.runningContexts.pop()}getIdentifiers(e){const t=this.trackedIdentifiers=[];return this.pushState(s.trackIdentifiers),e(),this.trackedIdentifiers=null,this.popState(s.trackIdentifiers),t}getDeclaration(e){const{currentContext:t,currentFunctionContext:n,runningContexts:r}=this,i=t[e]||n[e]||null;if(!i&&t===n&&r.length>0){const t=r[r.length-2];if(t[e])return t[e]}return i}scan(e){if(e)if(Array.isArray(e))for(let t=0;t<e.length;t++)this.scan(e[t]);else switch(e.type){case"Program":this.useFunctionContext((()=>{this.scan(e.body)}));break;case"BlockStatement":this.newContext((()=>{this.scan(e.body)}));break;case"AssignmentExpression":case"LogicalExpression":case"BinaryExpression":this.scan(e.left),this.scan(e.right);break;case"UpdateExpression":if("++"===e.operator){const t=this.getDeclaration(e.argument.name);t&&(t.suggestedType="Integer")}this.scan(e.argument);break;case"UnaryExpression":this.scan(e.argument);break;case"VariableDeclaration":"var"===e.kind?this.useFunctionContext((()=>{e.declarations=i.normalizeDeclarations(e),this.scan(e.declarations)})):(e.declarations=i.normalizeDeclarations(e),this.scan(e.declarations));break;case"VariableDeclarator":{const{currentContext:t}=this,n=this.hasState(s.inForLoopInit),r={ast:e,context:t,name:e.id.name,origin:"declaration",inForLoopInit:n,inForLoopTest:null,assignable:t===this.currentFunctionContext||!n&&!t.hasOwnProperty(e.id.name),suggestedType:null,valueType:null,dependencies:null,isSafe:null};t[e.id.name]||(t[e.id.name]=r),this.declarations.push(r),this.scan(e.id),this.scan(e.init);break}case"FunctionExpression":case"FunctionDeclaration":0===this.runningContexts.length?this.scan(e.body):this.functions.push(e);break;case"IfStatement":this.scan(e.test),this.scan(e.consequent),e.alternate&&this.scan(e.alternate);break;case"ForStatement":{let t;const n=this.newContext((()=>{this.pushState(s.inForLoopInit),this.scan(e.init),this.popState(s.inForLoopInit),t=this.getIdentifiers((()=>{this.scan(e.test)})),this.scan(e.update),this.newContext((()=>{this.scan(e.body)}))}));if(t)for(const e in n)"@contextType"!==e&&t.indexOf(e)>-1&&(n[e].inForLoopTest=!0);break}case"DoWhileStatement":case"WhileStatement":this.newContext((()=>{this.scan(e.body),this.scan(e.test)}));break;case"Identifier":this.isState(s.trackIdentifiers)&&this.trackedIdentifiers.push(e.name),this.identifiers.push({context:this.currentContext,declaration:this.getDeclaration(e.name),ast:e});break;case"ReturnStatement":this.returnStatements.push(e),this.scan(e.argument);break;case"MemberExpression":this.pushState(s.memberExpression),this.scan(e.object),this.scan(e.property),this.popState(s.memberExpression);break;case"ExpressionStatement":this.scan(e.expression);break;case"SequenceExpression":this.scan(e.expressions);break;case"CallExpression":this.functionCalls.push({context:this.currentContext,ast:e}),this.scan(e.arguments);break;case"ArrayExpression":this.scan(e.elements);break;case"ConditionalExpression":this.scan(e.test),this.scan(e.alternate),this.scan(e.consequent);break;case"SwitchStatement":this.scan(e.discriminant),this.scan(e.cases);break;case"SwitchCase":this.scan(e.test),this.scan(e.consequent);break;case"ThisExpression":case"Literal":case"DebuggerStatement":case"EmptyStatement":case"BreakStatement":case"ContinueStatement":break;default:throw new Error(`unhandled type "${e.type}"`)}}}n.exports={FunctionTracer:o}},{"../utils":114}],12:[function(e,t){function n(e){return e.toString().replace("=>","").replace(/^function /,"").replace(/utils[.]/g,"/*utils.*/")}function r(e,t,r,c,h){r.built||r.build.apply(r,t),t=t?Array.from(t).map((e=>{switch(typeof e){case"boolean":return new Boolean(e);case"number":return new Number(e);default:return e}})):null;const p=[],d=[],f=l(r.context,{useTrackablePrimitives:!0,onReadPixels:e=>{if(O.subKernels){if(g){const t=O.subKernels[m++].property;d.push(`    result${isNaN(t)?"."+t:`[${t}]`} = ${i(e,O)};`)}else d.push(`    const result = { result: ${i(e,O)} };`),g=!0;m===O.subKernels.length&&d.push("    return result;")}else d.push(e?`    return ${i(e,O)};`:"    return null;")},onUnrecognizedArgumentLookup:e=>{const t=a(e,O.kernelArguments,[],f,p);if(t)return t;const n=a(e,O.kernelConstants,S?Object.keys(S).map((e=>S[e])):[],f,p);return n||null}});let g=!1,m=0;const{source:y,canvas:v,output:x,pipeline:b,graphical:_,loopMaxIterations:w,constants:S,optimizeFloatMemory:T,precision:A,fixIntegerDivisionAccuracy:E,functions:k,nativeFunctions:C,subKernels:L,immutable:$,argumentTypes:R,constantTypes:I,kernelConstants:M,tactic:N}=r,O=new e(y,{canvas:v,context:f,checkContext:!1,output:x,pipeline:b,graphical:_,loopMaxIterations:w,constants:S,optimizeFloatMemory:T,precision:A,fixIntegerDivisionAccuracy:E,functions:k,nativeFunctions:C,subKernels:L,immutable:$,argumentTypes:R,constantTypes:I,tactic:N});let D=[];if(f.setIndent(2),O.build.apply(O,t),D.push(f.toString()),f.reset(),O.kernelArguments.forEach(((e,n)=>{switch(e.type){case"Integer":case"Boolean":case"Number":case"Float":case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":case"Input":f.insertVariable(`uploadValue_${e.name}`,e.uploadValue);break;case"HTMLImageArray":for(let r=0;r<t[n].length;r++)f.insertVariable(`uploadValue_${e.name}[${r}]`,t[n][r]);break;case"MemoryOptimizedNumberTexture":case"NumberTexture":case"Array1D(2)":case"Array1D(3)":case"Array1D(4)":case"Array2D(2)":case"Array2D(3)":case"Array2D(4)":case"Array3D(2)":case"Array3D(3)":case"Array3D(4)":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":f.insertVariable(`uploadValue_${e.name}`,t[n].texture);break;default:throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${e.type}`)}})),D.push("/** start of injected functions **/"),D.push(`function ${n(u.flattenTo)}`),D.push(`function ${n(u.flatten2dArrayTo)}`),D.push(`function ${n(u.flatten3dArrayTo)}`),D.push(`function ${n(u.flatten4dArrayTo)}`),D.push(`function ${n(u.isArray)}`),O.renderOutput!==O.renderTexture&&O.formatValues&&D.push(`  const renderOutput = function ${n(O.formatValues)};`),D.push("/** end of injected functions **/"),D.push(`  const innerKernel = function (${O.kernelArguments.map((e=>e.varName)).join(", ")}) {`),f.setIndent(4),O.run.apply(O,t),O.renderKernels?O.renderKernels():O.renderOutput&&O.renderOutput(),D.push("    /** start setup uploads for kernel values **/"),O.kernelArguments.forEach((e=>{D.push("    "+e.getStringValueHandler().split("\n").join("\n    "))})),D.push("    /** end setup uploads for kernel values **/"),D.push(f.toString()),O.renderOutput===O.renderTexture){f.reset();const e=f.getContextVariableName(O.framebuffer);if(O.renderKernels){const t=O.renderKernels(),n=f.getContextVariableName(O.texture.texture);D.push(`    return {\n      result: {\n        texture: ${n},\n        type: '${t.result.type}',\n        toArray: ${o(t.result,n,e)}\n      },`);const{subKernels:r,mappedTextures:i}=O;for(let n=0;n<r.length;n++){const s=r[n],a=t[s.property],l=f.getContextVariableName(i[n].texture);D.push(`\n      ${s.property}: {\n        texture: ${l},\n        type: '${a.type}',\n        toArray: ${o(a,l,e)}\n      },`)}D.push("    };")}else{const t=O.renderOutput(),n=f.getContextVariableName(O.texture.texture);D.push(`    return {\n        texture: ${n},\n        type: '${t.type}',\n        toArray: ${o(t,n,e)}\n      };`)}}D.push("    "+(h?"\n"+h+"    ":"")),D.push(d.join("\n")),D.push("  };"),O.graphical&&(D.push(s(O)),D.push("  innerKernel.getPixels = getPixels;")),D.push("  return innerKernel;");let F=[];return M.forEach((e=>{F.push(`${e.getStringValueHandler()}`)})),`function kernel(settings) {\n  const { context, constants } = settings;\n  ${F.join("")}\n  ${c||""}\n${D.join("\n")}\n}`}function i(e,t){const n="single"===t.precision?e:`new Float32Array(${e}.buffer)`;return t.output[2]?`renderOutput(${n}, ${t.output[0]}, ${t.output[1]}, ${t.output[2]})`:t.output[1]?`renderOutput(${n}, ${t.output[0]}, ${t.output[1]})`:`renderOutput(${n}, ${t.output[0]})`}function s(e){const t=e.getPixels.toString(),n=!/^function/.test(t);return u.flattenFunctionToString(`${n?"function ":""}${t}`,{findDependency:(e,t)=>"utils"===e?`const ${t} = ${u[t].toString()};`:null,thisLookup:t=>{if("context"===t)return null;if(e.hasOwnProperty(t))return JSON.stringify(e[t]);throw new Error(`unhandled thisLookup ${t}`)}})}function o(e,t,n){const r=e.toArray.toString(),i=!/^function/.test(r);return`() => {\n  function framebuffer() { return ${n}; };\n  ${u.flattenFunctionToString(`${i?"function ":""}${r}`,{findDependency:(t,n)=>{if("utils"===t)return`const ${n} = ${u[n].toString()};`;if("this"===t)return"framebuffer"===n?"":`${i?"function ":""}${e[n].toString()}`;throw new Error("unhandled fromObject")},thisLookup:(n,r)=>{if("texture"===n)return t;if("context"===n)return r?null:"gl";if(e.hasOwnProperty(n))return JSON.stringify(e[n]);throw new Error(`unhandled thisLookup ${n}`)}})}\n  return toArray();\n  }`}function a(e,t,n,r){if(null===e)return null;if(null===t)return null;switch(typeof e){case"boolean":case"number":return null}if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)for(let i=0;i<t.length;i++){const s=t[i];if("HTMLImageArray"!==s.type&&s)continue;if(s.uploadValue!==e)continue;const o=n[i].indexOf(e);if(-1===o)continue;const a=`uploadValue_${s.name}[${o}]`;return r.insertVariable(a,e),a}for(let n=0;n<t.length;n++){const i=t[n];if(e!==i.uploadValue)continue;const s=`uploadValue_${i.name}`;return r.insertVariable(s,i),s}return null}const{glWiretap:l}=e("gl-wiretap"),{utils:u}=e("../../utils");t.exports={glKernelString:r}},{"../../utils":114,"gl-wiretap":3}],13:[function(e,t){const{Kernel:n}=e("../kernel"),{utils:r}=e("../../utils"),{GLTextureArray2Float:i}=e("./texture/array-2-float"),{GLTextureArray2Float2D:s}=e("./texture/array-2-float-2d"),{GLTextureArray2Float3D:o}=e("./texture/array-2-float-3d"),{GLTextureArray3Float:a}=e("./texture/array-3-float"),{GLTextureArray3Float2D:l}=e("./texture/array-3-float-2d"),{GLTextureArray3Float3D:u}=e("./texture/array-3-float-3d"),{GLTextureArray4Float:c}=e("./texture/array-4-float"),{GLTextureArray4Float2D:h}=e("./texture/array-4-float-2d"),{GLTextureArray4Float3D:p}=e("./texture/array-4-float-3d"),{GLTextureFloat:d}=e("./texture/float"),{GLTextureFloat2D:f}=e("./texture/float-2d"),{GLTextureFloat3D:g}=e("./texture/float-3d"),{GLTextureMemoryOptimized:m}=e("./texture/memory-optimized"),{GLTextureMemoryOptimized2D:y}=e("./texture/memory-optimized-2d"),{GLTextureMemoryOptimized3D:v}=e("./texture/memory-optimized-3d"),{GLTextureUnsigned:x}=e("./texture/unsigned"),{GLTextureUnsigned2D:b}=e("./texture/unsigned-2d"),{GLTextureUnsigned3D:_}=e("./texture/unsigned-3d"),{GLTextureGraphical:w}=e("./texture/graphical");class S extends n{static get mode(){return"gpu"}static getIsFloatRead(){const e=new this("function kernelFunction() {\n      return 1;\n    }",{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[1],precision:"single",returnType:"Number",tactic:"speed"});e.build(),e.run();const t=e.renderOutput();return e.destroy(!0),1===t[0]}static getIsIntegerDivisionAccurate(){function e(e,t){return e[this.thread.x]/t[this.thread.x]}const t=new this(e.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[2],returnType:"Number",precision:"unsigned",tactic:"speed"}),n=[[6,6030401],[3,3991]];t.build.apply(t,n),t.run.apply(t,n);const r=t.renderOutput();return t.destroy(!0),2===r[0]&&1511===r[1]}static getIsSpeedTacticSupported(){function e(e){return e[this.thread.x]}const t=new this(e.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[4],returnType:"Number",precision:"unsigned",tactic:"speed"}),n=[[0,1,2,3]];t.build.apply(t,n),t.run.apply(t,n);const r=t.renderOutput();return t.destroy(!0),0===Math.round(r[0])&&1===Math.round(r[1])&&2===Math.round(r[2])&&3===Math.round(r[3])}static get testCanvas(){throw new Error(`"testCanvas" not defined on ${this.name}`)}static get testContext(){throw new Error(`"testContext" not defined on ${this.name}`)}static getFeatures(){const e=this.testContext,t=this.getIsDrawBuffers();return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),isTextureFloat:this.getIsTextureFloat(),isDrawBuffers:t,kernelMap:t,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT),lowFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT),mediumIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT),mediumFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT),highIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT),highFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT)})}static setupFeatureChecks(){throw new Error(`"setupFeatureChecks" not defined on ${this.name}`)}static getSignature(e,t){return e.getVariablePrecisionString()+(t.length>0?":"+t.join(","):"")}setFixIntegerDivisionAccuracy(e){return this.fixIntegerDivisionAccuracy=e,this}setPrecision(e){return this.precision=e,this}setFloatTextures(e){return r.warnDeprecated("method","setFloatTextures","setOptimizeFloatMemory"),this.floatTextures=e,this}static nativeFunctionArguments(e){const t=[],n=[],r=[],i=/^[a-zA-Z_]/,s=/[a-zA-Z_0-9]/;let o=0,a=null,l=null;for(;o<e.length;){const u=e[o],c=e[o+1],h=r.length>0?r[r.length-1]:null;if("FUNCTION_ARGUMENTS"!==h||"/"!==u||"*"!==c)if("MULTI_LINE_COMMENT"!==h||"*"!==u||"/"!==c)if("FUNCTION_ARGUMENTS"!==h||"/"!==u||"/"!==c)if("COMMENT"!==h||"\n"!==u)if(null!==h||"("!==u){if("FUNCTION_ARGUMENTS"===h){if(")"===u){r.pop();break}if("f"===u&&"l"===c&&"o"===e[o+2]&&"a"===e[o+3]&&"t"===e[o+4]&&" "===e[o+5]){r.push("DECLARE_VARIABLE"),l="float",a="",o+=6;continue}if("i"===u&&"n"===c&&"t"===e[o+2]&&" "===e[o+3]){r.push("DECLARE_VARIABLE"),l="int",a="",o+=4;continue}if("v"===u&&"e"===c&&"c"===e[o+2]&&"2"===e[o+3]&&" "===e[o+4]){r.push("DECLARE_VARIABLE"),l="vec2",a="",o+=5;continue}if("v"===u&&"e"===c&&"c"===e[o+2]&&"3"===e[o+3]&&" "===e[o+4]){r.push("DECLARE_VARIABLE"),l="vec3",a="",o+=5;continue}if("v"===u&&"e"===c&&"c"===e[o+2]&&"4"===e[o+3]&&" "===e[o+4]){r.push("DECLARE_VARIABLE"),l="vec4",a="",o+=5;continue}}else if("DECLARE_VARIABLE"===h){if(""===a){if(" "===u){o++;continue}if(!i.test(u))throw new Error("variable name is not expected string")}a+=u,s.test(c)||(r.pop(),n.push(a),t.push(T[l]))}o++}else r.push("FUNCTION_ARGUMENTS"),o++;else r.pop(),o++;else r.push("COMMENT"),o+=2;else r.pop(),o+=2;else r.push("MULTI_LINE_COMMENT"),o+=2}if(r.length>0)throw new Error("GLSL function was not parsable");return{argumentNames:n,argumentTypes:t}}static nativeFunctionReturnType(e){return T[e.match(/int|float|vec[2-4]/)[0]]}static combineKernels(e,t){e.apply(null,arguments);const{texSize:n,context:i,threadDim:s}=t.texSize;let o;if("single"===t.precision){const e=n[0],t=Math.ceil(n[1]/4);o=new Float32Array(e*t*4*4),i.readPixels(0,0,e,4*t,i.RGBA,i.FLOAT,o)}else{const e=new Uint8Array(n[0]*n[1]*4);i.readPixels(0,0,n[0],n[1],i.RGBA,i.UNSIGNED_BYTE,e),o=new Float32Array(e.buffer)}return o=o.subarray(0,s[0]*s[1]*s[2]),1===t.output.length?o:2===t.output.length?r.splitArray(o,t.output[0]):3===t.output.length?r.splitArray(o,t.output[0]*t.output[1]).map((function(e){return r.splitArray(e,t.output[0])})):void 0}constructor(e,t){super(e,t),this.transferValues=null,this.formatValues=null,this.TextureConstructor=null,this.renderOutput=null,this.renderRawOutput=null,this.texSize=null,this.translatedSource=null,this.compiledFragmentShader=null,this.compiledVertexShader=null,this.switchingKernels=null,this._textureSwitched=null,this._mappedTextureSwitched=null}checkTextureSize(){const{features:e}=this.constructor;if(this.texSize[0]>e.maxTextureSize||this.texSize[1]>e.maxTextureSize)throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${e.maxTextureSize},${e.maxTextureSize}]`)}translateSource(){throw new Error(`"translateSource" not defined on ${this.constructor.name}`)}pickRenderStrategy(e){if(this.graphical)return this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=e=>e,this.TextureConstructor=w,null;if("unsigned"===this.precision)if(this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=this.readPackedPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,null!==this.subKernels&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=_,null):this.output[1]>0?(this.TextureConstructor=b,null):(this.TextureConstructor=x,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(e)}else switch(null!==this.subKernels&&(this.renderKernels=this.renderKernelsToArrays),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.renderOutput=this.renderValues,this.output[2]>0?(this.TextureConstructor=_,this.formatValues=r.erect3DPackedFloat,null):this.output[1]>0?(this.TextureConstructor=b,this.formatValues=r.erect2DPackedFloat,null):(this.TextureConstructor=x,this.formatValues=r.erectPackedFloat,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(e)}else{if("single"!==this.precision)throw new Error(`unhandled precision of "${this.precision}"`);if(this.renderRawOutput=this.readFloatPixelsToFloat32Array,this.transferValues=this.readFloatPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,null!==this.subKernels&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.optimizeFloatMemory?this.output[2]>0?(this.TextureConstructor=v,null):this.output[1]>0?(this.TextureConstructor=y,null):(this.TextureConstructor=m,null):this.output[2]>0?(this.TextureConstructor=g,null):this.output[1]>0?(this.TextureConstructor=f,null):(this.TextureConstructor=d,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=o,null):this.output[1]>0?(this.TextureConstructor=s,null):(this.TextureConstructor=i,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=u,null):this.output[1]>0?(this.TextureConstructor=l,null):(this.TextureConstructor=a,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=p,null):this.output[1]>0?(this.TextureConstructor=h,null):(this.TextureConstructor=c,null)}if(this.renderOutput=this.renderValues,null!==this.subKernels&&(this.renderKernels=this.renderKernelsToArrays),this.optimizeFloatMemory)switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=v,this.formatValues=r.erectMemoryOptimized3DFloat,null):this.output[1]>0?(this.TextureConstructor=y,this.formatValues=r.erectMemoryOptimized2DFloat,null):(this.TextureConstructor=m,this.formatValues=r.erectMemoryOptimizedFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=o,this.formatValues=r.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=s,this.formatValues=r.erect2DArray2,null):(this.TextureConstructor=i,this.formatValues=r.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=u,this.formatValues=r.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=l,this.formatValues=r.erect2DArray3,null):(this.TextureConstructor=a,this.formatValues=r.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=p,this.formatValues=r.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=h,this.formatValues=r.erect2DArray4,null):(this.TextureConstructor=c,this.formatValues=r.erectArray4,null)}else switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=g,this.formatValues=r.erect3DFloat,null):this.output[1]>0?(this.TextureConstructor=f,this.formatValues=r.erect2DFloat,null):(this.TextureConstructor=d,this.formatValues=r.erectFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=o,this.formatValues=r.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=s,this.formatValues=r.erect2DArray2,null):(this.TextureConstructor=i,this.formatValues=r.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=u,this.formatValues=r.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=l,this.formatValues=r.erect2DArray3,null):(this.TextureConstructor=a,this.formatValues=r.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=p,this.formatValues=r.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=h,this.formatValues=r.erect2DArray4,null):(this.TextureConstructor=c,this.formatValues=r.erectArray4,null)}}throw new Error(`unhandled return type "${this.returnType}"`)}getKernelString(){throw new Error("abstract method call")}getMainResultTexture(){switch(this.returnType){case"LiteralInteger":case"Float":case"Integer":case"Number":return this.getMainResultNumberTexture();case"Array(2)":return this.getMainResultArray2Texture();case"Array(3)":return this.getMainResultArray3Texture();case"Array(4)":return this.getMainResultArray4Texture();default:throw new Error(`unhandled returnType type ${this.returnType}`)}}getMainResultKernelNumberTexture(){throw new Error("abstract method call")}getMainResultSubKernelNumberTexture(){throw new Error("abstract method call")}getMainResultKernelArray2Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray2Texture(){throw new Error("abstract method call")}getMainResultKernelArray3Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray3Texture(){throw new Error("abstract method call")}getMainResultKernelArray4Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray4Texture(){throw new Error("abstract method call")}getMainResultGraphical(){throw new Error("abstract method call")}getMainResultMemoryOptimizedFloats(){throw new Error("abstract method call")}getMainResultPackedPixels(){throw new Error("abstract method call")}getMainResultString(){return this.graphical?this.getMainResultGraphical():"single"===this.precision?this.optimizeFloatMemory?this.getMainResultMemoryOptimizedFloats():this.getMainResultTexture():this.getMainResultPackedPixels()}getMainResultNumberTexture(){return r.linesToString(this.getMainResultKernelNumberTexture())+r.linesToString(this.getMainResultSubKernelNumberTexture())}getMainResultArray2Texture(){return r.linesToString(this.getMainResultKernelArray2Texture())+r.linesToString(this.getMainResultSubKernelArray2Texture())}getMainResultArray3Texture(){return r.linesToString(this.getMainResultKernelArray3Texture())+r.linesToString(this.getMainResultSubKernelArray3Texture())}getMainResultArray4Texture(){return r.linesToString(this.getMainResultKernelArray4Texture())+r.linesToString(this.getMainResultSubKernelArray4Texture())}getFloatTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} float;\n`}getIntTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic,!0)} int;\n`}getSampler2DTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2D;\n`}getSampler2DArrayTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2DArray;\n`}renderTexture(){return this.immutable?this.texture.clone():this.texture}readPackedPixelsToUint8Array(){if("unsigned"!==this.precision)throw new Error('Requires this.precision to be "unsigned"');const{texSize:e,context:t}=this,n=new Uint8Array(e[0]*e[1]*4);return t.readPixels(0,0,e[0],e[1],t.RGBA,t.UNSIGNED_BYTE,n),n}readPackedPixelsToFloat32Array(){return new Float32Array(this.readPackedPixelsToUint8Array().buffer)}readFloatPixelsToFloat32Array(){if("single"!==this.precision)throw new Error('Requires this.precision to be "single"');const{texSize:e,context:t}=this,n=e[0],r=e[1],i=new Float32Array(n*r*4);return t.readPixels(0,0,n,r,t.RGBA,t.FLOAT,i),i}getPixels(e){const{context:t,output:n}=this,[i,s]=n,o=new Uint8Array(i*s*4);return t.readPixels(0,0,i,s,t.RGBA,t.UNSIGNED_BYTE,o),new Uint8ClampedArray((e?o:r.flipPixels(o,i,s)).buffer)}renderKernelsToArrays(){const e={result:this.renderOutput()};for(let t=0;t<this.subKernels.length;t++)e[this.subKernels[t].property]=this.mappedTextures[t].toArray();return e}renderKernelsToTextures(){const e={result:this.renderOutput()};if(this.immutable)for(let t=0;t<this.subKernels.length;t++)e[this.subKernels[t].property]=this.mappedTextures[t].clone();else for(let t=0;t<this.subKernels.length;t++)e[this.subKernels[t].property]=this.mappedTextures[t];return e}resetSwitchingKernels(){const e=this.switchingKernels;return this.switchingKernels=null,e}setOutput(e){const t=this.toKernelOutput(e);if(this.program){if(!this.dynamicOutput)throw new Error("Resizing a kernel with dynamicOutput: false is not possible");const n=[t[0],t[1]||1,t[2]||1],i=r.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},n),s=this.texSize;if(s){const t=this.getVariablePrecisionString(s,this.tactic),n=this.getVariablePrecisionString(i,this.tactic);if(t!==n)return this.debug&&console.warn("Precision requirement changed, asking GPU instance to recompile"),void this.switchKernels({type:"outputPrecisionMismatch",precision:n,needed:e})}this.output=t,this.threadDim=n,this.texSize=i;const{context:o}=this;if(o.bindFramebuffer(o.FRAMEBUFFER,this.framebuffer),this.updateMaxTexSize(),this.framebuffer.width=this.texSize[0],this.framebuffer.height=this.texSize[1],o.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),this.canvas.width=this.maxTexSize[0],this.canvas.height=this.maxTexSize[1],this.texture&&this.texture.delete(),this.texture=null,this._setupOutputTexture(),this.mappedTextures&&this.mappedTextures.length>0){for(let e=0;e<this.mappedTextures.length;e++)this.mappedTextures[e].delete();this.mappedTextures=null,this._setupSubOutputTextures()}}else this.output=t;return this}renderValues(){return this.formatValues(this.transferValues(),this.output[0],this.output[1],this.output[2])}switchKernels(e){this.switchingKernels?this.switchingKernels.push(e):this.switchingKernels=[e]}getVariablePrecisionString(e=this.texSize,t=this.tactic,n=!1){if(!t){if(!this.constructor.features.isSpeedTacticSupported)return"highp";const t=this.constructor.features[n?"lowIntPrecision":"lowFloatPrecision"],r=this.constructor.features[n?"mediumIntPrecision":"mediumFloatPrecision"],i=this.constructor.features[n?"highIntPrecision":"highFloatPrecision"],s=Math.log2(e[0]*e[1]);if(s<=t.rangeMax)return"lowp";if(s<=r.rangeMax)return"mediump";if(s<=i.rangeMax)return"highp";throw new Error("The required size exceeds that of the ability of your system")}switch(t){case"speed":return"lowp";case"balanced":return"mediump";case"precision":return"highp";default:throw new Error(`Unknown tactic "${t}" use "speed", "balanced", "precision", or empty for auto`)}}updateTextureArgumentRefs(e,t){if(this.immutable)if(this.texture.texture===t.texture){const{prevArg:n}=e;n&&(1===n.texture._refs&&(this.texture.delete(),this.texture=n.clone(),this._textureSwitched=!0),n.delete()),e.prevArg=t.clone()}else if(this.mappedTextures&&this.mappedTextures.length>0){const{mappedTextures:n}=this;for(let r=0;r<n.length;r++){const i=n[r];if(i.texture===t.texture){const{prevArg:s}=e;return s&&(1===s.texture._refs&&(i.delete(),n[r]=s.clone(),this._mappedTextureSwitched[r]=!0),s.delete()),void(e.prevArg=t.clone())}}}}onActivate(e){if(this._textureSwitched=!0,this.texture=e.texture,this.mappedTextures){for(let e=0;e<this.mappedTextures.length;e++)this._mappedTextureSwitched[e]=!0;this.mappedTextures=e.mappedTextures}}initCanvas(){}}const T={int:"Integer",float:"Number",vec2:"Array(2)",vec3:"Array(3)",vec4:"Array(4)"};t.exports={GLKernel:S}},{"../../utils":114,"../kernel":36,"./texture/array-2-float":16,"./texture/array-2-float-2d":14,"./texture/array-2-float-3d":15,"./texture/array-3-float":19,"./texture/array-3-float-2d":17,"./texture/array-3-float-3d":18,"./texture/array-4-float":22,"./texture/array-4-float-2d":20,"./texture/array-4-float-3d":21,"./texture/float":25,"./texture/float-2d":23,"./texture/float-3d":24,"./texture/graphical":26,"./texture/memory-optimized":30,"./texture/memory-optimized-2d":28,"./texture/memory-optimized-3d":29,"./texture/unsigned":33,"./texture/unsigned-2d":31,"./texture/unsigned-3d":32}],14:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureFloat:r}=e("./float");class i extends r{constructor(e){super(e),this.type="ArrayTexture(2)"}toArray(){return n.erect2DArray2(this.renderValues(),this.output[0],this.output[1])}}t.exports={GLTextureArray2Float2D:i}},{"../../../utils":114,"./float":25}],15:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureFloat:r}=e("./float");class i extends r{constructor(e){super(e),this.type="ArrayTexture(2)"}toArray(){return n.erect3DArray2(this.renderValues(),this.output[0],this.output[1],this.output[2])}}t.exports={GLTextureArray2Float3D:i}},{"../../../utils":114,"./float":25}],16:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureFloat:r}=e("./float");class i extends r{constructor(e){super(e),this.type="ArrayTexture(2)"}toArray(){return n.erectArray2(this.renderValues(),this.output[0],this.output[1])}}t.exports={GLTextureArray2Float:i}},{"../../../utils":114,"./float":25}],17:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureFloat:r}=e("./float");class i extends r{constructor(e){super(e),this.type="ArrayTexture(3)"}toArray(){return n.erect2DArray3(this.renderValues(),this.output[0],this.output[1])}}t.exports={GLTextureArray3Float2D:i}},{"../../../utils":114,"./float":25}],18:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureFloat:r}=e("./float");class i extends r{constructor(e){super(e),this.type="ArrayTexture(3)"}toArray(){return n.erect3DArray3(this.renderValues(),this.output[0],this.output[1],this.output[2])}}t.exports={GLTextureArray3Float3D:i}},{"../../../utils":114,"./float":25}],19:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureFloat:r}=e("./float");class i extends r{constructor(e){super(e),this.type="ArrayTexture(3)"}toArray(){return n.erectArray3(this.renderValues(),this.output[0])}}t.exports={GLTextureArray3Float:i}},{"../../../utils":114,"./float":25}],20:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureFloat:r}=e("./float");class i extends r{constructor(e){super(e),this.type="ArrayTexture(4)"}toArray(){return n.erect2DArray4(this.renderValues(),this.output[0],this.output[1])}}t.exports={GLTextureArray4Float2D:i}},{"../../../utils":114,"./float":25}],21:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureFloat:r}=e("./float");class i extends r{constructor(e){super(e),this.type="ArrayTexture(4)"}toArray(){return n.erect3DArray4(this.renderValues(),this.output[0],this.output[1],this.output[2])}}t.exports={GLTextureArray4Float3D:i}},{"../../../utils":114,"./float":25}],22:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureFloat:r}=e("./float");class i extends r{constructor(e){super(e),this.type="ArrayTexture(4)"}toArray(){return n.erectArray4(this.renderValues(),this.output[0])}}t.exports={GLTextureArray4Float:i}},{"../../../utils":114,"./float":25}],23:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureFloat:r}=e("./float");class i extends r{constructor(e){super(e),this.type="ArrayTexture(1)"}toArray(){return n.erect2DFloat(this.renderValues(),this.output[0],this.output[1])}}t.exports={GLTextureFloat2D:i}},{"../../../utils":114,"./float":25}],24:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureFloat:r}=e("./float");class i extends r{constructor(e){super(e),this.type="ArrayTexture(1)"}toArray(){return n.erect3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}t.exports={GLTextureFloat3D:i}},{"../../../utils":114,"./float":25}],25:[function(e,t){const{utils:n}=e("../../../utils"),{GLTexture:r}=e("./index");class i extends r{get textureType(){return this.context.FLOAT}constructor(e){super(e),this.type="ArrayTexture(1)"}renderRawOutput(){const e=this.context,t=this.size;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer()),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0);const n=new Float32Array(t[0]*t[1]*4);return e.readPixels(0,0,t[0],t[1],e.RGBA,e.FLOAT,n),n}renderValues(){return this._deleted?null:this.renderRawOutput()}toArray(){return n.erectFloat(this.renderValues(),this.output[0])}}t.exports={GLTextureFloat:i}},{"../../../utils":114,"./index":27}],26:[function(e,t){const{GLTextureUnsigned:n}=e("./unsigned");class r extends n{constructor(e){super(e),this.type="ArrayTexture(4)"}toArray(){return this.renderValues()}}t.exports={GLTextureGraphical:r}},{"./unsigned":33}],27:[function(e,t){function n(e,t){e.activeTexture(e.TEXTURE15),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)}const{Texture:r}=e("../../../texture");class i extends r{get textureType(){throw new Error(`"textureType" not implemented on ${this.name}`)}clone(){return new this.constructor(this)}beforeMutate(){return this.texture._refs>1&&(this.newTexture(),!0)}cloneTexture(){this.texture._refs--;const{context:e,size:t,texture:r,kernel:i}=this;i.debug&&console.warn("cloning internal texture"),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer()),n(e,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const s=e.createTexture();n(e,s),e.texImage2D(e.TEXTURE_2D,0,this.internalFormat,t[0],t[1],0,this.textureFormat,this.textureType,null),e.copyTexSubImage2D(e.TEXTURE_2D,0,0,0,0,0,t[0],t[1]),s._refs=1,this.texture=s}newTexture(){this.texture._refs--;const e=this.context,t=this.size;this.kernel.debug&&console.warn("new internal texture");const r=e.createTexture();n(e,r),e.texImage2D(e.TEXTURE_2D,0,this.internalFormat,t[0],t[1],0,this.textureFormat,this.textureType,null),r._refs=1,this.texture=r}clear(){if(this.texture._refs){this.texture._refs--;const e=this.context,t=this.texture=e.createTexture();n(e,t);const r=this.size;t._refs=1,e.texImage2D(e.TEXTURE_2D,0,this.internalFormat,r[0],r[1],0,this.textureFormat,this.textureType,null)}const{context:e,texture:t}=this;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer()),e.bindTexture(e.TEXTURE_2D,t),n(e,t),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}delete(){this._deleted||(this._deleted=!0,this.texture._refs&&(this.texture._refs--,this.texture._refs)||this.context.deleteTexture(this.texture))}framebuffer(){return this._framebuffer||(this._framebuffer=this.kernel.getRawValueFramebuffer(this.size[0],this.size[1])),this._framebuffer}}t.exports={GLTexture:i}},{"../../../texture":113}],28:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureFloat:r}=e("./float");class i extends r{constructor(e){super(e),this.type="MemoryOptimizedNumberTexture"}toArray(){return n.erectMemoryOptimized2DFloat(this.renderValues(),this.output[0],this.output[1])}}t.exports={GLTextureMemoryOptimized2D:i}},{"../../../utils":114,"./float":25}],29:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureFloat:r}=e("./float");class i extends r{constructor(e){super(e),this.type="MemoryOptimizedNumberTexture"}toArray(){return n.erectMemoryOptimized3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}t.exports={GLTextureMemoryOptimized3D:i}},{"../../../utils":114,"./float":25}],30:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureFloat:r}=e("./float");class i extends r{constructor(e){super(e),this.type="MemoryOptimizedNumberTexture"}toArray(){return n.erectMemoryOptimizedFloat(this.renderValues(),this.output[0])}}t.exports={GLTextureMemoryOptimized:i}},{"../../../utils":114,"./float":25}],31:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureUnsigned:r}=e("./unsigned");class i extends r{constructor(e){super(e),this.type="NumberTexture"}toArray(){return n.erect2DPackedFloat(this.renderValues(),this.output[0],this.output[1])}}t.exports={GLTextureUnsigned2D:i}},{"../../../utils":114,"./unsigned":33}],32:[function(e,t){const{utils:n}=e("../../../utils"),{GLTextureUnsigned:r}=e("./unsigned");class i extends r{constructor(e){super(e),this.type="NumberTexture"}toArray(){return n.erect3DPackedFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}t.exports={GLTextureUnsigned3D:i}},{"../../../utils":114,"./unsigned":33}],33:[function(e,t){const{utils:n}=e("../../../utils"),{GLTexture:r}=e("./index");class i extends r{get textureType(){return this.context.UNSIGNED_BYTE}constructor(e){super(e),this.type="NumberTexture"}renderRawOutput(){const{context:e}=this;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer()),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0);const t=new Uint8Array(this.size[0]*this.size[1]*4);return e.readPixels(0,0,this.size[0],this.size[1],e.RGBA,e.UNSIGNED_BYTE,t),t}renderValues(){return this._deleted?null:new Float32Array(this.renderRawOutput().buffer)}toArray(){return n.erectPackedFloat(this.renderValues(),this.output[0])}}t.exports={GLTextureUnsigned:i}},{"../../../utils":114,"./index":27}],34:[function(e,t){const n=e("gl"),{WebGLKernel:r}=e("../web-gl/kernel"),{glKernelString:i}=e("../gl/kernel-string");let s=null,o=null,a=null,l=null,u=null;class c extends r{static get isSupported(){return null!==s||(this.setupFeatureChecks(),s=null!==a),s}static setupFeatureChecks(){if(o=null,l=null,"function"==typeof n)try{if(a=n(2,2,{preserveDrawingBuffer:!0}),!a||!a.getExtension)return;l={STACKGL_resize_drawingbuffer:a.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:a.getExtension("STACKGL_destroy_context"),OES_texture_float:a.getExtension("OES_texture_float"),OES_texture_float_linear:a.getExtension("OES_texture_float_linear"),OES_element_index_uint:a.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:a.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:a.getExtension("WEBGL_color_buffer_float")},u=this.getFeatures()}catch(e){console.warn(e)}}static isContextMatch(e){try{return"ANGLE"===e.getParameter(e.RENDERER)}catch(e){return!1}}static getIsTextureFloat(){return Boolean(l.OES_texture_float)}static getIsDrawBuffers(){return Boolean(l.WEBGL_draw_buffers)}static getChannelCount(){return l.WEBGL_draw_buffers?a.getParameter(l.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return a.getParameter(a.MAX_TEXTURE_SIZE)}static get testCanvas(){return o}static get testContext(){return a}static get features(){return u}initCanvas(){return{}}initContext(){return n(2,2,{preserveDrawingBuffer:!0})}initExtensions(){this.extensions={STACKGL_resize_drawingbuffer:this.context.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:this.context.getExtension("STACKGL_destroy_context"),OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers")}}build(){super.build.apply(this,arguments),this.fallbackRequested||this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1])}destroyExtensions(){this.extensions.STACKGL_resize_drawingbuffer=null,this.extensions.STACKGL_destroy_context=null,this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(e){const t=e.getExtension("STACKGL_destroy_context");t&&t.destroy&&t.destroy()}toString(){return i(this.constructor,arguments,this,"const gl = context || require('gl')(1, 1);\n","    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }\n")}setOutput(e){return super.setOutput(e),this.graphical&&this.extensions.STACKGL_resize_drawingbuffer&&this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1]),this}}t.exports={HeadlessGLKernel:c}},{"../gl/kernel-string":12,"../web-gl/kernel":70,gl:2}],35:[function(e,t){class n{constructor(e,t){const{name:n,kernel:r,context:i,checkContext:s,onRequestContextHandle:o,onUpdateValueMismatch:a,origin:l,strictIntegers:u,type:c,tactic:h}=t;if(!n)throw new Error("name not set");if(!c)throw new Error("type not set");if(!l)throw new Error("origin not set");if("user"!==l&&"constants"!==l)throw new Error(`origin must be "user" or "constants" value is "${l}"`);if(!o)throw new Error("onRequestContextHandle is not set");this.name=n,this.origin=l,this.tactic=h,this.varName="constants"===l?`constants.${n}`:n,this.kernel=r,this.strictIntegers=u,this.type=e.type||c,this.size=e.size||null,this.index=null,this.context=i,this.checkContext=null==s||s,this.contextHandle=null,this.onRequestContextHandle=o,this.onUpdateValueMismatch=a,this.forceUploadEachRun=null}get id(){return`${this.origin}_${name}`}getSource(){throw new Error(`"getSource" not defined on ${this.constructor.name}`)}updateValue(e){throw new Error(`"updateValue" not defined on ${this.constructor.name}`)}}t.exports={KernelValue:n}},{}],36:[function(e,t){function n(e){const t=Object.keys(e),n=[];for(let r=0;r<t.length;r++)n.push(e[t[r]]);return{argumentTypes:n,argumentNames:t}}const{utils:r}=e("../utils"),{Input:i}=e("../input");class s{static get isSupported(){throw new Error(`"isSupported" not implemented on ${this.name}`)}static isContextMatch(e){throw new Error(`"isContextMatch" not implemented on ${this.name}`)}static getFeatures(){throw new Error(`"getFeatures" not implemented on ${this.name}`)}static destroyContext(e){throw new Error(`"destroyContext" called on ${this.name}`)}static nativeFunctionArguments(){throw new Error(`"nativeFunctionArguments" called on ${this.name}`)}static nativeFunctionReturnType(){throw new Error(`"nativeFunctionReturnType" called on ${this.name}`)}static combineKernels(){throw new Error(`"combineKernels" called on ${this.name}`)}constructor(e,t){if("object"!=typeof e){if("string"!=typeof e)throw new Error("source not a string");if(!r.isFunctionString(e))throw new Error("source not a function string")}this.useLegacyEncoder=!1,this.fallbackRequested=!1,this.onRequestFallback=null,this.argumentNames="string"==typeof e?r.getArgumentNamesFromString(e):null,this.argumentTypes=null,this.argumentSizes=null,this.argumentBitRatios=null,this.kernelArguments=null,this.kernelConstants=null,this.forceUploadKernelConstants=null,this.source=e,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.constantTypes=null,this.constantBitRatios=null,this.dynamicArguments=!1,this.dynamicOutput=!1,this.canvas=null,this.context=null,this.checkContext=null,this.gpu=null,this.functions=null,this.nativeFunctions=null,this.injectedNative=null,this.subKernels=null,this.validate=!0,this.immutable=!1,this.pipeline=!1,this.precision=null,this.tactic=null,this.plugins=null,this.returnType=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.optimizeFloatMemory=null,this.strictIntegers=!1,this.fixIntegerDivisionAccuracy=null,this.built=!1,this.signature=null}mergeSettings(e){for(let t in e)if(e.hasOwnProperty(t)&&this.hasOwnProperty(t)){switch(t){case"output":if(!Array.isArray(e.output)){this.setOutput(e.output);continue}break;case"functions":this.functions=[];for(let t=0;t<e.functions.length;t++)this.addFunction(e.functions[t]);continue;case"graphical":e[t]&&!e.hasOwnProperty("precision")&&(this.precision="unsigned"),this[t]=e[t];continue;case"nativeFunctions":if(!e.nativeFunctions)continue;this.nativeFunctions=[];for(let t=0;t<e.nativeFunctions.length;t++){const n=e.nativeFunctions[t],{name:r,source:i}=n;this.addNativeFunction(r,i,n)}continue}this[t]=e[t]}this.canvas||(this.canvas=this.initCanvas()),this.context||(this.context=this.initContext()),this.plugins||(this.plugins=this.initPlugins(e))}build(){throw new Error(`"build" not defined on ${this.constructor.name}`)}run(){throw new Error(`"run" not defined on ${this.constructor.name}`)}initCanvas(){throw new Error(`"initCanvas" not defined on ${this.constructor.name}`)}initContext(){throw new Error(`"initContext" not defined on ${this.constructor.name}`)}initPlugins(e){throw new Error(`"initPlugins" not defined on ${this.constructor.name}`)}addFunction(e,t={}){if(e.name&&e.source&&e.argumentTypes&&"returnType"in e)this.functions.push(e);else if("settings"in e&&"source"in e)this.functions.push(this.functionToIGPUFunction(e.source,e.settings));else{if("string"!=typeof e&&"function"!=typeof e)throw new Error("function not properly defined");this.functions.push(this.functionToIGPUFunction(e,t))}return this}addNativeFunction(e,t,r={}){const{argumentTypes:i,argumentNames:s}=r.argumentTypes?n(r.argumentTypes):this.constructor.nativeFunctionArguments(t)||{};return this.nativeFunctions.push({name:e,source:t,settings:r,argumentTypes:i,argumentNames:s,returnType:r.returnType||this.constructor.nativeFunctionReturnType(t)}),this}setupArguments(e){if(this.kernelArguments=[],this.argumentTypes)for(let e=0;e<this.argumentTypes.length;e++)this.kernelArguments.push({type:this.argumentTypes[e]});else if(!this.argumentTypes){this.argumentTypes=[];for(let t=0;t<e.length;t++){const n=r.getVariableType(e[t],this.strictIntegers),i="Integer"===n?"Number":n;this.argumentTypes.push(i),this.kernelArguments.push({type:i})}}this.argumentSizes=new Array(e.length),this.argumentBitRatios=new Int32Array(e.length);for(let t=0;t<e.length;t++){const n=e[t];this.argumentSizes[t]=n.constructor===i?n.size:null,this.argumentBitRatios[t]=this.getBitRatio(n)}if(this.argumentNames.length!==e.length)throw new Error("arguments are miss-aligned")}setupConstants(){this.kernelConstants=[];let e=null===this.constantTypes;if(e&&(this.constantTypes={}),this.constantBitRatios={},this.constants)for(let t in this.constants){if(e){const e=r.getVariableType(this.constants[t],this.strictIntegers);this.constantTypes[t]=e,this.kernelConstants.push({name:t,type:e})}else this.kernelConstants.push({name:t,type:this.constantTypes[t]});this.constantBitRatios[t]=this.getBitRatio(this.constants[t])}}setOptimizeFloatMemory(e){return this.optimizeFloatMemory=e,this}toKernelOutput(e){return e.hasOwnProperty("x")?e.hasOwnProperty("y")?e.hasOwnProperty("z")?[e.x,e.y,e.z]:[e.x,e.y]:[e.x]:e}setOutput(e){return this.output=this.toKernelOutput(e),this}setDebug(e){return this.debug=e,this}setGraphical(e){return this.graphical=e,this.precision="unsigned",this}setLoopMaxIterations(e){return this.loopMaxIterations=e,this}setConstants(e){return this.constants=e,this}setConstantTypes(e){return this.constantTypes=e,this}setFunctions(e){for(let t=0;t<e.length;t++)this.addFunction(e[t]);return this}setNativeFunctions(e){for(let t=0;t<e.length;t++){const n=e[t],{name:r,source:i}=n;this.addNativeFunction(r,i,n)}return this}setInjectedNative(e){return this.injectedNative=e,this}setPipeline(e){return this.pipeline=e,this}setPrecision(e){return this.precision=e,this}setDimensions(e){return r.warnDeprecated("method","setDimensions","setOutput"),this.output=e,this}setOutputToTexture(e){return r.warnDeprecated("method","setOutputToTexture","setPipeline"),this.pipeline=e,this}setImmutable(e){return this.immutable=e,this}setCanvas(e){return this.canvas=e,this}setStrictIntegers(e){return this.strictIntegers=e,this}setDynamicOutput(e){return this.dynamicOutput=e,this}setHardcodeConstants(e){return r.warnDeprecated("method","setHardcodeConstants"),this.setDynamicOutput(e),this.setDynamicArguments(e),this}setDynamicArguments(e){return this.dynamicArguments=e,this}setUseLegacyEncoder(e){return this.useLegacyEncoder=e,this}setWarnVarUsage(e){return r.warnDeprecated("method","setWarnVarUsage"),this}getCanvas(){return r.warnDeprecated("method","getCanvas"),this.canvas}getWebGl(){return r.warnDeprecated("method","getWebGl"),this.context}setContext(e){return this.context=e,this}setArgumentTypes(e){if(Array.isArray(e))this.argumentTypes=e;else{this.argumentTypes=[];for(const t in e){if(!e.hasOwnProperty(t))continue;const n=this.argumentNames.indexOf(t);if(-1===n)throw new Error(`unable to find argument ${t}`);this.argumentTypes[n]=e[t]}}return this}setTactic(e){return this.tactic=e,this}requestFallback(e){if(!this.onRequestFallback)throw new Error(`"onRequestFallback" not defined on ${this.constructor.name}`);return this.fallbackRequested=!0,this.onRequestFallback(e)}validateSettings(){throw new Error(`"validateSettings" not defined on ${this.constructor.name}`)}addSubKernel(e){if(null===this.subKernels&&(this.subKernels=[]),!e.source)throw new Error('subKernel missing "source" property');if(!e.property&&isNaN(e.property))throw new Error('subKernel missing "property" property');if(!e.name)throw new Error('subKernel missing "name" property');return this.subKernels.push(e),this}destroy(e){throw new Error(`"destroy" called on ${this.constructor.name}`)}getBitRatio(e){if("single"===this.precision)return 4;if(Array.isArray(e[0]))return this.getBitRatio(e[0]);if(e.constructor===i)return this.getBitRatio(e.value);switch(e.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}getPixels(e){throw new Error(`"getPixels" called on ${this.constructor.name}`)}checkOutput(){if(!this.output||!r.isArray(this.output))throw new Error("kernel.output not an array");if(this.output.length<1)throw new Error("kernel.output is empty, needs at least 1 value");for(let e=0;e<this.output.length;e++)if(isNaN(this.output[e])||this.output[e]<1)throw new Error(`${this.constructor.name}.output[${e}] incorrectly defined as \`${this.output[e]}\`, needs to be numeric, and greater than 0`)}prependString(e){throw new Error(`"prependString" called on ${this.constructor.name}`)}hasPrependString(e){throw new Error(`"hasPrependString" called on ${this.constructor.name}`)}toJSON(){return{settings:{output:this.output,pipeline:this.pipeline,argumentNames:this.argumentNames,argumentsTypes:this.argumentTypes,constants:this.constants,pluginNames:this.plugins?this.plugins.map((e=>e.name)):null,returnType:this.returnType}}}buildSignature(e){const t=this.constructor;this.signature=t.getSignature(this,t.getArgumentTypes(this,e))}static getArgumentTypes(e,t){const n=new Array(t.length);for(let i=0;i<t.length;i++){const s=t[i],o=e.argumentTypes[i];if(s.type)n[i]=s.type;else switch(o){case"Number":case"Integer":case"Float":case"ArrayTexture(1)":n[i]=r.getVariableType(s);break;default:n[i]=o}}return n}static getSignature(e,t){throw new Error(`"getSignature" not implemented on ${this.name}`)}functionToIGPUFunction(e,t={}){if("string"!=typeof e&&"function"!=typeof e)throw new Error("source not a string or function");const n="string"==typeof e?e:e.toString();let i=[];return i=Array.isArray(t.argumentTypes)?t.argumentTypes:"object"==typeof t.argumentTypes?r.getArgumentNamesFromString(n).map((e=>t.argumentTypes[e]))||[]:t.argumentTypes||[],{name:r.getFunctionNameFromString(n)||null,source:n,argumentTypes:i,returnType:t.returnType||null}}onActivate(e){}}t.exports={Kernel:s}},{"../input":110,"../utils":114}],37:[function(e,t){const n=`__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nvarying vec2 vTexCoord;\n\nfloat acosh(float x) {\n  return log(x + sqrt(x * x - 1.0));\n}\n\nfloat sinh(float x) {\n  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;\n}\n\nfloat asinh(float x) {\n  return log(x + sqrt(x * x + 1.0));\n}\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat atanh(float x) {\n  x = (x + 1.0) / (x - 1.0);\n  if (x < 0.0) {\n    return 0.5 * log(-x);\n  }\n  return 0.5 * log(x);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat cosh(float x) {\n  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; \n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat tanh(float x) {\n  float e = exp(2.0 * x);\n  return (e - 1.0) / (e + 1.0);\n}\n\nfloat trunc(float x) {\n  if (x >= 0.0) {\n    return floor(x); \n  } else {\n    return ceil(x);\n  }\n}\n\nvec4 _round(vec4 x) {\n  return floor(x + 0.5);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x / y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(_round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;\n  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;\n  return 0.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  if (channel == 0) return texel.r * 255.0;\n  if (channel == 1) return texel.g * 255.0;\n  if (channel == 2) return texel.b * 255.0;\n  if (channel == 3) return texel.a * 255.0;\n  return 0.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return texel.r;\n  if (channel == 1) return texel.g;\n  if (channel == 2) return texel.b;\n  if (channel == 3) return texel.a;\n  return 0.0;\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture2D(tex, st / vec2(texSize));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n  \n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nvoid color(sampler2D image) {\n  actualColor = texture2D(image, vTexCoord);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;t.exports={fragmentShader:n}},{}],38:[function(e,t){const{utils:n}=e("../../utils"),{FunctionNode:r}=e("../function-node");class i extends r{constructor(e,t){super(e,t),t&&t.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=t.fixIntegerDivisionAccuracy)}astConditionalExpression(e,t){if("ConditionalExpression"!==e.type)throw this.astErrorOutput("Not a conditional expression",e);const n=this.getType(e.consequent),r=this.getType(e.alternate);return null===n&&null===r?(t.push("if ("),this.astGeneric(e.test,t),t.push(") {"),this.astGeneric(e.consequent,t),t.push(";"),t.push("} else {"),this.astGeneric(e.alternate,t),t.push(";"),t.push("}"),t):(t.push("("),this.astGeneric(e.test,t),t.push("?"),this.astGeneric(e.consequent,t),t.push(":"),this.astGeneric(e.alternate,t),t.push(")"),t)}astFunction(e,t){if(this.isRootKernel)t.push("void");else{this.returnType||this.findLastReturn()&&(this.returnType=this.getType(e.body),"LiteralInteger"===this.returnType&&(this.returnType="Number"));const{returnType:n}=this;if(n){const e=s[n];if(!e)throw new Error(`unknown type ${n}`);t.push(e)}else t.push("void")}if(t.push(" "),t.push(this.name),t.push("("),!this.isRootKernel)for(let r=0;r<this.argumentNames.length;++r){const i=this.argumentNames[r];r>0&&t.push(", ");let o=this.argumentTypes[this.argumentNames.indexOf(i)];if(!o)throw this.astErrorOutput(`Unknown argument ${i} type`,e);"LiteralInteger"===o&&(this.argumentTypes[r]=o="Number");const a=s[o];if(!a)throw this.astErrorOutput("Unexpected expression",e);const l=n.sanitizeName(i);t.push("sampler2D"===a||"sampler2DArray"===a?`${a} user_${l},ivec2 user_${l}Size,ivec3 user_${l}Dim`:`${a} user_${l}`)}t.push(") {\n");for(let n=0;n<e.body.body.length;++n)this.astGeneric(e.body.body[n],t),t.push("\n");return t.push("}\n"),t}astReturnStatement(e,t){if(!e.argument)throw this.astErrorOutput("Unexpected return statement",e);this.pushState("skip-literal-correction");const n=this.getType(e.argument);this.popState("skip-literal-correction");const r=[];switch(this.returnType||(this.returnType="LiteralInteger"===n||"Integer"===n?"Number":n),this.returnType){case"LiteralInteger":case"Number":case"Float":switch(n){case"Integer":r.push("float("),this.astGeneric(e.argument,r),r.push(")");break;case"LiteralInteger":this.castLiteralToFloat(e.argument,r),"Integer"===this.getType(e)&&(r.unshift("float("),r.push(")"));break;default:this.astGeneric(e.argument,r)}break;case"Integer":switch(n){case"Float":case"Number":this.castValueToInteger(e.argument,r);break;case"LiteralInteger":this.castLiteralToInteger(e.argument,r);break;default:this.astGeneric(e.argument,r)}break;case"Array(4)":case"Array(3)":case"Array(2)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"Input":this.astGeneric(e.argument,r);break;default:throw this.astErrorOutput(`unhandled return type ${this.returnType}`,e)}return this.isRootKernel?(t.push(`kernelResult = ${r.join("")};`),t.push("return;")):this.isSubKernel?(t.push(`subKernelResult_${this.name} = ${r.join("")};`),t.push(`return subKernelResult_${this.name};`)):t.push(`return ${r.join("")};`),t}astLiteral(e,t){if(isNaN(e.value))throw this.astErrorOutput("Non-numeric literal not supported : "+e.value,e);const n=this.astKey(e);return Number.isInteger(e.value)?this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[n]="Integer",t.push(`${e.value}`)):(this.isState("casting-to-float")||this.isState("building-float"),this.literalTypes[n]="Number",t.push(`${e.value}.0`)):this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[n]="Integer",t.push(Math.round(e.value))):(this.literalTypes[n]="Number",t.push(`${e.value}`)),t}astBinaryExpression(e,t){if(this.checkAndUpconvertOperator(e,t))return t;if(this.fixIntegerDivisionAccuracy&&"/"===e.operator){switch(t.push("divWithIntCheck("),this.pushState("building-float"),this.getType(e.left)){case"Integer":this.castValueToFloat(e.left,t);break;case"LiteralInteger":this.castLiteralToFloat(e.left,t);break;default:this.astGeneric(e.left,t)}switch(t.push(", "),this.getType(e.right)){case"Integer":this.castValueToFloat(e.right,t);break;case"LiteralInteger":this.castLiteralToFloat(e.right,t);break;default:this.astGeneric(e.right,t)}return this.popState("building-float"),t.push(")"),t}t.push("(");const n=this.getType(e.left)||"Number",r=this.getType(e.right)||"Number";if(!n||!r)throw this.astErrorOutput("Unhandled binary expression",e);const i=n+" & "+r;switch(i){case"Integer & Integer":this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(o[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-integer");break;case"Number & Float":case"Float & Number":case"Float & Float":case"Number & Number":this.pushState("building-float"),this.astGeneric(e.left,t),t.push(o[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-float");break;case"LiteralInteger & LiteralInteger":this.isState("casting-to-integer")||this.isState("building-integer")?(this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(o[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-integer")):(this.pushState("building-float"),this.castLiteralToFloat(e.left,t),t.push(o[e.operator]||e.operator),this.castLiteralToFloat(e.right,t),this.popState("building-float"));break;case"Integer & Float":case"Integer & Number":if((">"===e.operator||"<"===e.operator&&"Literal"===e.right.type)&&!Number.isInteger(e.right.value)){this.pushState("building-float"),this.castValueToFloat(e.left,t),t.push(o[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-float");break}if(this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(o[e.operator]||e.operator),this.pushState("casting-to-integer"),"Literal"===e.right.type){const n=[];if(this.astGeneric(e.right,n),"Integer"!==this.getType(e.right))throw this.astErrorOutput("Unhandled binary expression with literal",e);t.push(n.join(""))}else t.push("int("),this.astGeneric(e.right,t),t.push(")");this.popState("casting-to-integer"),this.popState("building-integer");break;case"Integer & LiteralInteger":this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(o[e.operator]||e.operator),this.castLiteralToInteger(e.right,t),this.popState("building-integer");break;case"Number & Integer":case"Float & Integer":this.pushState("building-float"),this.astGeneric(e.left,t),t.push(o[e.operator]||e.operator),this.castValueToFloat(e.right,t),this.popState("building-float");break;case"Float & LiteralInteger":case"Number & LiteralInteger":this.pushState("building-float"),this.astGeneric(e.left,t),t.push(o[e.operator]||e.operator),this.castLiteralToFloat(e.right,t),this.popState("building-float");break;case"LiteralInteger & Float":case"LiteralInteger & Number":this.isState("casting-to-integer")?(this.pushState("building-integer"),this.castLiteralToInteger(e.left,t),t.push(o[e.operator]||e.operator),this.castValueToInteger(e.right,t),this.popState("building-integer")):(this.pushState("building-float"),this.astGeneric(e.left,t),t.push(o[e.operator]||e.operator),this.pushState("casting-to-float"),this.astGeneric(e.right,t),this.popState("casting-to-float"),this.popState("building-float"));break;case"LiteralInteger & Integer":this.pushState("building-integer"),this.castLiteralToInteger(e.left,t),t.push(o[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-integer");break;case"Boolean & Boolean":this.pushState("building-boolean"),this.astGeneric(e.left,t),t.push(o[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-boolean");break;default:throw this.astErrorOutput(`Unhandled binary expression between ${i}`,e)}return t.push(")"),t}checkAndUpconvertOperator(e,t){const n=this.checkAndUpconvertBitwiseOperators(e,t);if(n)return n;const r={"%":this.fixIntegerDivisionAccuracy?"integerCorrectionModulo":"modulo","**":"pow"}[e.operator];if(!r)return null;switch(t.push(r),t.push("("),this.getType(e.left)){case"Integer":this.castValueToFloat(e.left,t);break;case"LiteralInteger":this.castLiteralToFloat(e.left,t);break;default:this.astGeneric(e.left,t)}switch(t.push(","),this.getType(e.right)){case"Integer":this.castValueToFloat(e.right,t);break;case"LiteralInteger":this.castLiteralToFloat(e.right,t);break;default:this.astGeneric(e.right,t)}return t.push(")"),t}checkAndUpconvertBitwiseOperators(e,t){const n={"&":"bitwiseAnd","|":"bitwiseOr","^":"bitwiseXOR","<<":"bitwiseZeroFillLeftShift",">>":"bitwiseSignedRightShift",">>>":"bitwiseZeroFillRightShift"}[e.operator];if(!n)return null;switch(t.push(n),t.push("("),this.getType(e.left)){case"Number":case"Float":this.castValueToInteger(e.left,t);break;case"LiteralInteger":this.castLiteralToInteger(e.left,t);break;default:this.astGeneric(e.left,t)}switch(t.push(","),this.getType(e.right)){case"Number":case"Float":this.castValueToInteger(e.right,t);break;case"LiteralInteger":this.castLiteralToInteger(e.right,t);break;default:this.astGeneric(e.right,t)}return t.push(")"),t}checkAndUpconvertBitwiseUnary(e,t){const n={"~":"bitwiseNot"}[e.operator];if(!n)return null;switch(t.push(n),t.push("("),this.getType(e.argument)){case"Number":case"Float":this.castValueToInteger(e.argument,t);break;case"LiteralInteger":this.castLiteralToInteger(e.argument,t);break;default:this.astGeneric(e.argument,t)}return t.push(")"),t}castLiteralToInteger(e,t){return this.pushState("casting-to-integer"),this.astGeneric(e,t),this.popState("casting-to-integer"),t}castLiteralToFloat(e,t){return this.pushState("casting-to-float"),this.astGeneric(e,t),this.popState("casting-to-float"),t}castValueToInteger(e,t){return this.pushState("casting-to-integer"),t.push("int("),this.astGeneric(e,t),t.push(")"),this.popState("casting-to-integer"),t}castValueToFloat(e,t){return this.pushState("casting-to-float"),t.push("float("),this.astGeneric(e,t),t.push(")"),this.popState("casting-to-float"),t}astIdentifierExpression(e,t){if("Identifier"!==e.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",e);const r=this.getType(e),i=n.sanitizeName(e.name);return"Infinity"===e.name?t.push("3.402823466e+38"):"Boolean"===r&&this.argumentNames.indexOf(i)>-1?t.push(`bool(user_${i})`):t.push(`user_${i}`),t}astForStatement(e,t){if("ForStatement"!==e.type)throw this.astErrorOutput("Invalid for statement",e);const n=[],r=[],i=[],s=[];let o=null;if(e.init){const{declarations:t}=e.init;t.length>1&&(o=!1),this.astGeneric(e.init,n);for(let e=0;e<t.length;e++)t[e].init&&"Literal"!==t[e].init.type&&(o=!1)}else o=!1;if(e.test?this.astGeneric(e.test,r):o=!1,e.update?this.astGeneric(e.update,i):o=!1,e.body&&(this.pushState("loop-body"),this.astGeneric(e.body,s),this.popState("loop-body")),null===o&&(o=this.isSafe(e.init)&&this.isSafe(e.test)),o){const e=n.join("");t.push(`for (${e}${";"!==e[e.length-1]?";":""}${r.join("")};${i.join("")}){\n`),t.push(s.join("")),t.push("}\n")}else{const e=this.getInternalVariableName("safeI");n.length>0&&t.push(n.join(""),"\n"),t.push(`for (int ${e}=0;${e}<LOOP_MAX;${e}++){\n`),r.length>0&&t.push(`if (!${r.join("")}) break;\n`),t.push(s.join("")),t.push(`\n${i.join("")};`),t.push("}\n")}return t}astWhileStatement(e,t){if("WhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);const n=this.getInternalVariableName("safeI");return t.push(`for (int ${n}=0;${n}<LOOP_MAX;${n}++){\n`),t.push("if (!"),this.astGeneric(e.test,t),t.push(") break;\n"),this.astGeneric(e.body,t),t.push("}\n"),t}astDoWhileStatement(e,t){if("DoWhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);const n=this.getInternalVariableName("safeI");return t.push(`for (int ${n}=0;${n}<LOOP_MAX;${n}++){\n`),this.astGeneric(e.body,t),t.push("if (!"),this.astGeneric(e.test,t),t.push(") break;\n"),t.push("}\n"),t}astAssignmentExpression(e,t){if("%="===e.operator)this.astGeneric(e.left,t),t.push("="),t.push("mod("),this.astGeneric(e.left,t),t.push(","),this.astGeneric(e.right,t),t.push(")");else{if("**="!==e.operator){const n=this.getType(e.left),r=this.getType(e.right);return this.astGeneric(e.left,t),t.push(e.operator),"Integer"!==n&&"Integer"===r?(t.push("float("),this.astGeneric(e.right,t),t.push(")")):this.astGeneric(e.right,t),t}this.astGeneric(e.left,t),t.push("="),t.push("pow("),this.astGeneric(e.left,t),t.push(","),this.astGeneric(e.right,t),t.push(")")}}astBlockStatement(e,t){if(this.isState("loop-body")){this.pushState("block-body");for(let n=0;n<e.body.length;n++)this.astGeneric(e.body[n],t);this.popState("block-body")}else{t.push("{\n");for(let n=0;n<e.body.length;n++)this.astGeneric(e.body[n],t);t.push("}\n")}return t}astVariableDeclaration(e,t){const r=e.declarations;if(!r||!r[0]||!r[0].init)throw this.astErrorOutput("Unexpected expression",e);const i=[];let o=null;const a=[];let l=[];for(let t=0;t<r.length;t++){const i=r[t],u=i.init,c=this.getDeclaration(i.id),h=this.getType(i.init);let p=h;"LiteralInteger"===p&&(p="Integer"===c.suggestedType?"Integer":"Number");const d=s[p];if(!d)throw this.astErrorOutput(`Markup type ${p} not handled`,e);const f=[];if("Integer"===h&&"Integer"===p){if(c.valueType="Number",0===t||null===o)f.push("float ");else if(p!==o)throw new Error("Unhandled declaration");o=p,f.push(`user_${n.sanitizeName(i.id.name)}=`),f.push("float("),this.astGeneric(u,f),f.push(")")}else c.valueType=p,0===t||null===o?f.push(`${d} `):p!==o&&(a.push(l.join(",")),l=[],f.push(`${d} `)),o=p,f.push(`user_${n.sanitizeName(i.id.name)}=`),"Number"===h&&"Integer"===p?u.left&&"Literal"===u.left.type?this.astGeneric(u,f):(f.push("int("),this.astGeneric(u,f),f.push(")")):"LiteralInteger"===h&&"Integer"===p?this.castLiteralToInteger(u,f):this.astGeneric(u,f);l.push(f.join(""))}return l.length>0&&a.push(l.join(",")),i.push(a.join(";")),t.push(i.join("")),t.push(";"),t}astIfStatement(e,t){return t.push("if ("),this.astGeneric(e.test,t),t.push(")"),"BlockStatement"===e.consequent.type?this.astGeneric(e.consequent,t):(t.push(" {\n"),this.astGeneric(e.consequent,t),t.push("\n}\n")),e.alternate&&(t.push("else "),"BlockStatement"===e.alternate.type||"IfStatement"===e.alternate.type?this.astGeneric(e.alternate,t):(t.push(" {\n"),this.astGeneric(e.alternate,t),t.push("\n}\n"))),t}astSwitchStatement(e,t){if("SwitchStatement"!==e.type)throw this.astErrorOutput("Invalid switch statement",e);const{discriminant:n,cases:r}=e,i=this.getType(n),s=`switchDiscriminant${this.astKey(e,"_")}`;switch(i){case"Float":case"Number":t.push(`float ${s} = `),this.astGeneric(n,t),t.push(";\n");break;case"Integer":t.push(`int ${s} = `),this.astGeneric(n,t),t.push(";\n")}if(1===r.length&&!r[0].test)return this.astGeneric(r[0].consequent,t),t;let o=!1,a=[],l=!1,u=!1;for(let e=0;e<r.length;e++){if(r[e].test){if(0!==e&&u?o?(t.push(`${s} == `),o=!1):t.push(` else if (${s} == `):(u=!0,t.push(`if (${s} == `)),"Integer"===i)switch(this.getType(r[e].test)){case"Number":case"Float":this.castValueToInteger(r[e].test,t);break;case"LiteralInteger":this.castLiteralToInteger(r[e].test,t)}else{if("Float"!==i)throw new Error("unhanlded");switch(this.getType(r[e].test)){case"LiteralInteger":this.castLiteralToFloat(r[e].test,t);break;case"Integer":this.castValueToFloat(r[e].test,t)}}if(!r[e].consequent||0===r[e].consequent.length){o=!0,t.push(" || ");continue}t.push(") {\n")}else{if(r.length>e+1){l=!0,this.astGeneric(r[e].consequent,a);continue}t.push(" else {\n")}this.astGeneric(r[e].consequent,t),t.push("\n}")}return l&&(t.push(" else {"),t.push(a.join("")),t.push("}")),t}astThisExpression(e,t){return t.push("this"),t}astMemberExpression(e,t){const{property:r,name:i,signature:s,origin:o,type:a,xProperty:l,yProperty:u,zProperty:c}=this.getMemberExpressionDetails(e);switch(s){case"value.thread.value":case"this.thread.value":if("x"!==i&&"y"!==i&&"z"!==i)throw this.astErrorOutput("Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`",e);return t.push(`threadId.${i}`),t;case"this.output.value":if(this.dynamicOutput)switch(i){case"x":this.isState("casting-to-float")?t.push("float(uOutputDim.x)"):t.push("uOutputDim.x");break;case"y":this.isState("casting-to-float")?t.push("float(uOutputDim.y)"):t.push("uOutputDim.y");break;case"z":this.isState("casting-to-float")?t.push("float(uOutputDim.z)"):t.push("uOutputDim.z");break;default:throw this.astErrorOutput("Unexpected expression",e)}else switch(i){case"x":this.isState("casting-to-integer")?t.push(this.output[0]):t.push(this.output[0],".0");break;case"y":this.isState("casting-to-integer")?t.push(this.output[1]):t.push(this.output[1],".0");break;case"z":this.isState("casting-to-integer")?t.push(this.output[2]):t.push(this.output[2],".0");break;default:throw this.astErrorOutput("Unexpected expression",e)}return t;case"value":throw this.astErrorOutput("Unexpected expression",e);case"value[]":case"value[][]":case"value[][][]":case"value[][][][]":case"value.value":if("Math"===o)return t.push(Math[i]),t;const s=n.sanitizeName(i);switch(r){case"r":return t.push(`user_${s}.r`),t;case"g":return t.push(`user_${s}.g`),t;case"b":return t.push(`user_${s}.b`),t;case"a":return t.push(`user_${s}.a`),t}break;case"this.constants.value":if(void 0===l)switch(a){case"Array(2)":case"Array(3)":case"Array(4)":return t.push(`constants_${n.sanitizeName(i)}`),t}case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":case"this.constants.value[][][][]":break;case"fn()[]":return this.astCallExpression(e.object,t),t.push("["),t.push(this.memberExpressionPropertyMarkup(r)),t.push("]"),t;case"fn()[][]":return this.astCallExpression(e.object.object,t),t.push("["),t.push(this.memberExpressionPropertyMarkup(e.object.property)),t.push("]"),t.push("["),t.push(this.memberExpressionPropertyMarkup(e.property)),t.push("]"),t;case"[][]":return this.astArrayExpression(e.object,t),t.push("["),t.push(this.memberExpressionPropertyMarkup(r)),t.push("]"),t;default:throw this.astErrorOutput("Unexpected expression",e)}if(!1===e.computed)switch(a){case"Number":case"Integer":case"Float":case"Boolean":return t.push(`${o}_${n.sanitizeName(i)}`),t}const h=`${o}_${n.sanitizeName(i)}`;switch(a){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(e.object,t),t.push("["),t.push(this.memberExpressionPropertyMarkup(l)),t.push("]");break;case"HTMLImageArray":t.push(`getImage3D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"ArrayTexture(1)":t.push(`getFloatFromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"Array1D(2)":case"Array2D(2)":case"Array3D(2)":t.push(`getMemoryOptimizedVec2(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"ArrayTexture(2)":t.push(`getVec2FromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"Array1D(3)":case"Array2D(3)":case"Array3D(3)":t.push(`getMemoryOptimizedVec3(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"ArrayTexture(3)":t.push(`getVec3FromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"Array1D(4)":case"Array2D(4)":case"Array3D(4)":t.push(`getMemoryOptimizedVec4(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"ArrayTexture(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":t.push(`getVec4FromSampler2D(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"NumberTexture":case"Array":case"Array2D":case"Array3D":case"Array4D":case"Input":case"Number":case"Float":case"Integer":if("single"===this.precision)t.push(`getMemoryOptimized32(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");else{const e="user"===o?this.lookupFunctionArgumentBitRatio(this.name,i):this.constantBitRatios[i];switch(e){case 1:t.push(`get8(${h}, ${h}Size, ${h}Dim, `);break;case 2:t.push(`get16(${h}, ${h}Size, ${h}Dim, `);break;case 4:case 0:t.push(`get32(${h}, ${h}Size, ${h}Dim, `);break;default:throw new Error(`unhandled bit ratio of ${e}`)}this.memberExpressionXYZ(l,u,c,t),t.push(")")}break;case"MemoryOptimizedNumberTexture":t.push(`getMemoryOptimized32(${h}, ${h}Size, ${h}Dim, `),this.memberExpressionXYZ(l,u,c,t),t.push(")");break;case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":t.push(`${h}[${this.memberExpressionPropertyMarkup(u)}]`),u&&t.push(`[${this.memberExpressionPropertyMarkup(l)}]`);break;default:throw new Error(`unhandled member expression "${a}"`)}return t}astCallExpression(e,t){if(!e.callee)throw this.astErrorOutput("Unknown CallExpression",e);let r=null;const i=this.isAstMathFunction(e);if(r=i||e.callee.object&&"ThisExpression"===e.callee.object.type?e.callee.property.name:"SequenceExpression"!==e.callee.type||"Literal"!==e.callee.expressions[0].type||isNaN(e.callee.expressions[0].raw)?e.callee.name:e.callee.expressions[1].property.name,!r)throw this.astErrorOutput("Unhandled function, couldn't find name",e);switch(r){case"pow":r="_pow";break;case"round":r="_round"}if(this.calledFunctions.indexOf(r)<0&&this.calledFunctions.push(r),"random"===r&&this.plugins&&this.plugins.length>0)for(let e=0;e<this.plugins.length;e++){const n=this.plugins[e];if("Math.random()"===n.functionMatch&&n.functionReplace)return t.push(n.functionReplace),t}if(this.onFunctionCall&&this.onFunctionCall(this.name,r,e.arguments),t.push(r),t.push("("),i)for(let n=0;n<e.arguments.length;++n){const r=e.arguments[n],i=this.getType(r);n>0&&t.push(", "),"Integer"===i?this.castValueToFloat(r,t):this.astGeneric(r,t)}else{const i=this.lookupFunctionArgumentTypes(r)||[];for(let s=0;s<e.arguments.length;++s){const o=e.arguments[s];let a=i[s];s>0&&t.push(", ");const l=this.getType(o);switch(a||(this.triggerImplyArgumentType(r,s,l,this),a=l),l){case"Boolean":this.astGeneric(o,t);continue;case"Number":case"Float":if("Integer"===a){t.push("int("),this.astGeneric(o,t),t.push(")");continue}if("Number"===a||"Float"===a){this.astGeneric(o,t);continue}if("LiteralInteger"===a){this.castLiteralToFloat(o,t);continue}break;case"Integer":if("Number"===a||"Float"===a){t.push("float("),this.astGeneric(o,t),t.push(")");continue}if("Integer"===a){this.astGeneric(o,t);continue}break;case"LiteralInteger":if("Integer"===a){this.castLiteralToInteger(o,t);continue}if("Number"===a||"Float"===a){this.castLiteralToFloat(o,t);continue}if("LiteralInteger"===a){this.astGeneric(o,t);continue}break;case"Array(2)":case"Array(3)":case"Array(4)":if(a===l){if("Identifier"===o.type)t.push(`user_${n.sanitizeName(o.name)}`);else{if("ArrayExpression"!==o.type&&"MemberExpression"!==o.type&&"CallExpression"!==o.type)throw this.astErrorOutput(`Unhandled argument type ${o.type}`,e);this.astGeneric(o,t)}continue}break;case"HTMLCanvas":case"HTMLImage":case"HTMLImageArray":case"HTMLVideo":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"Array":case"Input":if(a===l){if("Identifier"!==o.type)throw this.astErrorOutput(`Unhandled argument type ${o.type}`,e);this.triggerImplyArgumentBitRatio(this.name,o.name,r,s);const i=n.sanitizeName(o.name);t.push(`user_${i},user_${i}Size,user_${i}Dim`);continue}}throw this.astErrorOutput(`Unhandled argument combination of ${l} and ${a} for argument named "${o.name}"`,e)}}return t.push(")"),t}astArrayExpression(e,t){const n=this.getType(e),r=e.elements.length;switch(n){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":t.push(`mat${r}(`);break;default:t.push(`vec${r}(`)}for(let n=0;n<r;++n)n>0&&t.push(", "),this.astGeneric(e.elements[n],t);return t.push(")"),t}memberExpressionXYZ(e,t,n,r){return n?r.push(this.memberExpressionPropertyMarkup(n),", "):r.push("0, "),t?r.push(this.memberExpressionPropertyMarkup(t),", "):r.push("0, "),r.push(this.memberExpressionPropertyMarkup(e)),r}memberExpressionPropertyMarkup(e){if(!e)throw new Error("Property not set");const t=[];switch(this.getType(e)){case"Number":case"Float":this.castValueToInteger(e,t);break;case"LiteralInteger":this.castLiteralToInteger(e,t);break;default:this.astGeneric(e,t)}return t.join("")}}const s={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4","Matrix(2)":"mat2","Matrix(3)":"mat3","Matrix(4)":"mat4",Array2D:"sampler2D",Array3D:"sampler2D",Boolean:"bool",Float:"float",Input:"sampler2D",Integer:"int",Number:"float",LiteralInteger:"float",NumberTexture:"sampler2D",MemoryOptimizedNumberTexture:"sampler2D","ArrayTexture(1)":"sampler2D","ArrayTexture(2)":"sampler2D","ArrayTexture(3)":"sampler2D","ArrayTexture(4)":"sampler2D",HTMLVideo:"sampler2D",HTMLCanvas:"sampler2D",HTMLImage:"sampler2D",HTMLImageArray:"sampler2DArray"},o={"===":"==","!==":"!="};t.exports={WebGLFunctionNode:i}},{"../../utils":114,"../function-node":10}],39:[function(e,t){function n(e,t,n,r){if(!e)throw new Error("type missing");if(!t)throw new Error("dynamic missing");if(!n)throw new Error("precision missing");r.type&&(e=r.type);const i=R[n][t];if(!1===i[e])return null;if(void 0===i[e])throw new Error(`Could not find a KernelValue for ${e}`);return i[e]}const{WebGLKernelValueBoolean:r}=e("./kernel-value/boolean"),{WebGLKernelValueFloat:i}=e("./kernel-value/float"),{WebGLKernelValueInteger:s}=e("./kernel-value/integer"),{WebGLKernelValueHTMLImage:o}=e("./kernel-value/html-image"),{WebGLKernelValueDynamicHTMLImage:a}=e("./kernel-value/dynamic-html-image"),{WebGLKernelValueHTMLVideo:l}=e("./kernel-value/html-video"),{WebGLKernelValueDynamicHTMLVideo:u}=e("./kernel-value/dynamic-html-video"),{WebGLKernelValueSingleInput:c}=e("./kernel-value/single-input"),{WebGLKernelValueDynamicSingleInput:h}=e("./kernel-value/dynamic-single-input"),{WebGLKernelValueUnsignedInput:p}=e("./kernel-value/unsigned-input"),{WebGLKernelValueDynamicUnsignedInput:d}=e("./kernel-value/dynamic-unsigned-input"),{WebGLKernelValueMemoryOptimizedNumberTexture:f}=e("./kernel-value/memory-optimized-number-texture"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:g}=e("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGLKernelValueNumberTexture:m}=e("./kernel-value/number-texture"),{WebGLKernelValueDynamicNumberTexture:y}=e("./kernel-value/dynamic-number-texture"),{WebGLKernelValueSingleArray:v}=e("./kernel-value/single-array"),{WebGLKernelValueDynamicSingleArray:x}=e("./kernel-value/dynamic-single-array"),{WebGLKernelValueSingleArray1DI:b}=e("./kernel-value/single-array1d-i"),{WebGLKernelValueDynamicSingleArray1DI:_}=e("./kernel-value/dynamic-single-array1d-i"),{WebGLKernelValueSingleArray2DI:w}=e("./kernel-value/single-array2d-i"),{WebGLKernelValueDynamicSingleArray2DI:S}=e("./kernel-value/dynamic-single-array2d-i"),{WebGLKernelValueSingleArray3DI:T}=e("./kernel-value/single-array3d-i"),{WebGLKernelValueDynamicSingleArray3DI:A}=e("./kernel-value/dynamic-single-array3d-i"),{WebGLKernelValueArray2:E}=e("./kernel-value/array2"),{WebGLKernelValueArray3:k}=e("./kernel-value/array3"),{WebGLKernelValueArray4:C}=e("./kernel-value/array4"),{WebGLKernelValueUnsignedArray:L}=e("./kernel-value/unsigned-array"),{WebGLKernelValueDynamicUnsignedArray:$}=e("./kernel-value/dynamic-unsigned-array"),R={unsigned:{dynamic:{Boolean:r,Integer:s,Float:i,Array:$,"Array(2)":E,"Array(3)":k,"Array(4)":C,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:d,NumberTexture:y,"ArrayTexture(1)":y,"ArrayTexture(2)":y,"ArrayTexture(3)":y,"ArrayTexture(4)":y,MemoryOptimizedNumberTexture:g,HTMLCanvas:a,HTMLImage:a,HTMLImageArray:!1,HTMLVideo:u},static:{Boolean:r,Float:i,Integer:s,Array:L,"Array(2)":E,"Array(3)":k,"Array(4)":C,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:p,NumberTexture:m,"ArrayTexture(1)":m,"ArrayTexture(2)":m,"ArrayTexture(3)":m,"ArrayTexture(4)":m,MemoryOptimizedNumberTexture:f,HTMLCanvas:o,HTMLImage:o,HTMLImageArray:!1,HTMLVideo:l}},single:{dynamic:{Boolean:r,Integer:s,Float:i,Array:x,"Array(2)":E,"Array(3)":k,"Array(4)":C,"Array1D(2)":_,"Array1D(3)":_,"Array1D(4)":_,"Array2D(2)":S,"Array2D(3)":S,"Array2D(4)":S,"Array3D(2)":A,"Array3D(3)":A,"Array3D(4)":A,Input:h,NumberTexture:y,"ArrayTexture(1)":y,"ArrayTexture(2)":y,"ArrayTexture(3)":y,"ArrayTexture(4)":y,MemoryOptimizedNumberTexture:g,HTMLCanvas:a,HTMLImage:a,HTMLImageArray:!1,HTMLVideo:u},static:{Boolean:r,Float:i,Integer:s,Array:v,"Array(2)":E,"Array(3)":k,"Array(4)":C,"Array1D(2)":b,"Array1D(3)":b,"Array1D(4)":b,"Array2D(2)":w,"Array2D(3)":w,"Array2D(4)":w,"Array3D(2)":T,"Array3D(3)":T,"Array3D(4)":T,Input:c,NumberTexture:m,"ArrayTexture(1)":m,"ArrayTexture(2)":m,"ArrayTexture(3)":m,"ArrayTexture(4)":m,MemoryOptimizedNumberTexture:f,HTMLCanvas:o,HTMLImage:o,HTMLImageArray:!1,HTMLVideo:l}}};t.exports={lookupKernelValueType:n,kernelValueMaps:R}},{"./kernel-value/array2":41,"./kernel-value/array3":42,"./kernel-value/array4":43,"./kernel-value/boolean":44,"./kernel-value/dynamic-html-image":45,"./kernel-value/dynamic-html-video":46,"./kernel-value/dynamic-memory-optimized-number-texture":47,"./kernel-value/dynamic-number-texture":48,"./kernel-value/dynamic-single-array":49,"./kernel-value/dynamic-single-array1d-i":50,"./kernel-value/dynamic-single-array2d-i":51,"./kernel-value/dynamic-single-array3d-i":52,"./kernel-value/dynamic-single-input":53,"./kernel-value/dynamic-unsigned-array":54,"./kernel-value/dynamic-unsigned-input":55,"./kernel-value/float":56,"./kernel-value/html-image":57,"./kernel-value/html-video":58,"./kernel-value/integer":60,"./kernel-value/memory-optimized-number-texture":61,"./kernel-value/number-texture":62,"./kernel-value/single-array":63,"./kernel-value/single-array1d-i":64,"./kernel-value/single-array2d-i":65,"./kernel-value/single-array3d-i":66,"./kernel-value/single-input":67,"./kernel-value/unsigned-array":68,"./kernel-value/unsigned-input":69}],40:[function(e,t){const{WebGLKernelValue:n}=e("./index"),{Input:r}=e("../../../input");class i extends n{checkSize(e,t){if(!this.kernel.validate)return;const{maxTextureSize:n}=this.kernel.constructor.features;if(e>n||t>n)throw e>t?new Error(`Argument texture width of ${e} larger than maximum size of ${n} for your GPU`):e<t?new Error(`Argument texture height of ${t} larger than maximum size of ${n} for your GPU`):new Error(`Argument texture height and width of ${t} larger than maximum size of ${n} for your GPU`)}setup(){this.requestTexture(),this.setupTexture(),this.defineTexture()}requestTexture(){this.texture=this.onRequestTexture()}defineTexture(){const{context:e}=this;e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)}setupTexture(){this.contextHandle=this.onRequestContextHandle(),this.index=this.onRequestIndex(),this.dimensionsId=this.id+"Dim",this.sizeId=this.id+"Size"}getBitRatio(e){if(Array.isArray(e[0]))return this.getBitRatio(e[0]);if(e.constructor===r)return this.getBitRatio(e.value);switch(e.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}destroy(){this.prevArg&&this.prevArg.delete(),this.context.deleteTexture(this.texture)}}t.exports={WebGLKernelArray:i}},{"../../../input":110,"./index":59}],41:[function(e,t){const{WebGLKernelValue:n}=e("./index");class r extends n{constructor(e,t){super(e,t),this.uploadValue=e}getSource(e){return"constants"===this.origin?`const vec2 ${this.id} = vec2(${e[0]},${e[1]});\n`:`uniform vec2 ${this.id};\n`}getStringValueHandler(){return"constants"===this.origin?"":`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform2fv(this.id,this.uploadValue=e)}}t.exports={WebGLKernelValueArray2:r}},{"./index":59}],42:[function(e,t){const{WebGLKernelValue:n}=e("./index");class r extends n{constructor(e,t){super(e,t),this.uploadValue=e}getSource(e){return"constants"===this.origin?`const vec3 ${this.id} = vec3(${e[0]},${e[1]},${e[2]});\n`:`uniform vec3 ${this.id};\n`}getStringValueHandler(){return"constants"===this.origin?"":`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform3fv(this.id,this.uploadValue=e)}}t.exports={WebGLKernelValueArray3:r}},{"./index":59}],43:[function(e,t){const{WebGLKernelValue:n}=e("./index");class r extends n{constructor(e,t){super(e,t),this.uploadValue=e}getSource(e){return"constants"===this.origin?`const vec4 ${this.id} = vec4(${e[0]},${e[1]},${e[2]},${e[3]});\n`:`uniform vec4 ${this.id};\n`}getStringValueHandler(){return"constants"===this.origin?"":`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform4fv(this.id,this.uploadValue=e)}}t.exports={WebGLKernelValueArray4:r}},{"./index":59}],44:[function(e,t){e("../../../utils");const{WebGLKernelValue:n}=e("./index");class r extends n{constructor(e,t){super(e,t),this.uploadValue=e}getSource(e){return"constants"===this.origin?`const bool ${this.id} = ${e};\n`:`uniform bool ${this.id};\n`}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform1i(this.id,this.uploadValue=e)}}t.exports={WebGLKernelValueBoolean:r}},{"../../../utils":114,"./index":59}],45:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueHTMLImage:r}=e("./html-image");class i extends r{getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){const{width:t,height:n}=e;this.checkSize(t,n),this.dimensions=[t,n,1],this.textureSize=[t,n],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicHTMLImage:i}},{"../../../utils":114,"./html-image":57}],46:[function(e,t){const{WebGLKernelValueDynamicHTMLImage:n}=e("./dynamic-html-image");class r extends n{}t.exports={WebGLKernelValueDynamicHTMLVideo:r}},{"./dynamic-html-image":45}],47:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:r}=e("./memory-optimized-number-texture");class i extends r{getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){this.dimensions=e.dimensions,this.checkSize(e.size[0],e.size[1]),this.textureSize=e.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicMemoryOptimizedNumberTexture:i}},{"../../../utils":114,"./memory-optimized-number-texture":61}],48:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueNumberTexture:r}=e("./number-texture");class i extends r{getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){this.dimensions=e.dimensions,this.checkSize(e.size[0],e.size[1]),this.textureSize=e.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicNumberTexture:i}},{"../../../utils":114,"./number-texture":62}],49:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray:r}=e("./single-array");class i extends r{getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){this.dimensions=n.getDimensions(e,!0),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicSingleArray:i}},{"../../../utils":114,"./single-array":63}],50:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray1DI:r}=e("./single-array1d-i");class i extends r{getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicSingleArray1DI:i}},{"../../../utils":114,"./single-array1d-i":64}],51:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray2DI:r}=e("./single-array2d-i");class i extends r{getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicSingleArray2DI:i}},{"../../../utils":114,"./single-array2d-i":65}],52:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray3DI:r}=e("./single-array3d-i");class i extends r{getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicSingleArray3DI:i}},{"../../../utils":114,"./single-array3d-i":66}],53:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleInput:r}=e("./single-input");class i extends r{getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){let[t,r,i]=e.size;this.dimensions=new Int32Array([t||1,r||1,i||1]),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicSingleInput:i}},{"../../../utils":114,"./single-input":67}],54:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueUnsignedArray:r}=e("./unsigned-array");class i extends r{getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){this.dimensions=n.getDimensions(e,!0),this.textureSize=n.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const t=this.getTransferArrayType(e);this.preUploadValue=new t(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicUnsignedArray:i}},{"../../../utils":114,"./unsigned-array":68}],55:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueUnsignedInput:r}=e("./unsigned-input");class i extends r{getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(e){let[t,r,i]=e.size;this.dimensions=new Int32Array([t||1,r||1,i||1]),this.textureSize=n.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const s=this.getTransferArrayType(e.value);this.preUploadValue=new s(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGLKernelValueDynamicUnsignedInput:i}},{"../../../utils":114,"./unsigned-input":69}],56:[function(e,t){e("../../../utils");const{WebGLKernelValue:n}=e("./index");class r extends n{constructor(e,t){super(e,t),this.uploadValue=e}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(e){return"constants"===this.origin?Number.isInteger(e)?`const float ${this.id} = ${e}.0;\n`:`const float ${this.id} = ${e};\n`:`uniform float ${this.id};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform1f(this.id,this.uploadValue=e)}}t.exports={WebGLKernelValueFloat:r}},{"../../../utils":114,"./index":59}],57:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelArray:r}=e("./array");class i extends r{constructor(e,t){super(e,t);const{width:n,height:r}=e;this.checkSize(n,r),this.dimensions=[n,r,1],this.textureSize=[n,r],this.uploadValue=e}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue=e),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueHTMLImage:i}},{"../../../utils":114,"./array":40}],58:[function(e,t){const{WebGLKernelValueHTMLImage:n}=e("./html-image");class r extends n{}t.exports={WebGLKernelValueHTMLVideo:r}},{"./html-image":57}],59:[function(e,t){const{utils:n}=e("../../../utils"),{KernelValue:r}=e("../../kernel-value");class i extends r{constructor(e,t){super(e,t),this.dimensionsId=null,this.sizeId=null,this.initialValueConstructor=e.constructor,this.onRequestTexture=t.onRequestTexture,this.onRequestIndex=t.onRequestIndex,this.uploadValue=null,this.textureSize=null,this.bitRatio=null,this.prevArg=null}get id(){return`${this.origin}_${n.sanitizeName(this.name)}`}setup(){}getTransferArrayType(e){if(Array.isArray(e[0]))return this.getTransferArrayType(e[0]);switch(e.constructor){case Array:case Int32Array:case Int16Array:case Int8Array:return Float32Array;case Uint8ClampedArray:case Uint8Array:case Uint16Array:case Uint32Array:case Float32Array:case Float64Array:return e.constructor}return console.warn("Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros"),e.constructor}getStringValueHandler(){throw new Error(`"getStringValueHandler" not implemented on ${this.constructor.name}`)}getVariablePrecisionString(){return this.kernel.getVariablePrecisionString(this.textureSize||void 0,this.tactic||void 0)}destroy(){}}t.exports={WebGLKernelValue:i}},{"../../../utils":114,"../../kernel-value":35}],60:[function(e,t){e("../../../utils");const{WebGLKernelValue:n}=e("./index");class r extends n{constructor(e,t){super(e,t),this.uploadValue=e}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(e){return"constants"===this.origin?`const int ${this.id} = ${parseInt(e)};\n`:`uniform int ${this.id};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform1i(this.id,this.uploadValue=e)}}t.exports={WebGLKernelValueInteger:r}},{"../../../utils":114,"./index":59}],61:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelArray:r}=e("./array"),i="Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()";class s extends r{constructor(e,t){super(e,t);const[n,r]=e.size;this.checkSize(n,r),this.dimensions=e.dimensions,this.textureSize=e.size,this.uploadValue=e.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;\n`}getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);if(this.checkContext&&e.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:t,context:n}=this;if(t.pipeline)if(t.immutable)t.updateTextureArgumentRefs(this,e);else{if(t.texture&&t.texture.texture===e.texture)throw new Error(i);if(t.mappedTextures){const{mappedTextures:n}=t;for(let t=0;t<n.length;t++)if(n[t].texture===e.texture)throw new Error(i)}}n.activeTexture(this.contextHandle),n.bindTexture(n.TEXTURE_2D,this.uploadValue=e.texture),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueMemoryOptimizedNumberTexture:s,sameError:i}},{"../../../utils":114,"./array":40}],62:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelArray:r}=e("./array"),{sameError:i}=e("./memory-optimized-number-texture");class s extends r{constructor(e,t){super(e,t);const[n,r]=e.size;this.checkSize(n,r);const{size:i,dimensions:s}=e;this.bitRatio=this.getBitRatio(e),this.dimensions=s,this.textureSize=i,this.uploadValue=e.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;\n`}getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);if(this.checkContext&&e.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:t,context:n}=this;if(t.pipeline)if(t.immutable)t.updateTextureArgumentRefs(this,e);else{if(t.texture&&t.texture.texture===e.texture)throw new Error(i);if(t.mappedTextures){const{mappedTextures:n}=t;for(let t=0;t<n.length;t++)if(n[t].texture===e.texture)throw new Error(i)}}n.activeTexture(this.contextHandle),n.bindTexture(n.TEXTURE_2D,this.uploadValue=e.texture),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueNumberTexture:s}},{"../../../utils":114,"./array":40,"./memory-optimized-number-texture":61}],63:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelArray:r}=e("./array");class i extends r{constructor(e,t){super(e,t),this.bitRatio=4,this.dimensions=n.getDimensions(e,!0),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return n.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueSingleArray:i}},{"../../../utils":114,"./array":40}],64:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelArray:r}=e("./array");class i extends r{constructor(e,t){super(e,t),this.bitRatio=4,this.setShape(e)}setShape(e){const t=n.getDimensions(e,!0);this.textureSize=n.getMemoryOptimizedFloatTextureSize(t,this.bitRatio),this.dimensions=new Int32Array([t[1],1,1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return n.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flatten2dArrayTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueSingleArray1DI:i}},{"../../../utils":114,"./array":40}],65:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelArray:r}=e("./array");class i extends r{constructor(e,t){super(e,t),this.bitRatio=4,this.setShape(e)}setShape(e){const t=n.getDimensions(e,!0);this.textureSize=n.getMemoryOptimizedFloatTextureSize(t,this.bitRatio),this.dimensions=new Int32Array([t[1],t[2],1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return n.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flatten3dArrayTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueSingleArray2DI:i}},{"../../../utils":114,"./array":40}],66:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelArray:r}=e("./array");class i extends r{constructor(e,t){super(e,t),this.bitRatio=4,this.setShape(e)}setShape(e){const t=n.getDimensions(e,!0);this.textureSize=n.getMemoryOptimizedFloatTextureSize(t,this.bitRatio),this.dimensions=new Int32Array([t[1],t[2],t[3]]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return n.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flatten4dArrayTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueSingleArray3DI:i}},{"../../../utils":114,"./array":40}],67:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelArray:r}=e("./array");class i extends r{constructor(e,t){super(e,t),this.bitRatio=4;let[r,i,s]=e.size;this.dimensions=new Int32Array([r||1,i||1,s||1]),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return n.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}.value, uploadValue_${this.name})`])}getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flattenTo(e.value,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueSingleInput:i}},{"../../../utils":114,"./array":40}],68:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelArray:r}=e("./array");class i extends r{constructor(e,t){super(e,t),this.bitRatio=this.getBitRatio(e),this.dimensions=n.getDimensions(e,!0),this.textureSize=n.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(e),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return n.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}, preUploadValue_${this.name})`])}getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flattenTo(e,this.preUploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueUnsignedArray:i}},{"../../../utils":114,"./array":40}],69:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelArray:r}=e("./array");class i extends r{constructor(e,t){super(e,t),this.bitRatio=this.getBitRatio(e);const[r,i,s]=e.size;this.dimensions=new Int32Array([r||1,i||1,s||1]),this.textureSize=n.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(e.value),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return n.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}.value, preUploadValue_${this.name})`])}getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(value.constructor);const{context:t}=this;n.flattenTo(e.value,this.preUploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGLKernelValueUnsignedInput:i}},{"../../../utils":114,"./array":40}],70:[function(e,t){const{GLKernel:n}=e("../gl/kernel"),{FunctionBuilder:r}=e("../function-builder"),{WebGLFunctionNode:i}=e("./function-node"),{utils:s}=e("../../utils"),o=e("../../plugins/math-random-uniformly-distributed"),{fragmentShader:a}=e("./fragment-shader"),{vertexShader:l}=e("./vertex-shader"),{glKernelString:u}=e("../gl/kernel-string"),{lookupKernelValueType:c}=e("./kernel-value-maps");let h=null,p=null,d=null,f=null,g=null;const m=[o],y=[],v={};class x extends n{static get isSupported(){return null!==h||(this.setupFeatureChecks(),h=this.isContextMatch(d)),h}static setupFeatureChecks(){"undefined"!=typeof document?p=document.createElement("canvas"):"undefined"!=typeof OffscreenCanvas&&(p=new OffscreenCanvas(0,0)),p&&(d=p.getContext("webgl")||p.getContext("experimental-webgl"),d&&d.getExtension&&(f={OES_texture_float:d.getExtension("OES_texture_float"),OES_texture_float_linear:d.getExtension("OES_texture_float_linear"),OES_element_index_uint:d.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:d.getExtension("WEBGL_draw_buffers")},g=this.getFeatures()))}static isContextMatch(e){return"undefined"!=typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext}static getIsTextureFloat(){return Boolean(f.OES_texture_float)}static getIsDrawBuffers(){return Boolean(f.WEBGL_draw_buffers)}static getChannelCount(){return f.WEBGL_draw_buffers?d.getParameter(f.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return d.getParameter(d.MAX_TEXTURE_SIZE)}static lookupKernelValueType(e,t,n,r){return c(e,t,n,r)}static get testCanvas(){return p}static get testContext(){return d}static get features(){return g}static get fragmentShader(){return a}static get vertexShader(){return l}constructor(e,t){super(e,t),this.program=null,this.pipeline=t.pipeline,this.endianness=s.systemEndianness(),this.extensions={},this.argumentTextureCount=0,this.constantTextureCount=0,this.fragShader=null,this.vertShader=null,this.drawBuffersMap=null,this.maxTexSize=null,this.onRequestSwitchKernel=null,this.texture=null,this.mappedTextures=null,this.mergeSettings(e.settings||t),this.threadDim=null,this.framebuffer=null,this.buffer=null,this.textureCache=[],this.programUniformLocationCache={},this.uniform1fCache={},this.uniform1iCache={},this.uniform2fCache={},this.uniform2fvCache={},this.uniform2ivCache={},this.uniform3fvCache={},this.uniform3ivCache={},this.uniform4fvCache={},this.uniform4ivCache={}}initCanvas(){if("undefined"!=typeof document){const e=document.createElement("canvas");return e.width=2,e.height=2,e}if("undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(0,0)}initContext(){const e={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e)}initPlugins(e){const t=[],{source:n}=this;if("string"==typeof n)for(let e=0;e<m.length;e++){const r=m[e];n.match(r.functionMatch)&&t.push(r)}else if("object"==typeof n&&e.pluginNames)for(let n=0;n<m.length;n++){const r=m[n];e.pluginNames.some((e=>e===r.name))&&t.push(r)}return t}initExtensions(){this.extensions={OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:this.context.getExtension("WEBGL_color_buffer_float")}}validateSettings(e){if(!this.validate)return void(this.texSize=s.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output));const{features:t}=this.constructor;if(!0===this.optimizeFloatMemory&&!t.isTextureFloat)throw new Error("Float textures are not supported");if("single"===this.precision&&!t.isFloatRead)throw new Error("Single precision not supported");if(!this.graphical&&null===this.precision&&t.isTextureFloat&&(this.precision=t.isFloatRead?"single":"unsigned"),this.subKernels&&this.subKernels.length>0&&!this.extensions.WEBGL_draw_buffers)throw new Error("could not instantiate draw buffers extension");if(null===this.fixIntegerDivisionAccuracy?this.fixIntegerDivisionAccuracy=!t.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&t.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||0===this.output.length){if(1!==e.length)throw new Error("Auto output only supported for kernels with only one input");const t=s.getVariableType(e[0],this.strictIntegers);switch(t){case"Array":this.output=s.getDimensions(t);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=e[0].output;break;default:throw new Error("Auto output not supported for input type: "+t)}}if(this.graphical){if(2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");return"precision"===this.precision&&(this.precision="unsigned",console.warn("Cannot use graphical mode and single precision at the same time")),void(this.texSize=s.clone(this.output))}null===this.precision&&t.isTextureFloat&&(this.precision="single"),this.texSize=s.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}updateMaxTexSize(){const{texSize:e,canvas:t}=this;if(null===this.maxTexSize){let n=y.indexOf(t);-1===n&&(n=y.length,y.push(t),v[n]=[e[0],e[1]]),this.maxTexSize=v[n]}this.maxTexSize[0]<e[0]&&(this.maxTexSize[0]=e[0]),this.maxTexSize[1]<e[1]&&(this.maxTexSize[1]=e[1])}setupArguments(e){this.kernelArguments=[],this.argumentTextureCount=0;const t=null===this.argumentTypes;if(t&&(this.argumentTypes=[]),this.argumentSizes=[],this.argumentBitRatios=[],e.length<this.argumentNames.length)throw new Error("not enough arguments for kernel");if(e.length>this.argumentNames.length)throw new Error("too many arguments for kernel");const{context:n}=this;let r=0;const i=()=>this.createTexture(),o=()=>this.constantTextureCount+r++,a=e=>{this.switchKernels({type:"argumentMismatch",needed:e})},l=()=>n.TEXTURE0+this.constantTextureCount+this.argumentTextureCount++;for(let r=0;r<e.length;r++){const u=e[r],c=this.argumentNames[r];let h;t?(h=s.getVariableType(u,this.strictIntegers),this.argumentTypes.push(h)):h=this.argumentTypes[r];const p=this.constructor.lookupKernelValueType(h,this.dynamicArguments?"dynamic":"static",this.precision,e[r]);if(null===p)return this.requestFallback(e);const d=new p(u,{name:c,type:h,tactic:this.tactic,origin:"user",context:n,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:i,onRequestIndex:o,onUpdateValueMismatch:a,onRequestContextHandle:l});this.kernelArguments.push(d),d.setup(),this.argumentSizes.push(d.textureSize),this.argumentBitRatios[r]=d.bitRatio}}createTexture(){const e=this.context.createTexture();return this.textureCache.push(e),e}setupConstants(e){const{context:t}=this;this.kernelConstants=[],this.forceUploadKernelConstants=[];let n=null===this.constantTypes;n&&(this.constantTypes={}),this.constantBitRatios={};let r=0;for(const i in this.constants){const o=this.constants[i];let a;n?(a=s.getVariableType(o,this.strictIntegers),this.constantTypes[i]=a):a=this.constantTypes[i];const l=this.constructor.lookupKernelValueType(a,"static",this.precision,o);if(null===l)return this.requestFallback(e);const u=new l(o,{name:i,type:a,tactic:this.tactic,origin:"constants",context:this.context,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:()=>this.createTexture(),onRequestIndex:()=>r++,onRequestContextHandle:()=>t.TEXTURE0+this.constantTextureCount++});this.constantBitRatios[i]=u.bitRatio,this.kernelConstants.push(u),u.setup(),u.forceUploadEachRun&&this.forceUploadKernelConstants.push(u)}}build(){if(this.built)return;if(this.initExtensions(),this.validateSettings(arguments),this.setupConstants(arguments),this.fallbackRequested)return;if(this.setupArguments(arguments),this.fallbackRequested)return;this.updateMaxTexSize(),this.translateSource();const e=this.pickRenderStrategy(arguments);if(e)return e;const{texSize:t,context:n,canvas:r}=this;n.enable(n.SCISSOR_TEST),n.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),r.width=this.maxTexSize[0],r.height=this.maxTexSize[1];const i=this.threadDim=Array.from(this.output);for(;i.length<3;)i.push(1);const s=this.getVertexShader(arguments),o=n.createShader(n.VERTEX_SHADER);n.shaderSource(o,s),n.compileShader(o),this.vertShader=o;const a=this.getFragmentShader(arguments),l=n.createShader(n.FRAGMENT_SHADER);if(n.shaderSource(l,a),n.compileShader(l),this.fragShader=l,this.debug&&(console.log("GLSL Shader Output:"),console.log(a)),!n.getShaderParameter(o,n.COMPILE_STATUS))throw new Error("Error compiling vertex shader: "+n.getShaderInfoLog(o));if(!n.getShaderParameter(l,n.COMPILE_STATUS))throw new Error("Error compiling fragment shader: "+n.getShaderInfoLog(l));const u=this.program=n.createProgram();n.attachShader(u,o),n.attachShader(u,l),n.linkProgram(u),this.framebuffer=n.createFramebuffer(),this.framebuffer.width=t[0],this.framebuffer.height=t[1],this.rawValueFramebuffers={};const c=new Float32Array([-1,-1,1,-1,-1,1,1,1]),h=new Float32Array([0,0,1,0,0,1,1,1]),p=c.byteLength;let d=this.buffer;d?n.bindBuffer(n.ARRAY_BUFFER,d):(d=this.buffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,d),n.bufferData(n.ARRAY_BUFFER,c.byteLength+h.byteLength,n.STATIC_DRAW)),n.bufferSubData(n.ARRAY_BUFFER,0,c),n.bufferSubData(n.ARRAY_BUFFER,p,h);const f=n.getAttribLocation(this.program,"aPos");n.enableVertexAttribArray(f),n.vertexAttribPointer(f,2,n.FLOAT,!1,0,0);const g=n.getAttribLocation(this.program,"aTexCoord");n.enableVertexAttribArray(g),n.vertexAttribPointer(g,2,n.FLOAT,!1,0,p),n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer);let m=0;n.useProgram(this.program);for(let e in this.constants)this.kernelConstants[m++].updateValue(this.constants[e]);this._setupOutputTexture(),null!==this.subKernels&&this.subKernels.length>0&&(this._mappedTextureSwitched={},this._setupSubOutputTextures()),this.buildSignature(arguments),this.built=!0}translateSource(){const e=r.fromKernel(this,i,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=e.getPrototypeString("kernel"),this.setupReturnTypes(e)}setupReturnTypes(e){if(this.graphical||this.returnType||(this.returnType=e.getKernelResultType()),this.subKernels&&this.subKernels.length>0)for(let t=0;t<this.subKernels.length;t++){const n=this.subKernels[t];n.returnType||(n.returnType=e.getSubKernelResultType(t))}}run(){const{kernelArguments:e,texSize:t,forceUploadKernelConstants:n,context:r}=this;r.useProgram(this.program),r.scissor(0,0,t[0],t[1]),this.dynamicOutput&&(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",t)),this.setUniform2f("ratio",t[0]/this.maxTexSize[0],t[1]/this.maxTexSize[1]);for(let e=0;e<n.length;e++){const t=n[e];if(t.updateValue(this.constants[t.name]),this.switchingKernels)return}for(let t=0;t<e.length;t++)if(e[t].updateValue(arguments[t]),this.switchingKernels)return;if(this.plugins)for(let e=0;e<this.plugins.length;e++){const t=this.plugins[e];t.onBeforeRun&&t.onBeforeRun(this)}if(this.graphical)return this.pipeline?(r.bindRenderbuffer(r.RENDERBUFFER,null),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),r.drawArrays(r.TRIANGLE_STRIP,0,4),this.immutable?this.texture.clone():this.texture):(r.bindRenderbuffer(r.RENDERBUFFER,null),r.bindFramebuffer(r.FRAMEBUFFER,null),void r.drawArrays(r.TRIANGLE_STRIP,0,4));r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),null!==this.subKernels&&(this.immutable&&this._replaceSubOutputTextures(),this.drawBuffers()),r.drawArrays(r.TRIANGLE_STRIP,0,4)}drawBuffers(){this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap)}getInternalFormat(){return this.context.RGBA}getTextureFormat(){const{context:e}=this;if(this.getInternalFormat()===e.RGBA)return e.RGBA;throw new Error("Unknown internal format")}_replaceOutputTexture(){if(this.texture.beforeMutate()||this._textureSwitched){const e=this.context;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0),this._textureSwitched=!1}}_setupOutputTexture(){const e=this.context,t=this.texSize;if(this.texture)return void e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0);const n=this.createTexture();e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);const r=this.getInternalFormat();"single"===this.precision?e.texImage2D(e.TEXTURE_2D,0,r,t[0],t[1],0,e.RGBA,e.FLOAT,null):e.texImage2D(e.TEXTURE_2D,0,r,t[0],t[1],0,r,e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),this.texture=new this.TextureConstructor({texture:n,size:t,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_replaceSubOutputTextures(){const e=this.context;for(let t=0;t<this.mappedTextures.length;t++){const n=this.mappedTextures[t];(n.beforeMutate()||this._mappedTextureSwitched[t])&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t+1,e.TEXTURE_2D,n.texture,0),this._mappedTextureSwitched[t]=!1)}}_setupSubOutputTextures(){const e=this.context;if(this.mappedTextures){for(let t=0;t<this.subKernels.length;t++)e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t+1,e.TEXTURE_2D,this.mappedTextures[t].texture,0);return}const t=this.texSize;this.drawBuffersMap=[e.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let n=0;n<this.subKernels.length;n++){const r=this.createTexture();this.drawBuffersMap.push(e.COLOR_ATTACHMENT0+n+1),e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+n),e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t[0],t[1],0,e.RGBA,"single"===this.precision?e.FLOAT:e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n+1,e.TEXTURE_2D,r,0),this.mappedTextures.push(new this.TextureConstructor({texture:r,size:t,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}setUniform1f(e,t){if(this.uniform1fCache.hasOwnProperty(e)&&t===this.uniform1fCache[e])return;this.uniform1fCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform1f(n,t)}setUniform1i(e,t){if(this.uniform1iCache.hasOwnProperty(e)&&t===this.uniform1iCache[e])return;this.uniform1iCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform1i(n,t)}setUniform2f(e,t,n){if(this.uniform2fCache.hasOwnProperty(e)){const r=this.uniform2fCache[e];if(t===r[0]&&n===r[1])return}this.uniform2fCache[e]=[t,n];const r=this.getUniformLocation(e);this.context.uniform2f(r,t,n)}setUniform2fv(e,t){if(this.uniform2fvCache.hasOwnProperty(e)){const n=this.uniform2fvCache[e];if(t[0]===n[0]&&t[1]===n[1])return}this.uniform2fvCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform2fv(n,t)}setUniform2iv(e,t){if(this.uniform2ivCache.hasOwnProperty(e)){const n=this.uniform2ivCache[e];if(t[0]===n[0]&&t[1]===n[1])return}this.uniform2ivCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform2iv(n,t)}setUniform3fv(e,t){if(this.uniform3fvCache.hasOwnProperty(e)){const n=this.uniform3fvCache[e];if(t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2])return}this.uniform3fvCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform3fv(n,t)}setUniform3iv(e,t){if(this.uniform3ivCache.hasOwnProperty(e)){const n=this.uniform3ivCache[e];if(t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2])return}this.uniform3ivCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform3iv(n,t)}setUniform4fv(e,t){if(this.uniform4fvCache.hasOwnProperty(e)){const n=this.uniform4fvCache[e];if(t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3])return}this.uniform4fvCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform4fv(n,t)}setUniform4iv(e,t){if(this.uniform4ivCache.hasOwnProperty(e)){const n=this.uniform4ivCache[e];if(t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3])return}this.uniform4ivCache[e]=t;const n=this.getUniformLocation(e);this.context.uniform4iv(n,t)}getUniformLocation(e){return this.programUniformLocationCache.hasOwnProperty(e)?this.programUniformLocationCache[e]:this.programUniformLocationCache[e]=this.context.getUniformLocation(this.program,e)}_getFragShaderArtifactMap(e){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),PLUGINS:this._getPluginsString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),INJECTED_NATIVE:this._getInjectedNative(),MAIN_CONSTANTS:this._getMainConstantsString(),MAIN_ARGUMENTS:this._getMainArgumentsString(e),KERNEL:this.getKernelString(),MAIN_RESULT:this.getMainResultString(),FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getVertShaderArtifactMap(e){return{FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getHeaderString(){return null!==this.subKernels?"#extension GL_EXT_draw_buffers : require\n":""}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};\n`:" 1000;\n"}_getPluginsString(){return this.plugins?this.plugins.map((e=>e.source&&this.source.match(e.functionMatch)?e.source:"")).join("\n"):"\n"}_getConstantsString(){const e=[],{threadDim:t,texSize:n}=this;return this.dynamicOutput?e.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"):e.push(`ivec3 uOutputDim = ivec3(${t[0]}, ${t[1]}, ${t[2]})`,`ivec2 uTexSize = ivec2(${n[0]}, ${n[1]})`),s.linesToString(e)}_getTextureCoordinate(){const e=this.subKernels;return null===e||e.length<1?"varying vec2 vTexCoord;\n":"out vec2 vTexCoord;\n"}_getDecode32EndiannessString(){return"LE"===this.endianness?"":"  texel.rgba = texel.abgr;\n"}_getEncode32EndiannessString(){return"LE"===this.endianness?"":"  texel.rgba = texel.abgr;\n"}_getDivideWithIntegerCheckString(){return this.fixIntegerDivisionAccuracy?"float divWithIntCheck(float x, float y) {\n  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {\n    return float(int(x) / int(y));\n  }\n  return x / y;\n}\n\nfloat integerCorrectionModulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return number - (divisor * floor(divWithIntCheck(number, divisor)));\n}":""}_getMainArgumentsString(e){const t=[],{argumentNames:n}=this;for(let r=0;r<n.length;r++)t.push(this.kernelArguments[r].getSource(e[r]));return t.join("")}_getInjectedNative(){return this.injectedNative||""}_getMainConstantsString(){const e=[],{constants:t}=this;if(t){let n=0;for(const r in t)this.constants.hasOwnProperty(r)&&e.push(this.kernelConstants[n++].getSource(this.constants[r]))}return e.join("")}getRawValueFramebuffer(e,t){if(this.rawValueFramebuffers[e]||(this.rawValueFramebuffers[e]={}),!this.rawValueFramebuffers[e][t]){const n=this.context.createFramebuffer();n.width=e,n.height=t,this.rawValueFramebuffers[e][t]=n}return this.rawValueFramebuffers[e][t]}getKernelResultDeclaration(){switch(this.returnType){case"Array(2)":return"vec2 kernelResult";case"Array(3)":return"vec3 kernelResult";case"Array(4)":return"vec4 kernelResult";case"LiteralInteger":case"Float":case"Number":case"Integer":return"float kernelResult";default:if(this.graphical)return"float kernelResult";throw new Error(`unrecognized output type "${this.returnType}"`)}}getKernelString(){const e=[this.getKernelResultDeclaration()],{subKernels:t}=this;if(null!==t)switch(this.returnType){case"Number":case"Float":case"Integer":for(let n=0;n<t.length;n++){const r=t[n];e.push("Integer"===r.returnType?`int subKernelResult_${r.name} = 0`:`float subKernelResult_${r.name} = 0.0`)}break;case"Array(2)":for(let n=0;n<t.length;n++)e.push(`vec2 subKernelResult_${t[n].name}`);break;case"Array(3)":for(let n=0;n<t.length;n++)e.push(`vec3 subKernelResult_${t[n].name}`);break;case"Array(4)":for(let n=0;n<t.length;n++)e.push(`vec4 subKernelResult_${t[n].name}`)}return s.linesToString(e)+this.translatedSource}getMainResultGraphical(){return s.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return s.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const e=[];if(!this.subKernels)return"";for(let t=0;t<this.subKernels.length;t++)e.push("Integer"===this.subKernels[t].returnType?`  gl_FragData[${t+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[t].name}))`:`  gl_FragData[${t+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[t].name})`);return s.linesToString(e)}getMainResultMemoryOptimizedFloats(){const e=["  index *= 4"];switch(this.returnType){case"Number":case"Integer":case"Float":const t=["r","g","b","a"];for(let n=0;n<t.length;n++){const r=t[n];this.getMainResultKernelMemoryOptimizedFloats(e,r),this.getMainResultSubKernelMemoryOptimizedFloats(e,r),n+1<t.length&&e.push("  index += 1")}break;default:throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`)}return s.linesToString(e)}getMainResultKernelMemoryOptimizedFloats(e,t){e.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0].${t} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(e,t){if(!this.subKernels)return e;for(let n=0;n<this.subKernels.length;n++)e.push("Integer"===this.subKernels[n].returnType?`  gl_FragData[${n+1}].${t} = float(subKernelResult_${this.subKernels[n].name})`:`  gl_FragData[${n+1}].${t} = subKernelResult_${this.subKernels[n].name}`)}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t){const n=this.subKernels[t];e.push("Integer"===n.returnType?`  gl_FragData[${t+1}][0] = float(subKernelResult_${n.name})`:`  gl_FragData[${t+1}][0] = subKernelResult_${n.name}`)}return e}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t)e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${this.subKernels[t].name}[0]`,`  gl_FragData[${t+1}][1] = subKernelResult_${this.subKernels[t].name}[1]`);return e}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]","  gl_FragData[0][2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t)e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${this.subKernels[t].name}[0]`,`  gl_FragData[${t+1}][1] = subKernelResult_${this.subKernels[t].name}[1]`,`  gl_FragData[${t+1}][2] = subKernelResult_${this.subKernels[t].name}[2]`);return e}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0] = kernelResult"]}getMainResultSubKernelArray4Texture(){const e=[];if(!this.subKernels)return e;switch(this.returnType){case"Number":case"Float":case"Integer":for(let t=0;t<this.subKernels.length;++t)e.push("Integer"===this.subKernels[t].returnType?`  gl_FragData[${t+1}] = float(subKernelResult_${this.subKernels[t].name})`:`  gl_FragData[${t+1}] = subKernelResult_${this.subKernels[t].name}`);break;case"Array(2)":for(let t=0;t<this.subKernels.length;++t)e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${this.subKernels[t].name}[0]`,`  gl_FragData[${t+1}][1] = subKernelResult_${this.subKernels[t].name}[1]`);break;case"Array(3)":for(let t=0;t<this.subKernels.length;++t)e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${this.subKernels[t].name}[0]`,`  gl_FragData[${t+1}][1] = subKernelResult_${this.subKernels[t].name}[1]`,`  gl_FragData[${t+1}][2] = subKernelResult_${this.subKernels[t].name}[2]`);break;case"Array(4)":for(let t=0;t<this.subKernels.length;++t)e.push(`  gl_FragData[${t+1}][0] = subKernelResult_${this.subKernels[t].name}[0]`,`  gl_FragData[${t+1}][1] = subKernelResult_${this.subKernels[t].name}[1]`,`  gl_FragData[${t+1}][2] = subKernelResult_${this.subKernels[t].name}[2]`,`  gl_FragData[${t+1}][3] = subKernelResult_${this.subKernels[t].name}[3]`)}return e}replaceArtifacts(e,t){return e.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\n/g,((e,n)=>{if(t.hasOwnProperty(n))return t[n];throw`unhandled artifact ${n}`}))}getFragmentShader(e){return null!==this.compiledFragmentShader?this.compiledFragmentShader:this.compiledFragmentShader=this.replaceArtifacts(this.constructor.fragmentShader,this._getFragShaderArtifactMap(e))}getVertexShader(e){return null!==this.compiledVertexShader?this.compiledVertexShader:this.compiledVertexShader=this.replaceArtifacts(this.constructor.vertexShader,this._getVertShaderArtifactMap(e))}toString(){const e=s.linesToString(["const gl = context"]);return u(this.constructor,arguments,this,e)}destroy(e){if(!this.context)return;this.buffer&&this.context.deleteBuffer(this.buffer),this.framebuffer&&this.context.deleteFramebuffer(this.framebuffer);for(const e in this.rawValueFramebuffers){for(const t in this.rawValueFramebuffers[e])this.context.deleteFramebuffer(this.rawValueFramebuffers[e][t]),delete this.rawValueFramebuffers[e][t];delete this.rawValueFramebuffers[e]}if(this.vertShader&&this.context.deleteShader(this.vertShader),this.fragShader&&this.context.deleteShader(this.fragShader),this.program&&this.context.deleteProgram(this.program),this.texture){this.texture.delete();const e=this.textureCache.indexOf(this.texture.texture);e>-1&&this.textureCache.splice(e,1),this.texture=null}if(this.mappedTextures&&this.mappedTextures.length){for(let e=0;e<this.mappedTextures.length;e++){const t=this.mappedTextures[e];t.delete();const n=this.textureCache.indexOf(t.texture);n>-1&&this.textureCache.splice(n,1)}this.mappedTextures=null}if(this.kernelArguments)for(let e=0;e<this.kernelArguments.length;e++)this.kernelArguments[e].destroy();if(this.kernelConstants)for(let e=0;e<this.kernelConstants.length;e++)this.kernelConstants[e].destroy();for(;this.textureCache.length>0;){const e=this.textureCache.pop();this.context.deleteTexture(e)}if(e){const e=y.indexOf(this.canvas);e>=0&&(y[e]=null,v[e]=null)}if(this.destroyExtensions(),delete this.context,delete this.canvas,!this.gpu)return;const t=this.gpu.kernels.indexOf(this);-1!==t&&this.gpu.kernels.splice(t,1)}destroyExtensions(){this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(e){const t=e.getExtension("WEBGL_lose_context");t&&t.loseContext()}toJSON(){const e=super.toJSON();return e.functionNodes=r.fromKernel(this,i).toJSON(),e.settings.threadDim=this.threadDim,e}}t.exports={WebGLKernel:x}},{"../../plugins/math-random-uniformly-distributed":112,"../../utils":114,"../function-builder":9,"../gl/kernel":13,"../gl/kernel-string":12,"./fragment-shader":37,"./function-node":38,"./kernel-value-maps":39,"./vertex-shader":71}],71:[function(e,t){t.exports={vertexShader:"__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nattribute vec2 aPos;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}"}},{}],72:[function(e,t){const n=`#version 300 es\n__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nin vec2 vTexCoord;\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x/y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  return texel[channel] * 255.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  index = index / 4;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return texel[channel];\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, st / vec2(texSize));\n}\n\nvec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, vec3(st / vec2(texSize), z));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n\n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;t.exports={fragmentShader:n}},{}],73:[function(e,t){const{utils:n}=e("../../utils"),{WebGLFunctionNode:r}=e("../web-gl/function-node");class i extends r{astIdentifierExpression(e,t){if("Identifier"!==e.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",e);const r=this.getType(e),i=n.sanitizeName(e.name);return"Infinity"===e.name?t.push("intBitsToFloat(2139095039)"):"Boolean"===r&&this.argumentNames.indexOf(i)>-1?t.push(`bool(user_${i})`):t.push(`user_${i}`),t}}t.exports={WebGL2FunctionNode:i}},{"../../utils":114,"../web-gl/function-node":38}],74:[function(e,t){function n(e,t,n,r){if(!e)throw new Error("type missing");if(!t)throw new Error("dynamic missing");if(!n)throw new Error("precision missing");r.type&&(e=r.type);const i=M[n][t];if(!1===i[e])return null;if(void 0===i[e])throw new Error(`Could not find a KernelValue for ${e}`);return i[e]}const{WebGL2KernelValueBoolean:r}=e("./kernel-value/boolean"),{WebGL2KernelValueFloat:i}=e("./kernel-value/float"),{WebGL2KernelValueInteger:s}=e("./kernel-value/integer"),{WebGL2KernelValueHTMLImage:o}=e("./kernel-value/html-image"),{WebGL2KernelValueDynamicHTMLImage:a}=e("./kernel-value/dynamic-html-image"),{WebGL2KernelValueHTMLImageArray:l}=e("./kernel-value/html-image-array"),{WebGL2KernelValueDynamicHTMLImageArray:u}=e("./kernel-value/dynamic-html-image-array"),{WebGL2KernelValueHTMLVideo:c}=e("./kernel-value/html-video"),{WebGL2KernelValueDynamicHTMLVideo:h}=e("./kernel-value/dynamic-html-video"),{WebGL2KernelValueSingleInput:p}=e("./kernel-value/single-input"),{WebGL2KernelValueDynamicSingleInput:d}=e("./kernel-value/dynamic-single-input"),{WebGL2KernelValueUnsignedInput:f}=e("./kernel-value/unsigned-input"),{WebGL2KernelValueDynamicUnsignedInput:g}=e("./kernel-value/dynamic-unsigned-input"),{WebGL2KernelValueMemoryOptimizedNumberTexture:m}=e("./kernel-value/memory-optimized-number-texture"),{WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:y}=e("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGL2KernelValueNumberTexture:v}=e("./kernel-value/number-texture"),{WebGL2KernelValueDynamicNumberTexture:x}=e("./kernel-value/dynamic-number-texture"),{WebGL2KernelValueSingleArray:b}=e("./kernel-value/single-array"),{WebGL2KernelValueDynamicSingleArray:_}=e("./kernel-value/dynamic-single-array"),{WebGL2KernelValueSingleArray1DI:w}=e("./kernel-value/single-array1d-i"),{WebGL2KernelValueDynamicSingleArray1DI:S}=e("./kernel-value/dynamic-single-array1d-i"),{WebGL2KernelValueSingleArray2DI:T}=e("./kernel-value/single-array2d-i"),{WebGL2KernelValueDynamicSingleArray2DI:A}=e("./kernel-value/dynamic-single-array2d-i"),{WebGL2KernelValueSingleArray3DI:E}=e("./kernel-value/single-array3d-i"),{WebGL2KernelValueDynamicSingleArray3DI:k}=e("./kernel-value/dynamic-single-array3d-i"),{WebGL2KernelValueArray2:C}=e("./kernel-value/array2"),{WebGL2KernelValueArray3:L}=e("./kernel-value/array3"),{WebGL2KernelValueArray4:$}=e("./kernel-value/array4"),{WebGL2KernelValueUnsignedArray:R}=e("./kernel-value/unsigned-array"),{WebGL2KernelValueDynamicUnsignedArray:I}=e("./kernel-value/dynamic-unsigned-array"),M={unsigned:{dynamic:{Boolean:r,Integer:s,Float:i,Array:I,"Array(2)":C,"Array(3)":L,"Array(4)":$,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:g,NumberTexture:x,"ArrayTexture(1)":x,"ArrayTexture(2)":x,"ArrayTexture(3)":x,"ArrayTexture(4)":x,MemoryOptimizedNumberTexture:y,HTMLCanvas:a,HTMLImage:a,HTMLImageArray:u,HTMLVideo:h},static:{Boolean:r,Float:i,Integer:s,Array:R,"Array(2)":C,"Array(3)":L,"Array(4)":$,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:f,NumberTexture:v,"ArrayTexture(1)":v,"ArrayTexture(2)":v,"ArrayTexture(3)":v,"ArrayTexture(4)":v,MemoryOptimizedNumberTexture:y,HTMLCanvas:o,HTMLImage:o,HTMLImageArray:l,HTMLVideo:c}},single:{dynamic:{Boolean:r,Integer:s,Float:i,Array:_,"Array(2)":C,"Array(3)":L,"Array(4)":$,"Array1D(2)":S,"Array1D(3)":S,"Array1D(4)":S,"Array2D(2)":A,"Array2D(3)":A,"Array2D(4)":A,"Array3D(2)":k,"Array3D(3)":k,"Array3D(4)":k,Input:d,NumberTexture:x,"ArrayTexture(1)":x,"ArrayTexture(2)":x,"ArrayTexture(3)":x,"ArrayTexture(4)":x,MemoryOptimizedNumberTexture:y,HTMLCanvas:a,HTMLImage:a,HTMLImageArray:u,HTMLVideo:h},static:{Boolean:r,Float:i,Integer:s,Array:b,"Array(2)":C,"Array(3)":L,"Array(4)":$,"Array1D(2)":w,"Array1D(3)":w,"Array1D(4)":w,"Array2D(2)":T,"Array2D(3)":T,"Array2D(4)":T,"Array3D(2)":E,"Array3D(3)":E,"Array3D(4)":E,Input:p,NumberTexture:v,"ArrayTexture(1)":v,"ArrayTexture(2)":v,"ArrayTexture(3)":v,"ArrayTexture(4)":v,MemoryOptimizedNumberTexture:m,HTMLCanvas:o,HTMLImage:o,HTMLImageArray:l,HTMLVideo:c}}};t.exports={kernelValueMaps:M,lookupKernelValueType:n}},{"./kernel-value/array2":75,"./kernel-value/array3":76,"./kernel-value/array4":77,"./kernel-value/boolean":78,"./kernel-value/dynamic-html-image":80,"./kernel-value/dynamic-html-image-array":79,"./kernel-value/dynamic-html-video":81,"./kernel-value/dynamic-memory-optimized-number-texture":82,"./kernel-value/dynamic-number-texture":83,"./kernel-value/dynamic-single-array":84,"./kernel-value/dynamic-single-array1d-i":85,"./kernel-value/dynamic-single-array2d-i":86,"./kernel-value/dynamic-single-array3d-i":87,"./kernel-value/dynamic-single-input":88,"./kernel-value/dynamic-unsigned-array":89,"./kernel-value/dynamic-unsigned-input":90,"./kernel-value/float":91,"./kernel-value/html-image":93,"./kernel-value/html-image-array":92,"./kernel-value/html-video":94,"./kernel-value/integer":95,"./kernel-value/memory-optimized-number-texture":96,"./kernel-value/number-texture":97,"./kernel-value/single-array":98,"./kernel-value/single-array1d-i":99,"./kernel-value/single-array2d-i":100,"./kernel-value/single-array3d-i":101,"./kernel-value/single-input":102,"./kernel-value/unsigned-array":103,"./kernel-value/unsigned-input":104}],75:[function(e,t){const{WebGLKernelValueArray2:n}=e("../../web-gl/kernel-value/array2");class r extends n{}t.exports={WebGL2KernelValueArray2:r}},{"../../web-gl/kernel-value/array2":41}],76:[function(e,t){const{WebGLKernelValueArray3:n}=e("../../web-gl/kernel-value/array3");class r extends n{}t.exports={WebGL2KernelValueArray3:r}},{"../../web-gl/kernel-value/array3":42}],77:[function(e,t){const{WebGLKernelValueArray4:n}=e("../../web-gl/kernel-value/array4");class r extends n{}t.exports={WebGL2KernelValueArray4:r}},{"../../web-gl/kernel-value/array4":43}],78:[function(e,t){const{WebGLKernelValueBoolean:n}=e("../../web-gl/kernel-value/boolean");class r extends n{}t.exports={WebGL2KernelValueBoolean:r}},{"../../web-gl/kernel-value/boolean":44}],79:[function(e,t){const{utils:n}=e("../../../utils"),{WebGL2KernelValueHTMLImageArray:r}=e("./html-image-array");class i extends r{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2DArray ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){const{width:t,height:n}=e[0];this.checkSize(t,n),this.dimensions=[t,n,e.length],this.textureSize=[t,n],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGL2KernelValueDynamicHTMLImageArray:i}},{"../../../utils":114,"./html-image-array":92}],80:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueDynamicHTMLImage:r}=e("../../web-gl/kernel-value/dynamic-html-image");class i extends r{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}}t.exports={WebGL2KernelValueDynamicHTMLImage:i}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-html-image":45}],81:[function(e,t){e("../../../utils");const{WebGL2KernelValueDynamicHTMLImage:n}=e("./dynamic-html-image");class r extends n{}t.exports={WebGL2KernelValueDynamicHTMLVideo:r}},{"../../../utils":114,"./dynamic-html-image":80}],82:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:r}=e("../../web-gl/kernel-value/dynamic-memory-optimized-number-texture");class i extends r{getSource(){return n.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}}t.exports={WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:i}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture":47}],83:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueDynamicNumberTexture:r}=e("../../web-gl/kernel-value/dynamic-number-texture");class i extends r{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}}t.exports={WebGL2KernelValueDynamicNumberTexture:i}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-number-texture":48}],84:[function(e,t){const{utils:n}=e("../../../utils"),{WebGL2KernelValueSingleArray:r}=e("../../web-gl2/kernel-value/single-array");class i extends r{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){this.dimensions=n.getDimensions(e,!0),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGL2KernelValueDynamicSingleArray:i}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array":98}],85:[function(e,t){const{utils:n}=e("../../../utils"),{WebGL2KernelValueSingleArray1DI:r}=e("../../web-gl2/kernel-value/single-array1d-i");class i extends r{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGL2KernelValueDynamicSingleArray1DI:i}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array1d-i":99}],86:[function(e,t){const{utils:n}=e("../../../utils"),{WebGL2KernelValueSingleArray2DI:r}=e("../../web-gl2/kernel-value/single-array2d-i");class i extends r{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGL2KernelValueDynamicSingleArray2DI:i}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array2d-i":100}],87:[function(e,t){const{utils:n}=e("../../../utils"),{WebGL2KernelValueSingleArray3DI:r}=e("../../web-gl2/kernel-value/single-array3d-i");class i extends r{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGL2KernelValueDynamicSingleArray3DI:i}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array3d-i":101}],88:[function(e,t){const{utils:n}=e("../../../utils"),{WebGL2KernelValueSingleInput:r}=e("../../web-gl2/kernel-value/single-input");class i extends r{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}updateValue(e){let[t,r,i]=e.size;this.dimensions=new Int32Array([t||1,r||1,i||1]),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(e)}}t.exports={WebGL2KernelValueDynamicSingleInput:i}},{"../../../utils":114,"../../web-gl2/kernel-value/single-input":102}],89:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueDynamicUnsignedArray:r}=e("../../web-gl/kernel-value/dynamic-unsigned-array");class i extends r{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}}t.exports={WebGL2KernelValueDynamicUnsignedArray:i}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-array":54}],90:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueDynamicUnsignedInput:r}=e("../../web-gl/kernel-value/dynamic-unsigned-input");class i extends r{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`uniform ${e} ivec2 ${this.sizeId}`,`uniform ${e} ivec3 ${this.dimensionsId}`])}}t.exports={WebGL2KernelValueDynamicUnsignedInput:i}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-input":55}],91:[function(e,t){e("../../../utils");const{WebGLKernelValueFloat:n}=e("../../web-gl/kernel-value/float");class r extends n{}t.exports={WebGL2KernelValueFloat:r}},{"../../../utils":114,"../../web-gl/kernel-value/float":56}],92:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelArray:r}=e("../../web-gl/kernel-value/array");class i extends r{constructor(e,t){super(e,t),this.checkSize(e[0].width,e[0].height),this.dimensions=[e[0].width,e[0].height,e.length],this.textureSize=[e[0].width,e[0].height]}defineTexture(){const{context:e}=this;e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D_ARRAY,this.texture),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MIN_FILTER,e.NEAREST)}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};\n`}getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2DArray ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){const{context:t}=this;t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D_ARRAY,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texImage3D(t.TEXTURE_2D_ARRAY,0,t.RGBA,e[0].width,e[0].height,e.length,0,t.RGBA,t.UNSIGNED_BYTE,null);for(let n=0;n<e.length;n++)t.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,n,e[n].width,e[n].height,1,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue=e[n]);this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGL2KernelValueHTMLImageArray:i}},{"../../../utils":114,"../../web-gl/kernel-value/array":40}],93:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueHTMLImage:r}=e("../../web-gl/kernel-value/html-image");class i extends r{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}t.exports={WebGL2KernelValueHTMLImage:i}},{"../../../utils":114,"../../web-gl/kernel-value/html-image":57}],94:[function(e,t){e("../../../utils");const{WebGL2KernelValueHTMLImage:n}=e("./html-image");class r extends n{}t.exports={WebGL2KernelValueHTMLVideo:r}},{"../../../utils":114,"./html-image":93}],95:[function(e,t){const{WebGLKernelValueInteger:n}=e("../../web-gl/kernel-value/integer");class r extends n{getSource(e){const t=this.getVariablePrecisionString();return"constants"===this.origin?`const ${t} int ${this.id} = ${parseInt(e)};\n`:`uniform ${t} int ${this.id};\n`}updateValue(e){"constants"!==this.origin&&this.kernel.setUniform1i(this.id,this.uploadValue=e)}}t.exports={WebGL2KernelValueInteger:r}},{"../../web-gl/kernel-value/integer":60}],96:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:r}=e("../../web-gl/kernel-value/memory-optimized-number-texture");class i extends r{getSource(){const{id:e,sizeId:t,textureSize:r,dimensionsId:i,dimensions:s}=this,o=this.getVariablePrecisionString();return n.linesToString([`uniform sampler2D ${e}`,`${o} ivec2 ${t} = ivec2(${r[0]}, ${r[1]})`,`${o} ivec3 ${i} = ivec3(${s[0]}, ${s[1]}, ${s[2]})`])}}t.exports={WebGL2KernelValueMemoryOptimizedNumberTexture:i}},{"../../../utils":114,"../../web-gl/kernel-value/memory-optimized-number-texture":61}],97:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueNumberTexture:r}=e("../../web-gl/kernel-value/number-texture");class i extends r{getSource(){const{id:e,sizeId:t,textureSize:r,dimensionsId:i,dimensions:s}=this,o=this.getVariablePrecisionString();return n.linesToString([`uniform ${o} sampler2D ${e}`,`${o} ivec2 ${t} = ivec2(${r[0]}, ${r[1]})`,`${o} ivec3 ${i} = ivec3(${s[0]}, ${s[1]}, ${s[2]})`])}}t.exports={WebGL2KernelValueNumberTexture:i}},{"../../../utils":114,"../../web-gl/kernel-value/number-texture":62}],98:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray:r}=e("../../web-gl/kernel-value/single-array");class i extends r{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGL2KernelValueSingleArray:i}},{"../../../utils":114,"../../web-gl/kernel-value/single-array":63}],99:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray1DI:r}=e("../../web-gl/kernel-value/single-array1d-i");class i extends r{updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGL2KernelValueSingleArray1DI:i}},{"../../../utils":114,"../../web-gl/kernel-value/single-array1d-i":64}],100:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray2DI:r}=e("../../web-gl/kernel-value/single-array2d-i");class i extends r{updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGL2KernelValueSingleArray2DI:i}},{"../../../utils":114,"../../web-gl/kernel-value/single-array2d-i":65}],101:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleArray3DI:r}=e("../../web-gl/kernel-value/single-array3d-i");class i extends r{updateValue(e){if(e.constructor!==this.initialValueConstructor)return void this.onUpdateValueMismatch(e.constructor);const{context:t}=this;n.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGL2KernelValueSingleArray3DI:i}},{"../../../utils":114,"../../web-gl/kernel-value/single-array3d-i":66}],102:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueSingleInput:r}=e("../../web-gl/kernel-value/single-input");class i extends r{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(e){const{context:t}=this;n.flattenTo(e.value,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}t.exports={WebGL2KernelValueSingleInput:i}},{"../../../utils":114,"../../web-gl/kernel-value/single-input":67}],103:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueUnsignedArray:r}=e("../../web-gl/kernel-value/unsigned-array");class i extends r{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}t.exports={WebGL2KernelValueUnsignedArray:i}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-array":68}],104:[function(e,t){const{utils:n}=e("../../../utils"),{WebGLKernelValueUnsignedInput:r}=e("../../web-gl/kernel-value/unsigned-input");class i extends r{getSource(){const e=this.getVariablePrecisionString();return n.linesToString([`uniform ${e} sampler2D ${this.id}`,`${e} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${e} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}t.exports={WebGL2KernelValueUnsignedInput:i}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-input":69}],105:[function(e,t){const{WebGLKernel:n}=e("../web-gl/kernel"),{WebGL2FunctionNode:r}=e("./function-node"),{FunctionBuilder:i}=e("../function-builder"),{utils:s}=e("../../utils"),{fragmentShader:o}=e("./fragment-shader"),{vertexShader:a}=e("./vertex-shader"),{lookupKernelValueType:l}=e("./kernel-value-maps");let u=null,c=null,h=null,p=null,d=null;class f extends n{static get isSupported(){return null!==u||(this.setupFeatureChecks(),u=this.isContextMatch(h)),u}static setupFeatureChecks(){"undefined"!=typeof document?c=document.createElement("canvas"):"undefined"!=typeof OffscreenCanvas&&(c=new OffscreenCanvas(0,0)),c&&(h=c.getContext("webgl2"),h&&h.getExtension&&(p={EXT_color_buffer_float:h.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:h.getExtension("OES_texture_float_linear")},d=this.getFeatures()))}static isContextMatch(e){return"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext}static getFeatures(){const e=this.testContext;return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),kernelMap:!0,isTextureFloat:!0,isDrawBuffers:!0,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT),lowFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT),mediumIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT),mediumFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT),highIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT),highFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT)})}static getIsTextureFloat(){return!0}static getChannelCount(){return h.getParameter(h.MAX_DRAW_BUFFERS)}static getMaxTextureSize(){return h.getParameter(h.MAX_TEXTURE_SIZE)}static lookupKernelValueType(e,t,n,r){return l(e,t,n,r)}static get testCanvas(){return c}static get testContext(){return h}static get features(){return d}static get fragmentShader(){return o}static get vertexShader(){return a}initContext(){return this.canvas.getContext("webgl2",{alpha:!1,depth:!1,antialias:!1})}initExtensions(){this.extensions={EXT_color_buffer_float:this.context.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear")}}validateSettings(e){if(!this.validate)return void(this.texSize=s.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output));const{features:t}=this.constructor;if("single"===this.precision&&!t.isFloatRead)throw new Error("Float texture outputs are not supported");if(this.graphical||null!==this.precision||(this.precision=t.isFloatRead?"single":"unsigned"),null===this.fixIntegerDivisionAccuracy?this.fixIntegerDivisionAccuracy=!t.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&t.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||0===this.output.length){if(1!==e.length)throw new Error("Auto output only supported for kernels with only one input");const t=s.getVariableType(e[0],this.strictIntegers);switch(t){case"Array":this.output=s.getDimensions(t);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=e[0].output;break;default:throw new Error("Auto output not supported for input type: "+t)}}if(this.graphical){if(2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");return"single"===this.precision&&(console.warn("Cannot use graphical mode and single precision at the same time"),this.precision="unsigned"),void(this.texSize=s.clone(this.output))}!this.graphical&&null===this.precision&&t.isTextureFloat&&(this.precision="single"),this.texSize=s.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}translateSource(){const e=i.fromKernel(this,r,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=e.getPrototypeString("kernel"),this.setupReturnTypes(e)}drawBuffers(){this.context.drawBuffers(this.drawBuffersMap)}getTextureFormat(){const{context:e}=this;switch(this.getInternalFormat()){case e.R32F:return e.RED;case e.RG32F:return e.RG;case e.RGBA32F:case e.RGBA:return e.RGBA;default:throw new Error("Unknown internal format")}}getInternalFormat(){const{context:e}=this;if("single"===this.precision){if(this.pipeline)switch(this.returnType){case"Number":case"Float":case"Integer":return this.optimizeFloatMemory?e.RGBA32F:e.R32F;case"Array(2)":return e.RG32F;case"Array(3)":case"Array(4)":return e.RGBA32F;default:throw new Error("Unhandled return type")}return e.RGBA32F}return e.RGBA}_setupOutputTexture(){const e=this.context;if(this.texture)return void e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0);e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer);const t=e.createTexture(),n=this.texSize;e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);const r=this.getInternalFormat();"single"===this.precision?e.texStorage2D(e.TEXTURE_2D,1,r,n[0],n[1]):e.texImage2D(e.TEXTURE_2D,0,r,n[0],n[1],0,r,e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.texture=new this.TextureConstructor({texture:t,size:n,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_setupSubOutputTextures(){const e=this.context;if(this.mappedTextures){for(let t=0;t<this.subKernels.length;t++)e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t+1,e.TEXTURE_2D,this.mappedTextures[t].texture,0);return}const t=this.texSize;this.drawBuffersMap=[e.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let n=0;n<this.subKernels.length;n++){const r=this.createTexture();this.drawBuffersMap.push(e.COLOR_ATTACHMENT0+n+1),e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+n),e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);const i=this.getInternalFormat();"single"===this.precision?e.texStorage2D(e.TEXTURE_2D,1,i,t[0],t[1]):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t[0],t[1],0,e.RGBA,e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n+1,e.TEXTURE_2D,r,0),this.mappedTextures.push(new this.TextureConstructor({texture:r,size:t,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}_getHeaderString(){return""}_getTextureCoordinate(){const e=this.subKernels,t=this.getVariablePrecisionString(this.texSize,this.tactic);return null===e||e.length<1?`in ${t} vec2 vTexCoord;\n`:`out ${t} vec2 vTexCoord;\n`}_getMainArgumentsString(e){const t=[],n=this.argumentNames;for(let r=0;r<n.length;r++)t.push(this.kernelArguments[r].getSource(e[r]));return t.join("")}getKernelString(){const e=[this.getKernelResultDeclaration()],t=this.subKernels;if(null!==t)switch(e.push("layout(location = 0) out vec4 data0"),this.returnType){case"Number":case"Float":case"Integer":for(let n=0;n<t.length;n++){const r=t[n];e.push("Integer"===r.returnType?`int subKernelResult_${r.name} = 0`:`float subKernelResult_${r.name} = 0.0`,`layout(location = ${n+1}) out vec4 data${n+1}`)}break;case"Array(2)":for(let n=0;n<t.length;n++)e.push(`vec2 subKernelResult_${t[n].name}`,`layout(location = ${n+1}) out vec4 data${n+1}`);break;case"Array(3)":for(let n=0;n<t.length;n++)e.push(`vec3 subKernelResult_${t[n].name}`,`layout(location = ${n+1}) out vec4 data${n+1}`);break;case"Array(4)":for(let n=0;n<t.length;n++)e.push(`vec4 subKernelResult_${t[n].name}`,`layout(location = ${n+1}) out vec4 data${n+1}`)}else e.push("out vec4 data0");return s.linesToString(e)+this.translatedSource}getMainResultGraphical(){return s.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return s.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0 = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const e=[];if(!this.subKernels)return"";for(let t=0;t<this.subKernels.length;t++)e.push("Integer"===this.subKernels[t].returnType?`  data${t+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[t].name}))`:`  data${t+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[t].name})`);return s.linesToString(e)}getMainResultKernelMemoryOptimizedFloats(e,t){e.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0.${t} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(e,t){if(!this.subKernels)return e;for(let n=0;n<this.subKernels.length;n++){const r=this.subKernels[n];e.push("Integer"===r.returnType?`  data${n+1}.${t} = float(subKernelResult_${r.name})`:`  data${n+1}.${t} = subKernelResult_${r.name}`)}}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t){const n=this.subKernels[t];e.push("Integer"===n.returnType?`  data${t+1}[0] = float(subKernelResult_${n.name})`:`  data${t+1}[0] = subKernelResult_${n.name}`)}return e}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t){const n=this.subKernels[t];e.push(`  data${t+1}[0] = subKernelResult_${n.name}[0]`,`  data${t+1}[1] = subKernelResult_${n.name}[1]`)}return e}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]","  data0[2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t){const n=this.subKernels[t];e.push(`  data${t+1}[0] = subKernelResult_${n.name}[0]`,`  data${t+1}[1] = subKernelResult_${n.name}[1]`,`  data${t+1}[2] = subKernelResult_${n.name}[2]`)}return e}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = kernelResult"]}getMainResultSubKernelArray4Texture(){const e=[];if(!this.subKernels)return e;for(let t=0;t<this.subKernels.length;++t)e.push(`  data${t+1} = subKernelResult_${this.subKernels[t].name}`);return e}destroyExtensions(){this.extensions.EXT_color_buffer_float=null,this.extensions.OES_texture_float_linear=null}toJSON(){const e=super.toJSON();return e.functionNodes=i.fromKernel(this,r).toJSON(),e.settings.threadDim=this.threadDim,e}}t.exports={WebGL2Kernel:f}},{"../../utils":114,"../function-builder":9,"../web-gl/kernel":70,"./fragment-shader":72,"./function-node":73,"./kernel-value-maps":74,"./vertex-shader":106}],106:[function(e,t){t.exports={vertexShader:"#version 300 es\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nin vec2 aPos;\nin vec2 aTexCoord;\n\nout vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}"}},{}],107:[function(e,t){function n(e){e.GPU||Object.defineProperty(e,"GPU",{get:()=>i})}const r=e("./index"),i=r.GPU;for(const e in r)r.hasOwnProperty(e)&&"GPU"!==e&&(i[e]=r[e]);"undefined"!=typeof window&&n(window),"undefined"!=typeof self&&n(self),t.exports=r},{"./index":109}],108:[function(e,n){function r(e){if(!e)return{};const n=t({},e);return e.hasOwnProperty("floatOutput")&&(s.warnDeprecated("setting","floatOutput","precision"),n.precision=e.floatOutput?"single":"unsigned"),e.hasOwnProperty("outputToTexture")&&(s.warnDeprecated("setting","outputToTexture","pipeline"),n.pipeline=Boolean(e.outputToTexture)),e.hasOwnProperty("outputImmutable")&&(s.warnDeprecated("setting","outputImmutable","immutable"),n.immutable=Boolean(e.outputImmutable)),e.hasOwnProperty("floatTextures")&&(s.warnDeprecated("setting","floatTextures","optimizeFloatMemory"),n.optimizeFloatMemory=Boolean(e.floatTextures)),n}const{gpuMock:i}=e("gpu-mock.js"),{utils:s}=e("./utils"),{CPUKernel:o}=(e("./backend/kernel"),e("./backend/cpu/kernel")),{HeadlessGLKernel:a}=e("./backend/headless-gl/kernel"),{WebGL2Kernel:l}=e("./backend/web-gl2/kernel"),{WebGLKernel:u}=e("./backend/web-gl/kernel"),{kernelRunShortcut:c}=e("./kernel-run-shortcut"),h=[a,l,u],p=["gpu","cpu"],d={headlessgl:a,webgl2:l,webgl:u};let f=!0;class g{static disableValidation(){f=!1}static enableValidation(){f=!0}static get isGPUSupported(){return h.some((e=>e.isSupported))}static get isKernelMapSupported(){return h.some((e=>e.isSupported&&e.features.kernelMap))}static get isOffscreenCanvasSupported(){return"undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas||"undefined"!=typeof importScripts}static get isWebGLSupported(){return u.isSupported}static get isWebGL2Supported(){return l.isSupported}static get isHeadlessGLSupported(){return a.isSupported}static get isCanvasSupported(){return"undefined"!=typeof HTMLCanvasElement}static get isGPUHTMLImageArraySupported(){return l.isSupported}static get isSinglePrecisionSupported(){return h.some((e=>e.isSupported&&e.features.isFloatRead&&e.features.isTextureFloat))}constructor(e){if(this.canvas=(e=e||{}).canvas||null,this.context=e.context||null,this.mode=e.mode,this.Kernel=null,this.kernels=[],this.functions=[],this.nativeFunctions=[],this.injectedNative=null,"dev"!==this.mode){if(this.chooseKernel(),e.functions)for(let t=0;t<e.functions.length;t++)this.addFunction(e.functions[t]);if(e.nativeFunctions)for(const t in e.nativeFunctions){if(!e.nativeFunctions.hasOwnProperty(t))continue;const n=e.nativeFunctions[t],{name:r,source:i}=n;this.addNativeFunction(r,i,n)}}}chooseKernel(){if(this.Kernel)return;let e=null;if(this.context){for(let t=0;t<h.length;t++){const n=h[t];if(n.isContextMatch(this.context)){if(!n.isSupported)throw new Error(`Kernel type ${n.name} not supported`);e=n;break}}if(null===e)throw new Error("unknown Context")}else if(this.mode){if(this.mode in d)f&&!d[this.mode].isSupported||(e=d[this.mode]);else if("gpu"===this.mode){for(let t=0;t<h.length;t++)if(h[t].isSupported){e=h[t];break}}else"cpu"===this.mode&&(e=o);if(!e)throw new Error(`A requested mode of "${this.mode}" and is not supported`)}else{for(let t=0;t<h.length;t++)if(h[t].isSupported){e=h[t];break}e||(e=o)}this.mode||(this.mode=e.mode),this.Kernel=e}createKernel(e,n){function a(t){console.warn("Falling back to CPU");const n=new o(e,{argumentTypes:m.argumentTypes,constantTypes:m.constantTypes,graphical:m.graphical,loopMaxIterations:m.loopMaxIterations,constants:m.constants,dynamicOutput:m.dynamicOutput,dynamicArgument:m.dynamicArguments,output:m.output,precision:m.precision,pipeline:m.pipeline,immutable:m.immutable,optimizeFloatMemory:m.optimizeFloatMemory,fixIntegerDivisionAccuracy:m.fixIntegerDivisionAccuracy,functions:m.functions,nativeFunctions:m.nativeFunctions,injectedNative:m.injectedNative,subKernels:m.subKernels,strictIntegers:m.strictIntegers,debug:m.debug});n.build.apply(n,t);const r=n.run.apply(n,t);return m.replaceKernel(n),r}function l(t,n,r){r.debug&&console.warn("Switching kernels");let i=null;if(r.signature&&!h[r.signature]&&(h[r.signature]=r),r.dynamicOutput)for(let e=t.length-1;e>=0;e--){const n=t[e];"outputPrecisionMismatch"===n.type&&(i=n.needed)}const s=r.constructor,o=s.getArgumentTypes(r,n),c=s.getSignature(r,o),p=h[c];if(p)return p.onActivate(r),p;const d=h[c]=new s(e,{argumentTypes:o,constantTypes:r.constantTypes,graphical:r.graphical,loopMaxIterations:r.loopMaxIterations,constants:r.constants,dynamicOutput:r.dynamicOutput,dynamicArgument:r.dynamicArguments,context:r.context,canvas:r.canvas,output:i||r.output,precision:r.precision,pipeline:r.pipeline,immutable:r.immutable,optimizeFloatMemory:r.optimizeFloatMemory,fixIntegerDivisionAccuracy:r.fixIntegerDivisionAccuracy,functions:r.functions,nativeFunctions:r.nativeFunctions,injectedNative:r.injectedNative,subKernels:r.subKernels,strictIntegers:r.strictIntegers,debug:r.debug,gpu:r.gpu,validate:f,returnType:r.returnType,tactic:r.tactic,onRequestFallback:a,onRequestSwitchKernel:l,texture:r.texture,mappedTextures:r.mappedTextures,drawBuffersMap:r.drawBuffersMap});return d.build.apply(d,n),m.replaceKernel(d),u.push(d),d}if(void 0===e)throw new Error("Missing source parameter");if("object"!=typeof e&&!s.isFunction(e)&&"string"!=typeof e)throw new Error("source parameter not a function");const u=this.kernels;if("dev"===this.mode){const t=i(e,r(n));return u.push(t),t}e="function"==typeof e?e.toString():e;const h={},p=r(n)||{};n&&"object"==typeof n.argumentTypes&&(p.argumentTypes=Object.keys(n.argumentTypes).map((e=>n.argumentTypes[e])));const d=t({context:this.context,canvas:this.canvas,functions:this.functions,nativeFunctions:this.nativeFunctions,injectedNative:this.injectedNative,gpu:this,validate:f,onRequestFallback:a,onRequestSwitchKernel:l},p),g=new this.Kernel(e,d),m=c(g);return this.canvas||(this.canvas=g.canvas),this.context||(this.context=g.context),u.push(g),m}createKernelMap(){let e,t;const n=typeof arguments[arguments.length-2];if("function"===n||"string"===n?(e=arguments[arguments.length-2],t=arguments[arguments.length-1]):e=arguments[arguments.length-1],"dev"!==this.mode&&(!this.Kernel.isSupported||!this.Kernel.features.kernelMap)&&this.mode&&p.indexOf(this.mode)<0)throw new Error(`kernelMap not supported on ${this.Kernel.name}`);const i=r(t);if(t&&"object"==typeof t.argumentTypes&&(i.argumentTypes=Object.keys(t.argumentTypes).map((e=>t.argumentTypes[e]))),Array.isArray(arguments[0])){i.subKernels=[];const e=arguments[0];for(let t=0;t<e.length;t++){const n=e[t].toString(),r=s.getFunctionNameFromString(n);i.subKernels.push({name:r,source:n,property:t})}}else{i.subKernels=[];const e=arguments[0];for(let t in e){if(!e.hasOwnProperty(t))continue;const n=e[t].toString(),r=s.getFunctionNameFromString(n);i.subKernels.push({name:r||t,source:n,property:t})}}return this.createKernel(e,i)}combineKernels(){const e=arguments[arguments.length-1];if("cpu"===arguments[0].kernel.constructor.mode)return e;const t=arguments[0].canvas,n=arguments[0].context,r=arguments.length-1;for(let e=0;e<r;e++)arguments[e].setCanvas(t).setContext(n).setPipeline(!0);return function(){const t=e.apply(this,arguments);return t.toArray?t.toArray():t}}setFunctions(e){return this.functions=e,this}setNativeFunctions(e){return this.nativeFunctions=e,this}addFunction(e,t){return this.functions.push({source:e,settings:t}),this}addNativeFunction(e,n,r){if(this.kernels.length>0)throw new Error('Cannot call "addNativeFunction" after "createKernels" has been called.');return this.nativeFunctions.push(t({name:e,source:n},r)),this}injectNative(e){return this.injectedNative=e,this}destroy(){return new Promise(((e,t)=>{this.kernels||e(),setTimeout((()=>{try{for(let e=0;e<this.kernels.length;e++)this.kernels[e].destroy(!0);let e=this.kernels[0];e&&(e.kernel&&(e=e.kernel),e.constructor.destroyContext&&e.constructor.destroyContext(this.context))}catch(e){t(e)}e()}),0)}))}}n.exports={GPU:g,kernelOrder:h,kernelTypes:p}},{"./backend/cpu/kernel":8,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/kernel":70,"./backend/web-gl2/kernel":105,"./kernel-run-shortcut":111,"./utils":114,"gpu-mock.js":4}],109:[function(e,t){const{GPU:n}=e("./gpu"),{alias:r}=e("./alias"),{utils:i}=e("./utils"),{Input:s,input:o}=e("./input"),{Texture:a}=e("./texture"),{FunctionBuilder:l}=e("./backend/function-builder"),{FunctionNode:u}=e("./backend/function-node"),{CPUFunctionNode:c}=e("./backend/cpu/function-node"),{CPUKernel:h}=e("./backend/cpu/kernel"),{HeadlessGLKernel:p}=e("./backend/headless-gl/kernel"),{WebGLFunctionNode:d}=e("./backend/web-gl/function-node"),{WebGLKernel:f}=e("./backend/web-gl/kernel"),{kernelValueMaps:g}=e("./backend/web-gl/kernel-value-maps"),{WebGL2FunctionNode:m}=e("./backend/web-gl2/function-node"),{WebGL2Kernel:y}=e("./backend/web-gl2/kernel"),{kernelValueMaps:v}=e("./backend/web-gl2/kernel-value-maps"),{GLKernel:x}=e("./backend/gl/kernel"),{Kernel:b}=e("./backend/kernel"),{FunctionTracer:_}=e("./backend/function-tracer"),w=e("./plugins/math-random-uniformly-distributed");t.exports={alias:r,CPUFunctionNode:c,CPUKernel:h,GPU:n,FunctionBuilder:l,FunctionNode:u,HeadlessGLKernel:p,Input:s,input:o,Texture:a,utils:i,WebGL2FunctionNode:m,WebGL2Kernel:y,webGL2KernelValueMaps:v,WebGLFunctionNode:d,WebGLKernel:f,webGLKernelValueMaps:g,GLKernel:x,Kernel:b,FunctionTracer:_,plugins:{mathRandom:w}}},{"./alias":5,"./backend/cpu/function-node":6,"./backend/cpu/kernel":8,"./backend/function-builder":9,"./backend/function-node":10,"./backend/function-tracer":11,"./backend/gl/kernel":13,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/function-node":38,"./backend/web-gl/kernel":70,"./backend/web-gl/kernel-value-maps":39,"./backend/web-gl2/function-node":73,"./backend/web-gl2/kernel":105,"./backend/web-gl2/kernel-value-maps":74,"./gpu":108,"./input":110,"./plugins/math-random-uniformly-distributed":112,"./texture":113,"./utils":114}],110:[function(e,t){function n(e,t){return new r(e,t)}class r{constructor(e,t){this.value=e,Array.isArray(t)?this.size=t:(this.size=new Int32Array(3),this.size=t.z?new Int32Array([t.x,t.y,t.z]):t.y?new Int32Array([t.x,t.y]):new Int32Array([t.x]));const[n,r,i]=this.size;if(i){if(this.value.length!==n*r*i)throw new Error(`Input size ${this.value.length} does not match ${n} * ${r} * ${i} = ${r*n*i}`)}else if(r){if(this.value.length!==n*r)throw new Error(`Input size ${this.value.length} does not match ${n} * ${r} = ${r*n}`)}else if(this.value.length!==n)throw new Error(`Input size ${this.value.length} does not match ${n}`)}toArray(){const{utils:t}=e("./utils"),[n,r,i]=this.size;return i?t.erectMemoryOptimized3DFloat(this.value.subarray?this.value:new Float32Array(this.value),n,r,i):r?t.erectMemoryOptimized2DFloat(this.value.subarray?this.value:new Float32Array(this.value),n,r):this.value}}t.exports={Input:r,input:n}},{"./utils":114}],111:[function(e,t){function n(e){let t=function(){return e.build.apply(e,arguments),t=function(){let t=e.run.apply(e,arguments);if(e.switchingKernels){const r=e.resetSwitchingKernels(),i=e.onRequestSwitchKernel(r,arguments,e);n.kernel=e=i,t=i.run.apply(i,arguments)}return e.renderKernels?e.renderKernels():e.renderOutput?e.renderOutput():t},t.apply(e,arguments)};const n=function(){return t.apply(e,arguments)};return n.exec=function(){return new Promise(((e,n)=>{try{e(t.apply(this,arguments))}catch(e){n(e)}}))},n.replaceKernel=function(t){r(e=t,n)},r(e,n),n}function r(e,t){if(t.kernel)return void(t.kernel=e);const n=i.allPropertiesOf(e);for(let r=0;r<n.length;r++){const i=n[r];"_"===i[0]&&"_"===i[1]||("function"==typeof e[i]?t[i]="add"===i.substring(0,3)||"set"===i.substring(0,3)?function(){return t.kernel[i].apply(t.kernel,arguments),t}:function(){return t.kernel[i].apply(t.kernel,arguments)}:(t.__defineGetter__(i,(()=>t.kernel[i])),t.__defineSetter__(i,(e=>{t.kernel[i]=e}))))}t.kernel=e}const{utils:i}=e("./utils");t.exports={kernelRunShortcut:n}},{"./utils":114}],112:[function(e,t){t.exports={name:"math-random-uniformly-distributed",onBeforeRun:e=>{e.setUniform1f("randomSeed1",Math.random()),e.setUniform1f("randomSeed2",Math.random())},functionMatch:"Math.random()",functionReplace:"nrand(vTexCoord)",functionReturnType:"Number",source:"// https://www.shadertoy.com/view/4t2SDh\n//note: uniformly distributed, normalized rand, [0,1]\nhighp float randomSeedShift = 1.0;\nhighp float slide = 1.0;\nuniform highp float randomSeed1;\nuniform highp float randomSeed2;\n\nhighp float nrand(highp vec2 n) {\n  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);\n  randomSeedShift = result;\n  if (randomSeedShift > 0.5) {\n    slide += 0.00009; \n  } else {\n    slide += 0.0009;\n  }\n  return result;\n}"}},{}],113:[function(e,t){class n{constructor(e){const{texture:t,size:n,dimensions:r,output:i,context:s,type:o="NumberTexture",kernel:a,internalFormat:l,textureFormat:u}=e;if(!i)throw new Error('settings property "output" required.');if(!s)throw new Error('settings property "context" required.');if(!t)throw new Error('settings property "texture" required.');if(!a)throw new Error('settings property "kernel" required.');this.texture=t,t._refs?t._refs++:t._refs=1,this.size=n,this.dimensions=r,this.output=i,this.context=s,this.kernel=a,this.type=o,this._deleted=!1,this.internalFormat=l,this.textureFormat=u}toArray(){throw new Error(`Not implemented on ${this.constructor.name}`)}clone(){throw new Error(`Not implemented on ${this.constructor.name}`)}delete(){throw new Error(`Not implemented on ${this.constructor.name}`)}clear(){throw new Error(`Not implemented on ${this.constructor.name}`)}}t.exports={Texture:n}},{}],114:[function(e,t){const n=e("acorn"),{Input:r}=e("./input"),{Texture:i}=e("./texture"),s=/function ([^(]*)/,o=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,a=/([^\s,]+)/g,l={systemEndianness:()=>p,getSystemEndianness(){const e=new ArrayBuffer(4),t=new Uint32Array(e),n=new Uint8Array(e);if(t[0]=3735928559,239===n[0])return"LE";if(222===n[0])return"BE";throw new Error("unknown endianness")},isFunction:e=>"function"==typeof e,isFunctionString:e=>"string"==typeof e&&"function"===e.slice(0,8).toLowerCase(),getFunctionNameFromString(e){const t=s.exec(e);return t&&0!==t.length?t[1].trim():null},getFunctionBodyFromString:e=>e.substring(e.indexOf("{")+1,e.lastIndexOf("}")),getArgumentNamesFromString(e){const t=e.replace(o,"");let n=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(a);return null===n&&(n=[]),n},clone(e){if(null===e||"object"!=typeof e||e.hasOwnProperty("isActiveClone"))return e;const t=e.constructor();for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e.isActiveClone=null,t[n]=l.clone(e[n]),delete e.isActiveClone);return t},isArray:e=>!isNaN(e.length),getVariableType(e,t){if(l.isArray(e))return e.length>0&&"IMG"===e[0].nodeName?"HTMLImageArray":"Array";switch(e.constructor){case Boolean:return"Boolean";case Number:return t&&Number.isInteger(e)?"Integer":"Float";case i:return e.type;case r:return"Input"}switch(e.nodeName){case"IMG":case"CANVAS":return"HTMLImage";case"VIDEO":return"HTMLVideo"}return e.hasOwnProperty("type")?e.type:"Unknown"},getKernelTextureSize(e,t){let[n,r,i]=t,s=(n||1)*(r||1)*(i||1);return e.optimizeFloatMemory&&"single"===e.precision&&(n=s=Math.ceil(s/4)),r>1&&n*r===s?new Int32Array([n,r]):l.closestSquareDimensions(s)},closestSquareDimensions(e){const t=Math.sqrt(e);let n=Math.ceil(t),r=Math.floor(t);for(;n*r<e;)n--,r=Math.ceil(e/n);return new Int32Array([r,Math.ceil(e/r)])},getMemoryOptimizedFloatTextureSize(e,t){const n=l.roundTo((e[0]||1)*(e[1]||1)*(e[2]||1)*(e[3]||1),4);return l.closestSquareDimensions(n/t)},getMemoryOptimizedPackedTextureSize(e,t){const[n,r,i]=e,s=l.roundTo((n||1)*(r||1)*(i||1),4);return l.closestSquareDimensions(s/(4/t))},roundTo:(e,t)=>Math.floor((e+t-1)/t)*t,getDimensions(e,t){let n;if(l.isArray(e)){const t=[];let r=e;for(;l.isArray(r);)t.push(r.length),r=r[0];n=t.reverse()}else if(e instanceof i)n=e.output;else{if(!(e instanceof r))throw new Error(`Unknown dimensions of ${e}`);n=e.size}if(t)for(n=Array.from(n);n.length<3;)n.push(1);return new Int32Array(n)},flatten2dArrayTo(e,t){let n=0;for(let r=0;r<e.length;r++)t.set(e[r],n),n+=e[r].length},flatten3dArrayTo(e,t){let n=0;for(let r=0;r<e.length;r++)for(let i=0;i<e[r].length;i++)t.set(e[r][i],n),n+=e[r][i].length},flatten4dArrayTo(e,t){let n=0;for(let r=0;r<e.length;r++)for(let i=0;i<e[r].length;i++)for(let s=0;s<e[r][i].length;s++)t.set(e[r][i][s],n),n+=e[r][i][s].length},flattenTo(e,t){l.isArray(e[0])?l.isArray(e[0][0])?l.isArray(e[0][0][0])?l.flatten4dArrayTo(e,t):l.flatten3dArrayTo(e,t):l.flatten2dArrayTo(e,t):t.set(e)},splitArray(e,t){const n=[];for(let r=0;r<e.length;r+=t)n.push(new e.constructor(e.buffer,4*r+e.byteOffset,t));return n},getAstString(e,t){const n=Array.isArray(e)?e:e.split(/\r?\n/g),r=t.loc.start,i=t.loc.end,s=[];if(r.line===i.line)s.push(n[r.line-1].substring(r.column,i.column));else{s.push(n[r.line-1].slice(r.column));for(let e=r.line;e<i.line;e++)s.push(n[e]);s.push(n[i.line-1].slice(0,i.column))}return s.join("\n")},allPropertiesOf(e){const t=[];do{t.push.apply(t,Object.getOwnPropertyNames(e))}while(e=Object.getPrototypeOf(e));return t},linesToString:e=>e.length>0?e.join(";\n")+";\n":"\n",warnDeprecated(e,t,n){n?console.warn(`You are using a deprecated ${e} "${t}". It has been replaced with "${n}". Fixing, but please upgrade as it will soon be removed.`):console.warn(`You are using a deprecated ${e} "${t}". It has been removed. Fixing, but please upgrade as it will soon be removed.`)},flipPixels:(e,t,n)=>{const r=n/2|0,i=4*t,s=new Uint8ClampedArray(4*t),o=e.slice(0);for(let e=0;e<r;++e){const t=e*i,r=(n-e-1)*i;s.set(o.subarray(t,t+i)),o.copyWithin(t,r,r+i),o.set(s,r)}return o},erectPackedFloat:(e,t)=>e.subarray(0,t),erect2DPackedFloat:(e,t,n)=>{const r=new Array(n);for(let i=0;i<n;i++){const n=i*t;r[i]=e.subarray(n,n+t)}return r},erect3DPackedFloat:(e,t,n,r)=>{const i=new Array(r);for(let s=0;s<r;s++){const r=new Array(n);for(let i=0;i<n;i++){const o=s*n*t+i*t;r[i]=e.subarray(o,o+t)}i[s]=r}return i},erectMemoryOptimizedFloat:(e,t)=>e.subarray(0,t),erectMemoryOptimized2DFloat:(e,t,n)=>{const r=new Array(n);for(let i=0;i<n;i++){const n=i*t;r[i]=e.subarray(n,n+t)}return r},erectMemoryOptimized3DFloat:(e,t,n,r)=>{const i=new Array(r);for(let s=0;s<r;s++){const r=new Array(n);for(let i=0;i<n;i++){const o=s*n*t+i*t;r[i]=e.subarray(o,o+t)}i[s]=r}return i},erectFloat:(e,t)=>{const n=new Float32Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[r],r+=4;return n},erect2DFloat:(e,t,n)=>{const r=new Array(n);let i=0;for(let s=0;s<n;s++){const n=new Float32Array(t);for(let r=0;r<t;r++)n[r]=e[i],i+=4;r[s]=n}return r},erect3DFloat:(e,t,n,r)=>{const i=new Array(r);let s=0;for(let o=0;o<r;o++){const r=new Array(n);for(let i=0;i<n;i++){const n=new Float32Array(t);for(let r=0;r<t;r++)n[r]=e[s],s+=4;r[i]=n}i[o]=r}return i},erectArray2:(e,t)=>{const n=new Array(t),r=4*t;let i=0;for(let t=0;t<r;t+=4)n[i++]=e.subarray(t,t+2);return n},erect2DArray2:(e,t,n)=>{const r=new Array(n),i=4*t;for(let s=0;s<n;s++){const n=new Array(t),o=s*i;let a=0;for(let t=0;t<i;t+=4)n[a++]=e.subarray(t+o,t+o+2);r[s]=n}return r},erect3DArray2:(e,t,n,r)=>{const i=4*t,s=new Array(r);for(let o=0;o<r;o++){const r=new Array(n);for(let s=0;s<n;s++){const a=new Array(t),l=o*i*n+s*i;let u=0;for(let t=0;t<i;t+=4)a[u++]=e.subarray(t+l,t+l+2);r[s]=a}s[o]=r}return s},erectArray3:(e,t)=>{const n=new Array(t),r=4*t;let i=0;for(let t=0;t<r;t+=4)n[i++]=e.subarray(t,t+3);return n},erect2DArray3:(e,t,n)=>{const r=4*t,i=new Array(n);for(let s=0;s<n;s++){const n=new Array(t),o=s*r;let a=0;for(let t=0;t<r;t+=4)n[a++]=e.subarray(t+o,t+o+3);i[s]=n}return i},erect3DArray3:(e,t,n,r)=>{const i=4*t,s=new Array(r);for(let o=0;o<r;o++){const r=new Array(n);for(let s=0;s<n;s++){const a=new Array(t),l=o*i*n+s*i;let u=0;for(let t=0;t<i;t+=4)a[u++]=e.subarray(t+l,t+l+3);r[s]=a}s[o]=r}return s},erectArray4:(e,t)=>{const n=new Array(e),r=4*t;let i=0;for(let t=0;t<r;t+=4)n[i++]=e.subarray(t,t+4);return n},erect2DArray4:(e,t,n)=>{const r=4*t,i=new Array(n);for(let s=0;s<n;s++){const n=new Array(t),o=s*r;let a=0;for(let t=0;t<r;t+=4)n[a++]=e.subarray(t+o,t+o+4);i[s]=n}return i},erect3DArray4:(e,t,n,r)=>{const i=4*t,s=new Array(r);for(let o=0;o<r;o++){const r=new Array(n);for(let s=0;s<n;s++){const a=new Array(t),l=o*i*n+s*i;let u=0;for(let t=0;t<i;t+=4)a[u++]=e.subarray(t+l,t+l+4);r[s]=a}s[o]=r}return s},flattenFunctionToString:(e,t)=>{function r(e){if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++)t.push(r(e[n]));return t.join("")}switch(e.type){case"Program":return r(e.body)+("VariableDeclaration"===e.body[0].type?";":"");case"FunctionDeclaration":return`function ${e.id.name}(${e.params.map(r).join(", ")}) ${r(e.body)}`;case"BlockStatement":{const t=[];c+=2;for(let n=0;n<e.body.length;n++){const i=r(e.body[n]);i&&t.push(" ".repeat(c)+i,";\n")}return c-=2,`{\n${t.join("")}}`}case"VariableDeclaration":const t=l.normalizeDeclarations(e).map(r).filter((e=>null!==e));return t.length<1?"":`${e.kind} ${t.join(",")}`;case"VariableDeclarator":return e.init.object&&"ThisExpression"===e.init.object.type?s(e.init.property.name,!0)?`${e.id.name} = ${r(e.init)}`:null:`${e.id.name} = ${r(e.init)}`;case"CallExpression":if("subarray"===e.callee.property.name)return`${r(e.callee.object)}.${r(e.callee.property)}(${e.arguments.map((e=>r(e))).join(", ")})`;if("gl"===e.callee.object.name||"context"===e.callee.object.name)return`${r(e.callee.object)}.${r(e.callee.property)}(${e.arguments.map((e=>r(e))).join(", ")})`;if("ThisExpression"===e.callee.object.type)return u.push(i("this",e.callee.property.name)),`${e.callee.property.name}(${e.arguments.map((e=>r(e))).join(", ")})`;if(e.callee.object.name){const t=i(e.callee.object.name,e.callee.property.name);return null===t?`${e.callee.object.name}.${e.callee.property.name}(${e.arguments.map((e=>r(e))).join(", ")})`:(u.push(t),`${e.callee.property.name}(${e.arguments.map((e=>r(e))).join(", ")})`)}if("MemberExpression"===e.callee.object.type)return`${r(e.callee.object)}.${e.callee.property.name}(${e.arguments.map((e=>r(e))).join(", ")})`;throw new Error("unknown ast.callee");case"ReturnStatement":return`return ${r(e.argument)}`;case"BinaryExpression":return`(${r(e.left)}${e.operator}${r(e.right)})`;case"UnaryExpression":return e.prefix?`${e.operator} ${r(e.argument)}`:`${r(e.argument)} ${e.operator}`;case"ExpressionStatement":return`${r(e.expression)}`;case"SequenceExpression":return`(${r(e.expressions)})`;case"ArrowFunctionExpression":return`(${e.params.map(r).join(", ")}) => ${r(e.body)}`;case"Literal":return e.raw;case"Identifier":return e.name;case"MemberExpression":return"ThisExpression"===e.object.type?s(e.property.name):e.computed?`${r(e.object)}[${r(e.property)}]`:r(e.object)+"."+r(e.property);case"ThisExpression":return"this";case"NewExpression":return`new ${r(e.callee)}(${e.arguments.map((e=>r(e))).join(", ")})`;case"ForStatement":return`for (${r(e.init)};${r(e.test)};${r(e.update)}) ${r(e.body)}`;case"AssignmentExpression":return`${r(e.left)}${e.operator}${r(e.right)}`;case"UpdateExpression":return`${r(e.argument)}${e.operator}`;case"IfStatement":return`if (${r(e.test)}) ${r(e.consequent)}`;case"ThrowStatement":return`throw ${r(e.argument)}`;case"ObjectPattern":return e.properties.map(r).join(", ");case"ArrayPattern":return e.elements.map(r).join(", ");case"DebuggerStatement":return"debugger;";case"ConditionalExpression":return`${r(e.test)}?${r(e.consequent)}:${r(e.alternate)}`;case"Property":if("init"===e.kind)return r(e.key)}throw new Error(`unhandled ast.type of ${e.type}`)}const{findDependency:i,thisLookup:s}=t;let o=t.flattened;o||(o=t.flattened={});const a=n.parse(e),u=[];let c=0;const h=r(a);if(u.length>0){const e=[];for(let n=0;n<u.length;n++){const r=u[n];o[r]||(o[r]=!0),r&&e.push(l.flattenFunctionToString(r,t)+"\n")}return e.join("")+h}return h},normalizeDeclarations:e=>{if("VariableDeclaration"!==e.type)throw new Error('Ast is not of type "VariableDeclaration"');const t=[];for(let n=0;n<e.declarations.length;n++){const r=e.declarations[n];if(r.id&&"ObjectPattern"===r.id.type&&r.id.properties){const{properties:e}=r.id;for(let n=0;n<e.length;n++){const i=e[n];if("ObjectPattern"===i.value.type&&i.value.properties)for(let e=0;e<i.value.properties.length;e++){const n=i.value.properties[e];if("Property"!==n.type)throw new Error("unexpected state");t.push({type:"VariableDeclarator",id:{type:"Identifier",name:n.key.name},init:{type:"MemberExpression",object:{type:"MemberExpression",object:r.init,property:{type:"Identifier",name:i.key.name},computed:!1},property:{type:"Identifier",name:n.key.name},computed:!1}})}else{if("Identifier"!==i.value.type)throw new Error("unexpected state");t.push({type:"VariableDeclarator",id:{type:"Identifier",name:i.value&&i.value.name?i.value.name:i.key.name},init:{type:"MemberExpression",object:r.init,property:{type:"Identifier",name:i.key.name},computed:!1}})}}}else if(r.id&&"ArrayPattern"===r.id.type&&r.id.elements){const{elements:e}=r.id;for(let n=0;n<e.length;n++){const i=e[n];if("Identifier"!==i.type)throw new Error("unexpected state");t.push({type:"VariableDeclarator",id:{type:"Identifier",name:i.name},init:{type:"MemberExpression",object:r.init,property:{type:"Literal",value:n,raw:n.toString(),start:i.start,end:i.end},computed:!0}})}}else t.push(r)}return t},splitHTMLImageToRGB:(e,t)=>{const n=e.createKernel((function(e){return 255*e[this.thread.y][this.thread.x].r}),{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),r=e.createKernel((function(e){return 255*e[this.thread.y][this.thread.x].g}),{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),i=e.createKernel((function(e){return 255*e[this.thread.y][this.thread.x].b}),{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),s=e.createKernel((function(e){return 255*e[this.thread.y][this.thread.x].a}),{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),o=[n(t),r(t),i(t),s(t)];return o.rKernel=n,o.gKernel=r,o.bKernel=i,o.aKernel=s,o.gpu=e,o},splitRGBAToCanvases:(e,t,n,r)=>{const i=e.createKernel((function(e){this.color(e[this.thread.y][this.thread.x].r/255,0,0,255)}),{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});i(t);const s=e.createKernel((function(e){this.color(0,e[this.thread.y][this.thread.x].g/255,0,255)}),{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});s(t);const o=e.createKernel((function(e){this.color(0,0,e[this.thread.y][this.thread.x].b/255,255)}),{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});o(t);const a=e.createKernel((function(e){this.color(255,255,255,e[this.thread.y][this.thread.x].a/255)}),{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});return a(t),[i.canvas,s.canvas,o.canvas,a.canvas]},getMinifySafeName:e=>{try{const t=n.parse(`const value = ${e.toString()}`),{init:r}=t.body[0].declarations[0];return r.body.name||r.body.body[0].argument.name}catch(e){throw new Error("Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }")}},sanitizeName:function(e){return u.test(e)&&(e=e.replace(u,"S_S")),c.test(e)?e=e.replace(c,"U_U"):h.test(e)&&(e=e.replace(h,"u_u")),e}},u=/\$/,c=/__/,h=/_/,p=l.getSystemEndianness();t.exports={utils:l}},{"./input":110,"./texture":113,acorn:1}]},{},[107])(107)},my7b:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.whileStatement=t.ifStatement=t.variableDeclarator=t.variableDeclaration=t.arrowFunctionExpression=t.blockExpression=t.functionDeclaration=t.functionDeclarationExpression=t.primitive=t.unaryExpression=t.binaryExpression=t.assignmentExpression=t.arrayExpression=t.conditionalExpression=t.mutateToConditionalExpression=t.logicalExpression=t.mutateToMemberExpression=t.mutateToReturnStatement=t.mutateToExpressionStatement=t.mutateToAssignmentExpression=t.mutateToCallExpression=t.objectExpression=t.property=t.returnStatement=t.program=t.blockStatement=t.functionExpression=t.blockArrowFunction=t.expressionStatement=t.callExpression=t.constantDeclaration=t.declaration=t.memberExpression=t.literal=t.identifier=t.locationDummyNode=t.getVariableDecarationName=void 0;t.getVariableDecarationName=e=>e.declarations[0].id.name;t.locationDummyNode=(e,n)=>t.literal("Dummy",{start:{line:e,column:n},end:{line:e,column:n}});t.identifier=(e,t)=>({type:"Identifier",name:e,loc:t});t.literal=(e,t)=>({type:"Literal",value:e,loc:t});t.memberExpression=(e,n)=>({type:"MemberExpression",object:e,computed:"number"==typeof n,optional:!1,property:"number"==typeof n?t.literal(n):t.identifier(n)});t.declaration=(e,n,r,i)=>({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:t.identifier(e),init:r}],kind:n,loc:i});t.constantDeclaration=(e,n,r)=>t.declaration(e,"const",n,r);t.callExpression=(e,t,n)=>({type:"CallExpression",callee:e,arguments:t,optional:!1,loc:n});t.expressionStatement=e=>({type:"ExpressionStatement",expression:e});t.blockArrowFunction=(e,n,r)=>({type:"ArrowFunctionExpression",expression:!1,generator:!1,params:e,body:Array.isArray(n)?t.blockStatement(n):n,loc:r});t.functionExpression=(e,n,r)=>({type:"FunctionExpression",id:null,async:!1,generator:!1,params:e,body:Array.isArray(n)?t.blockStatement(n):n,loc:r});t.blockStatement=e=>({type:"BlockStatement",body:e});t.program=e=>({type:"Program",sourceType:"module",body:e});t.returnStatement=(e,t)=>({type:"ReturnStatement",argument:e,loc:t});t.property=(e,n)=>({type:"Property",method:!1,shorthand:!1,computed:!1,key:t.identifier(e),value:n,kind:"init"});t.objectExpression=e=>({type:"ObjectExpression",properties:e});t.mutateToCallExpression=(e,t,n)=>{e.type="CallExpression",e.callee=t,e.arguments=n};t.mutateToAssignmentExpression=(e,t,n)=>{e.type="AssignmentExpression",e.operator="=",e.left=t,e.right=n};t.mutateToExpressionStatement=(e,t)=>{e.type="ExpressionStatement",e.expression=t};t.mutateToReturnStatement=(e,t)=>{e.type="ReturnStatement",e.argument=t};t.mutateToMemberExpression=(e,t,n)=>{e.type="MemberExpression",e.object=t,e.property=n,e.computed=!1};t.logicalExpression=(e,t,n,r)=>({type:"LogicalExpression",operator:e,left:t,right:n,loc:r});t.mutateToConditionalExpression=(e,t,n,r)=>{e.type="ConditionalExpression",e.test=t,e.consequent=n,e.alternate=r};t.conditionalExpression=(e,t,n,r)=>({type:"ConditionalExpression",test:e,consequent:t,alternate:n,loc:r});t.arrayExpression=e=>({type:"ArrayExpression",elements:e});t.assignmentExpression=(e,t)=>({type:"AssignmentExpression",operator:"=",left:e,right:t});t.binaryExpression=(e,t,n,r)=>({type:"BinaryExpression",operator:e,left:t,right:n,loc:r});t.unaryExpression=(e,t,n)=>({type:"UnaryExpression",operator:e,prefix:!0,argument:t,loc:n});t.primitive=e=>void 0===e?t.identifier("undefined"):t.literal(e);t.functionDeclarationExpression=(e,t,n,r)=>({type:"FunctionExpression",id:e,params:t,body:n,loc:r});t.functionDeclaration=(e,t,n,r)=>({type:"FunctionDeclaration",id:e,params:t,body:n,loc:r});t.blockExpression=(e,t)=>({type:"BlockExpression",body:e,loc:t});t.arrowFunctionExpression=(e,t,n)=>({type:"ArrowFunctionExpression",expression:"BlockStatement"!==t.type,generator:!1,params:e,body:t,loc:n});t.variableDeclaration=(e,t)=>({type:"VariableDeclaration",kind:"const",declarations:e,loc:t});t.variableDeclarator=(e,t,n)=>({type:"VariableDeclarator",id:e,init:t,loc:n});t.ifStatement=(e,t,n,r)=>({type:"IfStatement",test:e,consequent:t,alternate:n,loc:r});t.whileStatement=(e,t,n)=>({type:"WhileStatement",test:t,body:e,loc:n})},n428:function(e,t,n){e.exports=n("hBZP").EventEmitter},neqR:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listPrelude=void 0,t.listPrelude='\n\n/**\n * recurses down the list and checks that it ends with the empty list null\n * @param {value} xs - given candidate\n * @returns {boolean} indicating whether {xs} is a list\n */\n\nfunction is_list(xs) {\n  return is_null(xs) || (is_pair(xs) && is_list(tail(xs)));\n}\n\n// equal computes the structural equality\n// over its arguments\n\nfunction equal(xs, ys) {\n  return is_pair(xs)\n  ? (is_pair(ys) &&\n    equal(head(xs), head(ys)) &&\n    equal(tail(xs), tail(ys)))\n  : is_null(xs)\n  ? is_null(ys)\n  : is_number(xs)\n  ? (is_number(ys) && xs === ys)\n  : is_boolean(xs)\n  ? (is_boolean(ys) && ((xs && ys) || (!xs && !ys)))\n  : is_string(xs)\n  ? (is_string(ys) && xs === ys)\n  : is_undefined(xs)\n  ? is_undefined(ys)\n  : // we know now that xs is a function\n    (is_function(ys) && xs === ys);\n}\n\n\n// returns the length of a given argument list\n// assumes that the argument is a list\n\nfunction $length(xs, acc) {\n    return is_null(xs) ? acc : $length(tail(xs), acc + 1);\n}\nfunction length(xs) {\n  return $length(xs, 0);\n}\n\n// map applies first arg f, assumed to be a unary function,\n// to the elements of the second argument, assumed to be a list.\n// f is applied element-by-element:\n// map(f, list(1, 2)) results in list(f(1), f(2))\n\nfunction $map(f, xs, acc) {\n    return is_null(xs)\n           ? reverse(acc)\n           : $map(f, tail(xs), pair(f(head(xs)), acc));\n}\nfunction map(f, xs) {\n    return $map(f, xs, null);\n}\n\n// build_list takes a a function fun as first argument, \n// and a nonnegative integer n as second argument,\n// build_list returns a list of n elements, that results from\n// applying fun to the numbers from 0 to n-1.\n\nfunction $build_list(i, fun, already_built) {\n    return i < 0 ? already_built : $build_list(i - 1, fun, pair(fun(i), already_built));\n}\n\nfunction build_list(fun, n) {\n  return $build_list(n - 1, fun, null);\n}\n\n// for_each applies first arg fun, assumed to be a unary function,\n// to the elements of the second argument, assumed to be a list.\n// fun is applied element-by-element:\n// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).\n// for_each returns true.\n\nfunction for_each(fun, xs) {\n  if (is_null(xs)) {\n    return true;\n  } else {\n    fun(head(xs));\n    return for_each(fun, tail(xs));\n  }\n}\n\n// list_to_string returns a string that represents the argument list.\n// It applies itself recursively on the elements of the given list.\n// When it encounters a non-list, it applies to_string to it.\n\nfunction $list_to_string(xs, cont) {\n    return is_null(xs)\n        ? cont("null")\n        : is_pair(xs)\n        ? $list_to_string(\n              head(xs),\n              x => $list_to_string(\n                       tail(xs),\n                       y => cont("[" + x + "," + y + "]")))\n        : cont(stringify(xs));\n}\n\nfunction list_to_string(xs) {\n    return $list_to_string(xs, x => x);\n}\n\n// reverse reverses the argument, assumed to be a list\n\nfunction $reverse(original, reversed) {\n    return is_null(original)\n           ? reversed\n           : $reverse(tail(original), pair(head(original), reversed));\n}\n\nfunction reverse(xs) {\n    return $reverse(xs, null);\n}\n\n// append first argument, assumed to be a list, to the second argument.\n// In the result null at the end of the first argument list\n// is replaced by the second argument, regardless what the second\n// argument consists of.\n\nfunction $append(xs, ys, cont) {\n    return is_null(xs)\n           ? cont(ys)\n           : $append(tail(xs), ys, zs => cont(pair(head(xs), zs)));\n}\n\nfunction append(xs, ys) {\n    return $append(xs, ys, xs => xs);\n}\n\n// member looks for a given first-argument element in the\n// second argument, assumed to be a list. It returns the first\n// postfix sublist that starts with the given element. It returns null if the\n// element does not occur in the list\n\nfunction member(v, xs) {\n  return is_null(xs)\n         ? null\n\t : v === head(xs)\n\t ? xs\n\t : member(v, tail(xs));\n}\n\n// removes the first occurrence of a given first-argument element\n// in second-argument, assmed to be a list. Returns the original\n// list if there is no occurrence.\n\nfunction $remove(v, xs, acc) {\n  return is_null(xs)\n         ? append(reverse(acc), xs)\n         : v === head(xs)\n         ? append(reverse(acc), tail(xs))\n         : $remove(v, tail(xs), pair(head(xs), acc));\n}\n\nfunction remove(v, xs) {\n    return $remove(v, xs, null);\n}\n\n// Similar to remove, but removes all instances of v\n// instead of just the first\n\nfunction $remove_all(v, xs, acc) {\n  return is_null(xs)\n         ? append(reverse(acc), xs)\n         : v === head(xs)\n         ? $remove_all(v, tail(xs), acc)\n         : $remove_all(v, tail(xs), pair(head(xs), acc));\n}\n\nfunction remove_all(v, xs) {\n    return $remove_all(v, xs, null);\n}\n\n// filter returns the sublist of elements of the second argument\n// (assumed to be a list), for which the given predicate function\n// returns true.\n\nfunction $filter(pred, xs, acc) {\n  return is_null(xs)\n    ? reverse(acc)\n    : pred(head(xs))\n    ? $filter(pred, tail(xs), pair(head(xs), acc))\n    : $filter(pred, tail(xs), acc);\n}\n\nfunction filter(pred, xs) {\n    return $filter(pred, xs, null);\n}\n\n// enumerates numbers starting from start, assumed to be a number,\n// using a step size of 1, until the number exceeds end, assumed\n// to be a number\n\nfunction $enum_list(start, end, acc) {\n  return start > end\n         ? reverse(acc)\n         : $enum_list(start + 1, end, pair(start, acc));\n}\n\nfunction enum_list(start, end) {\n    return $enum_list(start, end, null);\n}\n\n// Returns the item in xs (assumed to be a list) at index n,\n// assumed to be a nonnegative integer.\n// Note: the first item is at position 0\n\nfunction list_ref(xs, n) {\n  return n === 0\n         ? head(xs)\n         : list_ref(tail(xs), n - 1);\n}\n\n// accumulate applies an operation op (assumed to be a binary function)\n// to elements of sequence (assumed to be a list) in a right-to-left order.\n// first apply op to the last element and initial, resulting in r1, then to\n// the  second-last element and r1, resulting in r2, etc, and finally\n// to the first element and r_n-1, where n is the length of the\n// list.\n// accumulate(op, zero, list(1, 2, 3)) results in\n// op(1, op(2, op(3, zero)))\n\nfunction $accumulate(f, initial, xs, cont) {\n    return is_null(xs)\n           ? cont(initial)\n           : $accumulate(f, initial, tail(xs), x => cont(f(head(xs), x)));\n}\n\nfunction accumulate(f, initial, xs) {\n  return $accumulate(f, initial, xs, x => x);\n}\n'},nfnL:function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},nrnY:function(e,t,n){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n("zkTx").Buffer.isBuffer},pCvA:function(e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},"pFN/":function(e,t,n){"use strict";function r(e){return s[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.stringifyProgram=t.getName=void 0;const i=n("Ib16"),s={[i.OpCodes.NOP]:"NOP   ",[i.OpCodes.LDCI]:"LDCI  ",[i.OpCodes.LGCI]:"LGCI  ",[i.OpCodes.LDCF32]:"LDCF32",[i.OpCodes.LGCF32]:"LGCF32",[i.OpCodes.LDCF64]:"LDCF64",[i.OpCodes.LGCF64]:"LGCF64",[i.OpCodes.LDCB0]:"LDCB0 ",[i.OpCodes.LDCB1]:"LDCB1 ",[i.OpCodes.LGCB0]:"LGCB0 ",[i.OpCodes.LGCB1]:"LGCB1 ",[i.OpCodes.LGCU]:"LGCU  ",[i.OpCodes.LGCN]:"LGCN  ",[i.OpCodes.LGCS]:"LGCS  ",[i.OpCodes.POPG]:"POPG  ",[i.OpCodes.POPB]:"POPB  ",[i.OpCodes.POPF]:"POPF  ",[i.OpCodes.ADDG]:"ADDG  ",[i.OpCodes.ADDF]:"ADDF  ",[i.OpCodes.SUBG]:"SUBG  ",[i.OpCodes.SUBF]:"SUBF  ",[i.OpCodes.MULG]:"MULG  ",[i.OpCodes.MULF]:"MULF  ",[i.OpCodes.DIVG]:"DIVG  ",[i.OpCodes.DIVF]:"DIVF  ",[i.OpCodes.MODG]:"MODG  ",[i.OpCodes.MODF]:"MODF  ",[i.OpCodes.NEGG]:"NEGG  ",[i.OpCodes.NEGF]:"NEGF  ",[i.OpCodes.NOTG]:"NOTG  ",[i.OpCodes.NOTB]:"NOTB  ",[i.OpCodes.LTG]:"LTG   ",[i.OpCodes.LTF]:"LTF   ",[i.OpCodes.GTG]:"GTG   ",[i.OpCodes.GTF]:"GTF   ",[i.OpCodes.LEG]:"LEG   ",[i.OpCodes.LEF]:"LEF   ",[i.OpCodes.GEG]:"GEG   ",[i.OpCodes.GEF]:"GEF   ",[i.OpCodes.EQG]:"EQG   ",[i.OpCodes.EQF]:"EQF   ",[i.OpCodes.EQB]:"EQB   ",[i.OpCodes.NEQG]:"NEQG  ",[i.OpCodes.NEQF]:"NEQF  ",[i.OpCodes.NEQB]:"NEQB  ",[i.OpCodes.NEWC]:"NEWC  ",[i.OpCodes.NEWA]:"NEWA  ",[i.OpCodes.LDLG]:"LDLG  ",[i.OpCodes.LDLF]:"LDLF  ",[i.OpCodes.LDLB]:"LDLB  ",[i.OpCodes.STLG]:"STLG  ",[i.OpCodes.STLB]:"STLB  ",[i.OpCodes.STLF]:"STLF  ",[i.OpCodes.LDPG]:"LDPG  ",[i.OpCodes.LDPF]:"LDPF  ",[i.OpCodes.LDPB]:"LDPB  ",[i.OpCodes.STPG]:"STPG  ",[i.OpCodes.STPB]:"STPB  ",[i.OpCodes.STPF]:"STPF  ",[i.OpCodes.LDAG]:"LDAG  ",[i.OpCodes.LDAB]:"LDAB  ",[i.OpCodes.LDAF]:"LDAF  ",[i.OpCodes.STAG]:"STAG  ",[i.OpCodes.STAB]:"STAB  ",[i.OpCodes.STAF]:"STAF  ",[i.OpCodes.BRT]:"BRT   ",[i.OpCodes.BRF]:"BRF   ",[i.OpCodes.BR]:"BR    ",[i.OpCodes.JMP]:"JMP   ",[i.OpCodes.CALL]:"CALL  ",[i.OpCodes.CALLT]:"CALLT ",[i.OpCodes.CALLP]:"CALLP ",[i.OpCodes.CALLTP]:"CALLTP",[i.OpCodes.CALLV]:"CALLV ",[i.OpCodes.CALLTV]:"CALLTV",[i.OpCodes.RETG]:"RETG  ",[i.OpCodes.RETF]:"RETF  ",[i.OpCodes.RETB]:"RETB  ",[i.OpCodes.RETU]:"RETU  ",[i.OpCodes.RETN]:"RETN  ",[i.OpCodes.DUP]:"DUP   ",[i.OpCodes.NEWENV]:"NEWENV",[i.OpCodes.POPENV]:"POPENV",[i.OpCodes.NEWCP]:"NEWCP ",[i.OpCodes.NEWCV]:"NEWCV ",[i.OpCodes.NEGG]:"NEGG  ",[i.OpCodes.NEGF]:"NEGF  ",[i.OpCodes.NEQG]:"NEQG  ",[i.OpCodes.NEQF]:"NEQF  ",[i.OpCodes.NEQB]:"NEQB  ",[i.OpCodes.ARRAY_LEN]:"ARR_LEN",[i.OpCodes.DISPLAY]:"DISPLAY",[i.OpCodes.DRAW_DATA]:"DRAW_DATA",[i.OpCodes.ERROR]:"ERROR",[i.OpCodes.IS_ARRAY]:"IS_ARRAY",[i.OpCodes.IS_BOOL]:"IS_BOOL",[i.OpCodes.IS_FUNC]:"IS_FUNC",[i.OpCodes.IS_NULL]:"IS_NULL",[i.OpCodes.IS_NUMBER]:"IS_NUM",[i.OpCodes.IS_STRING]:"IS_STR",[i.OpCodes.IS_UNDEFINED]:"IS_UNDEF",[i.OpCodes.MATH_ABS]:"MATH_ABS",[i.OpCodes.MATH_ACOS]:"MATH_ACOS",[i.OpCodes.MATH_ACOSH]:"MATH_ACOSH",[i.OpCodes.MATH_ASINH]:"MATH_ASINH",[i.OpCodes.MATH_ATAN]:"MATH_ATAN",[i.OpCodes.MATH_ATAN2]:"MATH_ATAN2",[i.OpCodes.MATH_ATANH]:"MATH_ATANH",[i.OpCodes.MATH_CBRT]:"MATH_CBRT",[i.OpCodes.MATH_CEIL]:"MATH_CEIL",[i.OpCodes.MATH_CLZ32]:"MATH_CLZ32",[i.OpCodes.MATH_COS]:"MATH_COS",[i.OpCodes.MATH_COSH]:"MATH_COSH",[i.OpCodes.MATH_EXP]:"MATH_EXP",[i.OpCodes.MATH_EXPM1]:"MATH_EXPM1",[i.OpCodes.MATH_FLOOR]:"MATH_FLOOR",[i.OpCodes.MATH_FROUND]:"MATH_FROUND",[i.OpCodes.MATH_HYPOT]:"MATH_HYPOT",[i.OpCodes.MATH_IMUL]:"MATH_IMUL",[i.OpCodes.MATH_LOG]:"MATH_LOG",[i.OpCodes.MATH_LOG1P]:"MATH_LOG1P",[i.OpCodes.MATH_LOG2]:"MATH_LOG2",[i.OpCodes.MATH_LOG10]:"MATH_LOG10",[i.OpCodes.MATH_MAX]:"MATH_MAX",[i.OpCodes.MATH_MIN]:"MATH_MIN",[i.OpCodes.MATH_POW]:"MATH_POW",[i.OpCodes.MATH_RANDOM]:"MATH_RANDOM",[i.OpCodes.MATH_ROUND]:"MATH_ROUND",[i.OpCodes.MATH_SIGN]:"MATH_SIGN",[i.OpCodes.MATH_SIN]:"MATH_SIN",[i.OpCodes.MATH_SINH]:"MATH_SINH",[i.OpCodes.MATH_SQRT]:"MATH_SQRT",[i.OpCodes.MATH_TAN]:"MATH_TAN",[i.OpCodes.MATH_TANH]:"MATH_TANH",[i.OpCodes.MATH_TRUNC]:"MATH_TRUNC",[i.OpCodes.PARSE_INT]:"PARSE_INT",[i.OpCodes.RUNTIME]:"RUNTIME",[i.OpCodes.STREAM]:"STREAM",[i.OpCodes.STRINGIFY]:"STRINGIFY",[i.OpCodes.PROMPT]:"PROMPT",[i.OpCodes.EXECUTE]:"EXEC  ",[i.OpCodes.TEST_AND_SET]:"T&S   ",[i.OpCodes.CLEAR]:"CLEAR "};t.getName=r,t.stringifyProgram=function(e){const t=e[1];let n="";n+="Entry function: "+e[0]+"\n";for(let e=0;e<t.length;e++){const i=t[e];let s="#"+e+":\nStack Size: "+i[0]+"\nEnv Size: "+i[1]+"\nNum Args: "+i[2]+"\n";for(let e=0;e<i[3].length;e++){s+=e;const t=i[3][e];s+=": "+r(t[0]);for(let e=1;e<t.length;e++)s+=" "+t[e];s+="\n"}n+=s+"\n"}return n}},pRMk:function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return o(e,t,n)}var s=n("zkTx"),o=s.Buffer;o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=s:(r(s,t),t.Buffer=i),i.prototype=Object.create(o.prototype),r(o,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s.SlowBuffer(e)}},pyAK:function(){},sOO9:function(e,t,n){(function(e){var r=n("ANQQ"),i=n("3mKH"),s=n("1hwd"),o=n("HrKg"),a=n("Jmra"),l=t;l.request=function(t,n){t="string"==typeof t?a.parse(t):s(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",o=t.protocol||i,l=t.hostname||t.host,u=t.port,c=t.path||"/";l&&-1!==l.indexOf(":")&&(l="["+l+"]"),t.url=(l?o+"//"+l:"")+(u?":"+u:"")+c,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new r(t);return n&&h.on("response",n),h},l.get=function(e,t){var n=l.request(e,t);return n.end(),n},l.ClientRequest=r,l.IncomingMessage=i.IncomingMessage,l.Agent=function(){},l.Agent.defaultMaxSockets=4,l.globalAgent=new l.Agent,l.STATUS_CODES=o,l.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n("pCvA"))},soc2:function(e,t,n){"use strict";function r(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(p.isEncoding===d||!d(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=o,this.end=a,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=u,t=3;break;default:return this.write=c,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(t)}function i(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function o(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function a(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function c(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}var p=n("pRMk").Buffer,d=p.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=r,r.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},r.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},r.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var s=i(t[r]);return s>=0?(s>0&&(e.lastNeed=s-1),s):--r<n||-2===s?0:(s=i(t[r]))>=0?(s>0&&(e.lastNeed=s-2),s):--r<n||-2===s?0:(s=i(t[r]))>=0?(s>0&&(2===s?s=0:e.lastNeed=s-3),s):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},sqee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoDeclareMutableError=void 0;const r=n("j0Aj"),i=n("QyX9"),s=["let","var"];class o{constructor(e){this.node=e,this.type=i.ErrorType.SYNTAX,this.severity=i.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Mutable variable declaration using keyword '${this.node.kind}' is not allowed.`}elaborate(){return`Use keyword "const" instead, to declare a constant:\n\n\tconst ${this.node.declarations[0].id.name} = ${r.generate(this.node.declarations[0].init)};`}}t.NoDeclareMutableError=o;t.default={name:"no-declare-mutable",disableOn:3,checkers:{VariableDeclaration:e=>s.includes(e.kind)?[new o(e)]:[]}}},tV8f:function(e,t,n){"use strict";let r,i=e=>e;Object.defineProperty(t,"__esModule",{value:!0}),t.ForStatmentMustHaveAllParts=void 0;const s=n("QyX9"),o=n("zZ3m");class a{constructor(e,t){this.node=e,this.missingParts=t,this.type=s.ErrorType.SYNTAX,this.severity=s.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return`Missing ${this.missingParts.join(", ")} expression${1===this.missingParts.length?"":"s"} in for statement.`}elaborate(){return o.stripIndent(r||(r=i`
      This for statement requires all three parts (initialiser, test, update) to be present.
    `))}}t.ForStatmentMustHaveAllParts=a;t.default={name:"for-statement-must-have-all-parts",checkers:{ForStatement(e){const t=["init","test","update"].filter((t=>null===e[t]));return t.length>0?[new a(e,t)]:[]}}}},"u+Ul":function(e,t,n){"use strict";let r,i=e=>e;Object.defineProperty(t,"__esModule",{value:!0}),t.NoIfWithoutElseError=void 0;const s=n("j0Aj"),o=n("QyX9"),a=n("zZ3m");class l{constructor(e){this.node=e,this.type=o.ErrorType.SYNTAX,this.severity=o.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Missing "else" in "if-else" statement.'}elaborate(){return a.stripIndent(r||(r=i`
      This "if" block requires corresponding "else" block which will be
      evaluated when ${0} expression evaluates to false.

      Later in the course we will lift this restriction and allow "if" without
      else.
    `),s.generate(this.node.test))}}t.NoIfWithoutElseError=l;t.default={name:"no-if-without-else",disableOn:3,checkers:{IfStatement:e=>e.alternate?[]:[new l(e)]}}},ud1U:function(e,t,n){"use strict";let r,i=e=>e;Object.defineProperty(t,"__esModule",{value:!0}),t.NoHolesInArrays=void 0;const s=n("QyX9"),o=n("zZ3m");class a{constructor(e){this.node=e,this.type=s.ErrorType.SYNTAX,this.severity=s.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return"No holes are allowed in array literals."}elaborate(){return o.stripIndent(r||(r=i`
      No holes (empty slots with no content inside) are allowed in array literals.
      You probably have an extra comma, which creates a hole.
    `))}}t.NoHolesInArrays=a;t.default={name:"no-holes-in-arrays",checkers:{ArrayExpression:e=>e.elements.some((e=>null===e))?[new a(e)]:[]}}},upWy:function(e,t,n){"use strict";(function(t){e.exports=void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var s,o,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(s=new Array(a-1),o=0;o<s.length;)s[o++]=arguments[o];return t.nextTick((function(){e.apply(null,s)}))}}}:t}).call(this,n("5IsQ"))},w6cD:function(e,t,n){"use strict";function r(e,t){if(/Maximum call stack/.test(e.toString())){const e=t.runtime.environments,n=[];let r=0;for(let t=0;r<i.MaximumStackLimitExceeded.MAX_CALLS_TO_SHOW&&t<e.length;t++)e[t].callExpression&&(n.unshift(e[t].callExpression),r++);t.errors.push(new i.MaximumStackLimitExceeded(t.runtime.nodes[0],n))}}Object.defineProperty(t,"__esModule",{value:!0}),t.PreemptiveScheduler=t.NonDetScheduler=t.AsyncScheduler=void 0;const i=n("JFiO"),s=n("A6L2");t.AsyncScheduler=class{run(e,t){return new Promise((n=>{t.runtime.isRunning=!0;let r=e.next();try{for(;!r.done;)r=e.next(),t.runtime.break&&(s.saveState(t,e,this),r.done=!0)}catch(e){n({status:"error"})}finally{t.runtime.isRunning=!1}n(t.runtime.break?{status:"suspended",it:e,scheduler:this,context:t}:{status:"finished",context:t,value:r.value})}))}};t.NonDetScheduler=class{run(e,t){return new Promise((n=>{try{const r=e.next();n(r.done?{status:"finished",context:t,value:r.value}:{status:"suspended-non-det",it:e,scheduler:this,context:t,value:r.value})}catch(e){r(e,t),n({status:"error"})}finally{t.runtime.isRunning=!1}}))}};t.PreemptiveScheduler=class{constructor(e){this.steps=e}run(e,t){return new Promise((n=>{t.runtime.isRunning=!0;let i=!1,o=e.next();const a=setInterval((()=>{let l=0;try{for(;!o.done&&l<this.steps;)l++,o=e.next(),i=t.runtime.break&&t.runtime.debuggerOn,i&&(o.done=!0);s.saveState(t,e,this)}catch(e){r(e,t),t.runtime.isRunning=!1,clearInterval(a),n({status:"error"})}o.done&&(t.runtime.isRunning=!1,clearInterval(a),n(i?{status:"suspended",it:e,scheduler:this,context:t}:{status:"finished",context:t,value:o.value}))}))}))}}},w7gO:function(e,t,n){function r(e){if("string"==typeof e&&(e=s.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}var i=n("sOO9"),s=n("Jmra"),o=e.exports;for(var a in i)i.hasOwnProperty(a)&&(o[a]=i[a]);o.request=function(e,t){return e=r(e),i.request.call(this,e,t)},o.get=function(e,t){return e=r(e),i.get.call(this,e,t)}},wfEq:function(e){e.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},xTpk:function(e,t,n){"use strict";function r(e,t){e.emit("error",t)}var i=n("upWy");e.exports={destroy:function(e,t){var n=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(i.nextTick(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},xhom:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){if(null!==e){if(t&&"Untypable"!==e.typability)try{e.inferredType=p(e.inferredType,t),e.typability="Typed"}catch(t){!a(t)||t instanceof R.InternalCyclicReferenceError||F.push(new R.TypeError(e,t))}else e.inferredType=T(D),D++;switch(e.type){case"Program":case"BlockStatement":e.body.forEach((e=>{i(e,t)}));break;case"UnaryExpression":i(e.argument,t);break;case"LogicalExpression":case"BinaryExpression":case"AssignmentExpression":i(e.left,t),i(e.right,t);break;case"ExpressionStatement":i(e.expression,t);break;case"WhileStatement":i(e.test,t),i(e.body,t);break;case"ForStatement":i(e.init,t),i(e.test,t),i(e.update,t),i(e.body,t);break;case"ConditionalExpression":case"IfStatement":i(e.test,t),i(e.consequent,t),e.alternate&&i(e.alternate,t);break;case"CallExpression":i(e.callee,t),e.arguments.forEach((e=>{i(e,t)}));break;case"ReturnStatement":i(e.argument,t);break;case"VariableDeclaration":i(e.declarations[0].init,t);break;case"ArrowFunctionExpression":e.params.forEach((e=>{i(e,t)})),i(e.body,t);break;case"FunctionDeclaration":{const n=e;if(t)try{n.functionInferredType=p(n.functionInferredType,t)}catch(t){t instanceof R.InternalCyclicReferenceError?F.push(new I.CyclicReferenceError(e)):a(t)&&F.push(new R.TypeError(e,t))}else n.functionInferredType=T(D);D++,n.params.forEach((e=>{i(e,t)})),i(n.body,t);break}case"ArrayExpression":e.elements.forEach((e=>i(e,t)));break;case"MemberExpression":i(e.object,t),i(e.property,t);break;default:return}}}function s(e){return"pair"===e.kind}function o(e){return function(e){return"list"===e.kind}(e)?e.elementType:null}function a(e){return e instanceof R.InternalTypeError}function l(e,t){switch(e.kind){case"primitive":return e;case"list":return{kind:"list",elementType:l(e.elementType,t)};case"array":return{kind:"array",elementType:l(e.elementType,t)};case"pair":return{kind:"pair",headType:l(e.headType,t),tailType:l(e.tailType,t)};case"variable":return t[e.name];case"function":return r(r({},e),{parameterTypes:e.parameterTypes.map((e=>l(e,t))),returnType:l(e.returnType,t)})}}function u(e,t){const n=[...e];return t.forEach((e=>{-1===n.findIndex((t=>t.name===e.name))&&n.push(e)})),n}function c(e){switch(e.kind){case"primitive":return[];case"list":case"array":return c(e.elementType);case"pair":return u(c(e.headType),c(e.tailType));case"variable":return[e];case"function":return u(e.parameterTypes.reduce(((e,t)=>u(e,c(t))),[]),c(e.returnType))}}function h(e){const t=e.polyType,n=c(t),i={};return n.forEach((e=>{i[e.name]=function(e){const t=D;return D++,r(r({},e),{name:`T${t}`})}(e)})),l(t,i)}function p(e,t){switch(e.kind){case"primitive":return e;case"pair":{const n=p(e.headType,t),r=p(e.tailType,t);return"list"===r.kind&&n===o(r)?k(n):E(n,r)}case"list":return{kind:"list",elementType:p(e.elementType,t)};case"array":return{kind:"array",elementType:p(e.elementType,t)};case"variable":for(const n of t){const r=n[0],i=n[1];if(r.name===e.name){if(d(i,r.name)){if(s(i)&&r===i.tailType)return{kind:"list",elementType:i.headType};if("variable"===r.kind&&r===o(i))return{kind:"list",elementType:r};throw new R.InternalCyclicReferenceError(e.name)}return p(n[1],t)}}return e;case"function":return r(r({},e),{parameterTypes:e.parameterTypes.map((e=>p(e,t))),returnType:p(e.returnType,t)})}}function d(e,t){switch(e.kind){case"primitive":return!1;case"pair":return d(e.headType,t)||d(e.tailType,t);case"array":case"list":return d(e.elementType,t);case"variable":return e.name===t;case"function":return e.parameterTypes.some((e=>d(e,t)))||d(e.returnType,t)}}function f(e,[t,n]){if("primitive"===t.kind&&"primitive"===n.kind&&t.name===n.name)return e;if("variable"!==t.kind&&"variable"===n.kind)return f(e,[n,t]);if("variable"===t.kind){if(("primitive"===(n=p(n,e)).kind||"variable"===n.kind)&&t.name===n.name)return e;if("pair"===n.kind&&t===n.tailType)f(e,[t,k(n.headType)]);else{if("pair"===n.kind&&"list"===n.tailType.kind){const r=f(e,[n.headType,o(n.tailType)]);return f(r,[t,k(n.headType)])}if(d(n,t.name))throw new R.InternalCyclicReferenceError(t.name)}if(function(e,t){return"addable"===e.constraint&&"variable"!==t.kind&&!("primitive"===t.kind&&("string"===t.name||"number"===t.name))}(t,n))throw new R.UnifyError(t,n);return function(e,t,n){for(const r of t)if(r[0].name===e.name)return f(t,[n,r[1]]);return"variable"===n.kind&&"addable"===e.constraint&&"none"===n.constraint&&(n.constraint=e.constraint),e!==n&&t.push([e,n]),t}(t,e,p(n,e))}if("function"===t.kind&&"function"===n.kind){if(t.parameterTypes.length!==n.parameterTypes.length)throw new R.InternalDifferentNumberArgumentsError(n.parameterTypes.length,t.parameterTypes.length);let r=e;for(let e=0;e<t.parameterTypes.length;e++)r=f(r,[t.parameterTypes[e],n.parameterTypes[e]]);return r=f(r,[t.returnType,n.returnType]),r}if("pair"===t.kind&&"pair"===n.kind){const r=f(e,[t.headType,n.headType]);return f(r,[t.tailType,n.tailType])}if("list"===t.kind&&"list"===n.kind)return f(e,[t.elementType,n.elementType]);if("list"===t.kind&&"pair"===n.kind)return f(e,[n,E(t.elementType,t)]);if("list"===n.kind&&"pair"===t.kind)return f(e,[t,E(n.elementType,n)]);if("array"===t.kind&&"array"===n.kind)return f(e,[t.elementType,n.elementType]);throw new R.UnifyError(t,n)}function g(e){switch(e.type){case"IfStatement":return g(e.consequent)||g(e.alternate);case"BlockStatement":return e.body.some((e=>g(e)));case"ForStatement":case"WhileStatement":return g(e.body);case"ReturnStatement":return!0;default:return!1}}function m(e){switch(e.type){case"ExpressionStatement":return!0;case"IfStatement":return m(e.consequent)||m(e.alternate);case"BlockStatement":return e.body.some((e=>m(e)));case"ForStatement":case"WhileStatement":return m(e.body);default:return!1}}function y(e,t){const n=e.body.length-1;if(t){for(let t=n;t>=0;t--)if(m(e.body[t]))return t;return n}return e.body.findIndex(((e,t)=>t===n||g(e)))}function v(e,t){for(let n=t.length-1;n>=0;n--)if(t[n].typeMap.has(e))return t[n].typeMap.get(e)}function x(e,t,n){n[n.length-1].typeMap.set(e,t)}function b(e,t,n){n[n.length-1].declKindMap.set(e,t)}function _(e){e.push({typeMap:new Map,declKindMap:new Map})}function w(e,t,n,r=!1){try{return function(e,t,n,r=!1){const i=e.inferredType;switch(e.type){case"UnaryExpression":{const r=v("-"===e.operator?O:e.operator,t),s=e.argument,o=s.inferredType,a=[];let l=w(s,t,n);a.push(p(s.inferredType,l));try{l=f(l,[$(o,i),r])}catch(t){if(t instanceof R.UnifyError){return F.push(new I.InvalidArgumentTypesError(e,[s],r.parameterTypes,a)),l}}return l}case"LogicalExpression":case"BinaryExpression":{const r=v(e.operator,t),s="forall"===r.kind?h(r):r,o=e.left,a=o.inferredType,l=e.right,u=l.inferredType,c=[o,l];let d=n;const g=[];c.forEach((e=>{d=w(e,t,d),g.push(p(e.inferredType,d))}));try{d=f(n,[$(a,u,i),s])}catch(t){if(t instanceof R.UnifyError){F.push(new I.InvalidArgumentTypesError(e,c,s.parameterTypes,g))}}return d}case"ExpressionStatement":return w(e.expression,t,f(n,[i,z]));case"ReturnStatement":{const r=e.argument;return w(r,t,f(n,[i,r.inferredType]))}case"WhileStatement":{const s=e.test,o=s.inferredType,a=e.body;let l=f(n,[i,a.inferredType]);try{l=w(s,t,l),l=f(l,[o,P])}catch(t){t instanceof R.UnifyError&&F.push(new I.InvalidTestConditionError(e,t.RHS))}return w(a,t,l,r)}case"ForStatement":{const s=e.init,o=e.test,a=o.inferredType,l=e.body,u=e.update;let c=f(n,[i,l.inferredType]);if(_(t),"VariableDeclaration"===s.type&&"var"!==s.kind&&"Identifier"===s.declarations[0].id.type){const e=s.declarations[0].id.name;x(e,s.declarations[0].init.inferredType,t),b(e,s.kind,t),c=w(s,t,c),x(e,C(p(s.declarations[0].init.inferredType,c)),t)}else c=w(s,t,c);try{c=w(o,t,c),c=f(c,[a,P])}catch(t){t instanceof R.UnifyError&&F.push(new I.InvalidTestConditionError(e,t.RHS))}c=w(u,t,c);const h=w(l,t,c,r);return t.pop(),h}case"Program":case"BlockStatement":{_(t);for(const n of e.body)if("ImportDeclaration"===n.type)for(const e of n.specifiers)"ImportSpecifier"===e.type&&"Identifier"===e.imported.type&&(x(e.imported.name,C(T("T1")),t),b(e.imported.name,"const",t));const s=e.body.length-1,o=y(e,r);let a=-1,l=!1,u=s;const c=[];for(;u>=0;){const t=e.body[u];"FunctionDeclaration"!==t.type&&"VariableDeclaration"!==t.type||(l||(l=!0,a=u),c.push(t)),u--}c.forEach((e=>{if("FunctionDeclaration"===e.type&&null!==e.id){const n=e.id.name;x(n,e.functionInferredType,t),b(n,"const",t)}else if("VariableDeclaration"===e.type&&"var"!==e.kind&&"Identifier"===e.declarations[0].id.type){const n=e.declarations[0].id.name;x(n,e.declarations[0].init.inferredType,t),b(n,e.kind,t)}}));const h=e.body[o];let d=f(n,[i,r&&"ExpressionStatement"===h.type?h.expression.inferredType:h.inferredType]);for(let n=0;n<=a;n++)d=n===o?w(e.body[n],t,d,r):w(e.body[n],t,d);c.forEach((e=>{"FunctionDeclaration"===e.type&&null!==e.id?x(e.id.name,C(p(e.functionInferredType,d)),t):"VariableDeclaration"===e.type&&"Identifier"===e.declarations[0].id.type&&x(e.declarations[0].id.name,C(p(e.declarations[0].init.inferredType,d)),t)}));for(let n=a+1;n<=s;n++){const i=e.body[n];d=n===o?w(i,t,d,r):w(i,t,d)}return"BlockStatement"===e.type&&t.pop(),d}case"Literal":{const t=e.value,r=typeof t;if(null===t)return f(n,[i,k(T(D++))]);if("number"===r)return f(n,[i,V]);if("boolean"===r)return f(n,[i,P]);if("string"===r)return f(n,[i,B]);throw Error("Unexpected literal type")}case"Identifier":{const r=e.name,s=v(r,t);return void 0!==s?f(n,"forall"===s.kind?[i,h(s)]:[i,s]):(F.push(new I.UndefinedIdentifierError(e,r)),n)}case"ConditionalExpression":case"IfStatement":{const s=e.test,o=s.inferredType,a=e.consequent,l=a.inferredType,u=e.alternate,c=u.inferredType;let h=f(n,[i,l]);try{h=w(s,t,h),h=f(h,[o,P])}catch(t){t instanceof R.UnifyError&&F.push(new I.InvalidTestConditionError(e,t.RHS))}h=w(a,t,h,r);try{h=w(u,t,h,r),h=f(h,[l,c])}catch(t){t instanceof R.UnifyError&&F.push(new I.ConsequentAlternateMismatchError(e,t.RHS,t.LHS))}return h}case"ArrowFunctionExpression":{_(t);const r=e.params,s=r.map((e=>e.inferredType)),o=e.body;s.push(o.inferredType);const a=f(n,[i,$(...s)]);r.forEach((e=>{x(e.name,e.inferredType,t)}));const l=w(o,t,a);return t.pop(),l}case"VariableDeclaration":return w(e.declarations[0].init,t,f(n,[i,z]));case"FunctionDeclaration":{const r=e;let s=f(n,[i,z]);_(t);const o=r.functionInferredType,a=e.params,l=a.map((e=>e.inferredType)),u=e.body;l.push(u.inferredType),s=f(s,[o,$(...l)]),a.forEach((e=>{x(e.name,e.inferredType,t)}));const c=w(u,t,s);return t.pop(),c}case"CallExpression":{const r=e.callee,s=r.inferredType,o=e.arguments,a=o.map((e=>e.inferredType));a.push(i);let l=n;l=w(r,t,l);const u=p(r.inferredType,l),c=[];o.forEach((e=>{l=w(e,t,l),c.push(p(e.inferredType,l))}));try{l=f(n,[$(...a),s])}catch(t){if(t instanceof R.UnifyError)if("function"===u.kind){F.push(new I.InvalidArgumentTypesError(e,o,u.parameterTypes,c))}else F.push(new I.CallingNonFunctionType(e,u));else t instanceof R.InternalDifferentNumberArgumentsError&&F.push(new I.DifferentNumberArgumentsError(e,t.numExpectedArgs,t.numReceived))}return l}case"AssignmentExpression":{const r=e.left,s=e.right,o=s.inferredType,a=r.inferredType;let l=f(n,[i,o]);if(l=w(s,t,l),"Identifier"===r.type&&"const"===function(e,t){for(let n=t.length-1;n>=0;n--)if(t[n].declKindMap.has(e))return t[n].declKindMap.get(e)}(r.name,t))return F.push(new I.ReassignConstError(e)),l;l=w(r,t,l);try{return f(l,[o,a])}catch(t){t instanceof R.UnifyError&&F.push("Identifier"===r.type?new I.DifferentAssignmentError(e,p(a,l),p(o,l)):new I.ArrayAssignmentError(e,L(p(a,l)),L(p(o,l))))}return l}case"ArrayExpression":{let r=n;const s=e.elements;s.forEach((e=>{r=w(e,t,r)}));const o=T(D++);return r=f(r,[i,L(o)]),s.forEach((t=>{try{r=f(r,[o,t.inferredType])}catch(n){n instanceof R.UnifyError&&F.push(new I.ArrayAssignmentError(e,p(e.inferredType,r),L(p(t.inferredType,r))))}})),r}case"MemberExpression":{const r=e.object.name,s=e.property,o=s.inferredType;let a=w(s,t,n);const l=v(r,t),u="forall"===l.kind?h(l):p(l,a);if("array"!==u.kind)throw new R.InternalTypeError(`Expected ${r} to be an array, got ${M.typeToString(u)}`);const c=u.elementType;try{a=f(n,[o,V])}catch(t){t instanceof R.UnifyError&&F.push(new I.InvalidArrayIndexType(e,p(o,a)))}return f(a,[i,c])}default:return f(n,[i,z])}}(e,t,n,r)}catch(t){if(t instanceof R.InternalCyclicReferenceError)return F.push(new I.CyclicReferenceError(e)),n;throw t}}function S(e){return{kind:"primitive",name:e}}function T(e){return{kind:"variable",name:`T${e}`,constraint:"none"}}function A(e){return{kind:"variable",name:`${e}`,constraint:"addable"}}function E(e,t){return{kind:"pair",headType:e,tailType:t}}function k(e){return{kind:"list",elementType:e}}function C(e){return{kind:"forall",polyType:e}}function L(e){return{kind:"array",elementType:e}}function $(...e){return{kind:"function",parameterTypes:e.slice(0,-1),returnType:e.slice(-1)[0]}}Object.defineProperty(t,"__esModule",{value:!0}),t.createTypeEnvironment=t.tForAll=t.tVar=t.typeCheck=void 0;const R=n("KZ+V"),I=n("RZxB"),M=n("GFFv"),N=n("f9Fa"),O="-_1";let D=0,F=[];t.typeCheck=function(e,t){function n(e){D=0,F=[];const n=t.typeEnvironment;if(t.chapter>=3&&3===n.length){const e=n[2].typeMap;for(const[t,n]of Z)e.set(t,n)}const r=[];i(e);try{w(e,n,r,!0)}catch(e){}return i(e,r),[e,F]}for(const e of t.unTypecheckedCode)n(N.typedParse(e,t));return t.unTypecheckedCode=[],n(e)},t.tVar=T,t.tForAll=C;const P=S("boolean"),V=S("number"),B=S("string"),z=S("undefined"),U=[["Infinity",V],["NaN",V],["undefined",z],["math_E",V],["math_LN2",V],["math_LN10",V],["math_LOG2E",V],["math_LOG10E",V],["math_PI",V],["math_SQRT1_2",V],["math_SQRT2",V],["is_boolean",C($(T("T"),P))],["is_number",C($(T("T"),P))],["is_string",C($(T("T"),P))],["is_undefined",C($(T("T"),P))],["math_abs",$(V,V)],["math_acos",$(V,V)],["math_acosh",$(V,V)],["math_asin",$(V,V)],["math_asinh",$(V,V)],["math_atan",$(V,V)],["math_atan2",$(V,V,V)],["math_atanh",$(V,V)],["math_cbrt",$(V,V)],["math_ceil",$(V,V)],["math_clz32",$(V,V)],["math_cos",$(V,V)],["math_cosh",$(V,V)],["math_exp",$(V,V)],["math_expm1",$(V,V)],["math_floor",$(V,V)],["math_fround",$(V,V)],["math_hypot",C(T("T"))],["math_imul",$(V,V,V)],["math_log",$(V,V)],["math_log1p",$(V,V)],["math_log2",$(V,V)],["math_log10",$(V,V)],["math_max",C(T("T"))],["math_min",C(T("T"))],["math_pow",$(V,V,V)],["math_random",$(V)],["math_round",$(V,V)],["math_sign",$(V,V)],["math_sin",$(V,V)],["math_sinh",$(V,V)],["math_sqrt",$(V,V)],["math_tan",$(V,V)],["math_tanh",$(V,V)],["math_trunc",$(V,V)],["parse_int",$(B,V,V)],["prompt",$(B,B)],["get_time",$(V)],["stringify",C($(T("T"),B))],["display",C(T("T"))],["error",C(T("T"))]],G=T("headType"),W=T("tailType"),H=[["pair",C($(G,W,E(G,W)))],["head",C($(E(G,W),G))],["tail",C($(E(G,W),W))],["is_pair",C($(T("T"),P))],["is_null",C($(E(G,W),P))]],j=[["set_head",C($(E(G,W),G,z))],["set_tail",C($(E(G,W),W,z))]],K=[["is_array",C($(T("T"),P))],["array_length",C($(L(T("T")),V))]],q=[["list",C(T("T1"))]],X=[[O,$(V,V)],["!",$(P,P)],["&&",C($(P,T("T"),T("T")))],["||",C($(P,T("T"),T("T")))],["<",C($(A("A"),A("A"),P))],["<=",C($(A("A"),A("A"),P))],[">",C($(A("A"),A("A"),P))],[">=",C($(A("A"),A("A"),P))],["+",C($(A("A"),A("A"),A("A")))],["%",$(V,V,V)],["-",$(V,V,V)],["*",$(V,V,V)],["/",$(V,V,V)]],Y=[["===",C($(A("A"),A("A"),P))],["!==",C($(A("A"),A("A"),P))]],Q=[["===",C($(T("T1"),T("T2"),P))],["!==",C($(T("T1"),T("T2"),P))]],Z=[["is_stream",C($(T("T1"),P))],["list_to_stream",C($(k(T("T1")),T("T2")))],["stream_to_list",C($(T("T1"),k(T("T2"))))],["stream_length",C($(T("T1"),V))],["stream_map",C($(T("T1"),T("T2")))],["build_stream",C($(V,$(V,T("T1")),T("T2")))],["stream_for_each",C($($(T("T1"),T("T2")),P))],["stream_reverse",C($(T("T1"),T("T1")))],["stream_append",C($(T("T1"),T("T1"),T("T1")))],["stream_member",C($(T("T1"),T("T2"),T("T2")))],["stream_remove",C($(T("T1"),T("T2"),T("T2")))],["stream_remove_all",C($(T("T1"),T("T2"),T("T2")))],["stream_filter",C($($(T("T1"),P),T("T2"),T("T2")))],["enum_stream",C($(V,V,T("T1")))],["integers_from",C($(V,T("T1")))],["eval_stream",C($(T("T1"),V,k(T("T2"))))],["stream_ref",C($(T("T1"),V,T("T2")))]];t.createTypeEnvironment=function(e){const t=[...U,...X];return e>=2&&t.push(...H,...q),e>=3?t.push(...Q,...j,...K):t.push(...Y),[{typeMap:new Map(t),declKindMap:new Map(t.map((e=>[e[0],"const"])))}]}},"z1+4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generatePrimitiveFunctionCode=t.CONSTANT_PRIMITIVES=t.EXTERNAL_PRIMITIVES=t.BINARY_PRIMITIVES=t.UNARY_PRIMITIVES=t.NULLARY_PRIMITIVES=t.INTERNAL_FUNCTIONS=t.VARARGS_NUM_ARGS=t.PRIMITIVE_FUNCTION_NAMES=t.vmPrelude=void 0;const r=n("Ib16"),i=n("g0lB");t.vmPrelude="\n// 0\nfunction _accumulate(f, initial, xs) {\n  return is_null(xs) ? initial : f(head(xs), accumulate(f, initial, tail(xs)));\n}\n\n// 1\nfunction _append(xs, ys) {\n  return is_null(xs) ? ys : pair(head(xs), append(tail(xs), ys));\n}\n\n// 2 placeholder\nfunction _array_length(arr) {}\n\n// 3\nfunction _build_list(fun, n) {\n  function build(i, fun, already_built) {\n    return i < 0 ? already_built : build(i - 1, fun, pair(fun(i), already_built));\n  }\n  return build(n - 1, fun, null);\n}\n\n// 4\nfunction _build_stream(n, fun) {\n  function build(i) {\n    return i >= n\n      ? null\n      : pair(fun(i),\n        () => build(i + 1));\n  }\n  return build(0);\n}\n\n// 5 custom\n// replace MODG opcode (25) with display opcode\n// change number of arguments to varargs (-1)\nfunction _display(args) {\n  // display(args[0], args[1]);\n  // compile this instead for easier replacing\n  return args[0] % args[1];\n}\n\n// 6 placeholder\nfunction _draw_data(args) {}\n\n// 7\nfunction _enum_list(start, end) {\n  return start > end ? null : pair(start, enum_list(start + 1, end));\n}\n\n// 8\nfunction _enum_stream(start, end) {\n  return start > end\n    ? null\n    : pair(start,\n      () => enum_stream(start + 1, end));\n}\n\n// 9\nfunction _equal(x, y) {\n  return is_pair(x) && is_pair(y) ? equal(head(x), head(y)) && equal(tail(x), tail(y)) : x === y;\n}\n\n// 10 custom\n// replace MODG opcode (25) with error opcode\n// change number of arguments to varargs (-1)\nfunction _error(args) {\n  // error(args[0], args[1]);\n  // compile this instead for easier replacing\n  return args[0] % args[1];\n}\n\n// 11\nfunction _eval_stream(s, n) {\n  return n === 0\n    ? null\n    : pair(head(s),\n      eval_stream(stream_tail(s),\n        n - 1));\n}\n\n// 12\nfunction _filter(pred, xs) {\n  return is_null(xs)\n    ? xs\n    : pred(head(xs))\n    ? pair(head(xs), filter(pred, tail(xs)))\n    : filter(pred, tail(xs));\n}\n\n// 13\nfunction _for_each(fun, xs) {\n  if (is_null(xs)) {\n    return true;\n  } else {\n    fun(head(xs));\n    return for_each(fun, tail(xs));\n  }\n}\n\n// 14\nfunction _head(xs) {\n  if (!is_pair(xs)) {\n    error('head(xs) expects a pair as argument xs, but encountered ' + stringify(xs));\n  } else {\n    return xs[0];\n  }\n}\n\n// 15\nfunction _integers_from(n) {\n  return pair(n,\n    () => integers_from(n + 1));\n}\n\n// 16 placeholder\nfunction _is_array(x) {}\n\n// 17 placeholder\nfunction _is_boolean(x) {}\n\n// 18 placeholder\nfunction _is_function(x) {}\n\n// 19\nfunction _is_list(xs) {\n  return is_null(xs) || (is_pair(xs) && is_list(tail(xs)));\n}\n\n// 20 placeholder\nfunction _is_null(x) {}\n\n// 21 placeholder\nfunction _is_number(x) {}\n\n// 22\nfunction _is_pair(x) {\n  return is_array(x) && array_length(x) === 2;\n}\n\n// 23\nfunction _is_stream(xs) {\n  return is_null(xs) || (is_pair(xs) && is_stream(stream_tail(xs)));\n}\n\n// 24 placeholder\nfunction _is_string(x) {}\n\n// 25 placeholder\nfunction _is_undefined(x) {}\n\n// 26\nfunction _length(xs) {\n  return is_null(xs) ? 0 : 1 + length(tail(xs));\n}\n\n// 27 custom\n// change number of arguments to varargs (-1)\nfunction _list(args) {\n  let i = array_length(args) - 1;\n  let p = null;\n  while (i >= 0) {\n    p = pair(args[i], p);\n    i = i - 1;\n  }\n  return p;\n}\n\n// 28\nfunction _list_ref(xs, n) {\n  return n === 0 ? head(xs) : list_ref(tail(xs), n - 1);\n}\n\n// 29\nfunction _list_to_stream(xs) {\n  return is_null(xs)\n    ? null\n    : pair(head(xs),\n      () => list_to_stream(tail(xs)));\n}\n\n// 30\nfunction _list_to_string(xs) {\n    return is_null(xs)\n        ? \"null\"\n        : is_pair(xs)\n            ? \"[\" + list_to_string(head(xs)) + \",\" +\n                list_to_string(tail(xs)) + \"]\"\n            : stringify(xs);\n}\n\n// 31\nfunction _map(f, xs) {\n  return is_null(xs) ? null : pair(f(head(xs)), map(f, tail(xs)));\n}\n\n// 32 placeholder\nfunction _math_abs(xs) {}\n\n// 33 placeholder\nfunction _math_acos(xs) {}\n\n// 34 placeholder\nfunction _math_acosh(xs) {}\n\n// 35 placeholder\nfunction _math_asin(xs) {}\n\n// 36 placeholder\nfunction _math_asinh(xs) {}\n\n// 37 placeholder\nfunction _math_atan(xs) {}\n\n// 38 placeholder\nfunction _math_atan2(xs) {}\n\n// 39 placeholder\nfunction _math_atanh(xs) {}\n\n// 40 placeholder\nfunction _math_cbrt(xs) {}\n\n// 41 placeholder\nfunction _math_ceil(xs) {}\n\n// 42 placeholder\nfunction _math_clz32(xs) {}\n\n// 43 placeholder\nfunction _math_cos(xs) {}\n\n// 44 placeholder\nfunction _math_cosh(xs) {}\n\n// 45 placeholder\nfunction _math_exp(xs) {}\n\n// 46 placeholder\nfunction _math_expm1(xs) {}\n\n// 47 placeholder\nfunction _math_floor(xs) {}\n\n// 48 placeholder\nfunction _math_fround(xs) {}\n\n// 49 custom\n// can't think of a way to deal with math_hypot\n// without incurring a lot of redundant function calls\n// so just using the ... operator instead on the machine\n// change number of arguments to varargs (-1)\n// replace NOTG opcode with MATH_HYPOT opcode\nfunction _math_hypot(args) {\n  // compile this instead for easier replacing\n  return !args;\n}\n\n// 50 placeholder\nfunction _math_imul(xs) {}\n\n// 51 placeholder\nfunction _math_log(xs) {}\n\n// 52 placeholder\nfunction _math_log1p(xs) {}\n\n// 53 placeholder\nfunction _math_log2(xs) {}\n\n// 54 placeholder\nfunction _math_log10(xs) {}\n\n// 55 custom\n// replace MODG opcode (25) with math_max opcode\n// change number of arguments to varargs (-1)\nfunction _math_max(args) {\n  let i = array_length(args) - 1;\n  let x = -Infinity;\n  while (i >= 0) {\n    // x = math_max(args[i],x)\n    // compile this instead for easier replacing\n    x = args[i] % x;\n    i = i - 1;\n  }\n  return x;\n}\n\n// 56 custom\n// replace MODG opcode (25) with math_max opcode\n// change number of arguments to varargs (-1)\nfunction _math_min(args) {\n  let i = array_length(args) - 1;\n  let x = Infinity;\n  while (i >= 0) {\n    // x = math_min(args[i],x)\n    // compile this instead for easier replacing\n    x = args[i] % x;\n    i = i - 1;\n  }\n  return x;\n}\n\n// 57 placeholder\nfunction _math_pow(xs) {}\n\n// 58 placeholder\nfunction _math_random(xs) {}\n\n// 59 placeholder\nfunction _math_round(xs) {}\n\n// 60 placeholder\nfunction _math_sign(xs) {}\n\n// 61 placeholder\nfunction _math_sin(xs) {}\n\n// 62 placeholder\nfunction _math_sinh(xs) {}\n\n// 63 placeholder\nfunction _math_sqrt(xs) {}\n\n// 64 placeholder\nfunction _math_tan(xs) {}\n\n// 65 placeholder\nfunction _math_tanh(xs) {}\n\n// 66 placeholder\nfunction _math_trunc(xs) {}\n\n// 67\nfunction _member(v, xs) {\n  return is_null(xs) ? null : v === head(xs) ? xs : member(v, tail(xs));\n}\n\n// 68\nfunction _pair(x, y) {\n  return [x, y];\n}\n\n// 69 placeholder\nfunction _parse_int(x,y) {}\n\n// 70\nfunction _remove(v, xs) {\n  return is_null(xs) ? null : v === head(xs) ? tail(xs) : pair(head(xs), remove(v, tail(xs)));\n}\n\n// 71\nfunction _remove_all(v, xs) {\n  return is_null(xs)\n    ? null\n    : v === head(xs)\n    ? remove_all(v, tail(xs))\n    : pair(head(xs), remove_all(v, tail(xs)));\n}\n\n// 72\nfunction _reverse(xs) {\n  function rev(original, reversed) {\n    return is_null(original) ? reversed : rev(tail(original), pair(head(original), reversed));\n  }\n  return rev(xs, null);\n}\n\n// 73 placeholder\nfunction _get_time(x) {}\n\n// 74\nfunction _set_head(xs,x) {\n  if (!is_pair(xs)) {\n    error('set_head(xs) expects a pair as argument xs, but encountered ' + stringify(xs));\n  } else {\n    xs[0] = x;\n  }\n}\n\n// 75\nfunction _set_tail(xs, x) {\n  if (!is_pair(xs)) {\n    error('set_tail(xs) expects a pair as argument xs, but encountered ' + stringify(xs));\n  } else {\n    xs[1] = x;\n  }\n}\n\n// 76 custom\n// change number of arguments to varargs (-1)\nfunction _stream(args) {\n  let i = array_length(args) - 1;\n  let p = null;\n  while (i >= 0) {\n    p = pair(args[i], p);\n    i = i - 1;\n  }\n  return list_to_stream(p);\n}\n\n// 77\nfunction _stream_append(xs, ys) {\n  return is_null(xs)\n    ? ys\n    : pair(head(xs),\n      () => stream_append(stream_tail(xs), ys));\n}\n\n// 78\nfunction _stream_filter(p, s) {\n  return is_null(s)\n    ? null\n    : p(head(s))\n      ? pair(head(s),\n        () => stream_filter(p, stream_tail(s)))\n      : stream_filter(p, stream_tail(s));\n}\n\n// 79\nfunction _stream_for_each(fun, xs) {\n    if (is_null(xs)) {\n      return true;\n    } else {\n      fun(head(xs));\n      return stream_for_each(fun, stream_tail(xs));\n    }\n}\n\n// 80\nfunction _stream_length(xs) {\n  return is_null(xs)\n    ? 0\n    : 1 + stream_length(stream_tail(xs));\n}\n\n// 81\nfunction _stream_map(f, s) {\n  return is_null(s)\n    ? null\n    : pair(f(head(s)),\n      () => stream_map(f, stream_tail(s)));\n}\n\n// 82\nfunction _stream_member(x, s) {\n  return is_null(s)\n    ? null\n    : head(s) === x\n      ? s\n      : stream_member(x, stream_tail(s));\n}\n\n// 83\nfunction _stream_ref(s, n) {\n  return n === 0\n    ? head(s)\n    : stream_ref(stream_tail(s), n - 1);\n}\n\n// 84\nfunction _stream_remove(v, xs) {\n  return is_null(xs)\n    ? null\n    : v === head(xs)\n      ? stream_tail(xs)\n      : pair(head(xs),\n        () => stream_remove(v, stream_tail(xs)));\n}\n\n// 85\nfunction _stream_remove_all(v, xs) {\n  return is_null(xs)\n    ? null\n    : v === head(xs)\n      ? stream_remove_all(v, stream_tail(xs))\n      : pair(head(xs), () => stream_remove_all(v, stream_tail(xs)));\n}\n\n// 86\nfunction _stream_reverse(xs) {\n  function rev(original, reversed) {\n    return is_null(original)\n      ? reversed\n      : rev(stream_tail(original),\n        pair(head(original), () => reversed));\n  }\n  return rev(xs, null);\n}\n\n// 87\nfunction _stream_tail(xs) {\n  if (!is_pair(xs)) {\n    error('stream_tail(xs) expects a pair as argument xs, but encountered ' + stringify(xs));\n  } else if (!is_function(xs[1])) {\n    error('stream_tail(xs) expects a function as the tail of the argument pair xs, ' +\n      'but encountered ' + stringify(xs[1]));\n  } else {\n    return xs[1]();\n  }\n}\n\n// 88\nfunction _stream_to_list(xs) {\n  return is_null(xs)\n    ? null\n    : pair(head(xs), stream_to_list(stream_tail(xs)));\n}\n\n// 89\nfunction _tail(xs) {\n  if (!is_pair(xs)) {\n    error('tail(xs) expects a pair as argument xs, but encountered ' + stringify(xs));\n  } else {\n    return xs[1];\n  }\n}\n\n// 90 placeholder\nfunction _stringify(x) {}\n\n// 91 custom\n// change number of args to varargs\n// replace NOTG opcode with PROMPT opcode\nfunction _prompt(args) {\n  if (array_length(args) === 0) {\n    const p = '';\n    return !p;\n  } else {\n    return !args[0];\n  }\n}\n\n// hack to make the call to Program easier, just replace the index 92 (number of primitive functions + 2)\n(() => 0)();\n",t.PRIMITIVE_FUNCTION_NAMES=["accumulate","append","array_length","build_list","build_stream","display","draw_data","enum_list","enum_stream","equal","error","eval_stream","filter","for_each","head","integers_from","is_array","is_boolean","is_function","is_list","is_null","is_number","is_pair","is_stream","is_string","is_undefined","length","list","list_ref","list_to_stream","list_to_string","map","math_abs","math_acos","math_acosh","math_asin","math_asinh","math_atan","math_atan2","math_atanh","math_cbrt","math_ceil","math_clz32","math_cos","math_cosh","math_exp","math_expm1","math_floor","math_fround","math_hypot","math_imul","math_log","math_log1p","math_log2","math_log10","math_max","math_min","math_pow","math_random","math_round","math_sign","math_sin","math_sinh","math_sqrt","math_tan","math_tanh","math_trunc","member","pair","parse_int","remove","remove_all","reverse","get_time","set_head","set_tail","stream","stream_append","stream_filter","stream_for_each","stream_length","stream_map","stream_member","stream_ref","stream_remove","stream_remove_all","stream_reverse","stream_tail","stream_to_list","tail","stringify","prompt"],t.VARARGS_NUM_ARGS=-1,t.INTERNAL_FUNCTIONS=[["test_and_set",r.default.TEST_AND_SET,1,!0],["clear",r.default.CLEAR,1,!1],["concurrent_execute",r.default.EXECUTE,t.VARARGS_NUM_ARGS,!1]];const s=[["display",r.default.MODG,r.default.DISPLAY],["error",r.default.MODG,r.default.ERROR],["math_max",r.default.MODG,r.default.MATH_MAX],["math_min",r.default.MODG,r.default.MATH_MIN],["math_hypot",r.default.NOTG,r.default.MATH_HYPOT],["list"],["draw_data"],["stream"],["prompt",r.default.NOTG,r.default.PROMPT]];t.NULLARY_PRIMITIVES=[["math_random",r.default.MATH_RANDOM,Math.random],["get_time",r.default.RUNTIME,i.get_time]],t.UNARY_PRIMITIVES=[["array_length",r.default.ARRAY_LEN],["is_array",r.default.IS_ARRAY],["is_boolean",r.default.IS_BOOL],["is_function",r.default.IS_FUNC],["is_null",r.default.IS_NULL],["is_number",r.default.IS_NUMBER],["is_string",r.default.IS_STRING],["is_undefined",r.default.IS_UNDEFINED],["math_abs",r.default.MATH_ABS,Math.abs],["math_acos",r.default.MATH_ACOS,Math.acos],["math_acosh",r.default.MATH_ACOSH,Math.acosh],["math_asin",r.default.MATH_ASIN,Math.asin],["math_asinh",r.default.MATH_ASINH,Math.asinh],["math_atan",r.default.MATH_ATAN,Math.atan],["math_atanh",r.default.MATH_ATANH,Math.atanh],["math_cbrt",r.default.MATH_CBRT,Math.cbrt],["math_ceil",r.default.MATH_CEIL,Math.ceil],["math_clz32",r.default.MATH_CLZ32,Math.clz32],["math_cos",r.default.MATH_COS,Math.cos],["math_cosh",r.default.MATH_COSH,Math.cosh],["math_exp",r.default.MATH_EXP,Math.exp],["math_expm1",r.default.MATH_EXPM1,Math.expm1],["math_floor",r.default.MATH_FLOOR,Math.floor],["math_fround",r.default.MATH_FROUND,Math.fround],["math_log",r.default.MATH_LOG,Math.log],["math_log1p",r.default.MATH_LOG1P,Math.log1p],["math_log2",r.default.MATH_LOG2,Math.log2],["math_log10",r.default.MATH_LOG10,Math.log10],["math_round",r.default.MATH_ROUND,Math.round],["math_sign",r.default.MATH_SIGN,Math.sign],["math_sin",r.default.MATH_SIN,Math.sin],["math_sinh",r.default.MATH_SINH,Math.sinh],["math_sqrt",r.default.MATH_SQRT,Math.sqrt],["math_tan",r.default.MATH_TAN,Math.tan],["math_tanh",r.default.MATH_TANH,Math.tanh],["math_trunc",r.default.MATH_TRUNC,Math.trunc],["stringify",r.default.STRINGIFY]],t.BINARY_PRIMITIVES=[["math_atan2",r.default.MATH_ATAN2,Math.atan2],["math_imul",r.default.MATH_IMUL,Math.imul],["math_pow",r.default.MATH_POW,Math.pow],["parse_int",r.default.PARSE_INT,i.parse_int]],t.EXTERNAL_PRIMITIVES=[["display",r.default.DISPLAY],["error",r.default.ERROR],["prompt",r.default.PROMPT]],t.CONSTANT_PRIMITIVES=[["undefined",void 0],["Infinity",1/0],["NaN",NaN],["math_E",Math.E],["math_LN2",Math.LN2],["math_LN10",Math.LN10],["math_LOG2E",Math.LOG2E],["math_LOG10E",Math.LOG10E],["math_PI",Math.PI],["math_SQRT1_2",Math.SQRT1_2],["math_SQRT2",Math.SQRT2]],t.generatePrimitiveFunctionCode=function(e){const n=e[1],i=[],o=new Map;t.PRIMITIVE_FUNCTION_NAMES.forEach(((e,t)=>{o.set(e,t)})),t.NULLARY_PRIMITIVES.forEach((e=>i.push([o.get(e[0]),[1,0,0,[[e[1]],[r.default.RETG]]]]))),t.UNARY_PRIMITIVES.forEach((e=>i.push([o.get(e[0]),[1,1,1,[[r.default.LDLG,0],[e[1]],[r.default.RETG]]]]))),t.BINARY_PRIMITIVES.forEach((e=>i.push([o.get(e[0]),[2,2,2,[[r.default.LDLG,0],[r.default.LDLG,1],[e[1]],[r.default.RETG]]]]))),i.forEach((e=>{n[e[0]+1]=e[1]})),s.forEach((e=>{const r=o.get(e[0]),i=e[1],s=e[2];n[r+1][2]=t.VARARGS_NUM_ARGS,void 0!==i&&void 0!==s&&n[r+1][3].forEach((e=>{e[0]===i&&(e[0]=s)}))}))}},zABw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoVarError=void 0;const r=n("j0Aj"),i=n("QyX9");class s{constructor(e){this.node=e,this.type=i.ErrorType.SYNTAX,this.severity=i.ErrorSeverity.ERROR}get location(){return this.node.loc}explain(){return'Variable declaration using "var" is not allowed.'}elaborate(){return`Use keyword "let" instead, to declare a variable:\n\n\tlet ${this.node.declarations[0].id.name} = ${r.generate(this.node.declarations[0].init)};`}}t.NoVarError=s;t.default={name:"no-var",checkers:{VariableDeclaration:e=>"var"===e.kind?[new s(e)]:[]}}},zZ3m:function(e,t){"use strict";function n(e,t){return"string"==typeof e?e:t.reduce(((t,n,r)=>t+n+e[r+1]),e[0])}Object.defineProperty(t,"__esModule",{value:!0}),t.simplify=t.stripIndent=t.oneLine=void 0,t.oneLine=function(e,...t){return n(e,t).replace(/(?:\n(?:\s*))+/g," ").trim()},t.stripIndent=function(e,...t){const r=n(e,t),i=r.match(/^[^\S\n]*(?=\S)/gm),s=i&&Math.min(...i.map((e=>e.length)));return s?r.replace(new RegExp(`^.{${s}}`,"gm"),"").trim():r.trim()},t.simplify=function(e,t=15,n="..."){if(e.length<t)return e;const r=Math.ceil(t-n.length/2);return e.slice(0,r)+" ... "+e.slice(r)}},zkTx:function(e,t,n){"use strict";(function(e){function r(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=s.prototype:(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return o(this,e,t,n)}function o(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);s.TYPED_ARRAY_SUPPORT?(e=t).__proto__=s.prototype:e=u(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n);e=i(e,r);var o=e.write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(s.isBuffer(t)){var n=0|c(t.length);return 0===(e=i(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?i(e,0):u(e,t);if("Buffer"===t.type&&z(t.data))return u(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(a(t),e=i(e,t<0?0:0|c(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function u(e,t){var n=t.length<0?0:0|c(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function c(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(r)return D(e).length;t=(""+t).toLowerCase(),r=!0}}function p(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return w(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function d(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function f(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){function s(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var o,a=1,l=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,l/=2,u/=2,n/=2}if(i){var c=-1;for(o=n;o<l;o++)if(s(e,o)===s(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>l&&(n=l-u),o=n;o>=0;o--){for(var h=!0,p=0;p<u;p++)if(s(e,o+p)!==s(t,p)){h=!1;break}if(h)return o}return-1}function m(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[n+o]=a}return o}function y(e,t,n,r){return P(D(t,e.length-n),e,n,r)}function v(e,t,n,r){return P(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return v(e,t,n,r)}function b(e,t,n,r){return P(F(t),e,n,r)}function _(e,t,n,r){return P(function(e,t){for(var n,r,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i.push(n%256),i.push(r);return i}(t,e.length-n),e,n,r)}function w(e,t,n){return V.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var s,o,a,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(s=e[i+1]))&&(l=(31&u)<<6|63&s)>127&&(c=l);break;case 3:o=e[i+2],128==(192&(s=e[i+1]))&&128==(192&o)&&(l=(15&u)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+2],a=e[i+3],128==(192&(s=e[i+1]))&&128==(192&o)&&128==(192&a)&&(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(r.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=U)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=U));return n}(r)}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function E(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=t;s<n;++s)i+=O(e[s]);return i}function k(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function C(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function $(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-n,2);i<s;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-n,4);i<s;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function I(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,i){return i||I(e,0,n,4),B.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,i){return i||I(e,0,n,8),B.write(e,t,n,r,52,8),n+8}function O(e){return e<16?"0"+e.toString(16):e.toString(16)}function D(e,t){var n;t=t||1/0;for(var r=e.length,i=null,s=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function F(e){return V.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function P(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}var V=n("KlUR"),B=n("FaXh"),z=n("kah5");t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return o(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,n){return function(e,t,n,r){return a(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}(null,e,t,n)},s.allocUnsafe=function(e){return l(null,e)},s.allocUnsafeSlow=function(e){return l(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):p.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,i){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),l=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),h=0;h<l;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return f(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return f(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return b(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var U=4096;s.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=s.prototype;else{var i=t-e;n=new s(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},s.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r},s.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=t,i=1,s=this[e+--r];r>0&&(i*=256);)s+=this[e+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},s.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),B.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),B.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),B.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),B.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):$(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):$(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<n&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):$(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):$(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=s.isBuffer(e)?e:D(new s(e,r).toString()),l=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%l]}return this};var G=/[^+\/0-9A-Za-z-_]/g}).call(this,n("pCvA"))}});
//# sourceMappingURL=bundle.27c9e.esm.js.map