!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="Pq/i")}({"+dHa":function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function*u(e,n){if(e instanceof O){if(e.isMemoized)return e.value;t.pushEnvironment(n,e.env);var r=yield*l(e.exp,n);return B(n),e.value=r,e.isMemoized=!0,r}return e}function*l(e,t){var n=yield*y(e,t);return yield*u(n,t)}function c(e,t,n){var r=$(e);if(r.head.hasOwnProperty(t)){var i=Object.getOwnPropertyDescriptors(r.head);return P(e,new x.VariableRedeclaration(n,t,i[t].writable))}return r.head[t]=F,r}function h(e,t){var n,r=i(t.declarations);try{for(r.s();!(n=r.n()).done;){c(e,n.value.id.name,t)}}catch(e){r.e(e)}finally{r.f()}}function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.runtime.environments[0];return i.head[t]!==F?P(e,new x.VariableRedeclaration(e.runtime.nodes[0],t,!r)):(Object.defineProperty(i.head,t,{value:n,writable:!r,enumerable:!0}),i)}function*f(e,t){var n,o=[],s=i(t.arguments);try{for(s.s();!(n=s.n()).done;){var a=n.value;"lazy"===e.variant?o.push(N(a,$(e))):"SpreadElement"===a.type?o.push.apply(o,r(yield*l(a.argument,e))):o.push(yield*l(a,e))}}catch(e){s.e(e)}finally{s.f()}return o}function d(e){return"&&"===e.operator?S.conditionalExpression(e.left,e.right,S.literal(!1),e.loc):S.conditionalExpression(e.left,S.literal(!0),e.right,e.loc)}function*m(e,t){var n=yield*l(e.test,t),r=T.checkIfStatement(e,n,t.chapter);return r?P(t,r):n?e.consequent:e.alternate}function*g(e,t){var n;!function(e,t){var n,r=i(t.body);try{for(r.s();!(n=r.n()).done;){var o=n.value;switch(o.type){case"VariableDeclaration":h(e,o);break;case"FunctionDeclaration":c(e,o.id.name,o)}}}catch(e){r.e(e)}finally{r.f()}}(e,t);var r,o=i(t.body);try{for(o.s();!(r=o.n()).done;){var s=r.value;if((n=yield*y(s,e))instanceof R||n instanceof M||n instanceof L||n instanceof I)break}}catch(e){o.e(e)}finally{o.f()}return n}function*y(e,n){yield*function*(e,t){_.checkEditorBreakpoints(e,t),e.runtime.nodes.unshift(t),yield e}(n,e);var r=yield*t.evaluators[e.type](e,n);return yield*function*(e){e.runtime.break=!1,e.runtime.nodes.shift(),yield e}(n),r}function*v(e,n,r,o,s){for(var a,l=0;!(a instanceof R);)if(n instanceof A.default){z(e,n,r,o);var c=D(n,r,o);a instanceof M?V(e,c):(t.pushEnvironment(e,c),l++);var h=t.createBlockEnvironment(e,"functionBodyEnvironment");h.thisContext=s,t.pushEnvironment(e,h),a=yield*g(e,n.node.body),B(e),a instanceof M?(n=a.callee,o=a.node,r=a.args):a instanceof R||(a=new R(void 0))}else if(n instanceof E.LazyBuiltIn)try{var p=r;if(n.evaluateArgs){p=[];var f,d=i(r);try{for(d.s();!(f=d.n()).done;){var m=f.value;p.push(yield*u(m,e))}}catch(e){d.e(e)}finally{d.f()}}a=n.func.apply(s,p);break}catch(t){if(e.runtime.environments=e.runtime.environments.slice(-e.numberOfOuterEnvironments),!(t instanceof w.RuntimeSourceError||t instanceof x.ExceptionError))return P(e,new x.ExceptionError(t,o?o.loc:b.UNKNOWN_LOCATION));throw a=void 0,t}else{if("function"!=typeof n)return P(e,new x.CallingNonFunctionValue(n,o));z(e,n,r,o);try{var y,v=[],_=i(r);try{for(_.s();!(y=_.n()).done;){var S=y.value;v.push(yield*u(S,e))}}catch(e){_.e(e)}finally{_.f()}a=n.apply(s,v);break}catch(t){if(e.runtime.environments=e.runtime.environments.slice(-e.numberOfOuterEnvironments),!(t instanceof w.RuntimeSourceError||t instanceof x.ExceptionError))return P(e,new x.ExceptionError(t,o?o.loc:b.UNKNOWN_LOCATION));throw a=void 0,t}}a instanceof R&&(a=a.value);for(var k=1;k<=l;k++)B(e);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.apply=t.evaluate=t.evaluators=t.pushEnvironment=t.createBlockEnvironment=t.actualValue=void 0;var b=n("Otp2"),x=n("JFiO"),w=n("5AhW"),_=n("A6L2"),S=n("my7b"),k=n("B4Ta"),T=n("SG+n"),A=n("TK+R"),E=n("D9C7"),C=n("A0Sc"),L=function(){},I=function(){},R=function(e){this.value=e},M=function(e,t,n){this.callee=e,this.args=t,this.node=n},O=function(e,t){this.exp=e,this.env=t,this.isMemoized=!1,this.value=null},N=function(e,t){return new O(e,t)};t.actualValue=l;var D=function(e,t,n){var r={name:e.functionName,tail:e.environment,head:{}};return n&&(r.callExpression=a(a({},n),{arguments:t.map(S.primitive)})),e.node.params.forEach((function(e,n){"RestElement"===e.type?r.head[e.argument.name]=t.slice(n):r.head[e.name]=t[n]})),r};t.createBlockEnvironment=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{name:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blockEnvironment",tail:$(e),head:t}};var P=function(e,t){throw e.errors.push(t),e.runtime.environments=e.runtime.environments.slice(-e.numberOfOuterEnvironments),t},F=Symbol("Used to implement hoisting"),$=function(e){return e.runtime.environments[0]},V=function(e,t){e.runtime.environments[0]=t,e.runtime.environmentTree.insert(t)},B=function(e){return e.runtime.environments.shift()};t.pushEnvironment=function(e,t){e.runtime.environments.unshift(t),e.runtime.environmentTree.insert(t)};var z=function(e,t,n,r){var i;if(t instanceof A.default){var o=t.node.params,s="RestElement"===(null===(i=o[o.length-1])||void 0===i?void 0:i.type);if(s?o.length-1>n.length:o.length!==n.length)return P(e,new x.InvalidNumberOfArguments(r,s?o.length-1:o.length,n.length,s))}else{var a=null!=t.minArgsNeeded;if(a?t.minArgsNeeded>n.length:t.length!==n.length)return P(e,new x.InvalidNumberOfArguments(r,a?t.minArgsNeeded:t.length,n.length,a))}};t.evaluators={Literal:function*(e){return e.value},TemplateLiteral:function*(e){return e.quasis[0].value.cooked},ThisExpression:function*(e,t){return t.runtime.environments[0].thisContext},ArrayExpression:function*(e,t){var n,r=[],o=i(e.elements);try{for(o.s();!(n=o.n()).done;){var s=n.value;r.push(yield*y(s,t))}}catch(e){o.e(e)}finally{o.f()}return r},DebuggerStatement:function*(e,t){t.runtime.break=!0,yield},FunctionExpression:function*(e,t){return new A.default(e,$(t),t)},ArrowFunctionExpression:function*(e,t){return A.default.makeFromArrowFunction(e,$(t),t)},Identifier:function*(e,t){return function(e,t){for(var n=e.runtime.environments[0];n;){if(n.head.hasOwnProperty(t))return n.head[t]===F?P(e,new x.UnassignedVariable(t,e.runtime.nodes[0])):n.head[t];n=n.tail}return P(e,new x.UndefinedVariable(t,e.runtime.nodes[0]))}(t,e.name)},CallExpression:function*(e,t){var n,r=yield*l(e.callee,t),i=yield*f(t,e);return"MemberExpression"===e.callee.type&&(n=yield*l(e.callee.object,t)),yield*v(t,r,i,e,n)},NewExpression:function*(e,t){var n,r=yield*y(e.callee,t),o=[],s=i(e.arguments);try{for(s.s();!(n=s.n()).done;){var a=n.value;o.push(yield*y(a,t))}}catch(e){s.e(e)}finally{s.f()}var u={};return r instanceof A.default?(u.__proto__=r.fun.prototype,r.fun.apply(u,o)):(u.__proto__=r.prototype,r.apply(u,o)),u},UnaryExpression:function*(e,t){var n=yield*l(e.argument,t),r=T.checkUnaryExpression(e,e.operator,n,t.chapter);return r?P(t,r):k.evaluateUnaryExpression(e.operator,n)},BinaryExpression:function*(e,t){var n=yield*l(e.left,t),r=yield*l(e.right,t),i=T.checkBinaryExpression(e,e.operator,t.chapter,n,r);return i?P(t,i):k.evaluateBinaryExpression(e.operator,n,r)},ConditionalExpression:function*(e,t){return yield*this.IfStatement(e,t)},LogicalExpression:function*(e,t){return yield*this.ConditionalExpression(d(e),t)},VariableDeclaration:function*(e,t){var n=e.declarations[0],r="const"===e.kind,i=n.id,o=yield*y(n.init,t);p(t,i.name,o,r)},ContinueStatement:function*(){return new I},BreakStatement:function*(){return new L},ForStatement:function*(e,n){var r=t.createBlockEnvironment(n,"forLoopEnvironment");t.pushEnvironment(n,r);var i,o=e.init,s=e.test,a=e.update;for("VariableDeclaration"===o.type&&h(n,o),yield*l(o,n);yield*l(s,n);){var u=t.createBlockEnvironment(n,"forBlockEnvironment");for(var f in t.pushEnvironment(n,u),r.head)r.head.hasOwnProperty(f)&&(c(n,f,e),p(n,f,r.head[f],!0));if(i=yield*l(e.body,n),B(n),i instanceof I&&(i=void 0),i instanceof L){i=void 0;break}if(i instanceof R||i instanceof M)break;yield*l(a,n)}return B(n),i},MemberExpression:function*(e,t){var n,r=yield*l(e.object,t);r instanceof A.default&&(r=r.fun),n=e.computed?yield*l(e.property,t):e.property.name;var i=T.checkMemberAccess(e,r,n);if(i)return P(t,i);if(null!=r&&void 0!==r[n]&&!r.hasOwnProperty(n))return P(t,new x.GetInheritedPropertyError(e,r,n));try{return r[n]}catch(i){return P(t,new x.GetPropertyError(e,r,n))}},AssignmentExpression:function*(e,t){if("MemberExpression"===e.left.type){var n,r=e.left,i=yield*l(r.object,t);n=r.computed?yield*l(r.property,t):r.property.name;var o=T.checkMemberAccess(e,i,n);if(o)return P(t,o);var s=yield*y(e.right,t);try{i[n]=s}catch(r){return P(t,new x.SetPropertyError(e,i,n))}return s}var a=e.left,u=yield*y(e.right,t);return function(e,t,n){for(var r=e.runtime.environments[0];r;){if(r.head.hasOwnProperty(t)){if(r.head[t]===F)break;return Object.getOwnPropertyDescriptors(r.head)[t].writable?void(r.head[t]=n):P(e,new x.ConstAssignment(e.runtime.nodes[0],t))}r=r.tail}P(e,new x.UndefinedVariable(t,e.runtime.nodes[0]))}(t,a.name,u),u},FunctionDeclaration:function*(e,t){var n=e.id,r=new A.default(e,$(t),t);p(t,n.name,r,!0)},IfStatement:function*(e,t){var n=yield*m(e,t);if(null!==n)return yield*y(n,t)},ExpressionStatement:function*(e,t){return yield*y(e.expression,t)},ReturnStatement:function*(e,t){for(var n=e.argument;"LogicalExpression"===n.type||"ConditionalExpression"===n.type;)"LogicalExpression"===n.type&&(n=d(n)),n=yield*m(n,t);if("CallExpression"===n.type&&"lazy"!==t.variant){var r=yield*l(n.callee,t),i=yield*f(t,n);return new M(r,i,n)}return new R(yield*y(n,t))},WhileStatement:function*(e,t){for(var n;(yield*l(e.test,t))&&!(n instanceof R)&&!(n instanceof L)&&!(n instanceof M);)n=yield*l(e.body,t);if(!(n instanceof L))return n},ObjectExpression:function*(e,t){var n,r={},o=i(e.properties);try{for(o.s();!(n=o.n()).done;){var s=n.value;r["Identifier"===s.key.type?s.key.name:yield*y(s.key,t)]=yield*y(s.value,t)}}catch(e){o.e(e)}finally{o.f()}return r},BlockStatement:function*(e,n){var r=t.createBlockEnvironment(n,"blockEnvironment");t.pushEnvironment(n,r);var i=yield*g(n,e);return B(n),i},ImportDeclaration:function*(e,t){var n=e.source.value,r=e.specifiers.map((function(e){if("ImportSpecifier"!==e.type)throw new Error("I expected only ImportSpecifiers to be allowed, but encountered ".concat(e.type,"."));return{imported:e.imported.name,local:e.local.name}})),o=C.loadModuleBundle(n,t,e);!function(e,t){var n,r=i(t.specifiers);try{for(r.s();!(n=r.n()).done;)c(e,n.value.local.name,t)}catch(e){r.e(e)}finally{r.f()}}(t,e);var s,a=i(r);try{for(a.s();!(s=a.n()).done;){var u=s.value;p(t,u.local,o[u.imported],!0)}}catch(e){a.e(e)}finally{a.f()}},Program:function*(e,n){n.numberOfOuterEnvironments+=1;var r=t.createBlockEnvironment(n,"programEnvironment");return t.pushEnvironment(n,r),yield*u(yield*g(n,e),n)}},t.evaluate=y,t.apply=v},"+t3Y":function(e,t,n){"use strict";function r(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);a.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){s(e,t,n)})):s(this,null,null)}function s(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=i;var a=n("A/eZ"),u=Object.create(n("nrnY"));u.inherits=n("wfEq"),u.inherits(i,a),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},i.prototype._transform=function(){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},i.prototype._destroy=function(e,t){var n=this;a.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},0:function(){},"0ZcR":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.libraryParserLanguage=void 0,t.libraryParserLanguage=100,t.default={Program:1,BlockStatement:1,ExpressionStatement:1,IfStatement:1,ReturnStatement:1,FunctionDeclaration:1,VariableDeclaration:1,VariableDeclarator:1,ArrowFunctionExpression:1,UnaryExpression:1,BinaryExpression:1,LogicalExpression:1,ConditionalExpression:1,CallExpression:1,Identifier:1,Literal:1,TemplateLiteral:1,TemplateElement:1,DebuggerStatement:1,ImportDeclaration:1,ImportSpecifier:1,BreakStatement:3,ContinueStatement:3,WhileStatement:3,ForStatement:3,MemberPattern:3,ArrayExpression:3,AssignmentExpression:3,MemberExpression:3,Property:3,SpreadElement:3,RestElement:3,ObjectExpression:t.libraryParserLanguage,NewExpression:t.libraryParserLanguage,TryStatement:t.libraryParserLanguage,CatchClause:t.libraryParserLanguage,ThrowStatement:t.libraryParserLanguage,ThisExpression:t.libraryParserLanguage,Super:t.libraryParserLanguage,ClassDeclaration:t.libraryParserLanguage,ClassExpression:t.libraryParserLanguage,Class:t.libraryParserLanguage,ClassBody:t.libraryParserLanguage,MethodDefinition:t.libraryParserLanguage,FunctionExpression:t.libraryParserLanguage,UpdateExpression:1/0,Statement:1/0,EmptyStatement:1/0,ParenthesizedExpression:1/0,LabeledStatement:1/0,WithStatement:1/0,SwitchStatement:1/0,SwitchCase:1/0,YieldExpression:1/0,AwaitExpression:1/0,DoWhileStatement:1/0,ForInStatement:1/0,ForOfStatement:1/0,ForInit:1/0,Function:1/0,Pattern:1/0,VariablePattern:1/0,ArrayPattern:1/0,ObjectPattern:1/0,Expression:1/0,MetaProperty:1/0,SequenceExpression:1/0,AssignmentPattern:1/0,ExportNamedDeclaration:1/0,ExportDefaultDeclaration:1/0,ExportAllDeclaration:1/0,ImportDefaultSpecifier:1/0,ImportNamespaceSpecifier:1/0,TaggedTemplateExpression:1/0}},"0clT":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nonDetPrelude=void 0,t.nonDetPrelude='\n    function require(predicate) {\n        return predicate ? "Satisfied require" : amb();\n    }\n\n    function an_element_of(items) {\n        require(!is_null(items));\n        return amb(head(items), an_element_of(tail(items)));\n    }\n\n    function an_integer_between(low, high) {\n        return low > high ? amb() : amb(low, an_integer_between(low + 1, high));\n    }\n\n    /* Material Conditional */\n    /* if P, then Q */\n    /* P --\x3e Q */\n    function implication(P, Q) {\n        return !P || Q;\n    }\n\n    /* Material Biconditional */\n    /* (if P, then Q) AND (if Q, then P) */\n    /* P <--\x3e Q */\n    function bi_implication(P, Q) {\n        return implication(P, Q) && implication(Q, P);\n    }\n'},1:function(){},"1hwd":function(e){e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)t.call(r,i)&&(e[i]=r[i])}return e};var t=Object.prototype.hasOwnProperty},"255Z":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return[e,t]}function c(e){return function(e){return void 0===Array.isArray?e instanceof Array:Array.isArray(e)}(e)&&2===e.length}function h(e){if(c(e))return e[0];throw new Error("head(xs) expects a pair as argument xs, but encountered "+y.stringify(e))}function p(e){if(c(e))return e[1];throw new Error("tail(xs) expects a pair as argument xs, but encountered "+y.stringify(e))}function f(e){return null===e}function d(){for(var e=null,t=arguments.length-1;t>=0;t-=1)e=l(t<0||arguments.length<=t?void 0:arguments[t],e);return e}function m(e,t){if(!c(e))throw new Error("set_head(xs,x) expects a pair as argument xs, but encountered "+y.stringify(e));e[0]=t}function g(e,t){if(!c(e))throw new Error("set_tail(xs,x) expects a pair as argument xs, but encountered "+y.stringify(e));e[1]=t}Object.defineProperty(t,"__esModule",{value:!0}),t.rawDisplayList=t.set_tail=t.set_head=t.vector_to_list=t.list_to_vector=t.list=t.is_null=t.tail=t.head=t.is_pair=t.pair=void 0;var y=n("GFFv");t.pair=l,t.is_pair=c,t.head=h,t.tail=p,t.is_null=f,t.list=d,t.list_to_vector=function(e){for(var t=[];!f(e);)t.push(h(e)),e=p(e);return t},t.vector_to_list=function(e){return d.apply(void 0,s(e))},t.set_head=m,t.set_tail=g,t.rawDisplayList=function(e,t,n){function r(e){return s.get(e)||e}var o=new Set,s=new Map,u=function(){function e(e){this.replPrefix="list(",this.replSuffix=")",this.listNode=e}var t,n,r;return t=e,n=[{key:"replArrayContents",value:function(){for(var e=[],t=this.listNode;null!==t;)e.push(h(t)),t=p(t);return e}}],n&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),d=[],y=0;for(d.push(t);y<d.length;){var v=d[y];y++,o.has(v)||(o.add(v),c(v)&&d.push(h(v),p(v)))}for(;d.length>0;){var b=d.pop();if(c(b)){var x=h(b),w=p(b),_=r(w),S=f(_)||_ instanceof u?new u(l(x,w)):l(x,w);s.set(b,S)}}var k,T=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}(s.values());try{for(T.s();!(k=T.n()).done;){var A=k.value;if(c(A))m(A,r(h(A))),g(A,r(p(A)));else if(A instanceof u){m(A.listNode,r(h(A.listNode)));var E=r(p(A.listNode));E instanceof u&&(E=E.listNode),g(A.listNode,E)}}}catch(e){T.e(e)}finally{T.f()}return e(r(t),n),t}},"36Vq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("NAQH"),i=n("g4mi"),o=n("X7hy"),s=n("tV8f"),a=n("sqee"),u=n("cZXM"),l=n("60T1"),c=n("ud1U"),h=n("u+Ul"),p=n("kMiM"),f=n("mbKv"),d=n("aRQd"),m=n("IHZQ"),g=n("lXuL"),y=n("Lqhk"),v=n("zABw"),b=n("ig9r"),x=n("3Het"),w=n("7p7F");t.default=[r.default,i.default,o.default,s.default,a.default,u.default,h.default,p.default,f.default,d.default,m.default,g.default,y.default,v.default,b.default,l.default,c.default,x.default,w.default]},"3Het":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NoTemplateExpressionError=void 0;var s=n("QyX9"),a=function(){function e(e){this.node=e,this.type=s.ErrorType.SYNTAX,this.severity=s.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"Expressions are not allowed in template literals (`multiline strings`)"}},{key:"elaborate",value:function(){return this.explain()}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.NoTemplateExpressionError=a,t.default={name:"no-template-expression",checkers:{TemplateLiteral:function(e){return e.expressions.length>0?[new a(e)]:[]}}}},"3SHh":function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){void 0===l&&(l=new TextEncoder);var n=l.encode(t);e.align(4),e.putU(16,1),e.putU(32,n.byteLength+1),e.putA(n),e.putU(8,0)}Object.defineProperty(t,"__esModule",{value:!0}),t.assemble=void 0;var l,c=n("a4Df"),h=n("Ib16"),p=1342549165,f=0,d=0;t.assemble=function(e){var t,n=o(e,2),s=n[0],a=n[1].map((function(e){return function(e){var t=o(e,4),n=t[0],r=t[1],s=t[2],a=t[3],u=[],l=new c.default;l.putU(8,n),l.putU(8,r),l.putU(8,s),l.putU(8,0);var p,f=a.map((function(e){return h.getInstructionSize(e[0])})).reduce((function(e,t){return e.push(e[e.length-1]+t),e}),[0]),d=i(a.map((function(e,t){return[e,t]})));try{for(d.s();!(p=d.n()).done;){var m=o(p.value,2),g=m[0],y=m[1];if(g[0]<0||g[0]>h.OPCODE_MAX)throw new Error("Invalid opcode ".concat(g[0].toString()));var v=g[0];switch(l.putU(8,v),v){case h.default.LDCI:case h.default.LGCI:if(!Number.isInteger(g[1]))throw new Error("Non-integral operand to LDCI/LDGI: ".concat(g[1]," (this is a compiler bug)"));l.putI(32,g[1]);break;case h.default.LDCF32:case h.default.LGCF32:l.putF(32,g[1]);break;case h.default.LDCF64:case h.default.LGCF64:l.putF(64,g[1]);break;case h.default.LGCS:u.push({offset:l.cursor,referent:["string",g[1]]}),l.putU(32,0);break;case h.default.NEWC:u.push({offset:l.cursor,referent:["function",g[1][0]]}),l.putU(32,0);break;case h.default.LDLG:case h.default.LDLF:case h.default.LDLB:case h.default.STLG:case h.default.STLF:case h.default.STLB:case h.default.CALL:case h.default.CALLT:case h.default.NEWENV:case h.default.NEWCP:case h.default.NEWCV:l.putU(8,g[1]);break;case h.default.LDPG:case h.default.LDPF:case h.default.LDPB:case h.default.STPG:case h.default.STPF:case h.default.STPB:case h.default.CALLP:case h.default.CALLTP:case h.default.CALLV:case h.default.CALLTV:l.putU(8,g[1]),l.putU(8,g[2]);break;case h.default.BRF:case h.default.BRT:case h.default.BR:l.putI(32,f[y+g[1]]-f[y+1]);break;case h.default.JMP:throw new Error("JMP assembling not implemented")}}}catch(e){d.e(e)}finally{d.f()}var b=l.asArray();if(b.byteLength-4!==f[f.length-1])throw new Error("Assembler bug: calculated function length ".concat(f[f.length-1]," is different from actual length ").concat(b.byteLength-4));return{binary:l.asArray(),holes:u,finalOffset:null}}(e)})),l=r(new Set((t=[]).concat.apply(t,r(a.map((function(e){return e.holes.filter((function(e){return"string"===e.referent[0]})).map((function(e){return e.referent[1]}))})))))),m=new c.default;m.cursor=16;var g,y=new Map,v=i(l);try{for(v.s();!(g=v.n()).done;){var b=g.value;m.align(4),y.set(b,m.cursor),u(m,b)}}catch(e){v.e(e)}finally{v.f()}var x,w=m.cursor,_=i(a);try{for(_.s();!(x=_.n()).done;){var S=x.value;m.align(4),S.finalOffset=m.cursor,m.cursor+=S.binary.byteLength}}catch(e){_.e(e)}finally{_.f()}var k,T=i(a);try{for(T.s();!(k=T.n()).done;){var A,E=k.value,C=new DataView(E.binary.buffer),L=i(E.holes);try{for(L.s();!(A=L.n()).done;){var I=A.value,R=void 0;if(!(R="string"===I.referent[0]?y.get(I.referent[1]):a[I.referent[1]].finalOffset))throw new Error("Assembler bug: missing string/function: ".concat(JSON.stringify(I)));C.setUint32(I.offset,R,!0)}}catch(e){L.e(e)}finally{L.f()}}}catch(e){T.e(e)}finally{T.f()}m.cursor=w;var M,O,N,D,P=i(a);try{for(P.s();!(M=P.n()).done;){var F=M.value;if(m.align(4),m.cursor!==F.finalOffset)throw new Error("Assembler bug: function offset changed");m.putA(F.binary)}}catch(e){P.e(e)}finally{P.f()}return m.cursor=0,N=a[s].finalOffset,D=l.length,(O=m).cursor=0,O.putU(32,p),O.putU(16,f),O.putU(16,d),O.putU(32,N),O.putU(32,D),m.asArray()}},"3mKH":function(e,t,n){(function(e,r,i){var o=n("eoLT"),s=n("wfEq"),a=n("5Ekh"),u=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=t.IncomingMessage=function(t,n,s,u){var l=this;if(a.Readable.call(l),l._mode=s,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",(function(){e.nextTick((function(){l.emit("close")}))})),"fetch"===s){if(l._fetchResponse=n,l.url=n.url,l.statusCode=n.status,l.statusMessage=n.statusText,n.headers.forEach((function(e,t){l.headers[t.toLowerCase()]=e,l.rawHeaders.push(t,e)})),o.writableStream){var c=new WritableStream({write:function(e){return new Promise((function(t,n){l._destroyed?n():l.push(new i(e))?t():l._resumeFetch=t}))},close:function(){r.clearTimeout(u),l._destroyed||l.push(null)},abort:function(e){l._destroyed||l.emit("error",e)}});try{return void n.body.pipeTo(c).catch((function(e){r.clearTimeout(u),l._destroyed||l.emit("error",e)}))}catch(e){}}var h=n.body.getReader();!function e(){h.read().then((function(t){if(!l._destroyed){if(t.done)return r.clearTimeout(u),void l.push(null);l.push(new i(t.value)),e()}})).catch((function(e){r.clearTimeout(u),l._destroyed||l.emit("error",e)}))}()}else{if(l._xhr=t,l._pos=0,l.url=t.responseURL,l.statusCode=t.status,l.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===l.headers[n]&&(l.headers[n]=[]),l.headers[n].push(t[2])):void 0!==l.headers[n]?l.headers[n]+=", "+t[2]:l.headers[n]=t[2],l.rawHeaders.push(t[1],t[2])}})),l._charset="x-user-defined",!o.overrideMimeType){var p=l.rawHeaders["mime-type"];if(p){var f=p.match(/;\s*charset=([^;])(;|$)/);f&&(l._charset=f[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};s(l,a.Readable),l.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},l.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==u.DONE)break;try{n=new r.VBArray(t.responseBody).toArray()}catch(e){}if(null!==n){e.push(new i(n));break}case"text":try{n=t.responseText}catch(t){e._mode="text:vbarray";break}if(n.length>e._pos){var o=n.substr(e._pos);if("x-user-defined"===e._charset){for(var s=new i(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);e.push(s)}else e.push(o,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==u.DONE||!t.response)break;n=t.response,e.push(new i(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==u.LOADING||!n)break;e.push(new i(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==u.LOADING)break;var l=new r.MSStreamReader;l.onprogress=function(){l.result.byteLength>e._pos&&(e.push(new i(new Uint8Array(l.result.slice(e._pos)))),e._pos=l.result.byteLength)},l.onload=function(){e.push(null)},l.readAsArrayBuffer(n)}e._xhr.readyState===u.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,n("5IsQ"),n("pCvA"),n("zkTx").Buffer)},"4N5z":function(e,t,n){"use strict";function r(e){return e.name===u}function i(){}function o(e){return e<14&&e>8||32===e||160===e||Object(a.isNewLine)(e)}function s(e,t){return l.parse(e,t)}n.r(t),n.d(t,"LooseParser",(function(){return l})),n.d(t,"isDummy",(function(){return r})),n.d(t,"parse",(function(){return s}));var a=n("Xy3c"),u="âœ–",l=function(e,t){if(void 0===t&&(t={}),this.toks=this.constructor.BaseParser.tokenizer(e,t),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:a.tokTypes.eof,start:0,end:0},this.tok.validateRegExpFlags=i,this.tok.validateRegExpPattern=i,this.options.locations){var n=this.toks.curPosition();this.tok.loc=new a.SourceLocation(this.toks,n,n)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.inGenerator=!1,this.inFunction=!1};l.prototype.startNode=function(){return new a.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)},l.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},l.prototype.startNodeAt=function(e){return this.options.locations?new a.Node(this.toks,e[0],e[1]):new a.Node(this.toks,e)},l.prototype.finishNode=function(e,t){return e.type=t,e.end=this.last.end,this.options.locations&&(e.loc.end=this.last.loc.end),this.options.ranges&&(e.range[1]=this.last.end),e},l.prototype.dummyNode=function(e){var t=this.startNode();return t.type=e,t.end=t.start,this.options.locations&&(t.loc.end=t.loc.start),this.options.ranges&&(t.range[1]=t.start),this.last={type:a.tokTypes.name,start:t.start,end:t.start,loc:t.loc},t},l.prototype.dummyIdent=function(){var e=this.dummyNode("Identifier");return e.name=u,e},l.prototype.dummyString=function(){var e=this.dummyNode("Literal");return e.value=e.raw=u,e},l.prototype.eat=function(e){return this.tok.type===e&&(this.next(),!0)},l.prototype.isContextual=function(e){return this.tok.type===a.tokTypes.name&&this.tok.value===e},l.prototype.eatContextual=function(e){return this.tok.value===e&&this.eat(a.tokTypes.name)},l.prototype.canInsertSemicolon=function(){return this.tok.type===a.tokTypes.eof||this.tok.type===a.tokTypes.braceR||a.lineBreak.test(this.input.slice(this.last.end,this.tok.start))},l.prototype.semicolon=function(){return this.eat(a.tokTypes.semi)},l.prototype.expect=function(e){if(this.eat(e))return!0;for(var t=1;t<=2;t++)if(this.lookAhead(t).type===e){for(var n=0;n<t;n++)this.next();return!0}},l.prototype.pushCx=function(){this.context.push(this.curIndent)},l.prototype.popCx=function(){this.curIndent=this.context.pop()},l.prototype.lineEnd=function(e){for(;e<this.input.length&&!Object(a.isNewLine)(this.input.charCodeAt(e));)++e;return e},l.prototype.indentationAfter=function(e){for(var t=0;;++e){var n=this.input.charCodeAt(e);if(32===n)++t;else{if(9!==n)return t;t+=this.options.tabSize}}},l.prototype.closes=function(e,t,n,r){return this.tok.type===e||this.tok.type===a.tokTypes.eof||n!==this.curLineStart&&this.curIndent<t&&this.tokenStartsLine()&&(!r||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<t)},l.prototype.tokenStartsLine=function(){for(var e=this.tok.start-1;e>=this.curLineStart;--e){var t=this.input.charCodeAt(e);if(9!==t&&32!==t)return!1}return!0},l.prototype.extend=function(e,t){this[e]=t(this[e])},l.prototype.parse=function(){return this.next(),this.parseTopLevel()},l.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},l.parse=function(e,t){return new this(e,t).parse()},l.BaseParser=a.Parser;var c=l.prototype;c.next=function(){if(this.last=this.tok,this.tok=this.ahead.length?this.ahead.shift():this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},c.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===a.tokTypes.dot&&"."===this.input.substr(this.toks.end,1)&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=a.tokTypes.ellipsis),new a.Token(this.toks)}catch(s){if(!(s instanceof SyntaxError))throw s;var e=s.message,t=s.raisedAt,n=!0;if(/unterminated/i.test(e))if(t=this.lineEnd(s.pos+1),/string/.test(e))n={start:s.pos,end:t,type:a.tokTypes.string,value:this.input.slice(s.pos+1,t)};else if(/regular expr/i.test(e)){var r=this.input.slice(s.pos,t);try{r=new RegExp(r)}catch(e){}n={start:s.pos,end:t,type:a.tokTypes.regexp,value:r}}else n=!!/template/.test(e)&&{start:s.pos,end:t,type:a.tokTypes.template,value:this.input.slice(s.pos,t)};else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(e))for(;t<this.input.length&&!o(this.input.charCodeAt(t));)++t;else if(/character escape|expected hexadecimal/i.test(e))for(;t<this.input.length;){var i=this.input.charCodeAt(t++);if(34===i||39===i||Object(a.isNewLine)(i))break}else if(/unexpected character/i.test(e))t++,n=!1;else{if(!/regular expression/i.test(e))throw s;n=!0}if(this.resetTo(t),!0===n&&(n={start:t,end:t,type:a.tokTypes.name,value:u}),n)return this.options.locations&&(n.loc=new a.SourceLocation(this.toks,Object(a.getLineInfo)(this.input,n.start),Object(a.getLineInfo)(this.input,n.end))),n}},c.resetTo=function(e){this.toks.pos=e;var t,n=this.input.charAt(e-1);if(this.toks.exprAllowed=!n||/[[{(,;:?/*=+\-~!|&%^<>]/.test(n)||/[enwfd]/.test(n)&&/\b(case|else|return|throw|new|in|(instance|type)?of|delete|void)$/.test(this.input.slice(e-10,e)),this.options.locations)for(this.toks.curLine=1,this.toks.lineStart=a.lineBreakG.lastIndex=0;(t=a.lineBreakG.exec(this.input))&&t.index<e;)++this.toks.curLine,this.toks.lineStart=t.index+t[0].length},c.lookAhead=function(e){for(;e>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[e-1]};var h=l.prototype;h.parseTopLevel=function(){var e=this.startNodeAt(this.options.locations?[0,Object(a.getLineInfo)(this.input,0)]:0);for(e.body=[];this.tok.type!==a.tokTypes.eof;)e.body.push(this.parseStatement());return this.toks.adaptDirectivePrologue(e.body),this.last=this.tok,e.sourceType=this.options.sourceType,this.finishNode(e,"Program")},h.parseStatement=function(){var e,t=this.tok.type,n=this.startNode();switch(this.toks.isLet()&&(t=a.tokTypes._var,e="let"),t){case a.tokTypes._break:case a.tokTypes._continue:this.next();var i=t===a.tokTypes._break;return this.semicolon()||this.canInsertSemicolon()?n.label=null:(n.label=this.tok.type===a.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(n,i?"BreakStatement":"ContinueStatement");case a.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(n,"DebuggerStatement");case a.tokTypes._do:return this.next(),n.body=this.parseStatement(),n.test=this.eat(a.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(n,"DoWhileStatement");case a.tokTypes._for:this.next();var o=this.options.ecmaVersion>=9&&this.eatContextual("await");if(this.pushCx(),this.expect(a.tokTypes.parenL),this.tok.type===a.tokTypes.semi)return this.parseFor(n,null);var s=this.toks.isLet();if(s||this.tok.type===a.tokTypes._var||this.tok.type===a.tokTypes._const){var u=this.parseVar(this.startNode(),!0,s?"let":this.tok.value);return 1!==u.declarations.length||this.tok.type!==a.tokTypes._in&&!this.isContextual("of")?this.parseFor(n,u):(this.options.ecmaVersion>=9&&this.tok.type!==a.tokTypes._in&&(n.await=o),this.parseForIn(n,u))}var l=this.parseExpression(!0);return this.tok.type===a.tokTypes._in||this.isContextual("of")?(this.options.ecmaVersion>=9&&this.tok.type!==a.tokTypes._in&&(n.await=o),this.parseForIn(n,this.toAssignable(l))):this.parseFor(n,l);case a.tokTypes._function:return this.next(),this.parseFunction(n,!0);case a.tokTypes._if:return this.next(),n.test=this.parseParenExpression(),n.consequent=this.parseStatement(),n.alternate=this.eat(a.tokTypes._else)?this.parseStatement():null,this.finishNode(n,"IfStatement");case a.tokTypes._return:return this.next(),this.eat(a.tokTypes.semi)||this.canInsertSemicolon()?n.argument=null:(n.argument=this.parseExpression(),this.semicolon()),this.finishNode(n,"ReturnStatement");case a.tokTypes._switch:var c,h=this.curIndent,p=this.curLineStart;for(this.next(),n.discriminant=this.parseParenExpression(),n.cases=[],this.pushCx(),this.expect(a.tokTypes.braceL);!this.closes(a.tokTypes.braceR,h,p,!0);)if(this.tok.type===a.tokTypes._case||this.tok.type===a.tokTypes._default){var f=this.tok.type===a.tokTypes._case;c&&this.finishNode(c,"SwitchCase"),n.cases.push(c=this.startNode()),c.consequent=[],this.next(),c.test=f?this.parseExpression():null,this.expect(a.tokTypes.colon)}else c||(n.cases.push(c=this.startNode()),c.consequent=[],c.test=null),c.consequent.push(this.parseStatement());return c&&this.finishNode(c,"SwitchCase"),this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(n,"SwitchStatement");case a.tokTypes._throw:return this.next(),n.argument=this.parseExpression(),this.semicolon(),this.finishNode(n,"ThrowStatement");case a.tokTypes._try:if(this.next(),n.block=this.parseBlock(),n.handler=null,this.tok.type===a.tokTypes._catch){var d=this.startNode();this.next(),this.eat(a.tokTypes.parenL)?(d.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(a.tokTypes.parenR)):d.param=null,d.body=this.parseBlock(),n.handler=this.finishNode(d,"CatchClause")}return n.finalizer=this.eat(a.tokTypes._finally)?this.parseBlock():null,n.handler||n.finalizer?this.finishNode(n,"TryStatement"):n.block;case a.tokTypes._var:case a.tokTypes._const:return this.parseVar(n,!1,e||this.tok.value);case a.tokTypes._while:return this.next(),n.test=this.parseParenExpression(),n.body=this.parseStatement(),this.finishNode(n,"WhileStatement");case a.tokTypes._with:return this.next(),n.object=this.parseParenExpression(),n.body=this.parseStatement(),this.finishNode(n,"WithStatement");case a.tokTypes.braceL:return this.parseBlock();case a.tokTypes.semi:return this.next(),this.finishNode(n,"EmptyStatement");case a.tokTypes._class:return this.parseClass(!0);case a.tokTypes._import:if(this.options.ecmaVersion>10){var m=this.lookAhead(1).type;if(m===a.tokTypes.parenL||m===a.tokTypes.dot)return n.expression=this.parseExpression(),this.semicolon(),this.finishNode(n,"ExpressionStatement")}return this.parseImport();case a.tokTypes._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(n,!0,!0);var g=this.parseExpression();return r(g)?(this.next(),this.tok.type===a.tokTypes.eof?this.finishNode(n,"EmptyStatement"):this.parseStatement()):t===a.tokTypes.name&&"Identifier"===g.type&&this.eat(a.tokTypes.colon)?(n.body=this.parseStatement(),n.label=g,this.finishNode(n,"LabeledStatement")):(n.expression=g,this.semicolon(),this.finishNode(n,"ExpressionStatement"))}},h.parseBlock=function(){var e=this.startNode();this.pushCx(),this.expect(a.tokTypes.braceL);var t=this.curIndent,n=this.curLineStart;for(e.body=[];!this.closes(a.tokTypes.braceR,t,n,!0);)e.body.push(this.parseStatement());return this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(e,"BlockStatement")},h.parseFor=function(e,t){return e.init=t,e.test=e.update=null,this.eat(a.tokTypes.semi)&&this.tok.type!==a.tokTypes.semi&&(e.test=this.parseExpression()),this.eat(a.tokTypes.semi)&&this.tok.type!==a.tokTypes.parenR&&(e.update=this.parseExpression()),this.popCx(),this.expect(a.tokTypes.parenR),e.body=this.parseStatement(),this.finishNode(e,"ForStatement")},h.parseForIn=function(e,t){var n=this.tok.type===a.tokTypes._in?"ForInStatement":"ForOfStatement";return this.next(),e.left=t,e.right=this.parseExpression(),this.popCx(),this.expect(a.tokTypes.parenR),e.body=this.parseStatement(),this.finishNode(e,n)},h.parseVar=function(e,t,n){e.kind=n,this.next(),e.declarations=[];do{var r=this.startNode();r.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),r.init=this.eat(a.tokTypes.eq)?this.parseMaybeAssign(t):null,e.declarations.push(this.finishNode(r,"VariableDeclarator"))}while(this.eat(a.tokTypes.comma));if(!e.declarations.length){var i=this.startNode();i.id=this.dummyIdent(),e.declarations.push(this.finishNode(i,"VariableDeclarator"))}return t||this.semicolon(),this.finishNode(e,"VariableDeclaration")},h.parseClass=function(e){var t=this.startNode();this.next(),t.id=this.tok.type===a.tokTypes.name?this.parseIdent():!0===e?this.dummyIdent():null,t.superClass=this.eat(a.tokTypes._extends)?this.parseExpression():null,t.body=this.startNode(),t.body.body=[],this.pushCx();var n=this.curIndent+1,r=this.curLineStart;for(this.eat(a.tokTypes.braceL),this.curIndent+1<n&&(n=this.curIndent,r=this.curLineStart);!this.closes(a.tokTypes.braceR,n,r);){var i=this.parseClassElement();i&&t.body.body.push(i)}return this.popCx(),this.eat(a.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(t.body,"ClassBody"),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},h.parseClassElement=function(){if(this.eat(a.tokTypes.semi))return null;var e=this.options,t=e.ecmaVersion,n=e.locations,i=this.curIndent,o=this.curLineStart,s=this.startNode(),u="",l=!1,c=!1,h="method",p=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(a.tokTypes.braceL))return this.parseClassStaticBlock(s),s;this.isClassElementNameStart()||this.toks.type===a.tokTypes.star?p=!0:u="static"}if(s.static=p,!u&&t>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.toks.type!==a.tokTypes.star||this.canInsertSemicolon()?u="async":c=!0),!u){l=this.eat(a.tokTypes.star);var f=this.toks.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?h=f:u=f)}if(u)s.computed=!1,s.key=this.startNodeAt(n?[this.toks.lastTokStart,this.toks.lastTokStartLoc]:this.toks.lastTokStart),s.key.name=u,this.finishNode(s.key,"Identifier");else if(this.parseClassElementName(s),r(s.key))return r(this.parseMaybeAssign())&&this.next(),this.eat(a.tokTypes.comma),null;if(t<13||this.toks.type===a.tokTypes.parenL||"method"!==h||l||c){s.kind=!s.computed&&!s.static&&!l&&!c&&"method"===h&&("Identifier"===s.key.type&&"constructor"===s.key.name||"Literal"===s.key.type&&"constructor"===s.key.value)?"constructor":h,s.value=this.parseMethod(l,c),this.finishNode(s,"MethodDefinition")}else{if(this.eat(a.tokTypes.eq))if(this.curLineStart!==o&&this.curIndent<=i&&this.tokenStartsLine())s.value=null;else{var d=this.inAsync,m=this.inGenerator;this.inAsync=!1,this.inGenerator=!1,s.value=this.parseMaybeAssign(),this.inAsync=d,this.inGenerator=m}else s.value=null;this.semicolon(),this.finishNode(s,"PropertyDefinition")}return s},h.parseClassStaticBlock=function(e){var t=this.curIndent,n=this.curLineStart;for(e.body=[],this.pushCx();!this.closes(a.tokTypes.braceR,t,n,!0);)e.body.push(this.parseStatement());return this.popCx(),this.eat(a.tokTypes.braceR),this.finishNode(e,"StaticBlock")},h.isClassElementNameStart=function(){return this.toks.isClassElementNameStart()},h.parseClassElementName=function(e){this.toks.type===a.tokTypes.privateId?(e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},h.parseFunction=function(e,t,n){var r=this.inAsync,i=this.inGenerator,o=this.inFunction;return this.initFunction(e),this.options.ecmaVersion>=6&&(e.generator=this.eat(a.tokTypes.star)),this.options.ecmaVersion>=8&&(e.async=!!n),this.tok.type===a.tokTypes.name?e.id=this.parseIdent():!0===t&&(e.id=this.dummyIdent()),this.inAsync=e.async,this.inGenerator=e.generator,this.inFunction=!0,e.params=this.parseFunctionParams(),e.body=this.parseBlock(),this.toks.adaptDirectivePrologue(e.body.body),this.inAsync=r,this.inGenerator=i,this.inFunction=o,this.finishNode(e,t?"FunctionDeclaration":"FunctionExpression")},h.parseExport=function(){var e=this.startNode();if(this.next(),this.eat(a.tokTypes.star))return this.options.ecmaVersion>=11&&(e.exported=this.eatContextual("as")?this.parseExprAtom():null),e.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(a.tokTypes._default)){var t;if(this.tok.type===a.tokTypes._function||(t=this.toks.isAsyncFunction())){var n=this.startNode();this.next(),t&&this.next(),e.declaration=this.parseFunction(n,"nullableID",t)}else this.tok.type===a.tokTypes._class?e.declaration=this.parseClass("nullableID"):(e.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(e,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(e.declaration=this.parseStatement(),e.specifiers=[],e.source=null):(e.declaration=null,e.specifiers=this.parseExportSpecifierList(),e.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(e,"ExportNamedDeclaration")},h.parseImport=function(){var e,t=this.startNode();(this.next(),this.tok.type===a.tokTypes.string)?(t.specifiers=[],t.source=this.parseExprAtom()):(this.tok.type===a.tokTypes.name&&"from"!==this.tok.value&&((e=this.startNode()).local=this.parseIdent(),this.finishNode(e,"ImportDefaultSpecifier"),this.eat(a.tokTypes.comma)),t.specifiers=this.parseImportSpecifiers(),t.source=this.eatContextual("from")&&this.tok.type===a.tokTypes.string?this.parseExprAtom():this.dummyString(),e&&t.specifiers.unshift(e));return this.semicolon(),this.finishNode(t,"ImportDeclaration")},h.parseImportSpecifiers=function(){var e=[];if(this.tok.type===a.tokTypes.star){var t=this.startNode();this.next(),t.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),e.push(this.finishNode(t,"ImportNamespaceSpecifier"))}else{var n=this.curIndent,i=this.curLineStart,o=this.nextLineStart;for(this.pushCx(),this.eat(a.tokTypes.braceL),this.curLineStart>o&&(o=this.curLineStart);!this.closes(a.tokTypes.braceR,n+(this.curLineStart<=o?1:0),i);){var s=this.startNode();if(this.eat(a.tokTypes.star))s.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),this.finishNode(s,"ImportNamespaceSpecifier");else{if(this.isContextual("from"))break;if(s.imported=this.parseIdent(),r(s.imported))break;s.local=this.eatContextual("as")?this.parseIdent():s.imported,this.finishNode(s,"ImportSpecifier")}e.push(s),this.eat(a.tokTypes.comma)}this.eat(a.tokTypes.braceR),this.popCx()}return e},h.parseExportSpecifierList=function(){var e=[],t=this.curIndent,n=this.curLineStart,i=this.nextLineStart;for(this.pushCx(),this.eat(a.tokTypes.braceL),this.curLineStart>i&&(i=this.curLineStart);!this.closes(a.tokTypes.braceR,t+(this.curLineStart<=i?1:0),n)&&!this.isContextual("from");){var o=this.startNode();if(o.local=this.parseIdent(),r(o.local))break;o.exported=this.eatContextual("as")?this.parseIdent():o.local,this.finishNode(o,"ExportSpecifier"),e.push(o),this.eat(a.tokTypes.comma)}return this.eat(a.tokTypes.braceR),this.popCx(),e};var p=l.prototype;p.checkLVal=function(e){if(!e)return e;switch(e.type){case"Identifier":case"MemberExpression":return e;case"ParenthesizedExpression":return e.expression=this.checkLVal(e.expression),e;default:return this.dummyIdent()}},p.parseExpression=function(e){var t=this.storeCurrentPos(),n=this.parseMaybeAssign(e);if(this.tok.type===a.tokTypes.comma){var r=this.startNodeAt(t);for(r.expressions=[n];this.eat(a.tokTypes.comma);)r.expressions.push(this.parseMaybeAssign(e));return this.finishNode(r,"SequenceExpression")}return n},p.parseParenExpression=function(){this.pushCx(),this.expect(a.tokTypes.parenL);var e=this.parseExpression();return this.popCx(),this.expect(a.tokTypes.parenR),e},p.parseMaybeAssign=function(e){if(this.inGenerator&&this.toks.isContextual("yield")){var t=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!==a.tokTypes.star&&!this.tok.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(a.tokTypes.star),t.argument=this.parseMaybeAssign()),this.finishNode(t,"YieldExpression")}var n=this.storeCurrentPos(),r=this.parseMaybeConditional(e);if(this.tok.type.isAssign){var i=this.startNodeAt(n);return i.operator=this.tok.value,i.left=this.tok.type===a.tokTypes.eq?this.toAssignable(r):this.checkLVal(r),this.next(),i.right=this.parseMaybeAssign(e),this.finishNode(i,"AssignmentExpression")}return r},p.parseMaybeConditional=function(e){var t=this.storeCurrentPos(),n=this.parseExprOps(e);if(this.eat(a.tokTypes.question)){var r=this.startNodeAt(t);return r.test=n,r.consequent=this.parseMaybeAssign(),r.alternate=this.expect(a.tokTypes.colon)?this.parseMaybeAssign(e):this.dummyIdent(),this.finishNode(r,"ConditionalExpression")}return n},p.parseExprOps=function(e){var t=this.storeCurrentPos(),n=this.curIndent,r=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),t,-1,e,n,r)},p.parseExprOp=function(e,t,n,r,i,o){if(this.curLineStart!==o&&this.curIndent<i&&this.tokenStartsLine())return e;var s=this.tok.type.binop;if(null!=s&&(!r||this.tok.type!==a.tokTypes._in)&&s>n){var u=this.startNodeAt(t);if(u.left=e,u.operator=this.tok.value,this.next(),this.curLineStart!==o&&this.curIndent<i&&this.tokenStartsLine())u.right=this.dummyIdent();else{var l=this.storeCurrentPos();u.right=this.parseExprOp(this.parseMaybeUnary(!1),l,s,r,i,o)}return this.finishNode(u,/&&|\|\||\?\?/.test(u.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(u,t,n,r,i,o)}return e},p.parseMaybeUnary=function(e){var t,n=this.storeCurrentPos();if(this.options.ecmaVersion>=8&&this.toks.isContextual("await")&&(this.inAsync||this.toks.inModule&&this.options.ecmaVersion>=13||!this.inFunction&&this.options.allowAwaitOutsideFunction))t=this.parseAwait(),e=!0;else if(this.tok.type.prefix){var r=this.startNode(),i=this.tok.type===a.tokTypes.incDec;i||(e=!0),r.operator=this.tok.value,r.prefix=!0,this.next(),r.argument=this.parseMaybeUnary(!0),i&&(r.argument=this.checkLVal(r.argument)),t=this.finishNode(r,i?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===a.tokTypes.ellipsis){var o=this.startNode();this.next(),o.argument=this.parseMaybeUnary(e),t=this.finishNode(o,"SpreadElement")}else for(t=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var s=this.startNodeAt(n);s.operator=this.tok.value,s.prefix=!1,s.argument=this.checkLVal(t),this.next(),t=this.finishNode(s,"UpdateExpression")}if(!e&&this.eat(a.tokTypes.starstar)){var u=this.startNodeAt(n);return u.operator="**",u.left=t,u.right=this.parseMaybeUnary(!1),this.finishNode(u,"BinaryExpression")}return t},p.parseExprSubscripts=function(){var e=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),e,!1,this.curIndent,this.curLineStart)},p.parseSubscripts=function(e,t,n,r,i){for(var o=this.options.ecmaVersion>=11,s=!1;;){if(this.curLineStart!==i&&this.curIndent<=r&&this.tokenStartsLine()){if(this.tok.type!==a.tokTypes.dot||this.curIndent!==r)break;--r}var u="Identifier"===e.type&&"async"===e.name&&!this.canInsertSemicolon(),l=o&&this.eat(a.tokTypes.questionDot);if(l&&(s=!0),l&&this.tok.type!==a.tokTypes.parenL&&this.tok.type!==a.tokTypes.bracketL&&this.tok.type!==a.tokTypes.backQuote||this.eat(a.tokTypes.dot)){var c=this.startNodeAt(t);c.object=e,c.property=this.curLineStart!==i&&this.curIndent<=r&&this.tokenStartsLine()?this.dummyIdent():this.parsePropertyAccessor()||this.dummyIdent(),c.computed=!1,o&&(c.optional=l),e=this.finishNode(c,"MemberExpression")}else if(this.tok.type===a.tokTypes.bracketL){this.pushCx(),this.next();var h=this.startNodeAt(t);h.object=e,h.property=this.parseExpression(),h.computed=!0,o&&(h.optional=l),this.popCx(),this.expect(a.tokTypes.bracketR),e=this.finishNode(h,"MemberExpression")}else if(n||this.tok.type!==a.tokTypes.parenL){if(this.tok.type!==a.tokTypes.backQuote)break;var p=this.startNodeAt(t);p.tag=e,p.quasi=this.parseTemplate(),e=this.finishNode(p,"TaggedTemplateExpression")}else{var f=this.parseExprList(a.tokTypes.parenR);if(u&&this.eat(a.tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(t),f,!0);var d=this.startNodeAt(t);d.callee=e,d.arguments=f,o&&(d.optional=l),e=this.finishNode(d,"CallExpression")}}if(s){var m=this.startNodeAt(t);m.expression=e,e=this.finishNode(m,"ChainExpression")}return e},p.parseExprAtom=function(){var e;switch(this.tok.type){case a.tokTypes._this:case a.tokTypes._super:var t=this.tok.type===a.tokTypes._this?"ThisExpression":"Super";return e=this.startNode(),this.next(),this.finishNode(e,t);case a.tokTypes.name:var n=this.storeCurrentPos(),i=this.parseIdent(),o=!1;if("async"===i.name&&!this.canInsertSemicolon()){if(this.eat(a.tokTypes._function))return this.toks.overrideContext(a.tokContexts.f_expr),this.parseFunction(this.startNodeAt(n),!1,!0);this.tok.type===a.tokTypes.name&&(i=this.parseIdent(),o=!0)}return this.eat(a.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(n),[i],o):i;case a.tokTypes.regexp:e=this.startNode();var s=this.tok.value;return e.regex={pattern:s.pattern,flags:s.flags},e.value=s.value,e.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(e,"Literal");case a.tokTypes.num:case a.tokTypes.string:return(e=this.startNode()).value=this.tok.value,e.raw=this.input.slice(this.tok.start,this.tok.end),this.tok.type===a.tokTypes.num&&110===e.raw.charCodeAt(e.raw.length-1)&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal");case a.tokTypes._null:case a.tokTypes._true:case a.tokTypes._false:return(e=this.startNode()).value=this.tok.type===a.tokTypes._null?null:this.tok.type===a.tokTypes._true,e.raw=this.tok.type.keyword,this.next(),this.finishNode(e,"Literal");case a.tokTypes.parenL:var u=this.storeCurrentPos();this.next();var l=this.parseExpression();if(this.expect(a.tokTypes.parenR),this.eat(a.tokTypes.arrow)){var c=l.expressions||[l];return c.length&&r(c[c.length-1])&&c.pop(),this.parseArrowExpression(this.startNodeAt(u),c)}if(this.options.preserveParens){var h=this.startNodeAt(u);h.expression=l,l=this.finishNode(h,"ParenthesizedExpression")}return l;case a.tokTypes.bracketL:return(e=this.startNode()).elements=this.parseExprList(a.tokTypes.bracketR,!0),this.finishNode(e,"ArrayExpression");case a.tokTypes.braceL:return this.toks.overrideContext(a.tokContexts.b_expr),this.parseObj();case a.tokTypes._class:return this.parseClass(!1);case a.tokTypes._function:return e=this.startNode(),this.next(),this.parseFunction(e,!1);case a.tokTypes._new:return this.parseNew();case a.tokTypes.backQuote:return this.parseTemplate();case a.tokTypes._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.dummyIdent();default:return this.dummyIdent()}},p.parseExprImport=function(){var e=this.startNode(),t=this.parseIdent(!0);switch(this.tok.type){case a.tokTypes.parenL:return this.parseDynamicImport(e);case a.tokTypes.dot:return e.meta=t,this.parseImportMeta(e);default:return e.name="import",this.finishNode(e,"Identifier")}},p.parseDynamicImport=function(e){return e.source=this.parseExprList(a.tokTypes.parenR)[0]||this.dummyString(),this.finishNode(e,"ImportExpression")},p.parseImportMeta=function(e){return this.next(),e.property=this.parseIdent(!0),this.finishNode(e,"MetaProperty")},p.parseNew=function(){var e=this.startNode(),t=this.curIndent,n=this.curLineStart,r=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(a.tokTypes.dot))return e.meta=r,e.property=this.parseIdent(!0),this.finishNode(e,"MetaProperty");var i=this.storeCurrentPos();return e.callee=this.parseSubscripts(this.parseExprAtom(),i,!0,t,n),e.arguments=this.tok.type===a.tokTypes.parenL?this.parseExprList(a.tokTypes.parenR):[],this.finishNode(e,"NewExpression")},p.parseTemplateElement=function(){var e=this.startNode();return e.value=this.tok.type===a.tokTypes.invalidTemplate?{raw:this.tok.value,cooked:null}:{raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,"\n"),cooked:this.tok.value},this.next(),e.tail=this.tok.type===a.tokTypes.backQuote,this.finishNode(e,"TemplateElement")},p.parseTemplate=function(){var e=this.startNode();this.next(),e.expressions=[];var t=this.parseTemplateElement();for(e.quasis=[t];!t.tail;)this.next(),e.expressions.push(this.parseExpression()),this.expect(a.tokTypes.braceR)?t=this.parseTemplateElement():((t=this.startNode()).value={cooked:"",raw:""},t.tail=!0,this.finishNode(t,"TemplateElement")),e.quasis.push(t);return this.expect(a.tokTypes.backQuote),this.finishNode(e,"TemplateLiteral")},p.parseObj=function(){var e=this.startNode();e.properties=[],this.pushCx();var t=this.curIndent+1,n=this.curLineStart;for(this.eat(a.tokTypes.braceL),this.curIndent+1<t&&(t=this.curIndent,n=this.curLineStart);!this.closes(a.tokTypes.braceR,t,n);){var i=this.startNode(),o=void 0,s=void 0,u=void 0;if(this.options.ecmaVersion>=9&&this.eat(a.tokTypes.ellipsis))i.argument=this.parseMaybeAssign(),e.properties.push(this.finishNode(i,"SpreadElement")),this.eat(a.tokTypes.comma);else if(this.options.ecmaVersion>=6&&(u=this.storeCurrentPos(),i.method=!1,i.shorthand=!1,o=this.eat(a.tokTypes.star)),this.parsePropertyName(i),this.toks.isAsyncProp(i)?(s=!0,o=this.options.ecmaVersion>=9&&this.eat(a.tokTypes.star),this.parsePropertyName(i)):s=!1,r(i.key))r(this.parseMaybeAssign())&&this.next(),this.eat(a.tokTypes.comma);else{if(this.eat(a.tokTypes.colon))i.kind="init",i.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===a.tokTypes.parenL||this.tok.type===a.tokTypes.braceL))i.kind="init",i.method=!0,i.value=this.parseMethod(o,s);else if(this.options.ecmaVersion>=5&&"Identifier"===i.key.type&&!i.computed&&("get"===i.key.name||"set"===i.key.name)&&this.tok.type!==a.tokTypes.comma&&this.tok.type!==a.tokTypes.braceR&&this.tok.type!==a.tokTypes.eq)i.kind=i.key.name,this.parsePropertyName(i),i.value=this.parseMethod(!1);else{if(i.kind="init",this.options.ecmaVersion>=6)if(this.eat(a.tokTypes.eq)){var l=this.startNodeAt(u);l.operator="=",l.left=i.key,l.right=this.parseMaybeAssign(),i.value=this.finishNode(l,"AssignmentExpression")}else i.value=i.key;else i.value=this.dummyIdent();i.shorthand=!0}e.properties.push(this.finishNode(i,"Property")),this.eat(a.tokTypes.comma)}}return this.popCx(),this.eat(a.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(e,"ObjectExpression")},p.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(a.tokTypes.bracketL))return e.computed=!0,e.key=this.parseExpression(),void this.expect(a.tokTypes.bracketR);e.computed=!1}var t=this.tok.type===a.tokTypes.num||this.tok.type===a.tokTypes.string?this.parseExprAtom():this.parseIdent();e.key=t||this.dummyIdent()},p.parsePropertyAccessor=function(){return this.tok.type===a.tokTypes.name||this.tok.type.keyword?this.parseIdent():this.tok.type===a.tokTypes.privateId?this.parsePrivateIdent():void 0},p.parseIdent=function(){var e=this.tok.type===a.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!e)return this.dummyIdent();var t=this.startNode();return this.next(),t.name=e,this.finishNode(t,"Identifier")},p.parsePrivateIdent=function(){var e=this.startNode();return e.name=this.tok.value,this.next(),this.finishNode(e,"PrivateIdentifier")},p.initFunction=function(e){e.id=null,e.params=[],this.options.ecmaVersion>=6&&(e.generator=!1,e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},p.toAssignable=function(e,t){if(!e||"Identifier"===e.type||"MemberExpression"===e.type&&!t);else if("ParenthesizedExpression"===e.type)this.toAssignable(e.expression,t);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if("ObjectExpression"===e.type){e.type="ObjectPattern";for(var n=0,r=e.properties;n<r.length;n+=1){this.toAssignable(r[n],t)}}else if("ArrayExpression"===e.type)e.type="ArrayPattern",this.toAssignableList(e.elements,t);else if("Property"===e.type)this.toAssignable(e.value,t);else if("SpreadElement"===e.type)e.type="RestElement",this.toAssignable(e.argument,t);else{if("AssignmentExpression"!==e.type)return this.dummyIdent();e.type="AssignmentPattern",delete e.operator}}return e},p.toAssignableList=function(e,t){for(var n=0,r=e;n<r.length;n+=1){this.toAssignable(r[n],t)}return e},p.parseFunctionParams=function(e){return e=this.parseExprList(a.tokTypes.parenR),this.toAssignableList(e,!0)},p.parseMethod=function(e,t){var n=this.startNode(),r=this.inAsync,i=this.inGenerator,o=this.inFunction;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=!!e),this.options.ecmaVersion>=8&&(n.async=!!t),this.inAsync=n.async,this.inGenerator=n.generator,this.inFunction=!0,n.params=this.parseFunctionParams(),n.body=this.parseBlock(),this.toks.adaptDirectivePrologue(n.body.body),this.inAsync=r,this.inGenerator=i,this.inFunction=o,this.finishNode(n,"FunctionExpression")},p.parseArrowExpression=function(e,t,n){var r=this.inAsync,i=this.inGenerator,o=this.inFunction;return this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.inAsync=e.async,this.inGenerator=!1,this.inFunction=!0,e.params=this.toAssignableList(t,!0),e.expression=this.tok.type!==a.tokTypes.braceL,e.expression?e.body=this.parseMaybeAssign():(e.body=this.parseBlock(),this.toks.adaptDirectivePrologue(e.body.body)),this.inAsync=r,this.inGenerator=i,this.inFunction=o,this.finishNode(e,"ArrowFunctionExpression")},p.parseExprList=function(e,t){this.pushCx();var n=this.curIndent,i=this.curLineStart,o=[];for(this.next();!this.closes(e,n+1,i);)if(this.eat(a.tokTypes.comma))o.push(t?null:this.dummyIdent());else{var s=this.parseMaybeAssign();if(r(s)){if(this.closes(e,n,i))break;this.next()}else o.push(s);this.eat(a.tokTypes.comma)}return this.popCx(),this.eat(e)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),o},p.parseAwait=function(){var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(),this.finishNode(e,"AwaitExpression")},a.defaultOptions.tabSize=4},"5AhW":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeSourceError=void 0;var s=n("Otp2"),a=n("QyX9");t.RuntimeSourceError=function(){function e(e){this.type=a.ErrorType.RUNTIME,this.severity=a.ErrorSeverity.ERROR,this.location=e?e.loc:s.UNKNOWN_LOCATION}var t,n,r;return t=e,(n=[{key:"explain",value:function(){return""}},{key:"elaborate",value:function(){return this.explain()}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"5Ekh":function(e,t,n){(t=e.exports=n("B0Cl")).Stream=t,t.Readable=t,t.Writable=n("g+31"),t.Duplex=n("A/eZ"),t.Transform=n("+t3Y"),t.PassThrough=n("OLMR")},"5IsQ":function(e){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===t||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(){f&&h&&(f=!1,h.length?p=h.concat(p):d=-1,p.length&&o())}function o(){if(!f){var e=r(i);f=!0;for(var t=p.length;t;){for(h=p,p=[];++d<t;)h&&h[d].run();d=-1,t=p.length}h=null,f=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function a(){}var u,l,c=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:t}catch(e){u=t}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var h,p=[],f=!1,d=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||f||r(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=a,c.addListener=a,c.once=a,c.off=a,c.removeListener=a,c.removeAllListeners=a,c.emit=a,c.prependListener=a,c.prependOnceListener=a,c.listeners=function(){return[]},c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},"5afc":function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("W0B4"),s=n("l8WD"),a=n("NpYg"),u=n("QPHl"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:n.props.value},n.onChange=n.onChange.bind(n),n.diff=n.diff.bind(n),n}return i(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.value;e!==this.state.value&&this.setState({value:e})},t.prototype.onChange=function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(e)},t.prototype.diff=function(){var e=new u,t=this.state.value[0],n=this.state.value[1];if(0===t.length&&0===n.length)return[];var r=e.diff_main(t,n);e.diff_cleanupSemantic(r);var i=this.generateDiffedLines(r);return this.setCodeMarkers(i)},t.prototype.generateDiffedLines=function(e){var t=0,n=-1,r=1,i={left:[],right:[]},o={left:1,right:1};return e.forEach((function(e){var s=e[0],a=e[1],u=a.split("\n").length-1;if(0!==a.length){var l=a[0],c=a[a.length-1],h=0;switch(s){case t:o.left+=u,o.right+=u;break;case n:"\n"===l&&(o.left++,u--),0===(h=u)&&i.right.push({startLine:o.right,endLine:o.right}),"\n"===c&&(h-=1),i.left.push({startLine:o.left,endLine:o.left+h}),o.left+=u;break;case r:"\n"===l&&(o.right++,u--),0===(h=u)&&i.left.push({startLine:o.left,endLine:o.left}),"\n"===c&&(h-=1),i.right.push({startLine:o.right,endLine:o.right+h}),o.right+=u;break;default:throw new Error("Diff type was not defined.")}}})),i},t.prototype.setCodeMarkers=function(e){void 0===e&&(e={left:[],right:[]});for(var t=[],n={left:[],right:[]},r=0;r<e.left.length;r++){n.left.push({startRow:e.left[r].startLine-1,endRow:e.left[r].endLine,type:"text",className:"codeMarker"})}for(r=0;r<e.right.length;r++){n.right.push({startRow:e.right[r].startLine-1,endRow:e.right[r].endLine,type:"text",className:"codeMarker"})}return t[0]=n.left,t[1]=n.right,t},t.prototype.render=function(){var e=this.diff();return s.createElement(a.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:e})},t.propTypes={cursorStart:o.number,editorProps:o.object,enableBasicAutocompletion:o.bool,enableLiveAutocompletion:o.bool,focus:o.bool,fontSize:o.number,height:o.string,highlightActiveLine:o.bool,maxLines:o.number,minLines:o.number,mode:o.string,name:o.string,className:o.string,onLoad:o.func,onPaste:o.func,onScroll:o.func,onChange:o.func,orientation:o.string,readOnly:o.bool,scrollMargin:o.array,setOptions:o.object,showGutter:o.bool,showPrintMargin:o.bool,splits:o.number,style:o.object,tabSize:o.number,theme:o.string,value:o.array,width:o.string,wrapEnabled:o.bool},t.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},t}(s.Component);t.default=l},"5tzL":function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){if(!(e instanceof Float32Array))return e;var t=e.map((function(e){return a(e)}));return Array.from(t)}function u(e,t){var n;if(1===t.length&&(n=e(0)),2===t.length&&(n=e(0,0)),3===t.length&&(n=e(0,0,0)),"number"!=typeof n)return!1;var r,i=1,s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}(t);try{for(s.s();!(r=s.n()).done;){i*=r.value}}catch(e){s.e(e)}finally{s.f()}return i>g}function l(e,t,n,r,o){var s=new c.GPU,l=function(e){return Array.isArray(e)}(r),p="";if(l||(p=i(r)),e.length>1&&(l=l&&function(e,t){for(var n=0;n<t[0];n+=1)if(!Array.isArray(e[n]))return!1;return!0}(r,e),l||(p="undefined")),e.length>2&&(l=l&&function(e,t){for(var n=0;n<t[0];n+=1){if(!Array.isArray(e[n]))return!1;for(var r=0;r<t[1];r+=1)if(!Array.isArray(e[n][r]))return!1}return!0}(r,e),l||(p="undefined")),!l)throw new h.TypeError(r,"","object or array",p);if(l=u(o,e)){for(var f=[],d=e.length-1;d>=0;d--)f.push(e[d]);var m={constants:{}};m.constants=t;var g=s.createKernel(n,m).setOutput(f)();1===e.length&&function(e,t,n){for(var r=0;r<t[0];r++)n[r]=a(e[r])}(g,e,r),2===e.length&&function(e,t,n){for(var r=0;r<t[0];r++)for(var i=0;i<t[1];i++)n[r][i]=a(e[r][i])}(g,e,r),3===e.length&&function(e,t,n){for(var r=0;r<t[0];r++)for(var i=0;i<t[1];i++)for(var o=0;o<t[2];o++)n[r][i][o]=a(e[r][i][o])}(g,e,r)}else!function(e,t,n){1===t.length?function(){for(var r=0;r<t[0];r++)n[r]=e(r)}():2===t.length?function(){for(var r=0;r<t[0];r+=1)for(var i=0;i<t[1];i+=1)n[r][i]=e(r,i)}():function(){for(var r=0;r<t[0];r+=1)for(var i=0;i<t[1];i+=1)for(var o=0;o<t[2];o+=1)n[r][i][o]=e(r,i,o)}()}(o,e,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.__createKernelSource=t.__clearKernelCache=t.__createKernel=void 0;var c=n("mpBs"),h=n("SG+n"),p=n("Xy3c"),f=n("j0Aj"),d=n("f2gj"),m=n("Otp2"),g=200;t.__createKernel=l;var y=new Map;t.__clearKernelCache=function(){y.clear()},t.__createKernelSource=function(e,t,n,i,o,s){var a,u=(a={},t.forEach((function(e){var t=r(e,2);return a[t[0]]=t[1]})),a),c=y.get(s);if(void 0!==c)return l(e,u,c,i,o);var h=o.toString(),g=p.parse(h,m.ACORN_PARSE_OPTIONS),v=d.gpuRuntimeTranspile(g.body[0].expression,new Set(n)),b=new Function(f.generate(v));return y.set(s,b),l(e,u,b,i,o)}},"60T1":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NoEval=void 0;var s=n("QyX9"),a=function(){function e(e){this.node=e,this.type=s.ErrorType.SYNTAX,this.severity=s.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"eval is not allowed."}},{key:"elaborate",value:function(){return this.explain()}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.NoEval=a,t.default={name:"no-eval",checkers:{Identifier:function(e){return"eval"===e.name?[new a(e)]:[]}}}},"7p7F":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NoSpreadInArray=void 0;var s=n("QyX9"),a=function(){function e(e){this.node=e,this.type=s.ErrorType.SYNTAX,this.severity=s.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"Spread syntax is not allowed in arrays."}},{key:"elaborate",value:function(){return""}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.NoSpreadInArray=a,t.default={name:"no-assignment-expression",checkers:{SpreadElement:function(e,t){return"CallExpression"===t[t.length-2].type?[]:[new a(e)]}}}},"7w3z":function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){P.push([e])}function c(e,t){P.push([e,t])}function h(e,t,n){P.push([e,t,n])}function p(){var e=F.pop();if(!e)throw Error("Unable to compile");return e}function f(e){F.push(e)}function d(e,t,n){return[e,t,n]}function m(e){return e[0]}function g(e){return e[2]}function y(e){for(var t=new Map,n=0;n<I.PRIMITIVE_FUNCTION_NAMES.length;n++){t.set(I.PRIMITIVE_FUNCTION_NAMES[n],{index:n,isVar:!1,type:"primitive"})}if(e)for(var r=0;r<e.length;r++){t.set(e[r],{index:r,isVar:!1,type:"internal"})}return v([],t)}function v(e,t){return e.concat([t])}function b(e,t){for(var n=t.name,r=e.length-1;r>=0;r--)if(e[r].has(n)){var i=e.length-1-r,o=e[r].get(n);return{envLevel:i,index:o.index,isVar:o.isVar,type:o.type}}throw new L.UndefinedVariable(n,t)}function x(){for(;0!==F.length;){var e=p(),t=e[1],n=g(e),r=m(e);r.isFunctionBlock=!0;var i=S(r,n,!0);o=P,s=void 0,(s=D[t[0]])[0]=i.maxStackSize,s[3]=o,P=[],$=!1}var o,s}function w(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=new Map,o=s(e.body);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("VariableDeclaration"===a.type){var u=a,l=u.declarations[0].id.name;if(r){var c=u.loc.start,h=l;do{l="".concat(l,"-").concat(c.line,"-").concat(c.column)}while(t.has(l));i.set(h,l)}t.set(l,{index:t.size,isVar:"let"===u.kind})}else if("FunctionDeclaration"===a.type){var p=a.id.name;if(r){var f=a.loc.start,d=p;do{p="".concat(p,"-").concat(f.line,"-").concat(f.column)}while(t.has(p));i.set(d,p)}t.set(p,{index:t.size,isVar:!1})}}}catch(e){o.e(e)}finally{o.f()}!function(e,t){function n(e,t,n){var r,i=function(e){var t,n=new Set,r=s(e.body);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("VariableDeclaration"===i.type)n.add(i.declarations[0].id.name);else if("FunctionDeclaration"===i.type){n.add(i.id.name)}}}catch(e){r.e(e)}finally{r.f()}return n}(e),o=new Set(t),a=s(i);try{for(a.s();!(r=a.n()).done;){t.add(r.value)}}catch(e){a.e(e)}finally{a.f()}var u,l=s(e.body);try{for(l.s();!(u=l.n()).done;){n(u.value,t)}}catch(e){l.e(e)}finally{l.f()}var c,h=s(i);try{for(h.s();!(c=h.n()).done;){var p=c.value;o.has(p)||t.delete(p)}}catch(e){h.e(e)}finally{h.f()}}if(0===t.size)return;var r=!0;E.recursive(e,new Set,{VariablePattern:function(e,n){var r=e.name;n.has(r)||t.has(r)&&(e.name=t.get(r))},Identifier:function(e,n){var r=e.name;n.has(r)||t.has(r)&&(e.name=t.get(r))},BlockStatement:function(e,t,i){if(r){r=!1;var o,a=s(e.body);try{for(a.s();!(o=a.n()).done;){i(o.value,t)}}catch(e){a.e(e)}finally{a.f()}}else n(e,t,i)},IfStatement:function(e,t,r){r(e.test,t);for(var i=e;"IfStatement"===i.type;){var o=i.alternate;n(i.consequent,t,r),r(i.test,t),i=o}n(i,t,r)},Function:function(e,t,n){"FunctionDeclaration"===e.type&&n(e.id,t);var r,i=new Set(t),o=new Set,a=s(e.params);try{for(a.s();!(r=a.n()).done;){o.add(r.value.name)}}catch(e){a.e(e)}finally{a.f()}var u,l=s(o);try{for(l.s();!(u=l.n()).done;){t.add(u.value)}}catch(e){l.e(e)}finally{l.f()}n(e.body,t,"ArrowFunctionExpression"===e.type&&e.expression?"Expression":"Statement");var c,h=s(o);try{for(h.s();!(c=h.n()).done;){var p=c.value;i.has(p)||t.delete(p)}}catch(e){h.e(e)}finally{h.f()}},WhileStatement:function(e,t,r){r(e.test,t),n(e.body,t,r)}})}(e,i);var m,g=s(e.body);try{for(g.s();!(m=g.n()).done;){var y=m.value;if("BlockStatement"===y.type)w(y,t,!0);if("IfStatement"===y.type){for(var v=y;"IfStatement"===v.type;){var b=v.alternate;w(v.consequent,t,!0),v=b}w(v,t,!0)}"WhileStatement"===y.type&&w(y.body,t,!0)}}catch(e){g.e(e)}finally{g.f()}return t}function _(e,t,n){for(var r=e.body,i=0,o=0;o<r.length;o++){e.isLoopBlock&&o===r.length-1&&"for"===B[B.length-1][0]&&(B[B.length-1][3]=P.length);var s=S(r[o],t,o===r.length-1&&n).maxStackSize;(o!==r.length-1||e.isLoopBlock)&&l(M.default.POPG),i=Math.max(i,s)}return 0!==r.length||e.isLoopBlock||(l(M.default.LGCU),(n||e.isFunctionBlock)&&l(M.default.RETG),i++),{maxStackSize:i,insertFlag:!1}}function S(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=z[e.type];if(!i)throw Error("Unsupported operation");var o=i(e,t,n,r),s=o.insertFlag,a=o.maxStackSize;return s&&("ReturnStatement"===e.type||$&&V.has(e.type)?l(M.default.RETG):"Program"===e.type||"ExpressionStatement"===e.type||"BlockStatement"===e.type||"FunctionDeclaration"===e.type||(a+=1,l(M.default.LGCU),l(M.default.RETG))),{maxStackSize:a,insertFlag:s}}function k(e){D=[],P=[],F=[],B=[],$=!0,A(e);var t=w(e,new Map,!1);return D[0]=[NaN,t.size,0,[]],f(d(e,[0],v(y(),t))),x(),[0,D]}function T(e,t,n){D=[],P=[],F=[],B=[],$=!0,A(e),function(e){E.simple(e,{IfStatement:function(e){var t;null!==(t=e.alternate)&&void 0!==t||(e.alternate={type:"BlockStatement",body:[]})}})}(e);var i,o=w(e,new Map),s=[NaN,o.size,0,[]];t&&(i=D).push.apply(i,r(t[1]));var a=t?I.PRIMITIVE_FUNCTION_NAMES.length+1:0;return D[a]=s,f(d(e,[a],v(y(n),o))),x(),[0,D]}function A(e){E.simple(e,{ForStatement:function(e){var t=e.test,n=e.body,r=e.init,i=e.update,o=n;if("VariableDeclaration"===r.type){var s=r.declarations[0].id.name,a=r.loc,u="copy-of-"+s,l=C.blockStatement([C.constantDeclaration(s,C.identifier(u),a),n]);o=C.blockStatement([C.constantDeclaration(u,C.identifier(s),a),l])}var c=r&&"VariableDeclaration"===r.type?r:C.expressionStatement(r),h=C.expressionStatement(i),p=C.blockStatement([o,h]),f=C.whileStatement(p,t);f.isFor=!0,e.body=[c,f],e.type="BlockStatement"}})}Object.defineProperty(t,"__esModule",{value:!0}),t.compileToIns=t.compilePreludeToIns=t.compileForConcurrent=void 0;var E=n("XwI5"),C=n("my7b"),L=n("JFiO"),I=n("z1+4"),R=n("f9Fa"),M=n("Ib16"),O=new Map([["!",M.default.NOTG],["-",M.default.NEGG]]),N=new Map([["+",M.default.ADDG],["-",M.default.SUBG],["*",M.default.MULG],["/",M.default.DIVG],["%",M.default.MODG],["<",M.default.LTG],[">",M.default.GTG],["<=",M.default.LEG],[">=",M.default.GEG],["===",M.default.EQG],["!==",M.default.NEQG]]),D=[],P=[],F=[],$=!0,V=new Set(["Literal","UnaryExpression","BinaryExpression","CallExpression","Identifier","ArrayExpression","LogicalExpression","MemberExpression","AssignmentExpression","ArrowFunctionExpression","IfStatement","VariableDeclaration"]),B=[],z={Program:function(e,t,n){return _(e,t,n)},BlockStatement:function(e,t,n){return _(e,t,n)},ExpressionStatement:function(e,t,n){return S(e.expression,t,n)},IfStatement:function(e,t,n){var r=e.consequent,i=e.alternate,o=S(e.test,t,!1).maxStackSize;c(M.default.BRF,NaN);var s=P.length-1,a=S(r,t,!1).maxStackSize;c(M.default.BR,NaN);var u=P.length-1;P[s][1]=P.length-s;var l=S(i,t,!1).maxStackSize;return P[u][1]=P.length-u,{maxStackSize:Math.max(o,a,l),insertFlag:n}},FunctionDeclaration:function(e,t,n){return S(C.constantDeclaration(e.id.name,C.arrowFunctionExpression(e.params,e.body)),t,n)},VariableDeclaration:function(e,t,n){if("const"===e.kind||"let"===e.kind){var r=b(t,e.declarations[0].id),i=r.envLevel,o=r.index,s=S(e.declarations[0].init,t,!1).maxStackSize;return 0===i?c(M.default.STLG,o):h(M.default.STPG,o,i),l(M.default.LGCU),{maxStackSize:s,insertFlag:n}}throw Error("Invalid declaration")},ReturnStatement:function(e,t){if(B.length>0)throw Error("return not allowed in loops");return{maxStackSize:S(e.argument,t,!1,!0).maxStackSize,insertFlag:!0}},CallExpression:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=0,o="normal",s=NaN;if("Identifier"===e.callee.type){var a=b(t,e.callee),u=a.envLevel,l=a.index,p=a.type;"primitive"===p||"internal"===p?(o=p,s=l):0===u?c(M.default.LDLG,l):h(M.default.LDPG,l,u)}else{i=S(e.callee,t,!1).maxStackSize}var f=function(e,t){for(var n=0,r=0;r<e.length;r++){var i=S(e[r],t,!1);n=Math.max(r+i.maxStackSize,n)}return n}(e.arguments,t);return"primitive"===o?h(r?M.default.CALLTP:M.default.CALLP,s,e.arguments.length):"internal"===o?h(r?M.default.CALLTV:M.default.CALLV,s,e.arguments.length):(c(r?M.default.CALLT:M.default.CALL,e.arguments.length),f++),{maxStackSize:Math.max(i,f,1),insertFlag:n}},UnaryExpression:function(e,t,n){if(O.has(e.operator)){var r=O.get(e.operator),i=S(e.argument,t,!1).maxStackSize;return l(r),{maxStackSize:i,insertFlag:n}}throw Error("Unsupported operation")},BinaryExpression:function(e,t,n){if(N.has(e.operator)){var r=N.get(e.operator),i=S(e.left,t,!1).maxStackSize,o=S(e.right,t,!1).maxStackSize;return l(r),{maxStackSize:Math.max(i,1+o),insertFlag:n}}throw Error("Unsupported operation")},LogicalExpression:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("&&"===e.operator)return{maxStackSize:S(C.conditionalExpression(e.left,e.right,C.literal(!1)),t,!1,r).maxStackSize,insertFlag:n};if("||"===e.operator)return{maxStackSize:S(C.conditionalExpression(e.left,C.literal(!0),e.right),t,!1,r).maxStackSize,insertFlag:n};throw Error("Unsupported operation")},ConditionalExpression:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.consequent,o=e.alternate,s=S(e.test,t,!1).maxStackSize;c(M.default.BRF,NaN);var a=P.length-1,u=S(i,t,n,r).maxStackSize,l=NaN;n||(c(M.default.BR,NaN),l=P.length-1),P[a][1]=P.length-a;var h=S(o,t,n,r).maxStackSize;return n||(P[l][1]=P.length-l),{maxStackSize:Math.max(s,u,h),insertFlag:!1}},ArrowFunctionExpression:function(e,t,n){var r,i="BlockStatement"===e.body.type?e.body:C.blockStatement([C.returnStatement(e.body)]),o=new Map,a=s(e.params);try{for(a.s();!(r=a.n()).done;){var u=r.value;o.set(u.name,{index:o.size,isVar:!0})}}catch(e){a.e(e)}finally{a.f()}w(i,o);var l=v(t,o),h=D.length;return D.push([NaN,o.size,e.params.length,[]]),f(d(i,[h],l)),c(M.default.NEWC,[h]),{maxStackSize:1,insertFlag:n}},Identifier:function(e,t,n){var r,i,o;try{var s=b(t,e);r=s.envLevel,i=s.index,"primitive"===(o=s.type)?c(M.default.NEWCP,i):"internal"===o?c(M.default.NEWCV,i):0===r?c(M.default.LDLG,i):h(M.default.LDPG,i,r)}catch(e){var a=I.CONSTANT_PRIMITIVES.filter((function(t){return t[0]===e.name}));if(0===a.length)throw e;if("number"==typeof a[0][1])c(M.default.LGCF32,a[0][1]);else{if(void 0!==a[0][1])throw Error("Unknown primitive constant");l(M.default.LGCU)}}return{maxStackSize:1,insertFlag:n}},Literal:function(e,t,n){var r=e.value;if(null===r)l(M.default.LGCN);else switch(o(r)){case"boolean":l(r?M.default.LGCB1:M.default.LGCB0);break;case"number":Number.isInteger(r)&&-2147483648<=r&&r<=2147483647?c(M.default.LGCI,r):c(M.default.LGCF64,r);break;case"string":c(M.default.LGCS,r);break;default:throw Error("Unsupported literal")}return{maxStackSize:1,insertFlag:n}},ArrayExpression:function(e,t,n){l(M.default.NEWA);for(var r=e.elements,i=1,o=0;o<r.length;o++)if(null!==r[o]){l(M.default.DUP),c(M.default.LGCI,o);var s=S(r[o],t,!1).maxStackSize;l(M.default.STAG),i=Math.max(3+s,i)}return{maxStackSize:i,insertFlag:n}},AssignmentExpression:function(e,t,n){if("Identifier"===e.left.type){var r=b(t,e.left),i=r.envLevel,o=r.index;if(!r.isVar)throw new L.ConstAssignment(e.left,e.left.name);var s=S(e.right,t,!1).maxStackSize;return 0===i?c(M.default.STLG,o):h(M.default.STPG,o,i),l(M.default.LGCU),{maxStackSize:s,insertFlag:n}}if("MemberExpression"===e.left.type&&!0===e.left.computed){var a=S(e.left.object,t,!1).maxStackSize,u=S(e.left.property,t,!1).maxStackSize,p=S(e.right,t,!1).maxStackSize;return l(M.default.STAG),l(M.default.LGCU),{maxStackSize:Math.max(a,1+u,2+p),insertFlag:n}}throw Error("Invalid Assignment")},ForStatement:function(){throw Error("Unsupported operation")},WhileStatement:function(e,t,n){var r=e.isFor,i=P.length,o=S(e.test,t,!1).maxStackSize;c(M.default.BRF,NaN);var a=P.length-1;B.push([r?"for":"while",[],[],NaN]);var u=w(e.body,new Map);c(M.default.NEWENV,u.size);var h=v(t,u),p=e.body;p.isLoopBlock=!0;var f=S(p,h,!1).maxStackSize;r||(B[B.length-1][3]=P.length),l(M.default.POPENV),c(M.default.BR,i-P.length),P[a][1]=P.length-a;var d,m=B.pop(),g=s(m[1]);try{for(g.s();!(d=g.n()).done;){var y=d.value;P[y][1]=P.length-y}}catch(e){g.e(e)}finally{g.f()}var b,x=s(m[2]);try{for(x.s();!(b=x.n()).done;){var _=b.value;P[_][1]=m[3]-_}}catch(e){x.e(e)}finally{x.f()}return l(M.default.LGCU),{maxStackSize:Math.max(o,f),insertFlag:n}},BreakStatement:function(e,t,n){return l(M.default.POPENV),B[B.length-1][1].push(P.length),c(M.default.BR,NaN),{maxStackSize:0,insertFlag:n}},ContinueStatement:function(e,t,n){return B[B.length-1][2].push(P.length),c(M.default.BR,NaN),{maxStackSize:0,insertFlag:n}},ObjectExpression:function(){throw Error("Unsupported operation")},MemberExpression:function(e,t,n){if(e.computed){var r=S(e.object,t,!1).maxStackSize,i=S(e.property,t,!1).maxStackSize;return l(M.default.LDAG),{maxStackSize:Math.max(r,1+i),insertFlag:n}}throw Error("Unsupported operation")},Property:function(){throw Error("Unsupported operation")},DebuggerStatement:function(){throw Error("Unsupported operation")}};t.compileForConcurrent=function(e,t){var n=k(R.parse(I.vmPrelude,t));return I.generatePrimitiveFunctionCode(n),T(e,n,I.INTERNAL_FUNCTIONS.map((function(e){return i(e,1)[0]})))},t.compilePreludeToIns=k,t.compileToIns=T},"8t+D":function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"XMLHttpRequest",(function(){return c}));var i=n("lVFF"),o=n("sOO9"),s=n("w7gO"),a=n("Jmra"),u=n("nfnL"),l=n("R8iU"),c=function(){function t(){this.UNSENT=t.UNSENT,this.OPENED=t.OPENED,this.HEADERS_RECEIVED=t.HEADERS_RECEIVED,this.LOADING=t.LOADING,this.DONE=t.DONE,this.disableHeaderCheck=!1,this.readyState=t.UNSENT,this.responseText="",this.responseXML=null,this.status=0,this.statusText="",this.timeout=0,this.withCredentials=!1,this.defaultHeaders={"User-Agent":"ts-XMLHttpRequest",Accept:"*/*"},this.errorFlag=!1,this.forbiddenRequestHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],this.forbiddenRequestMethods=["TRACE","TRACK","CONNECT"],this.headers={},this.headersLowerCase={},this.listeners={},this.sendFlag=!1}return t.prototype.open=function(e,t,n,r,i){if(void 0===n&&(n=!0),this.abort(),this.errorFlag=!1,!this.isAllowedHttpMethod(e))throw new Error("SecurityError: Request method not allowed");this.settings={method:e,url:t,async:"boolean"!=typeof n||n,user:r,password:i},this.setState(this.OPENED)},t.prototype.setDisableHeaderCheck=function(e){this.disableHeaderCheck=e},t.prototype.setRequestHeader=function(e,t){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(this.isAllowedHttpHeader(e)){if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send flag is true");e=this.headersLowerCase[e.toLowerCase()]||e,this.headersLowerCase[e.toLowerCase()]=e,this.headers[e]=this.headers[e]?this.headers[e]+", "+t:t}else console.warn('Refused to set unsafe header "'+e+'"')},t.prototype.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||this.errorFlag)return null;var e="";if(this.response)for(var t in this.response.headers)if("set-cookie"!==t&&"set-cookie2"!==t){var n=this.response.headers[t];"string"==typeof n?e+=t+": "+n+"\r\n":Array.isArray(n)?e+=t+": "+n.join(", ")+"\r\n":e+=t+":\r\n"}return e.substr(0,e.length-2)},t.prototype.getResponseHeader=function(e){if("string"==typeof e&&this.readyState>this.OPENED&&this.response&&this.response.headers&&this.response.headers[e.toLowerCase()]&&!this.errorFlag){var t=this.response.headers[e.toLowerCase()];if("string"==typeof t)return t;if(Array.isArray(t))return t.join(", ")}return null},t.prototype.getRequestHeader=function(e){if("string"==typeof e&&this.headersLowerCase[e.toLowerCase()])return this.headers[this.headersLowerCase[e.toLowerCase()]]},t.prototype.send=function(t){var n=this,c=this;if(void 0===this.settings)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(this.sendFlag)throw new Error("INVALID_STATE_ERR: send has already been called");var h,p=!1,f=!1,d=Object(a.parse)(this.settings.url);switch(d.protocol){case"https:":p=!0;case"http:":h=d.hostname;break;case"file:":f=!0;break;case void 0:case null:case"":h="localhost";break;default:throw new Error("Protocol not supported.")}if(f){if("GET"!==this.settings.method)throw new Error("XMLHttpRequest: Only GET method is supported");if(this.settings.async)Object(i.readFile)(unescape(d.pathname||"/"),"utf8",(function(e,t){e?c.handleError(e):(c.status=200,c.responseText=t,c.setState(c.DONE))}));else try{this.responseText=Object(i.readFileSync)(unescape(d.pathname||"/"),"utf8"),this.status=200,this.setState(c.DONE)}catch(e){this.handleError(e)}}else{var m=d.port||(p?443:80),g=d.pathname+(d.search?d.search:"");for(var y in this.defaultHeaders)this.headersLowerCase[y.toLowerCase()]||(this.headers[y]=this.defaultHeaders[y]);if(h&&(this.headers.Host=h),d.host&&"["===d.host[0]&&(this.headers.Host="["+this.headers.Host+"]"),p&&443===m||80===m||(this.headers.Host+=":"+d.port),this.settings.user){void 0===this.settings.password&&(this.settings.password="");var v=e.from(this.settings.user+":"+this.settings.password);this.headers.Authorization="Basic "+v.toString("base64")}"GET"===this.settings.method||"HEAD"===this.settings.method?t=null:t?(this.headers["Content-Length"]=""+(e.isBuffer(t)?t.length:e.byteLength(t)),this.getRequestHeader("Content-Type")||(this.headers["Content-Type"]="text/plain;charset=UTF-8")):"POST"===this.settings.method&&(this.headers["Content-Length"]="0");var b={host:h,port:m,path:g,method:this.settings.method,headers:this.headers,agent:!1,withCredentials:this.withCredentials};if(this.errorFlag=!1,this.settings.async){this.timeout>=1&&(this.timeoutTimer=setTimeout((function(){n.readyState!==n.DONE&&c.handleTimeout(new Error("request timed out after "+n.timeout+"ms"))}),this.timeout));var x=p?s.request:o.request;this.sendFlag=!0,c.dispatchEvent("readystatechange");var w=function(e){c.handleError(e)},_=0;c.request=x(b,(function e(t){if(c.response=t,void 0===c.settings)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(c.response.headers.location&&(301===c.response.statusCode||302===c.response.statusCode||303===c.response.statusCode||307===c.response.statusCode)){if(++_>=10)throw new Error("XMLHttpRequest: Request failed - too many redirects");c.settings.url=c.response.headers.location;var n=Object(a.parse)(c.settings.url);return(h=n.hostname)&&(c.headers.Host=h),c.request=(x=(p="https:"===d.protocol)?s.request:o.request)({hostname:n.hostname,port:n.port,path:n.path,method:303===c.response.statusCode?"GET":c.settings.method,headers:c.headers,withCredentials:c.withCredentials},e).on("error",w),void c.request.end()}c.response.setEncoding("utf8"),c.setState(c.HEADERS_RECEIVED),c.status=c.response.statusCode||0,c.response.on("data",(function(e){e&&(c.responseText+=e),c.sendFlag&&c.setState(c.LOADING)})),c.response.on("end",(function(){c.sendFlag&&(c.setState(c.DONE),c.sendFlag=!1)})),c.response.on("error",(function(e){c.handleError(e)}))})).on("error",w),t&&c.request.write(t),c.request.end(),c.dispatchEvent("loadstart")}else{var S=(new Date).getTime(),k=Object(u.tmpdir)()+l.sep+"ts-xmlhttprequest-content-"+r.pid,T=Object(u.tmpdir)()+l.sep+"ts-xmlhttprequest-sync-"+r.pid;Object(i.writeFileSync)(T,"","utf8");var A="let http = require('http'), https = require('https'), fs = require('fs');let doRequest = http"+(p?"s":"")+".request;let options = "+JSON.stringify(b)+";let responseText = '';let req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {    responseText += chunk;});response.on('end', function() {fs.writeFileSync(    '"+k+"',    JSON.stringify({        err: null,        data: {statusCode: response.statusCode, headers: response.headers, text: responseText}    }),    'utf8');fs.unlinkSync('"+T+"');});response.on('error', function(error) {fs.writeFileSync('"+k+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+T+"');});}).on('error', function(error) {fs.writeFileSync('"+k+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+T+"');});"+(t?"req.write('"+JSON.stringify(t).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();";c.dispatchEvent("loadstart"),this.setState(c.LOADING);var E=Object(i.spawn)(r.argv[0],["-e",A]);for(E.on("exit",(function(){try{Object(i.unlinkSync)(T)}catch(e){}try{Object(i.unlinkSync)(k)}catch(e){}}));Object(i.existsSync)(T);)if(0!==this.timeout&&(new Date).getTime()>=S+this.timeout)return E.stdin.end(),E.kill(),c.handleTimeout(new Error("request timed out after "+this.timeout+"ms"));E.stdin.end(),E.kill();var C=JSON.parse(Object(i.readFileSync)(k,"utf8"));Object(i.unlinkSync)(k),C.err?c.handleError(C.err):(c.response=C.data,c.status=C.data.statusCode,c.responseText=C.data.text,c.setState(c.DONE))}}},t.prototype.abort=function(){this.request&&(this.request.abort(),this.request=void 0),this.headers={},this.status=0,this.responseText="",this.responseXML=null,this.errorFlag=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!this.sendFlag||this.readyState===this.DONE||(this.sendFlag=!1,this.setState(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},t.prototype.addEventListener=function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},t.prototype.removeEventListener=function(e,t){e in this.listeners&&(this.listeners[e]=this.listeners[e].filter((function(e){return e!==t})))},t.prototype.dispatchEvent=function(e,t){var n="on"+e;if("function"==typeof this[n]&&this[n](t),e in this.listeners)for(var r=0,i=this.listeners[e].length;r<i;r++)this.listeners[e][r].call(this,t)},t.prototype.setState=function(e){e!==this.LOADING&&this.readyState===e||(this.readyState=e,(this.settings&&this.settings.async||this.readyState<this.OPENED||this.readyState===this.DONE)&&this.dispatchEvent("readystatechange"),this.readyState===this.DONE&&(this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0),this.errorFlag||this.dispatchEvent("load"),this.dispatchEvent("loadend")))},t.prototype.handleTimeout=function(e){this.request&&(this.request.abort(),this.request=void 0),this.status=0,this.statusText=e.toString(),this.responseText=e.stack||"",this.errorFlag=!0,this.dispatchEvent("timeout",e),this.setState(this.DONE)},t.prototype.handleError=function(e){this.status=0,this.statusText=e.toString(),this.responseText=e.stack||"",this.errorFlag=!0,this.dispatchEvent("error",e),this.setState(this.DONE)},t.prototype.isAllowedHttpHeader=function(e){return!0===(this.disableHeaderCheck||e&&-1===this.forbiddenRequestHeaders.indexOf(e.toLowerCase()))},t.prototype.isAllowedHttpMethod=function(e){return!0===(e&&-1===this.forbiddenRequestMethods.indexOf(e))},t.UNSENT=0,t.OPENED=1,t.HEADERS_RECEIVED=2,t.LOADING=3,t.DONE=4,t}()}.call(this,n("zkTx").Buffer,n("5IsQ"))},"9fWK":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function o(e){var t="function"==typeof Map?new Map:void 0;return o=function(e){function n(){return function(e,t,n){if(s())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&a(i,n.prototype),i}(e,arguments,u(this).constructor)}if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)},o(e)}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(){var e,t;console.error(g.oneLine(f||(e=["\n    UNREACHABLE CODE REACHED!\n    Please file an issue at\n    https://github.com/source-academy/js-slang/issues\n    if you see this.\n  "],t||(t=e.slice(0)),f=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})))))}function c(e){return 1===e.length?p(e[0]):y.vector_to_list(["sequence",y.vector_to_list(e.map(p))])}function h(e){return function(e){return e.reduce((function(e,t){return e||"VariableDeclaration"===t.type||"FunctionDeclaration"===t.type}),!1)}(e)?y.vector_to_list(["block",c(e)]):c(e)}function p(e){if(b.has(e.type)){var t=b.get(e.type)(e);return null!=t&&"object"===r(t)&&void 0!==t.tag&&(t.loc=e.loc),t}throw l(),new v("Cannot transform unknown type: "+e.type)}var f;Object.defineProperty(t,"__esModule",{value:!0}),t.tokenize=t.parse=void 0;var d=n("f9Fa"),m=n("0ZcR"),g=n("zZ3m"),y=n("255Z"),v=function(e){function t(e){var t;return(t=o.call(this,e)).name="ParseError",t}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(t,e);var n,r,o=(n=t,r=s(),function(){var e,t=u(n);if(r){var o=u(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return i(this,e)});return t}(o(Error)),b=new Map([["Program",function(e){return c(e.body)}],["BlockStatement",function(e){return h(e.body)}],["ExpressionStatement",function(e){return p(e.expression)}],["IfStatement",function(e){return y.vector_to_list(["conditional_statement",p(e.test),p(e.consequent),null===e.alternate?c([]):p(e.alternate)])}],["FunctionDeclaration",function(e){return y.vector_to_list(["function_declaration",p(e.id),y.vector_to_list(e.params.map(p)),h(e.body.body)])}],["VariableDeclaration",function(e){if("let"===e.kind)return y.vector_to_list(["variable_declaration",p(e.declarations[0].id),p(e.declarations[0].init)]);if("const"===e.kind)return y.vector_to_list(["constant_declaration",p(e.declarations[0].id),p(e.declarations[0].init)]);throw l(),new v("Invalid declaration kind")}],["ReturnStatement",function(e){return y.vector_to_list(["return_statement",p(e.argument)])}],["CallExpression",function(e){return y.vector_to_list(["application",p(e.callee),y.vector_to_list(e.arguments.map(p))])}],["UnaryExpression",function(e){return y.vector_to_list(["unary_operator_combination","-"===e.operator?"-unary":e.operator,p(e.argument)])}],["BinaryExpression",function(e){return y.vector_to_list(["binary_operator_combination",e.operator,p(e.left),p(e.right)])}],["LogicalExpression",function(e){return y.vector_to_list(["logical_composition",e.operator,p(e.left),p(e.right)])}],["ConditionalExpression",function(e){return y.vector_to_list(["conditional_expression",p(e.test),p(e.consequent),p(e.alternate)])}],["ArrowFunctionExpression",function(e){return y.vector_to_list(["lambda_expression",y.vector_to_list(e.params.map(p)),"BlockStatement"===e.body.type?h(e.body.body):y.vector_to_list(["return_statement",p(e.body)])])}],["Identifier",function(e){return y.vector_to_list(["name",e.name])}],["Literal",function(e){return y.vector_to_list(["literal",e.value])}],["ArrayExpression",function(e){return y.vector_to_list(["array_expression",y.vector_to_list(e.elements.map(p))])}],["AssignmentExpression",function(e){if("Identifier"===e.left.type)return y.vector_to_list(["assignment",p(e.left),p(e.right)]);if("MemberExpression"===e.left.type)return y.vector_to_list(["object_assignment",p(e.left),p(e.right)]);throw l(),new v("Invalid assignment")}],["ForStatement",function(e){return y.vector_to_list(["for_loop",p(e.init),p(e.test),p(e.update),p(e.body)])}],["WhileStatement",function(e){return y.vector_to_list(["while_loop",p(e.test),p(e.body)])}],["BreakStatement",function(){return y.vector_to_list(["break_statement"])}],["ContinueStatement",function(){return y.vector_to_list(["continue_statement"])}],["ObjectExpression",function(e){return y.vector_to_list(["object_expression",y.vector_to_list(e.properties.map(p))])}],["MemberExpression",function(e){var t="Identifier"===e.property.type?y.vector_to_list(["property",e.property.name]):p(e.property);return y.vector_to_list(["object_access",p(e.object),t])}],["Property",function(e){if("Literal"===e.key.type)return[e.key.value,p(e.value)];if("Identifier"===e.key.type)return[y.vector_to_list(["property",e.key.name]),p(e.value)];throw l(),new v("Invalid property key type")}],["ImportDeclaration",function(e){return y.vector_to_list(["import_declaration",y.vector_to_list(e.specifiers.map(p)),e.source.value])}],["ImportSpecifier",function(e){return y.vector_to_list(["name",e.imported.name])}],["ClassDeclaration",function(e){return y.vector_to_list(["class_declaration",y.vector_to_list(["name",null===e.id?null:e.id.name,null==e.superClass?null:p(e.superClass),e.body.body.map(p)])])}],["NewExpression",function(e){return y.vector_to_list(["new_expression",p(e.callee),y.vector_to_list(e.arguments.map(p))])}],["MethodDefinition",function(e){return y.vector_to_list(["method_definition",e.kind,p(e.key),p(e.value)])}],["FunctionExpression",function(e){return y.vector_to_list(["lambda_expression",y.vector_to_list(e.params.map(p)),h(e.body.body)])}],["ThisExpression",function(){return y.vector_to_list(["this_expression"])}],["Super",function(){return y.vector_to_list(["super_expression"])}],["TryStatement",function(e){return y.vector_to_list(["try_statement",p(e.block),null==e.handler?null:y.vector_to_list(["name",e.handler.param.name]),null==e.handler?null:p(e.handler.body)])}],["ThrowStatement",function(e){return y.vector_to_list(["throw_statement",p(e.argument)])}],["SpreadElement",function(e){return y.vector_to_list(["spread_element",p(e.argument)])}],["RestElement",function(e){return y.vector_to_list(["rest_element",p(e.argument)])}]]);t.parse=function(e,t){t.chapter=m.libraryParserLanguage;var n=d.parse(e,t);if(t.errors.length>0)throw new v(t.errors[0].explain());if(void 0!==n)return p(n);throw l(),new v("Invalid parse")},t.tokenize=function(e,t){var n=d.tokenize(e,t).map((function(t){return e.substring(t.start,t.end)}));return y.vector_to_list(n)}},"9va6":function(e,t,n){(function(e,r){function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var o;(function(){function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function a(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function u(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function l(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function c(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function h(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function p(e,t){return!!(null==e?0:e.length)&&w(e,t,0)>-1}function f(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function d(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function m(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function g(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function y(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function v(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function b(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function x(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function w(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):x(e,S,n)}function _(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function S(e){return e!=e}function k(e,t){var n=null==e?0:e.length;return n?C(e,t)/n:re}function T(e){return function(t){return null==t?H:t[e]}}function A(e){return function(t){return null==e?H:e[t]}}function E(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function C(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==H&&(n=n===H?o:n+o)}return n}function L(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function I(e){return e?e.slice(0,W(e)+1).replace(qe,""):e}function R(e){return function(t){return e(t)}}function M(e,t){return d(t,(function(t){return e[t]}))}function O(e,t){return e.has(t)}function N(e,t){for(var n=-1,r=e.length;++n<r&&w(t,e[n],0)>-1;);return n}function D(e,t){for(var n=e.length;n--&&w(t,e[n],0)>-1;);return n}function P(e){return"\\"+Zt[e]}function F(e){return Ht.test(e)}function $(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function V(e,t){return function(n){return e(t(n))}}function B(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==X||(e[n]=X,o[i++]=n)}return o}function z(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function j(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function U(e){return F(e)?function(e){var t=Gt.lastIndex=0;for(;Gt.test(e);)++t;return t}(e):gn(e)}function G(e){return F(e)?function(e){return e.match(Gt)||[]}(e):function(e){return e.split("")}(e)}function W(e){for(var t=e.length;t--&&Xe.test(e.charAt(t)););return t}var H,K="Expected a function",q="__lodash_hash_undefined__",X="__lodash_placeholder__",Y=16,Q=32,Z=64,J=128,ee=256,te=1/0,ne=9007199254740991,re=NaN,ie=4294967295,oe=[["ary",J],["bind",1],["bindKey",2],["curry",8],["curryRight",Y],["flip",512],["partial",Q],["partialRight",Z],["rearg",ee]],se="[object Arguments]",ae="[object Array]",ue="[object Boolean]",le="[object Date]",ce="[object Error]",he="[object Function]",pe="[object GeneratorFunction]",fe="[object Map]",de="[object Number]",me="[object Object]",ge="[object Promise]",ye="[object RegExp]",ve="[object Set]",be="[object String]",xe="[object Symbol]",we="[object WeakMap]",_e="[object ArrayBuffer]",Se="[object DataView]",ke="[object Float32Array]",Te="[object Float64Array]",Ae="[object Int8Array]",Ee="[object Int16Array]",Ce="[object Int32Array]",Le="[object Uint8Array]",Ie="[object Uint8ClampedArray]",Re="[object Uint16Array]",Me="[object Uint32Array]",Oe=/\b__p \+= '';/g,Ne=/\b(__p \+=) '' \+/g,De=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Pe=/&(?:amp|lt|gt|quot|#39);/g,Fe=/[&<>"']/g,$e=RegExp(Pe.source),Ve=RegExp(Fe.source),Be=/<%-([\s\S]+?)%>/g,ze=/<%([\s\S]+?)%>/g,je=/<%=([\s\S]+?)%>/g,Ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ge=/^\w*$/,We=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,He=/[\\^$.*+?()[\]{}|]/g,Ke=RegExp(He.source),qe=/^\s+/,Xe=/\s/,Ye=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Qe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ze=/,? & /,Je=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/[()=,{}\[\]\/\s]/,tt=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,st=/^\[object .+?Constructor\]$/,at=/^0o[0-7]+$/i,ut=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,ht=/['\n\r\u2028\u2029\\]/g,pt="\\ud800-\\udfff",ft="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\u2700-\\u27bf",mt="a-z\\xdf-\\xf6\\xf8-\\xff",gt="A-Z\\xc0-\\xd6\\xd8-\\xde",yt="\\ufe0e\\ufe0f",vt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bt="['â€™]",xt="["+pt+"]",wt="["+vt+"]",_t="["+ft+"]",St="\\d+",kt="["+dt+"]",Tt="["+mt+"]",At="[^"+pt+vt+St+dt+mt+gt+"]",Et="\\ud83c[\\udffb-\\udfff]",Ct="[^"+pt+"]",Lt="(?:\\ud83c[\\udde6-\\uddff]){2}",It="[\\ud800-\\udbff][\\udc00-\\udfff]",Rt="["+gt+"]",Mt="\\u200d",Ot="(?:"+Tt+"|"+At+")",Nt="(?:"+Rt+"|"+At+")",Dt="(?:['â€™](?:d|ll|m|re|s|t|ve))?",Pt="(?:['â€™](?:D|LL|M|RE|S|T|VE))?",Ft="(?:"+_t+"|"+Et+")"+"?",$t="["+yt+"]?",Vt=$t+Ft+("(?:"+Mt+"(?:"+[Ct,Lt,It].join("|")+")"+$t+Ft+")*"),Bt="(?:"+[kt,Lt,It].join("|")+")"+Vt,zt="(?:"+[Ct+_t+"?",_t,Lt,It,xt].join("|")+")",jt=RegExp(bt,"g"),Ut=RegExp(_t,"g"),Gt=RegExp(Et+"(?="+Et+")|"+zt+Vt,"g"),Wt=RegExp([Rt+"?"+Tt+"+"+Dt+"(?="+[wt,Rt,"$"].join("|")+")",Nt+"+"+Pt+"(?="+[wt,Rt+Ot,"$"].join("|")+")",Rt+"?"+Ot+"+"+Dt,Rt+"+"+Pt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",St,Bt].join("|"),"g"),Ht=RegExp("["+Mt+pt+ft+yt+"]"),Kt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xt=-1,Yt={};Yt[ke]=Yt[Te]=Yt[Ae]=Yt[Ee]=Yt[Ce]=Yt[Le]=Yt[Ie]=Yt[Re]=Yt[Me]=!0,Yt[se]=Yt[ae]=Yt[_e]=Yt[ue]=Yt[Se]=Yt[le]=Yt[ce]=Yt[he]=Yt[fe]=Yt[de]=Yt[me]=Yt[ye]=Yt[ve]=Yt[be]=Yt[we]=!1;var Qt={};Qt[se]=Qt[ae]=Qt[_e]=Qt[Se]=Qt[ue]=Qt[le]=Qt[ke]=Qt[Te]=Qt[Ae]=Qt[Ee]=Qt[Ce]=Qt[fe]=Qt[de]=Qt[me]=Qt[ye]=Qt[ve]=Qt[be]=Qt[xe]=Qt[Le]=Qt[Ie]=Qt[Re]=Qt[Me]=!0,Qt[ce]=Qt[he]=Qt[we]=!1;var Zt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jt=parseFloat,en=parseInt,tn="object"==(void 0===e?"undefined":i(e))&&e&&e.Object===Object&&e,nn="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,rn=tn||nn||Function("return this")(),on="object"==i(t)&&t&&!t.nodeType&&t,sn=on&&"object"==i(r)&&r&&!r.nodeType&&r,an=sn&&sn.exports===on,un=an&&tn.process,ln=function(){try{var e=sn&&sn.require&&sn.require("util").types;return e||un&&un.binding&&un.binding("util")}catch(e){}}(),cn=ln&&ln.isArrayBuffer,hn=ln&&ln.isDate,pn=ln&&ln.isMap,fn=ln&&ln.isRegExp,dn=ln&&ln.isSet,mn=ln&&ln.isTypedArray,gn=T("length"),yn=A({"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"s"}),vn=A({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),bn=A({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),xn=function e(t){function n(e){if(Fi(e)&&!Ca(e)&&!(e instanceof A)){if(e instanceof o)return e;if(Eo.call(e,"__wrapped__"))return li(e)}return new o(e)}function r(){}function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=H}function A(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function Xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function pt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ft(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function dt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ft;++t<n;)this.add(e[t])}function mt(e){var t=this.__data__=new pt(e);this.size=t.size}function gt(e,t){var n=Ca(e),r=!n&&Ea(e),i=!n&&!r&&Ia(e),o=!n&&!r&&!i&&Da(e),s=n||r||i||o,a=s?L(e.length,wo):[],u=a.length;for(var l in e)!t&&!Eo.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||qr(l,u))||a.push(l);return a}function yt(e){var t=e.length;return t?e[On(0,t-1)]:H}function vt(e,t){return si(cr(e),Et(t,0,e.length))}function bt(e){return si(cr(e))}function xt(e,t,n){(n!==H&&!Li(e[t],n)||n===H&&!(t in e))&&Tt(e,t,n)}function wt(e,t,n){var r=e[t];Eo.call(e,t)&&Li(r,n)&&(n!==H||t in e)||Tt(e,t,n)}function _t(e,t){for(var n=e.length;n--;)if(Li(e[n][0],t))return n;return-1}function St(e,t,n,r){return Ts(e,(function(e,i,o){t(r,e,n(e),o)})),r}function kt(e,t){return e&&hr(t,Qi(t),e)}function Tt(e,t,n){"__proto__"==t&&Wo?Wo(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function At(e,t){for(var n=-1,r=t.length,i=fo(r),o=null==e;++n<r;)i[n]=o?H:Xi(e,t[n]);return i}function Et(e,t,n){return e==e&&(n!==H&&(e=e<=n?e:n),t!==H&&(e=e>=t?e:t)),e}function Ct(e,t,n,r,i,o){var s,a=1&t,l=2&t,c=4&t;if(n&&(s=i?n(e,r,i,o):n(e)),s!==H)return s;if(!Pi(e))return e;var h=Ca(e);if(h){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Eo.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!a)return cr(e,s)}else{var p=Fs(e),f=p==he||p==pe;if(Ia(e))return ir(e,a);if(p==me||p==se||f&&!i){if(s=l||f?{}:Hr(e),!a)return l?function(e,t){return hr(e,Ps(e),t)}(e,function(e,t){return e&&hr(t,Zi(t),e)}(s,e)):function(e,t){return hr(e,Ds(e),t)}(e,kt(s,e))}else{if(!Qt[p])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case _e:return or(e);case ue:case le:return new r(+e);case Se:return function(e,t){var n=t?or(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ke:case Te:case Ae:case Ee:case Ce:case Le:case Ie:case Re:case Me:return sr(e,n);case fe:return new r;case de:case be:return new r(e);case ye:return function(e){var t=new e.constructor(e.source,rt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ve:return new r;case xe:return i=e,_s?bo(_s.call(i)):{}}var i}(e,p,a)}}o||(o=new mt);var d=o.get(e);if(d)return d;o.set(e,s),Na(e)?e.forEach((function(r){s.add(Ct(r,t,n,r,e,o))})):Ma(e)&&e.forEach((function(r,i){s.set(i,Ct(r,t,n,i,e,o))}));var m=h?H:(c?l?$r:Fr:l?Zi:Qi)(e);return u(m||e,(function(r,i){m&&(r=e[i=r]),wt(s,i,Ct(r,t,n,i,e,o))})),s}function Lt(e,t,n){var r=n.length;if(null==e)return!r;for(e=bo(e);r--;){var i=n[r],o=e[i];if(o===H&&!(i in e)||!(0,t[i])(o))return!1}return!0}function It(e,t,n){if("function"!=typeof e)throw new _o(K);return Bs((function(){e.apply(H,n)}),t)}function Rt(e,t,n,r){var i=-1,o=p,s=!0,a=e.length,u=[],l=t.length;if(!a)return u;n&&(t=d(t,R(n))),r?(o=f,s=!1):t.length>=200&&(o=O,s=!1,t=new dt(t));e:for(;++i<a;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,s&&h==h){for(var m=l;m--;)if(t[m]===h)continue e;u.push(c)}else o(t,h,r)||u.push(c)}return u}function Mt(e,t){var n=!0;return Ts(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function Ot(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(null!=s&&(a===H?s==s&&!zi(s):n(s,a)))var a=s,u=o}return u}function Nt(e,t){var n=[];return Ts(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Dt(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=Kr),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?Dt(a,t-1,n,r,i):m(i,a):r||(i[i.length]=a)}return i}function Pt(e,t){return e&&Es(e,t,Qi)}function Ft(e,t){return e&&Cs(e,t,Qi)}function $t(e,t){return h(t,(function(t){return Oi(e[t])}))}function Vt(e,t){for(var n=0,r=(t=nr(t,e)).length;null!=e&&n<r;)e=e[ai(t[n++])];return n&&n==r?e:H}function Bt(e,t,n){var r=t(e);return Ca(e)?r:m(r,n(e))}function zt(e){return null==e?e===H?"[object Undefined]":"[object Null]":Go&&Go in bo(e)?function(e){var t=Eo.call(e,Go),n=e[Go];try{e[Go]=H;var r=!0}catch(e){}var i=Io.call(e);r&&(t?e[Go]=n:delete e[Go]);return i}(e):function(e){return Io.call(e)}(e)}function Gt(e,t){return e>t}function Ht(e,t){return null!=e&&Eo.call(e,t)}function Zt(e,t){return null!=e&&t in bo(e)}function tn(e,t,n){for(var r=n?f:p,i=e[0].length,o=e.length,s=o,a=fo(o),u=1/0,l=[];s--;){var c=e[s];s&&t&&(c=d(c,R(t))),u=rs(c.length,u),a[s]=!n&&(t||i>=120&&c.length>=120)?new dt(s&&c):H}c=e[0];var h=-1,m=a[0];e:for(;++h<i&&l.length<u;){var g=c[h],y=t?t(g):g;if(g=n||0!==g?g:0,!(m?O(m,y):r(l,y,n))){for(s=o;--s;){var v=a[s];if(!(v?O(v,y):r(e[s],y,n)))continue e}m&&m.push(y),l.push(g)}}return l}function nn(e,t,n){var r=null==(e=ni(e,t=nr(t,e)))?e:e[ai(di(t))];return null==r?H:s(r,e,n)}function on(e){return Fi(e)&&zt(e)==se}function sn(e,t,n,r,i){return e===t||(null==e||null==t||!Fi(e)&&!Fi(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var s=Ca(e),a=Ca(t),u=s?ae:Fs(e),l=a?ae:Fs(t),c=(u=u==se?me:u)==me,h=(l=l==se?me:l)==me,p=u==l;if(p&&Ia(e)){if(!Ia(t))return!1;s=!0,c=!1}if(p&&!c)return o||(o=new mt),s||Da(e)?Dr(e,t,n,r,i,o):function(e,t,n,r,i,o,s){switch(n){case Se:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _e:return!(e.byteLength!=t.byteLength||!o(new Po(e),new Po(t)));case ue:case le:case de:return Li(+e,+t);case ce:return e.name==t.name&&e.message==t.message;case ye:case be:return e==t+"";case fe:var a=$;case ve:if(a||(a=z),e.size!=t.size&&!(1&r))return!1;var u=s.get(e);if(u)return u==t;r|=2,s.set(e,t);var l=Dr(a(e),a(t),r,i,o,s);return s.delete(e),l;case xe:if(_s)return _s.call(e)==_s.call(t)}return!1}(e,t,u,n,r,i,o);if(!(1&n)){var f=c&&Eo.call(e,"__wrapped__"),d=h&&Eo.call(t,"__wrapped__");if(f||d){var m=f?e.value():e,g=d?t.value():t;return o||(o=new mt),i(m,g,n,r,o)}}if(!p)return!1;return o||(o=new mt),function(e,t,n,r,i,o){var s=1&n,a=Fr(e),u=a.length,l=Fr(t);if(u!=l.length&&!s)return!1;var c=u;for(;c--;){var h=a[c];if(!(s?h in t:Eo.call(t,h)))return!1}var p=o.get(e),f=o.get(t);if(p&&f)return p==t&&f==e;var d=!0;o.set(e,t),o.set(t,e);var m=s;for(;++c<u;){var g=e[h=a[c]],y=t[h];if(r)var v=s?r(y,g,h,t,e,o):r(g,y,h,e,t,o);if(!(v===H?g===y||i(g,y,n,r,o):v)){d=!1;break}m||(m="constructor"==h)}if(d&&!m){var b=e.constructor,x=t.constructor;b==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,r,i,o)}(e,t,n,r,sn,i))}function un(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=bo(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var u=(a=n[i])[0],l=e[u],c=a[1];if(s&&a[2]){if(l===H&&!(u in e))return!1}else{var h=new mt;if(r)var p=r(l,c,u,e,t,h);if(!(p===H?sn(c,l,3,r,h):p))return!1}}return!0}function ln(e){return!(!Pi(e)||(t=e,Lo&&Lo in t))&&(Oi(e)?Oo:st).test(ui(e));var t}function gn(e){return"function"==typeof e?e:null==e?oo:"object"==i(e)?Ca(e)?An(e[0],e[1]):Tn(e):lo(e)}function wn(e){if(!Zr(e))return ts(e);var t=[];for(var n in bo(e))Eo.call(e,n)&&"constructor"!=n&&t.push(n);return t}function _n(e){if(!Pi(e))return function(e){var t=[];if(null!=e)for(var n in bo(e))t.push(n);return t}(e);var t=Zr(e),n=[];for(var r in e)("constructor"!=r||!t&&Eo.call(e,r))&&n.push(r);return n}function Sn(e,t){return e<t}function kn(e,t){var n=-1,r=Ii(e)?fo(e.length):[];return Ts(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function Tn(e){var t=Ur(e);return 1==t.length&&t[0][2]?ei(t[0][0],t[0][1]):function(n){return n===e||un(n,e,t)}}function An(e,t){return Yr(e)&&Jr(t)?ei(ai(e),t):function(n){var r=Xi(n,e);return r===H&&r===t?Yi(n,e):sn(t,r,3)}}function En(e,t,n,r,i){e!==t&&Es(t,(function(o,s){if(i||(i=new mt),Pi(o))!function(e,t,n,r,i,o,s){var a=ri(e,n),u=ri(t,n),l=s.get(u);if(l)return void xt(e,n,l);var c=o?o(a,u,n+"",e,t,s):H,h=c===H;if(h){var p=Ca(u),f=!p&&Ia(u),d=!p&&!f&&Da(u);c=u,p||f||d?Ca(a)?c=a:Ri(a)?c=cr(a):f?(h=!1,c=ir(u,!0)):d?(h=!1,c=sr(u,!0)):c=[]:Vi(u)||Ea(u)?(c=a,Ea(a)?c=Ki(a):Pi(a)&&!Oi(a)||(c=Hr(u))):h=!1}h&&(s.set(u,c),i(c,u,r,o,s),s.delete(u));xt(e,n,c)}(e,t,s,n,En,r,i);else{var a=r?r(ri(e,s),o,s+"",e,t,i):H;a===H&&(a=o),xt(e,s,a)}}),Zi)}function Cn(e,t){var n=e.length;if(n)return qr(t+=t<0?n:0,n)?e[t]:H}function Ln(e,t,n){t=t.length?d(t,(function(e){return Ca(e)?function(t){return Vt(t,1===e.length?e[0]:e)}:e})):[oo];var r=-1;t=d(t,R(zr()));var i=kn(e,(function(e){var n=d(t,(function(t){return t(e)}));return{criteria:n,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var u=ar(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function In(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Vt(e,s);n(a,s)&&$n(o,nr(s,e),a)}return o}function Rn(e,t,n,r){var i=r?_:w,o=-1,s=t.length,a=e;for(e===t&&(t=cr(t)),n&&(a=d(e,R(n)));++o<s;)for(var u=0,l=t[o],c=n?n(l):l;(u=i(a,c,u,r))>-1;)a!==e&&zo.call(a,u,1),zo.call(e,u,1);return e}function Mn(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;qr(i)?zo.call(e,i,1):qn(e,i)}}return e}function On(e,t){return e+Yo(ss()*(t-e+1))}function Nn(e,t){var n="";if(!e||t<1||t>ne)return n;do{t%2&&(n+=e),(t=Yo(t/2))&&(e+=e)}while(t);return n}function Dn(e,t){return zs(ti(e,t,oo),e+"")}function Pn(e){return yt(eo(e))}function Fn(e,t){var n=eo(e);return si(n,Et(t,0,n.length))}function $n(e,t,n,r){if(!Pi(e))return e;for(var i=-1,o=(t=nr(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var u=ai(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=s){var c=a[u];(l=r?r(c,u,a):H)===H&&(l=Pi(c)?c:qr(t[i+1])?[]:{})}wt(a,u,l),a=a[u]}return e}function Vn(e){return si(eo(e))}function Bn(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=fo(i);++r<i;)o[r]=e[r+t];return o}function zn(e,t){var n;return Ts(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function jn(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!zi(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return Un(e,t,oo,n)}function Un(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,a=null===t,u=zi(t),l=t===H;i<o;){var c=Yo((i+o)/2),h=n(e[c]),p=h!==H,f=null===h,d=h==h,m=zi(h);if(s)var g=r||d;else g=l?d&&(r||p):a?d&&p&&(r||!f):u?d&&p&&!f&&(r||!m):!f&&!m&&(r?h<=t:h<t);g?i=c+1:o=c}return rs(o,4294967294)}function Gn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Li(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Wn(e){return"number"==typeof e?e:zi(e)?re:+e}function Hn(e){if("string"==typeof e)return e;if(Ca(e))return d(e,Hn)+"";if(zi(e))return Ss?Ss.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Kn(e,t,n){var r=-1,i=p,o=e.length,s=!0,a=[],u=a;if(n)s=!1,i=f;else if(o>=200){var l=t?null:Os(e);if(l)return z(l);s=!1,i=O,u=new dt}else u=t?[]:a;e:for(;++r<o;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,s&&h==h){for(var d=u.length;d--;)if(u[d]===h)continue e;t&&u.push(h),a.push(c)}else i(u,h,n)||(u!==a&&u.push(h),a.push(c))}return a}function qn(e,t){return null==(e=ni(e,t=nr(t,e)))||delete e[ai(di(t))]}function Xn(e,t,n,r){return $n(e,t,n(Vt(e,t)),r)}function Yn(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Bn(e,r?0:o,r?o+1:i):Bn(e,r?o+1:0,r?i:o)}function Qn(e,t){var n=e;return n instanceof A&&(n=n.value()),g(t,(function(e,t){return t.func.apply(t.thisArg,m([e],t.args))}),n)}function Zn(e,t,n){var r=e.length;if(r<2)return r?Kn(e[0]):[];for(var i=-1,o=fo(r);++i<r;)for(var s=e[i],a=-1;++a<r;)a!=i&&(o[i]=Rt(o[i]||s,e[a],t,n));return Kn(Dt(o,1),t,n)}function Jn(e,t,n){for(var r=-1,i=e.length,o=t.length,s={};++r<i;){n(s,e[r],r<o?t[r]:H)}return s}function er(e){return Ri(e)?e:[]}function tr(e){return"function"==typeof e?e:oo}function nr(e,t){return Ca(e)?e:Yr(e,t)?[e]:js(qi(e))}function rr(e,t,n){var r=e.length;return n=n===H?r:n,!t&&n>=r?e:Bn(e,t,n)}function ir(e,t){if(t)return e.slice();var n=e.length,r=Fo?Fo(n):new e.constructor(n);return e.copy(r),r}function or(e){var t=new e.constructor(e.byteLength);return new Po(t).set(new Po(e)),t}function sr(e,t){var n=t?or(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ar(e,t){if(e!==t){var n=e!==H,r=null===e,i=e==e,o=zi(e),s=t!==H,a=null===t,u=t==t,l=zi(t);if(!a&&!l&&!o&&e>t||o&&s&&u&&!a&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function ur(e,t,n,r){for(var i=-1,o=e.length,s=n.length,a=-1,u=t.length,l=ns(o-s,0),c=fo(u+l),h=!r;++a<u;)c[a]=t[a];for(;++i<s;)(h||i<o)&&(c[n[i]]=e[i]);for(;l--;)c[a++]=e[i++];return c}function lr(e,t,n,r){for(var i=-1,o=e.length,s=-1,a=n.length,u=-1,l=t.length,c=ns(o-a,0),h=fo(c+l),p=!r;++i<c;)h[i]=e[i];for(var f=i;++u<l;)h[f+u]=t[u];for(;++s<a;)(p||i<o)&&(h[f+n[s]]=e[i++]);return h}function cr(e,t){var n=-1,r=e.length;for(t||(t=fo(r));++n<r;)t[n]=e[n];return t}function hr(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],u=r?r(n[a],e[a],a,n,e):H;u===H&&(u=e[a]),i?Tt(n,a,u):wt(n,a,u)}return n}function pr(e,t){return function(n,r){var i=Ca(n)?a:St,o=t?t():{};return i(n,e,zr(r,2),o)}}function fr(e){return Dn((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:H,s=i>2?n[2]:H;for(o=e.length>3&&"function"==typeof o?(i--,o):H,s&&Xr(n[0],n[1],s)&&(o=i<3?H:o,i=1),t=bo(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t}))}function dr(e,t){return function(n,r){if(null==n)return n;if(!Ii(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=bo(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function mr(e){return function(t,n,r){for(var i=-1,o=bo(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}function gr(e){return function(t){var n=F(t=qi(t))?G(t):H,r=n?n[0]:t.charAt(0),i=n?rr(n,1).join(""):t.slice(1);return r[e]()+i}}function yr(e){return function(t){return g(ro(no(t).replace(jt,"")),e,"")}}function vr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ks(e.prototype),r=e.apply(n,t);return Pi(r)?r:n}}function br(e){return function(t,n,r){var i=bo(t);if(!Ii(t)){var o=zr(n,3);t=Qi(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:H}}function xr(e){return Pr((function(t){var n=t.length,r=n,i=o.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new _o(K);if(i&&!a&&"wrapper"==Vr(s))var a=new o([],!0)}for(r=a?r:n;++r<n;){var u=Vr(s=t[r]),l="wrapper"==u?Ns(s):H;a=l&&Qr(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[Vr(l[0])].apply(a,l[3]):1==s.length&&Qr(s)?a[u]():a.thru(s)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&Ca(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function wr(e,t,n,r,i,o,s,a,u,l){var c=t&J,h=1&t,p=2&t,f=24&t,d=512&t,m=p?H:vr(e);return function g(){for(var y=arguments.length,v=fo(y),b=y;b--;)v[b]=arguments[b];if(f)var x=Br(g),w=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(v,x);if(r&&(v=ur(v,r,i,f)),o&&(v=lr(v,o,s,f)),y-=w,f&&y<l){var _=B(v,x);return Cr(e,t,wr,g.placeholder,n,v,_,a,u,l-y)}var S=h?n:this,k=p?S[e]:e;return y=v.length,a?v=function(e,t){var n=e.length,r=rs(t.length,n),i=cr(e);for(;r--;){var o=t[r];e[r]=qr(o,n)?i[o]:H}return e}(v,a):d&&y>1&&v.reverse(),c&&u<y&&(v.length=u),this&&this!==rn&&this instanceof g&&(k=m||vr(k)),k.apply(S,v)}}function _r(e,t){return function(n,r){return function(e,t,n,r){return Pt(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Sr(e,t){return function(n,r){var i;if(n===H&&r===H)return t;if(n!==H&&(i=n),r!==H){if(i===H)return r;"string"==typeof n||"string"==typeof r?(n=Hn(n),r=Hn(r)):(n=Wn(n),r=Wn(r)),i=e(n,r)}return i}}function kr(e){return Pr((function(t){return t=d(t,R(zr())),Dn((function(n){var r=this;return e(t,(function(e){return s(e,r,n)}))}))}))}function Tr(e,t){var n=(t=t===H?" ":Hn(t)).length;if(n<2)return n?Nn(t,e):t;var r=Nn(t,Xo(e/U(t)));return F(t)?rr(G(r),0,e).join(""):r.slice(0,e)}function Ar(e){return function(t,n,r){return r&&"number"!=typeof r&&Xr(t,n,r)&&(n=r=H),t=Ui(t),n===H?(n=t,t=0):n=Ui(n),function(e,t,n,r){for(var i=-1,o=ns(Xo((t-e)/(n||1)),0),s=fo(o);o--;)s[r?o:++i]=e,e+=n;return s}(t,n,r=r===H?t<n?1:-1:Ui(r),e)}}function Er(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Hi(t),n=Hi(n)),e(t,n)}}function Cr(e,t,n,r,i,o,s,a,u,l){var c=8&t;t|=c?Q:Z,4&(t&=~(c?Z:Q))||(t&=-4);var h=[e,t,i,c?o:H,c?s:H,c?H:o,c?H:s,a,u,l],p=n.apply(H,h);return Qr(e)&&Vs(p,h),p.placeholder=r,ii(p,e,t)}function Lr(e){var t=vo[e];return function(e,n){if(e=Hi(e),(n=null==n?0:rs(Gi(n),292))&&Jo(e)){var r=(qi(e)+"e").split("e");return+((r=(qi(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}function Ir(e){return function(t){var n=Fs(t);return n==fe?$(t):n==ve?j(t):function(e,t){return d(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Rr(e,t,n,r,i,o,a,u){var l=2&t;if(!l&&"function"!=typeof e)throw new _o(K);var c=r?r.length:0;if(c||(t&=-97,r=i=H),a=a===H?a:ns(Gi(a),0),u=u===H?u:Gi(u),c-=i?i.length:0,t&Z){var h=r,p=i;r=i=H}var f=l?H:Ns(e),d=[e,t,n,r,i,h,p,o,a,u];if(f&&function(e,t){var n=e[1],r=t[1],i=n|r,o=r==J&&8==n||r==J&&n==ee&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!(i<131||o))return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var a=e[3];e[3]=a?ur(a,s,t[4]):s,e[4]=a?B(e[3],X):t[4]}(s=t[5])&&(e[5]=(a=e[5])?lr(a,s,t[6]):s,e[6]=a?B(e[5],X):t[6]);(s=t[7])&&(e[7]=s);r&J&&(e[8]=null==e[8]?t[8]:rs(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(d,f),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],!(u=d[9]=d[9]===H?l?0:e.length:ns(d[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)m=8==t||t==Y?function(e,t,n){var r=vr(e);return function i(){for(var o=arguments.length,a=fo(o),u=o,l=Br(i);u--;)a[u]=arguments[u];var c=o<3&&a[0]!==l&&a[o-1]!==l?[]:B(a,l);return(o-=c.length)<n?Cr(e,t,wr,i.placeholder,H,a,c,H,H,n-o):s(this&&this!==rn&&this instanceof i?r:e,this,a)}}(e,t,u):t!=Q&&33!=t||i.length?wr.apply(H,d):function(e,t,n,r){var i=1&t,o=vr(e);return function t(){for(var a=-1,u=arguments.length,l=-1,c=r.length,h=fo(c+u),p=this&&this!==rn&&this instanceof t?o:e;++l<c;)h[l]=r[l];for(;u--;)h[l++]=arguments[++a];return s(p,i?n:this,h)}}(e,t,n,r);else var m=function(e,t,n){var r=1&t,i=vr(e);return function t(){return(this&&this!==rn&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return ii((f?Ls:Vs)(m,d),e,t)}function Mr(e,t,n,r){return e===H||Li(e,ko[n])&&!Eo.call(r,n)?t:e}function Or(e,t,n,r,i,o){return Pi(e)&&Pi(t)&&(o.set(t,e),En(e,t,H,Or,o),o.delete(t)),e}function Nr(e){return Vi(e)?H:e}function Dr(e,t,n,r,i,o){var s=1&n,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var h=-1,p=!0,f=2&n?new dt:H;for(o.set(e,t),o.set(t,e);++h<a;){var d=e[h],m=t[h];if(r)var g=s?r(m,d,h,t,e,o):r(d,m,h,e,t,o);if(g!==H){if(g)continue;p=!1;break}if(f){if(!v(t,(function(e,t){if(!O(f,t)&&(d===e||i(d,e,n,r,o)))return f.push(t)}))){p=!1;break}}else if(d!==m&&!i(d,m,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function Pr(e){return zs(ti(e,H,pi),e+"")}function Fr(e){return Bt(e,Qi,Ds)}function $r(e){return Bt(e,Zi,Ps)}function Vr(e){for(var t=e.name+"",n=ms[t],r=Eo.call(ms,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Br(e){return(Eo.call(n,"placeholder")?n:e).placeholder}function zr(){var e=n.iteratee||so;return e=e===so?gn:e,arguments.length?e(arguments[0],arguments[1]):e}function jr(e,t){var n=e.__data__;return function(e){var t=i(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ur(e){for(var t=Qi(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Jr(i)]}return t}function Gr(e,t){var n=function(e,t){return null==e?H:e[t]}(e,t);return ln(n)?n:H}function Wr(e,t,n){for(var r=-1,i=(t=nr(t,e)).length,o=!1;++r<i;){var s=ai(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Di(i)&&qr(s,i)&&(Ca(e)||Ea(e))}function Hr(e){return"function"!=typeof e.constructor||Zr(e)?{}:ks($o(e))}function Kr(e){return Ca(e)||Ea(e)||!!(jo&&e&&e[jo])}function qr(e,t){var n=i(e);return!!(t=null==t?ne:t)&&("number"==n||"symbol"!=n&&ut.test(e))&&e>-1&&e%1==0&&e<t}function Xr(e,t,n){if(!Pi(n))return!1;var r=i(t);return!!("number"==r?Ii(n)&&qr(t,n.length):"string"==r&&t in n)&&Li(n[t],e)}function Yr(e,t){if(Ca(e))return!1;var n=i(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!zi(e))||(Ge.test(e)||!Ue.test(e)||null!=t&&e in bo(t))}function Qr(e){var t=Vr(e),r=n[t];if("function"!=typeof r||!(t in A.prototype))return!1;if(e===r)return!0;var i=Ns(r);return!!i&&e===i[0]}function Zr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ko)}function Jr(e){return e==e&&!Pi(e)}function ei(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==H||e in bo(n)))}}function ti(e,t,n){return t=ns(t===H?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=ns(r.length-t,0),a=fo(o);++i<o;)a[i]=r[t+i];i=-1;for(var u=fo(t+1);++i<t;)u[i]=r[i];return u[t]=n(a),s(e,this,u)}}function ni(e,t){return t.length<2?e:Vt(e,Bn(t,0,-1))}function ri(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function ii(e,t,n){var r=t+"";return zs(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Ye,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return u(oe,(function(n){var r="_."+n[0];t&n[1]&&!p(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Qe);return t?t[1].split(Ze):[]}(r),n)))}function oi(e){var t=0,n=0;return function(){var r=is(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(H,arguments)}}function si(e,t){var n=-1,r=e.length,i=r-1;for(t=t===H?r:t;++n<t;){var o=On(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}function ai(e){if("string"==typeof e||zi(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e){if(null!=e){try{return Ao.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function li(e){if(e instanceof A)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=cr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ci(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Gi(n);return i<0&&(i=ns(r+i,0)),x(e,zr(t,3),i)}function hi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==H&&(i=Gi(n),i=n<0?ns(r+i,0):rs(i,r-1)),x(e,zr(t,3),i,!0)}function pi(e){return(null==e?0:e.length)?Dt(e,1):[]}function fi(e){return e&&e.length?e[0]:H}function di(e){var t=null==e?0:e.length;return t?e[t-1]:H}function mi(e,t){return e&&e.length&&t&&t.length?Rn(e,t):e}function gi(e){return null==e?e:as.call(e)}function yi(e){if(!e||!e.length)return[];var t=0;return e=h(e,(function(e){if(Ri(e))return t=ns(e.length,t),!0})),L(t,(function(t){return d(e,T(t))}))}function vi(e,t){if(!e||!e.length)return[];var n=yi(e);return null==t?n:d(n,(function(e){return s(t,H,e)}))}function bi(e){var t=n(e);return t.__chain__=!0,t}function xi(e,t){return t(e)}function wi(e,t){return(Ca(e)?u:Ts)(e,zr(t,3))}function _i(e,t){return(Ca(e)?l:As)(e,zr(t,3))}function Si(e,t){return(Ca(e)?d:kn)(e,zr(t,3))}function ki(e,t,n){return t=n?H:t,Rr(e,J,H,H,H,H,t=e&&null==t?e.length:t)}function Ti(e,t){var n;if("function"!=typeof t)throw new _o(K);return e=Gi(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=H),n}}function Ai(e,t,n){function r(t){var n=u,r=l;return u=l=H,d=t,h=e.apply(r,n)}function i(e){var n=e-f;return f===H||n>=t||n<0||g&&e-d>=c}function o(){var e=ma();if(i(e))return s(e);p=Bs(o,function(e){var n=t-(e-f);return g?rs(n,c-(e-d)):n}(e))}function s(e){return p=H,y&&u?r(e):(u=l=H,h)}function a(){var e=ma(),n=i(e);if(u=arguments,l=this,f=e,n){if(p===H)return function(e){return d=e,p=Bs(o,t),m?r(e):h}(f);if(g)return Ms(p),p=Bs(o,t),r(f)}return p===H&&(p=Bs(o,t)),h}var u,l,c,h,p,f,d=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new _o(K);return t=Hi(t)||0,Pi(n)&&(m=!!n.leading,c=(g="maxWait"in n)?ns(Hi(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),a.cancel=function(){p!==H&&Ms(p),d=0,u=f=l=p=H},a.flush=function(){return p===H?h:s(ma())},a}function Ei(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new _o(K);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ei.Cache||ft),n}function Ci(e){if("function"!=typeof e)throw new _o(K);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Li(e,t){return e===t||e!=e&&t!=t}function Ii(e){return null!=e&&Di(e.length)&&!Oi(e)}function Ri(e){return Fi(e)&&Ii(e)}function Mi(e){if(!Fi(e))return!1;var t=zt(e);return t==ce||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Vi(e)}function Oi(e){if(!Pi(e))return!1;var t=zt(e);return t==he||t==pe||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ni(e){return"number"==typeof e&&e==Gi(e)}function Di(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=ne}function Pi(e){var t=i(e);return null!=e&&("object"==t||"function"==t)}function Fi(e){return null!=e&&"object"==i(e)}function $i(e){return"number"==typeof e||Fi(e)&&zt(e)==de}function Vi(e){if(!Fi(e)||zt(e)!=me)return!1;var t=$o(e);if(null===t)return!0;var n=Eo.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ao.call(n)==Ro}function Bi(e){return"string"==typeof e||!Ca(e)&&Fi(e)&&zt(e)==be}function zi(e){return"symbol"==i(e)||Fi(e)&&zt(e)==xe}function ji(e){if(!e)return[];if(Ii(e))return Bi(e)?G(e):cr(e);if(Uo&&e[Uo])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Uo]());var t=Fs(e);return(t==fe?$:t==ve?z:eo)(e)}function Ui(e){return e?(e=Hi(e))===te||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Gi(e){var t=Ui(e),n=t%1;return t==t?n?t-n:t:0}function Wi(e){return e?Et(Gi(e),0,ie):0}function Hi(e){if("number"==typeof e)return e;if(zi(e))return re;if(Pi(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Pi(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=I(e);var n=ot.test(e);return n||at.test(e)?en(e.slice(2),n?2:8):it.test(e)?re:+e}function Ki(e){return hr(e,Zi(e))}function qi(e){return null==e?"":Hn(e)}function Xi(e,t,n){var r=null==e?H:Vt(e,t);return r===H?n:r}function Yi(e,t){return null!=e&&Wr(e,t,Zt)}function Qi(e){return Ii(e)?gt(e):wn(e)}function Zi(e){return Ii(e)?gt(e,!0):_n(e)}function Ji(e,t){if(null==e)return{};var n=d($r(e),(function(e){return[e]}));return t=zr(t),In(e,n,(function(e,n){return t(e,n[0])}))}function eo(e){return null==e?[]:M(e,Qi(e))}function to(e){return au(qi(e).toLowerCase())}function no(e){return(e=qi(e))&&e.replace(lt,yn).replace(Ut,"")}function ro(e,t,n){return e=qi(e),(t=n?H:t)===H?function(e){return Kt.test(e)}(e)?function(e){return e.match(Wt)||[]}(e):function(e){return e.match(Je)||[]}(e):e.match(t)||[]}function io(e){return function(){return e}}function oo(e){return e}function so(e){return gn("function"==typeof e?e:Ct(e,1))}function ao(e,t,n){var r=Qi(t),i=$t(t,r);null!=n||Pi(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=$t(t,Qi(t)));var o=!(Pi(n)&&"chain"in n&&!n.chain),s=Oi(e);return u(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=cr(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,m([this.value()],arguments))})})),e}function uo(){}function lo(e){return Yr(e)?T(ai(e)):function(e){return function(t){return Vt(t,e)}}(e)}function co(){return[]}function ho(){return!1}var po,fo=(t=null==t?rn:xn.defaults(rn.Object(),t,xn.pick(rn,qt))).Array,mo=t.Date,go=t.Error,yo=t.Function,vo=t.Math,bo=t.Object,xo=t.RegExp,wo=t.String,_o=t.TypeError,So=fo.prototype,ko=bo.prototype,To=t["__core-js_shared__"],Ao=yo.prototype.toString,Eo=ko.hasOwnProperty,Co=0,Lo=(po=/[^.]+$/.exec(To&&To.keys&&To.keys.IE_PROTO||""))?"Symbol(src)_1."+po:"",Io=ko.toString,Ro=Ao.call(bo),Mo=rn._,Oo=xo("^"+Ao.call(Eo).replace(He,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),No=an?t.Buffer:H,Do=t.Symbol,Po=t.Uint8Array,Fo=No?No.allocUnsafe:H,$o=V(bo.getPrototypeOf,bo),Vo=bo.create,Bo=ko.propertyIsEnumerable,zo=So.splice,jo=Do?Do.isConcatSpreadable:H,Uo=Do?Do.iterator:H,Go=Do?Do.toStringTag:H,Wo=function(){try{var e=Gr(bo,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ho=t.clearTimeout!==rn.clearTimeout&&t.clearTimeout,Ko=mo&&mo.now!==rn.Date.now&&mo.now,qo=t.setTimeout!==rn.setTimeout&&t.setTimeout,Xo=vo.ceil,Yo=vo.floor,Qo=bo.getOwnPropertySymbols,Zo=No?No.isBuffer:H,Jo=t.isFinite,es=So.join,ts=V(bo.keys,bo),ns=vo.max,rs=vo.min,is=mo.now,os=t.parseInt,ss=vo.random,as=So.reverse,us=Gr(t,"DataView"),ls=Gr(t,"Map"),cs=Gr(t,"Promise"),hs=Gr(t,"Set"),ps=Gr(t,"WeakMap"),fs=Gr(bo,"create"),ds=ps&&new ps,ms={},gs=ui(us),ys=ui(ls),vs=ui(cs),bs=ui(hs),xs=ui(ps),ws=Do?Do.prototype:H,_s=ws?ws.valueOf:H,Ss=ws?ws.toString:H,ks=function(){function e(){}return function(t){if(!Pi(t))return{};if(Vo)return Vo(t);e.prototype=t;var n=new e;return e.prototype=H,n}}();n.templateSettings={escape:Be,evaluate:ze,interpolate:je,variable:"",imports:{_:n}},(n.prototype=r.prototype).constructor=n,(o.prototype=ks(r.prototype)).constructor=o,(A.prototype=ks(r.prototype)).constructor=A,Xe.prototype.clear=function(){this.__data__=fs?fs(null):{},this.size=0},Xe.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Xe.prototype.get=function(e){var t=this.__data__;if(fs){var n=t[e];return n===q?H:n}return Eo.call(t,e)?t[e]:H},Xe.prototype.has=function(e){var t=this.__data__;return fs?t[e]!==H:Eo.call(t,e)},Xe.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fs&&t===H?q:t,this},pt.prototype.clear=function(){this.__data__=[],this.size=0},pt.prototype.delete=function(e){var t=this.__data__,n=_t(t,e);return!(n<0)&&(n==t.length-1?t.pop():zo.call(t,n,1),--this.size,!0)},pt.prototype.get=function(e){var t=this.__data__,n=_t(t,e);return n<0?H:t[n][1]},pt.prototype.has=function(e){return _t(this.__data__,e)>-1},pt.prototype.set=function(e,t){var n=this.__data__,r=_t(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ft.prototype.clear=function(){this.size=0,this.__data__={hash:new Xe,map:new(ls||pt),string:new Xe}},ft.prototype.delete=function(e){var t=jr(this,e).delete(e);return this.size-=t?1:0,t},ft.prototype.get=function(e){return jr(this,e).get(e)},ft.prototype.has=function(e){return jr(this,e).has(e)},ft.prototype.set=function(e,t){var n=jr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},dt.prototype.add=dt.prototype.push=function(e){return this.__data__.set(e,q),this},dt.prototype.has=function(e){return this.__data__.has(e)},mt.prototype.clear=function(){this.__data__=new pt,this.size=0},mt.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},mt.prototype.get=function(e){return this.__data__.get(e)},mt.prototype.has=function(e){return this.__data__.has(e)},mt.prototype.set=function(e,t){var n=this.__data__;if(n instanceof pt){var r=n.__data__;if(!ls||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ft(r)}return n.set(e,t),this.size=n.size,this};var Ts=dr(Pt),As=dr(Ft,!0),Es=mr(),Cs=mr(!0),Ls=ds?function(e,t){return ds.set(e,t),e}:oo,Is=Wo?function(e,t){return Wo(e,"toString",{configurable:!0,enumerable:!1,value:io(t),writable:!0})}:oo,Rs=Dn,Ms=Ho||function(e){return rn.clearTimeout(e)},Os=hs&&1/z(new hs([,-0]))[1]==te?function(e){return new hs(e)}:uo,Ns=ds?function(e){return ds.get(e)}:uo,Ds=Qo?function(e){return null==e?[]:(e=bo(e),h(Qo(e),(function(t){return Bo.call(e,t)})))}:co,Ps=Qo?function(e){for(var t=[];e;)m(t,Ds(e)),e=$o(e);return t}:co,Fs=zt;(us&&Fs(new us(new ArrayBuffer(1)))!=Se||ls&&Fs(new ls)!=fe||cs&&Fs(cs.resolve())!=ge||hs&&Fs(new hs)!=ve||ps&&Fs(new ps)!=we)&&(Fs=function(e){var t=zt(e),n=t==me?e.constructor:H,r=n?ui(n):"";if(r)switch(r){case gs:return Se;case ys:return fe;case vs:return ge;case bs:return ve;case xs:return we}return t});var $s=To?Oi:ho,Vs=oi(Ls),Bs=qo||function(e,t){return rn.setTimeout(e,t)},zs=oi(Is),js=function(e){var t=Ei(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(We,(function(e,n,r,i){t.push(r?i.replace(tt,"$1"):n||e)})),t})),Us=Dn((function(e,t){return Ri(e)?Rt(e,Dt(t,1,Ri,!0)):[]})),Gs=Dn((function(e,t){var n=di(t);return Ri(n)&&(n=H),Ri(e)?Rt(e,Dt(t,1,Ri,!0),zr(n,2)):[]})),Ws=Dn((function(e,t){var n=di(t);return Ri(n)&&(n=H),Ri(e)?Rt(e,Dt(t,1,Ri,!0),H,n):[]})),Hs=Dn((function(e){var t=d(e,er);return t.length&&t[0]===e[0]?tn(t):[]})),Ks=Dn((function(e){var t=di(e),n=d(e,er);return t===di(n)?t=H:n.pop(),n.length&&n[0]===e[0]?tn(n,zr(t,2)):[]})),qs=Dn((function(e){var t=di(e),n=d(e,er);return(t="function"==typeof t?t:H)&&n.pop(),n.length&&n[0]===e[0]?tn(n,H,t):[]})),Xs=Dn(mi),Ys=Pr((function(e,t){var n=null==e?0:e.length,r=At(e,t);return Mn(e,d(t,(function(e){return qr(e,n)?+e:e})).sort(ar)),r})),Qs=Dn((function(e){return Kn(Dt(e,1,Ri,!0))})),Zs=Dn((function(e){var t=di(e);return Ri(t)&&(t=H),Kn(Dt(e,1,Ri,!0),zr(t,2))})),Js=Dn((function(e){var t=di(e);return t="function"==typeof t?t:H,Kn(Dt(e,1,Ri,!0),H,t)})),ea=Dn((function(e,t){return Ri(e)?Rt(e,t):[]})),ta=Dn((function(e){return Zn(h(e,Ri))})),na=Dn((function(e){var t=di(e);return Ri(t)&&(t=H),Zn(h(e,Ri),zr(t,2))})),ra=Dn((function(e){var t=di(e);return t="function"==typeof t?t:H,Zn(h(e,Ri),H,t)})),ia=Dn(yi),oa=Dn((function(e){var t=e.length,n=t>1?e[t-1]:H;return n="function"==typeof n?(e.pop(),n):H,vi(e,n)})),sa=Pr((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return At(t,e)};return!(t>1||this.__actions__.length)&&r instanceof A&&qr(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:xi,args:[i],thisArg:H}),new o(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(H),e}))):this.thru(i)})),aa=pr((function(e,t,n){Eo.call(e,n)?++e[n]:Tt(e,n,1)})),ua=br(ci),la=br(hi),ca=pr((function(e,t,n){Eo.call(e,n)?e[n].push(t):Tt(e,n,[t])})),ha=Dn((function(e,t,n){var r=-1,i="function"==typeof t,o=Ii(e)?fo(e.length):[];return Ts(e,(function(e){o[++r]=i?s(t,e,n):nn(e,t,n)})),o})),pa=pr((function(e,t,n){Tt(e,n,t)})),fa=pr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),da=Dn((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Xr(e,t[0],t[1])?t=[]:n>2&&Xr(t[0],t[1],t[2])&&(t=[t[0]]),Ln(e,Dt(t,1),[])})),ma=Ko||function(){return rn.Date.now()},ga=Dn((function(e,t,n){var r=1;if(n.length){var i=B(n,Br(ga));r|=Q}return Rr(e,r,t,n,i)})),ya=Dn((function(e,t,n){var r=3;if(n.length){var i=B(n,Br(ya));r|=Q}return Rr(t,r,e,n,i)})),va=Dn((function(e,t){return It(e,1,t)})),ba=Dn((function(e,t,n){return It(e,Hi(t)||0,n)}));Ei.Cache=ft;var xa,wa=Rs((function(e,t){var n=(t=1==t.length&&Ca(t[0])?d(t[0],R(zr())):d(Dt(t,1),R(zr()))).length;return Dn((function(r){for(var i=-1,o=rs(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return s(e,this,r)}))})),_a=Dn((function(e,t){var n=B(t,Br(_a));return Rr(e,Q,H,t,n)})),Sa=Dn((function(e,t){var n=B(t,Br(Sa));return Rr(e,Z,H,t,n)})),ka=Pr((function(e,t){return Rr(e,ee,H,H,H,t)})),Ta=Er(Gt),Aa=Er((function(e,t){return e>=t})),Ea=on(function(){return arguments}())?on:function(e){return Fi(e)&&Eo.call(e,"callee")&&!Bo.call(e,"callee")},Ca=fo.isArray,La=cn?R(cn):function(e){return Fi(e)&&zt(e)==_e},Ia=Zo||ho,Ra=hn?R(hn):function(e){return Fi(e)&&zt(e)==le},Ma=pn?R(pn):function(e){return Fi(e)&&Fs(e)==fe},Oa=fn?R(fn):function(e){return Fi(e)&&zt(e)==ye},Na=dn?R(dn):function(e){return Fi(e)&&Fs(e)==ve},Da=mn?R(mn):function(e){return Fi(e)&&Di(e.length)&&!!Yt[zt(e)]},Pa=Er(Sn),Fa=Er((function(e,t){return e<=t})),$a=fr((function(e,t){if(Zr(t)||Ii(t))hr(t,Qi(t),e);else for(var n in t)Eo.call(t,n)&&wt(e,n,t[n])})),Va=fr((function(e,t){hr(t,Zi(t),e)})),Ba=fr((function(e,t,n,r){hr(t,Zi(t),e,r)})),za=fr((function(e,t,n,r){hr(t,Qi(t),e,r)})),ja=Pr(At),Ua=Dn((function(e,t){e=bo(e);var n=-1,r=t.length,i=r>2?t[2]:H;for(i&&Xr(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],s=Zi(o),a=-1,u=s.length;++a<u;){var l=s[a],c=e[l];(c===H||Li(c,ko[l])&&!Eo.call(e,l))&&(e[l]=o[l])}return e})),Ga=Dn((function(e){return e.push(H,Or),s(Xa,H,e)})),Wa=_r((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Io.call(t)),e[t]=n}),io(oo)),Ha=_r((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Io.call(t)),Eo.call(e,t)?e[t].push(n):e[t]=[n]}),zr),Ka=Dn(nn),qa=fr((function(e,t,n){En(e,t,n)})),Xa=fr((function(e,t,n,r){En(e,t,n,r)})),Ya=Pr((function(e,t){var n={};if(null==e)return n;var r=!1;t=d(t,(function(t){return t=nr(t,e),r||(r=t.length>1),t})),hr(e,$r(e),n),r&&(n=Ct(n,7,Nr));for(var i=t.length;i--;)qn(n,t[i]);return n})),Qa=Pr((function(e,t){return null==e?{}:function(e,t){return In(e,t,(function(t,n){return Yi(e,n)}))}(e,t)})),Za=Ir(Qi),Ja=Ir(Zi),eu=yr((function(e,t,n){return t=t.toLowerCase(),e+(n?to(t):t)})),tu=yr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),nu=yr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),ru=gr("toLowerCase"),iu=yr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),ou=yr((function(e,t,n){return e+(n?" ":"")+au(t)})),su=yr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),au=gr("toUpperCase"),uu=Dn((function(e,t){try{return s(e,H,t)}catch(e){return Mi(e)?e:new go(e)}})),lu=Pr((function(e,t){return u(t,(function(t){t=ai(t),Tt(e,t,ga(e[t],e))})),e})),cu=xr(),hu=xr(!0),pu=Dn((function(e,t){return function(n){return nn(n,e,t)}})),fu=Dn((function(e,t){return function(n){return nn(e,n,t)}})),du=kr(d),mu=kr(c),gu=kr(v),yu=Ar(),vu=Ar(!0),bu=Sr((function(e,t){return e+t}),0),xu=Lr("ceil"),wu=Sr((function(e,t){return e/t}),1),_u=Lr("floor"),Su=Sr((function(e,t){return e*t}),1),ku=Lr("round"),Tu=Sr((function(e,t){return e-t}),0);return n.after=function(e,t){if("function"!=typeof t)throw new _o(K);return e=Gi(e),function(){if(--e<1)return t.apply(this,arguments)}},n.ary=ki,n.assign=$a,n.assignIn=Va,n.assignInWith=Ba,n.assignWith=za,n.at=ja,n.before=Ti,n.bind=ga,n.bindAll=lu,n.bindKey=ya,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ca(e)?e:[e]},n.chain=bi,n.chunk=function(e,t,n){t=(n?Xr(e,t,n):t===H)?1:ns(Gi(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,s=fo(Xo(r/t));i<r;)s[o++]=Bn(e,i,i+=t);return s},n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=fo(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return m(Ca(n)?cr(n):[n],Dt(t,1))},n.cond=function(e){var t=null==e?0:e.length,n=zr();return e=t?d(e,(function(e){if("function"!=typeof e[1])throw new _o(K);return[n(e[0]),e[1]]})):[],Dn((function(n){for(var r=-1;++r<t;){var i=e[r];if(s(i[0],this,n))return s(i[1],this,n)}}))},n.conforms=function(e){return function(e){var t=Qi(e);return function(n){return Lt(n,e,t)}}(Ct(e,1))},n.constant=io,n.countBy=aa,n.create=function(e,t){var n=ks(e);return null==t?n:kt(n,t)},n.curry=function e(t,n,r){var i=Rr(t,8,H,H,H,H,H,n=r?H:n);return i.placeholder=e.placeholder,i},n.curryRight=function e(t,n,r){var i=Rr(t,Y,H,H,H,H,H,n=r?H:n);return i.placeholder=e.placeholder,i},n.debounce=Ai,n.defaults=Ua,n.defaultsDeep=Ga,n.defer=va,n.delay=ba,n.difference=Us,n.differenceBy=Gs,n.differenceWith=Ws,n.drop=function(e,t,n){var r=null==e?0:e.length;return r?Bn(e,(t=n||t===H?1:Gi(t))<0?0:t,r):[]},n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Bn(e,0,(t=r-(t=n||t===H?1:Gi(t)))<0?0:t):[]},n.dropRightWhile=function(e,t){return e&&e.length?Yn(e,zr(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?Yn(e,zr(t,3),!0):[]},n.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Xr(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=Gi(n))<0&&(n=-n>i?0:i+n),(r=r===H||r>i?i:Gi(r))<0&&(r+=i),r=n>r?0:Wi(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},n.filter=function(e,t){return(Ca(e)?h:Nt)(e,zr(t,3))},n.flatMap=function(e,t){return Dt(Si(e,t),1)},n.flatMapDeep=function(e,t){return Dt(Si(e,t),te)},n.flatMapDepth=function(e,t,n){return n=n===H?1:Gi(n),Dt(Si(e,t),n)},n.flatten=pi,n.flattenDeep=function(e){return(null==e?0:e.length)?Dt(e,te):[]},n.flattenDepth=function(e,t){return(null==e?0:e.length)?Dt(e,t=t===H?1:Gi(t)):[]},n.flip=function(e){return Rr(e,512)},n.flow=cu,n.flowRight=hu,n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},n.functions=function(e){return null==e?[]:$t(e,Qi(e))},n.functionsIn=function(e){return null==e?[]:$t(e,Zi(e))},n.groupBy=ca,n.initial=function(e){return(null==e?0:e.length)?Bn(e,0,-1):[]},n.intersection=Hs,n.intersectionBy=Ks,n.intersectionWith=qs,n.invert=Wa,n.invertBy=Ha,n.invokeMap=ha,n.iteratee=so,n.keyBy=pa,n.keys=Qi,n.keysIn=Zi,n.map=Si,n.mapKeys=function(e,t){var n={};return t=zr(t,3),Pt(e,(function(e,r,i){Tt(n,t(e,r,i),e)})),n},n.mapValues=function(e,t){var n={};return t=zr(t,3),Pt(e,(function(e,r,i){Tt(n,r,t(e,r,i))})),n},n.matches=function(e){return Tn(Ct(e,1))},n.matchesProperty=function(e,t){return An(e,Ct(t,1))},n.memoize=Ei,n.merge=qa,n.mergeWith=Xa,n.method=pu,n.methodOf=fu,n.mixin=ao,n.negate=Ci,n.nthArg=function(e){return e=Gi(e),Dn((function(t){return Cn(t,e)}))},n.omit=Ya,n.omitBy=function(e,t){return Ji(e,Ci(zr(t)))},n.once=function(e){return Ti(2,e)},n.orderBy=function(e,t,n,r){return null==e?[]:(Ca(t)||(t=null==t?[]:[t]),Ca(n=r?H:n)||(n=null==n?[]:[n]),Ln(e,t,n))},n.over=du,n.overArgs=wa,n.overEvery=mu,n.overSome=gu,n.partial=_a,n.partialRight=Sa,n.partition=fa,n.pick=Qa,n.pickBy=Ji,n.property=lo,n.propertyOf=function(e){return function(t){return null==e?H:Vt(e,t)}},n.pull=Xs,n.pullAll=mi,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Rn(e,t,zr(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Rn(e,t,H,n):e},n.pullAt=Ys,n.range=yu,n.rangeRight=vu,n.rearg=ka,n.reject=function(e,t){return(Ca(e)?h:Nt)(e,Ci(zr(t,3)))},n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=zr(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Mn(e,i),n},n.rest=function(e,t){if("function"!=typeof e)throw new _o(K);return Dn(e,t=t===H?t:Gi(t))},n.reverse=gi,n.sampleSize=function(e,t,n){return t=(n?Xr(e,t,n):t===H)?1:Gi(t),(Ca(e)?vt:Fn)(e,t)},n.set=function(e,t,n){return null==e?e:$n(e,t,n)},n.setWith=function(e,t,n,r){return r="function"==typeof r?r:H,null==e?e:$n(e,t,n,r)},n.shuffle=function(e){return(Ca(e)?bt:Vn)(e)},n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Xr(e,t,n)?(t=0,n=r):(t=null==t?0:Gi(t),n=n===H?r:Gi(n)),Bn(e,t,n)):[]},n.sortBy=da,n.sortedUniq=function(e){return e&&e.length?Gn(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?Gn(e,zr(t,2)):[]},n.split=function(e,t,n){return n&&"number"!=typeof n&&Xr(e,t,n)&&(t=n=H),(n=n===H?ie:n>>>0)?(e=qi(e))&&("string"==typeof t||null!=t&&!Oa(t))&&!(t=Hn(t))&&F(e)?rr(G(e),0,n):e.split(t,n):[]},n.spread=function(e,t){if("function"!=typeof e)throw new _o(K);return t=null==t?0:ns(Gi(t),0),Dn((function(n){var r=n[t],i=rr(n,0,t);return r&&m(i,r),s(e,this,i)}))},n.tail=function(e){var t=null==e?0:e.length;return t?Bn(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?Bn(e,0,(t=n||t===H?1:Gi(t))<0?0:t):[]},n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Bn(e,(t=r-(t=n||t===H?1:Gi(t)))<0?0:t,r):[]},n.takeRightWhile=function(e,t){return e&&e.length?Yn(e,zr(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?Yn(e,zr(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new _o(K);return Pi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ai(e,t,{leading:r,maxWait:t,trailing:i})},n.thru=xi,n.toArray=ji,n.toPairs=Za,n.toPairsIn=Ja,n.toPath=function(e){return Ca(e)?d(e,ai):zi(e)?[e]:cr(js(qi(e)))},n.toPlainObject=Ki,n.transform=function(e,t,n){var r=Ca(e),i=r||Ia(e)||Da(e);if(t=zr(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Pi(e)&&Oi(o)?ks($o(e)):{}}return(i?u:Pt)(e,(function(e,r,i){return t(n,e,r,i)})),n},n.unary=function(e){return ki(e,1)},n.union=Qs,n.unionBy=Zs,n.unionWith=Js,n.uniq=function(e){return e&&e.length?Kn(e):[]},n.uniqBy=function(e,t){return e&&e.length?Kn(e,zr(t,2)):[]},n.uniqWith=function(e,t){return t="function"==typeof t?t:H,e&&e.length?Kn(e,H,t):[]},n.unset=function(e,t){return null==e||qn(e,t)},n.unzip=yi,n.unzipWith=vi,n.update=function(e,t,n){return null==e?e:Xn(e,t,tr(n))},n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:H,null==e?e:Xn(e,t,tr(n),r)},n.values=eo,n.valuesIn=function(e){return null==e?[]:M(e,Zi(e))},n.without=ea,n.words=ro,n.wrap=function(e,t){return _a(tr(t),e)},n.xor=ta,n.xorBy=na,n.xorWith=ra,n.zip=ia,n.zipObject=function(e,t){return Jn(e||[],t||[],wt)},n.zipObjectDeep=function(e,t){return Jn(e||[],t||[],$n)},n.zipWith=oa,n.entries=Za,n.entriesIn=Ja,n.extend=Va,n.extendWith=Ba,ao(n,n),n.add=bu,n.attempt=uu,n.camelCase=eu,n.capitalize=to,n.ceil=xu,n.clamp=function(e,t,n){return n===H&&(n=t,t=H),n!==H&&(n=(n=Hi(n))==n?n:0),t!==H&&(t=(t=Hi(t))==t?t:0),Et(Hi(e),t,n)},n.clone=function(e){return Ct(e,4)},n.cloneDeep=function(e){return Ct(e,5)},n.cloneDeepWith=function(e,t){return Ct(e,5,t="function"==typeof t?t:H)},n.cloneWith=function(e,t){return Ct(e,4,t="function"==typeof t?t:H)},n.conformsTo=function(e,t){return null==t||Lt(e,t,Qi(t))},n.deburr=no,n.defaultTo=function(e,t){return null==e||e!=e?t:e},n.divide=wu,n.endsWith=function(e,t,n){e=qi(e),t=Hn(t);var r=e.length,i=n=n===H?r:Et(Gi(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},n.eq=Li,n.escape=function(e){return(e=qi(e))&&Ve.test(e)?e.replace(Fe,vn):e},n.escapeRegExp=function(e){return(e=qi(e))&&Ke.test(e)?e.replace(He,"\\$&"):e},n.every=function(e,t,n){var r=Ca(e)?c:Mt;return n&&Xr(e,t,n)&&(t=H),r(e,zr(t,3))},n.find=ua,n.findIndex=ci,n.findKey=function(e,t){return b(e,zr(t,3),Pt)},n.findLast=la,n.findLastIndex=hi,n.findLastKey=function(e,t){return b(e,zr(t,3),Ft)},n.floor=_u,n.forEach=wi,n.forEachRight=_i,n.forIn=function(e,t){return null==e?e:Es(e,zr(t,3),Zi)},n.forInRight=function(e,t){return null==e?e:Cs(e,zr(t,3),Zi)},n.forOwn=function(e,t){return e&&Pt(e,zr(t,3))},n.forOwnRight=function(e,t){return e&&Ft(e,zr(t,3))},n.get=Xi,n.gt=Ta,n.gte=Aa,n.has=function(e,t){return null!=e&&Wr(e,t,Ht)},n.hasIn=Yi,n.head=fi,n.identity=oo,n.includes=function(e,t,n,r){e=Ii(e)?e:eo(e),n=n&&!r?Gi(n):0;var i=e.length;return n<0&&(n=ns(i+n,0)),Bi(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&w(e,t,n)>-1},n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Gi(n);return i<0&&(i=ns(r+i,0)),w(e,t,i)},n.inRange=function(e,t,n){return t=Ui(t),n===H?(n=t,t=0):n=Ui(n),function(e,t,n){return e>=rs(t,n)&&e<ns(t,n)}(e=Hi(e),t,n)},n.invoke=Ka,n.isArguments=Ea,n.isArray=Ca,n.isArrayBuffer=La,n.isArrayLike=Ii,n.isArrayLikeObject=Ri,n.isBoolean=function(e){return!0===e||!1===e||Fi(e)&&zt(e)==ue},n.isBuffer=Ia,n.isDate=Ra,n.isElement=function(e){return Fi(e)&&1===e.nodeType&&!Vi(e)},n.isEmpty=function(e){if(null==e)return!0;if(Ii(e)&&(Ca(e)||"string"==typeof e||"function"==typeof e.splice||Ia(e)||Da(e)||Ea(e)))return!e.length;var t=Fs(e);if(t==fe||t==ve)return!e.size;if(Zr(e))return!wn(e).length;for(var n in e)if(Eo.call(e,n))return!1;return!0},n.isEqual=function(e,t){return sn(e,t)},n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:H)?n(e,t):H;return r===H?sn(e,t,H,n):!!r},n.isError=Mi,n.isFinite=function(e){return"number"==typeof e&&Jo(e)},n.isFunction=Oi,n.isInteger=Ni,n.isLength=Di,n.isMap=Ma,n.isMatch=function(e,t){return e===t||un(e,t,Ur(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:H,un(e,t,Ur(t),n)},n.isNaN=function(e){return $i(e)&&e!=+e},n.isNative=function(e){if($s(e))throw new go("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ln(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=$i,n.isObject=Pi,n.isObjectLike=Fi,n.isPlainObject=Vi,n.isRegExp=Oa,n.isSafeInteger=function(e){return Ni(e)&&e>=-9007199254740991&&e<=ne},n.isSet=Na,n.isString=Bi,n.isSymbol=zi,n.isTypedArray=Da,n.isUndefined=function(e){return e===H},n.isWeakMap=function(e){return Fi(e)&&Fs(e)==we},n.isWeakSet=function(e){return Fi(e)&&"[object WeakSet]"==zt(e)},n.join=function(e,t){return null==e?"":es.call(e,t)},n.kebabCase=tu,n.last=di,n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==H&&(i=(i=Gi(n))<0?ns(r+i,0):rs(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):x(e,S,i,!0)},n.lowerCase=nu,n.lowerFirst=ru,n.lt=Pa,n.lte=Fa,n.max=function(e){return e&&e.length?Ot(e,oo,Gt):H},n.maxBy=function(e,t){return e&&e.length?Ot(e,zr(t,2),Gt):H},n.mean=function(e){return k(e,oo)},n.meanBy=function(e,t){return k(e,zr(t,2))},n.min=function(e){return e&&e.length?Ot(e,oo,Sn):H},n.minBy=function(e,t){return e&&e.length?Ot(e,zr(t,2),Sn):H},n.stubArray=co,n.stubFalse=ho,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=Su,n.nth=function(e,t){return e&&e.length?Cn(e,Gi(t)):H},n.noConflict=function(){return rn._===this&&(rn._=Mo),this},n.noop=uo,n.now=ma,n.pad=function(e,t,n){e=qi(e);var r=(t=Gi(t))?U(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Tr(Yo(i),n)+e+Tr(Xo(i),n)},n.padEnd=function(e,t,n){e=qi(e);var r=(t=Gi(t))?U(e):0;return t&&r<t?e+Tr(t-r,n):e},n.padStart=function(e,t,n){e=qi(e);var r=(t=Gi(t))?U(e):0;return t&&r<t?Tr(t-r,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),os(qi(e).replace(qe,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Xr(e,t,n)&&(t=n=H),n===H&&("boolean"==typeof t?(n=t,t=H):"boolean"==typeof e&&(n=e,e=H)),e===H&&t===H?(e=0,t=1):(e=Ui(e),t===H?(t=e,e=0):t=Ui(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=ss();return rs(e+i*(t-e+Jt("1e-"+((i+"").length-1))),t)}return On(e,t)},n.reduce=function(e,t,n){var r=Ca(e)?g:E,i=arguments.length<3;return r(e,zr(t,4),n,i,Ts)},n.reduceRight=function(e,t,n){var r=Ca(e)?y:E,i=arguments.length<3;return r(e,zr(t,4),n,i,As)},n.repeat=function(e,t,n){return t=(n?Xr(e,t,n):t===H)?1:Gi(t),Nn(qi(e),t)},n.replace=function(){var e=arguments,t=qi(e[0]);return e.length<3?t:t.replace(e[1],e[2])},n.result=function(e,t,n){var r=-1,i=(t=nr(t,e)).length;for(i||(i=1,e=H);++r<i;){var o=null==e?H:e[ai(t[r])];o===H&&(r=i,o=n),e=Oi(o)?o.call(e):o}return e},n.round=ku,n.runInContext=e,n.sample=function(e){return(Ca(e)?yt:Pn)(e)},n.size=function(e){if(null==e)return 0;if(Ii(e))return Bi(e)?U(e):e.length;var t=Fs(e);return t==fe||t==ve?e.size:wn(e).length},n.snakeCase=iu,n.some=function(e,t,n){var r=Ca(e)?v:zn;return n&&Xr(e,t,n)&&(t=H),r(e,zr(t,3))},n.sortedIndex=function(e,t){return jn(e,t)},n.sortedIndexBy=function(e,t,n){return Un(e,t,zr(n,2))},n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=jn(e,t);if(r<n&&Li(e[r],t))return r}return-1},n.sortedLastIndex=function(e,t){return jn(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return Un(e,t,zr(n,2),!0)},n.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=jn(e,t,!0)-1;if(Li(e[n],t))return n}return-1},n.startCase=ou,n.startsWith=function(e,t,n){return e=qi(e),n=null==n?0:Et(Gi(n),0,e.length),t=Hn(t),e.slice(n,n+t.length)==t},n.subtract=Tu,n.sum=function(e){return e&&e.length?C(e,oo):0},n.sumBy=function(e,t){return e&&e.length?C(e,zr(t,2)):0},n.template=function(e,t,r){var i=n.templateSettings;r&&Xr(e,t,r)&&(t=H),e=qi(e),t=Ba({},t,i,Mr);var o,s,a=Ba({},t.imports,i.imports,Mr),u=Qi(a),l=M(a,u),c=0,h=t.interpolate||ct,p="__p += '",f=xo((t.escape||ct).source+"|"+h.source+"|"+(h===je?nt:ct).source+"|"+(t.evaluate||ct).source+"|$","g"),d="//# sourceURL="+(Eo.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xt+"]")+"\n";e.replace(f,(function(t,n,r,i,a,u){return r||(r=i),p+=e.slice(c,u).replace(ht,P),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),p+="';\n";var m=Eo.call(t,"variable")&&t.variable;if(m){if(et.test(m))throw new go("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(s?p.replace(Oe,""):p).replace(Ne,"$1").replace(De,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=uu((function(){return yo(u,d+"return "+p).apply(H,l)}));if(g.source=p,Mi(g))throw g;return g},n.times=function(e,t){if((e=Gi(e))<1||e>ne)return[];var n=ie,r=rs(e,ie);t=zr(t),e-=ie;for(var i=L(r,t);++n<e;)t(n);return i},n.toFinite=Ui,n.toInteger=Gi,n.toLength=Wi,n.toLower=function(e){return qi(e).toLowerCase()},n.toNumber=Hi,n.toSafeInteger=function(e){return e?Et(Gi(e),-9007199254740991,ne):0===e?e:0},n.toString=qi,n.toUpper=function(e){return qi(e).toUpperCase()},n.trim=function(e,t,n){if((e=qi(e))&&(n||t===H))return I(e);if(!e||!(t=Hn(t)))return e;var r=G(e),i=G(t);return rr(r,N(r,i),D(r,i)+1).join("")},n.trimEnd=function(e,t,n){if((e=qi(e))&&(n||t===H))return e.slice(0,W(e)+1);if(!e||!(t=Hn(t)))return e;var r=G(e);return rr(r,0,D(r,G(t))+1).join("")},n.trimStart=function(e,t,n){if((e=qi(e))&&(n||t===H))return e.replace(qe,"");if(!e||!(t=Hn(t)))return e;var r=G(e);return rr(r,N(r,G(t))).join("")},n.truncate=function(e,t){var n=30,r="...";if(Pi(t)){var i="separator"in t?t.separator:i;n="length"in t?Gi(t.length):n,r="omission"in t?Hn(t.omission):r}var o=(e=qi(e)).length;if(F(e)){var s=G(e);o=s.length}if(n>=o)return e;var a=n-U(r);if(a<1)return r;var u=s?rr(s,0,a).join(""):e.slice(0,a);if(i===H)return u+r;if(s&&(a+=u.length-a),Oa(i)){if(e.slice(a).search(i)){var l,c=u;for(i.global||(i=xo(i.source,qi(rt.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var h=l.index;u=u.slice(0,h===H?a:h)}}else if(e.indexOf(Hn(i),a)!=a){var p=u.lastIndexOf(i);p>-1&&(u=u.slice(0,p))}return u+r},n.unescape=function(e){return(e=qi(e))&&$e.test(e)?e.replace(Pe,bn):e},n.uniqueId=function(e){var t=++Co;return qi(e)+t},n.upperCase=su,n.upperFirst=au,n.each=wi,n.eachRight=_i,n.first=fi,ao(n,(xa={},Pt(n,(function(e,t){Eo.call(n.prototype,t)||(xa[t]=e)})),xa),{chain:!1}),n.VERSION="4.17.21",u(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){n[e].placeholder=n})),u(["drop","take"],(function(e,t){A.prototype[e]=function(n){n=n===H?1:ns(Gi(n),0);var r=this.__filtered__&&!t?new A(this):this.clone();return r.__filtered__?r.__takeCount__=rs(n,r.__takeCount__):r.__views__.push({size:rs(n,ie),type:e+(r.__dir__<0?"Right":"")}),r},A.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),u(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;A.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:zr(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),u(["head","last"],(function(e,t){var n="take"+(t?"Right":"");A.prototype[e]=function(){return this[n](1).value()[0]}})),u(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");A.prototype[e]=function(){return this.__filtered__?new A(this):this[n](1)}})),A.prototype.compact=function(){return this.filter(oo)},A.prototype.find=function(e){return this.filter(e).head()},A.prototype.findLast=function(e){return this.reverse().find(e)},A.prototype.invokeMap=Dn((function(e,t){return"function"==typeof e?new A(this):this.map((function(n){return nn(n,e,t)}))})),A.prototype.reject=function(e){return this.filter(Ci(zr(e)))},A.prototype.slice=function(e,t){e=Gi(e);var n=this;return n.__filtered__&&(e>0||t<0)?new A(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==H&&(n=(t=Gi(t))<0?n.dropRight(-t):n.take(t-e)),n)},A.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},A.prototype.toArray=function(){return this.take(ie)},Pt(A.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),s=n[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);s&&(n.prototype[t]=function(){var t=this.__wrapped__,u=i?[1]:arguments,l=t instanceof A,c=u[0],h=l||Ca(t),p=function(e){var t=s.apply(n,m([e],u));return i&&f?t[0]:t};h&&r&&"function"==typeof c&&1!=c.length&&(l=h=!1);var f=this.__chain__,d=a&&!f,g=l&&!!!this.__actions__.length;if(!a&&h){t=g?t:new A(this);var y=e.apply(t,u);return y.__actions__.push({func:xi,args:[p],thisArg:H}),new o(y,f)}return d&&g?e.apply(this,u):(y=this.thru(p),d?i?y.value()[0]:y.value():y)})})),u(["pop","push","shift","sort","splice","unshift"],(function(e){var t=So[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(Ca(n)?n:[],e)}return this[r]((function(n){return t.apply(Ca(n)?n:[],e)}))}})),Pt(A.prototype,(function(e,t){var r=n[t];if(r){var i=r.name+"";Eo.call(ms,i)||(ms[i]=[]),ms[i].push({name:t,func:r})}})),ms[wr(H,2).name]=[{name:"wrapper",func:H}],A.prototype.clone=function(){var e=new A(this.__wrapped__);return e.__actions__=cr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=cr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=cr(this.__views__),e},A.prototype.reverse=function(){if(this.__filtered__){var e=new A(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},A.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ca(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=rs(t,e+s);break;case"takeRight":e=ns(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=r?a:s-1,c=this.__iteratees__,h=c.length,p=0,f=rs(u,this.__takeCount__);if(!n||!r&&i==u&&f==u)return Qn(e,this.__actions__);var d=[];e:for(;u--&&p<f;){for(var m=-1,g=e[l+=t];++m<h;){var y=c[m],v=y.type,b=(0,y.iteratee)(g);if(2==v)g=b;else if(!b){if(1==v)continue e;break e}}d[p++]=g}return d},n.prototype.at=sa,n.prototype.chain=function(){return bi(this)},n.prototype.commit=function(){return new o(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===H&&(this.__values__=ji(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?H:this.__values__[this.__index__++]}},n.prototype.plant=function(e){for(var t,n=this;n instanceof r;){var i=li(n);i.__index__=0,i.__values__=H,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t},n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof A){var t=e;return this.__actions__.length&&(t=new A(this)),(t=t.reverse()).__actions__.push({func:xi,args:[gi],thisArg:H}),new o(t,this.__chain__)}return this.thru(gi)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return Qn(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,Uo&&(n.prototype[Uo]=function(){return this}),n}();"object"==i(n("K2jg"))&&n("K2jg")?(rn._=xn,(o=function(){return xn}.call(t,n,t,r))===H||(r.exports=o)):sn?((sn.exports=xn)._=xn,on._=xn):rn._=xn}).call(this)}).call(this,n("pCvA"),n("RoC8")(e))},"A/eZ":function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);l.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||s.nextTick(o,this)}function o(e){e.end()}var s=n("upWy"),a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var u=Object.create(n("nrnY"));u.inherits=n("wfEq");var l=n("B0Cl"),c=n("g+31");u.inherits(r,l);for(var h=a(c.prototype),p=0;p<h.length;p++){var f=h[p];r.prototype[f]||(r.prototype[f]=c.prototype[f])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),s.nextTick(t,e)}},A0Sc:function(module,exports,__webpack_require__){"use strict";function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function setModulesStaticURL(e){exports.MODULES_STATIC_URL=e}function httpGet(e){var t=exports.newHttpRequest();try{"undefined"==typeof window&&(t.timeout=1e4),t.open("GET",e,!1),t.send(null)}catch(e){if(!(e instanceof DOMException))throw e}if(200!==t.status&&304!==t.status)throw new moduleErrors_1.ModuleConnectionError;return t.responseText}function getModuleManifest(){var e=httpGet("".concat(exports.MODULES_STATIC_URL,"/modules.json"));return JSON.parse(e)}function getModuleFile(e,t){return httpGet("".concat(exports.MODULES_STATIC_URL,"/").concat(t,"s/").concat(e,".js"))}function loadModuleBundle(path,context,node){var modules=exports.memoizedGetModuleManifest(),moduleList=Object.keys(modules);if(!1===moduleList.includes(path))throw new moduleErrors_1.ModuleNotFoundError(path,node);var moduleText=exports.memoizedGetModuleFile(path,"bundle");try{var moduleBundle=eval(moduleText),moduleFunctions=moduleBundle(context);return moduleFunctions}catch(e){throw new moduleErrors_1.ModuleInternalError(path,node)}}function convertRawTabToFunction(e){return(e=e.trim()).substring(0,e.length-9)+")"}function loadModuleTabs(path,node){var modules=exports.memoizedGetModuleManifest(),moduleList=Object.keys(modules);if(!1===moduleList.includes(path))throw new moduleErrors_1.ModuleNotFoundError(path,node);var sideContentTabPaths=modules[path].tabs;return sideContentTabPaths.map((function(path){var rawTabFile=exports.memoizedGetModuleFile(path,"tab");try{return eval(convertRawTabToFunction(rawTabFile))}catch(e){throw new moduleErrors_1.ModuleInternalError(path,node)}}))}function appendModuleTabsToContext(e,t){t.modules=[];var n,r=_createForOfIteratorHelper(e.body);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("ImportDeclaration"===i.type){if(!i.source.value)throw new moduleErrors_1.ModuleNotFoundError("",i);var o=i.source.value.toString(),s=loadModuleTabs(o,i);console.log(o,s),Array.prototype.push.apply(t.modules,s)}}}catch(e){r.e(e)}finally{r.f()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.appendModuleTabsToContext=exports.loadModuleTabs=exports.convertRawTabToFunction=exports.loadModuleBundle=exports.memoizedGetModuleFile=exports.memoizedGetModuleManifest=exports.httpGet=exports.setModulesStaticURL=exports.MODULES_STATIC_URL=exports.newHttpRequest=void 0;var lodash_1=__webpack_require__("9va6"),xmlhttprequest_ts_1=__webpack_require__("8t+D"),moduleErrors_1=__webpack_require__("c+Ec"),newHttpRequest=function(){return"undefined"==typeof window?new xmlhttprequest_ts_1.XMLHttpRequest:new XMLHttpRequest};exports.newHttpRequest=newHttpRequest,exports.MODULES_STATIC_URL="https://source-academy.github.io/modules",exports.setModulesStaticURL=setModulesStaticURL,exports.httpGet=httpGet,exports.memoizedGetModuleManifest=lodash_1.memoize(getModuleManifest),exports.memoizedGetModuleFile=lodash_1.memoize(getModuleFile),exports.loadModuleBundle=loadModuleBundle,exports.convertRawTabToFunction=convertRawTabToFunction,exports.loadModuleTabs=loadModuleTabs,exports.appendModuleTabsToContext=appendModuleTabsToContext},A6L2:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areBreakpointsSet=t.checkEditorBreakpoints=t.manualToggleDebugger=t.setBreakpointAtLine=t.saveState=void 0;t.saveState=function(e,t,n){e.debugger.state.it=t,e.debugger.state.scheduler=n};t.setBreakpointAtLine=function(e){n=e};t.manualToggleDebugger=function(e){return e.runtime.break=!0,{status:"suspended",scheduler:e.debugger.state.scheduler,it:e.debugger.state.it,context:e}};var n=[],r=!0,i=-1;t.checkEditorBreakpoints=function(e,t){if(t.loc){var o=t.loc.start.line-1;r||o===i||(r=!0),e.runtime.debuggerOn&&void 0!==n[o]&&r&&(r=!1,i=o,e.runtime.break=!0)}};t.areBreakpointsSet=function(){return n.length>0}},ANQQ:function(e,t,n){(function(t,r,i){var o=n("eoLT"),s=n("wfEq"),a=n("3mKH"),u=n("5Ekh"),l=n("NY/1"),c=a.IncomingMessage,h=a.readyStates,p=e.exports=function(e){var n,r=this;u.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)i=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=function(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":o.vbArray&&e?"text:vbarray":"text"}(n,i),r._fetchTimer=null,r.on("finish",(function(){r._onFinish()}))};s(p,u.Writable),p.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===f.indexOf(n)&&(this._headers[n]={name:e,value:t})},p.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},p.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},p.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,s=e._headers,a=null;"GET"!==n.method&&"HEAD"!==n.method&&(a=o.arraybuffer?l(t.concat(e._body)):o.blobConstructor?new r.Blob(e._body.map((function(e){return l(e)})),{type:(s["content-type"]||{}).value||""}):t.concat(e._body).toString());var u=[];if(Object.keys(s).forEach((function(e){var t=s[e].name,n=s[e].value;Array.isArray(n)?n.forEach((function(e){u.push([t,e])})):u.push([t,n])})),"fetch"===e._mode){var c=null;if(o.abortController){var p=new AbortController;c=p.signal,e._fetchAbortController=p,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=r.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),n.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:u,body:a||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:c}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var f=e._xhr=new r.XMLHttpRequest;try{f.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}"responseType"in f&&(f.responseType=e._mode.split(":")[0]),"withCredentials"in f&&(f.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(f.timeout=n.requestTimeout,f.ontimeout=function(){e.emit("requestTimeout")}),u.forEach((function(e){f.setRequestHeader(e[0],e[1])})),e._response=null,f.onreadystatechange=function(){switch(f.readyState){case h.LOADING:case h.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(f.onprogress=function(){e._onXHRProgress()}),f.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{f.send(a)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}}}},p.prototype._onXHRProgress=function(){var e=this;(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},p.prototype._connect=function(){var e=this;e._destroyed||(e._response=new c(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},p.prototype._write=function(e,t,n){this._body.push(e),n()},p.prototype.abort=p.prototype.destroy=function(){var e=this;e._destroyed=!0,r.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},p.prototype.end=function(e,t,n){"function"==typeof e&&(n=e,e=void 0),u.Writable.prototype.end.call(this,e,t,n)},p.prototype.flushHeaders=function(){},p.prototype.setTimeout=function(){},p.prototype.setNoDelay=function(){},p.prototype.setSocketKeepAlive=function(){};var f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n("zkTx").Buffer,n("pCvA"),n("5IsQ"))},B0Cl:function(e,t,n){"use strict";(function(t,r){function i(e,t){var r=t instanceof(w=w||n("A/eZ"));this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(I||(I=n("soc2").StringDecoder),this.decoder=new I(e.encoding),this.encoding=e.encoding)}function o(e){if(w=w||n("A/eZ"),!(this instanceof o))return new o(e);this._readableState=new i(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),k.call(this)}function s(e,t,n,r,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,l(e)}(e,s)):(i||(o=function(e,t){var n;r=t,T.isBuffer(r)||r instanceof A||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===T.prototype||(t=function(e){return T.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):a(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?a(e,s,t,!1):h(e,s)):a(e,s,t,!1))):r||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function a(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&l(e)),h(e,t)}function u(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=N?e=N:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function l(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(L("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?x.nextTick(c,e):c(e))}function c(e){L("emit readable"),e.emit("readable"),m(e)}function h(e,t){t.readingMore||(t.readingMore=!0,x.nextTick(p,e,t))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(L("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function f(e){L("readable nexttick read 0"),e.read(0)}function d(e,t){t.reading||(L("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),m(e),t.flowing&&!t.reading&&e.read(0)}function m(e){var t=e._readableState;for(L("flow",t.flowing);t.flowing&&null!==e.read(););}function g(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(i+=s===o.length?o:o.slice(0,e),0===(e-=s)){s===o.length?(++r,t.head=n.next?n.next:t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=T.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,t.head=r.next?r.next:t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function y(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,x.nextTick(v,t,e))}function v(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function b(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var x=n("upWy");e.exports=o;var w,_=n("kah5");o.ReadableState=i;n("hBZP");var S=function(e,t){return e.listeners(t).length},k=n("n428"),T=n("XKyj").Buffer,A=t.Uint8Array||function(){},E=Object.create(n("nrnY"));E.inherits=n("wfEq");var C=n(0),L=void 0;L=C&&C.debuglog?C.debuglog("stream"):function(){};var I,R=n("IPtZ"),M=n("xTpk");E.inherits(o,k);var O=["error","close","destroy","pause","resume"];Object.defineProperty(o.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),o.prototype.destroy=M.destroy,o.prototype._undestroy=M.undestroy,o.prototype._destroy=function(e,t){this.push(null),t(e)},o.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=T.from(e,t),t=""),n=!0),s(this,e,t,!1,n)},o.prototype.unshift=function(e){return s(this,e,null,!0,!1)},o.prototype.isPaused=function(){return!1===this._readableState.flowing},o.prototype.setEncoding=function(e){return I||(I=n("soc2").StringDecoder),this._readableState.decoder=new I(e),this._readableState.encoding=e,this};var N=8388608;o.prototype.read=function(e){L("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return L("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?y(this):l(this),null;if(0===(e=u(e,t))&&t.ended)return 0===t.length&&y(this),null;var r,i=t.needReadable;return L("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&L("length less than watermark",i=!0),t.ended||t.reading?L("reading or ended",i=!1):i&&(L("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=u(n,t))),null===(r=e>0?g(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&y(this)),null!==r&&this.emit("data",r),r},o.prototype._read=function(){this.emit("error",new Error("_read() is not implemented"))},o.prototype.pipe=function(e,t){function n(t,r){L("onunpipe"),t===c&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,L("cleanup"),e.removeListener("close",a),e.removeListener("finish",u),e.removeListener("drain",f),e.removeListener("error",s),e.removeListener("unpipe",n),c.removeListener("end",i),c.removeListener("end",l),c.removeListener("data",o),d=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function i(){L("onend"),e.end()}function o(t){L("ondata"),g=!1,!1!==e.write(t)||g||((1===h.pipesCount&&h.pipes===e||h.pipesCount>1&&-1!==b(h.pipes,e))&&!d&&(L("false write response, pause",c._readableState.awaitDrain),c._readableState.awaitDrain++,g=!0),c.pause())}function s(t){L("onerror",t),l(),e.removeListener("error",s),0===S(e,"error")&&e.emit("error",t)}function a(){e.removeListener("finish",u),l()}function u(){L("onfinish"),e.removeListener("close",a),l()}function l(){L("unpipe"),c.unpipe(e)}var c=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,L("pipe count=%d opts=%j",h.pipesCount,t);var p=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?i:l;h.endEmitted?x.nextTick(p):c.once("end",p),e.on("unpipe",n);var f=function(e){return function(){var t=e._readableState;L("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&S(e,"data")&&(t.flowing=!0,m(e))}}(c);e.on("drain",f);var d=!1,g=!1;return c.on("data",o),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?_(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",s),e.once("close",a),e.once("finish",u),e.emit("pipe",c),h.flowing||(L("pipe resume"),c.resume()),e},o.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=b(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},o.prototype.addListener=o.prototype.on=function(e,t){var n=k.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&l(this):x.nextTick(f,this))}return n},o.prototype.resume=function(){var e=this._readableState;return e.flowing||(L("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,x.nextTick(d,e,t))}(this,e)),this},o.prototype.pause=function(){return L("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(L("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(L("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(L("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<O.length;o++)e.on(O[o],this.emit.bind(this,O[o]));return this._read=function(t){L("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),o._fromList=g}).call(this,n("pCvA"),n("5IsQ"))},B4Ta:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){if(null!=e&&void 0!==e.isMemoized){if(e.isMemoized)return e.memoizedValue;var t=o(e.f());return e.isMemoized=!0,e.memoizedValue=t,t}return e}function s(e,t){return"!"===e?!t:"-"===e?-t:+t}function a(e,t,n){switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n;case"%":return t%n;case"===":return t===n;case"!==":return t!==n;case"<=":return t<=n;case"<":return t<n;case">":return t>n;case">=":return t>=n;default:return}}Object.defineProperty(t,"__esModule",{value:!0}),t.getProp=t.setProp=t.wrap=t.callIteratively=t.evaluateBinaryExpression=t.binaryOp=t.evaluateUnaryExpression=t.unaryOp=t.boolOrErr=t.callIfFuncAndRightArgs=t.makeLazyFunction=t.wrapLazyCallee=t.delayIt=t.forceIt=t.throwIfTimeout=void 0;var u=n("JFiO"),l=n("5AhW"),c=n("B67y"),h=n("my7b"),p=n("my7b"),f=n("SG+n"),d=n("D9C7"),m=n("XZ2b");t.throwIfTimeout=function(e,t,n,r,i){if(n-t>e.maxExecTime)throw new c.PotentialInfiniteLoopError(p.locationDummyNode(r,i),e.maxExecTime)},t.forceIt=o,t.delayIt=function(e){return{isMemoized:!1,value:void 0,f:e}},t.wrapLazyCallee=function(e){if("function"==typeof(e=o(e))){var t=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(void 0,r(n.map(o)))};return m.makeWrapper(e,t),t[Symbol.toStringTag]=function(){return e.toString()},t.toString=function(){return e.toString()},t}if(e instanceof d.LazyBuiltIn){if(e.evaluateArgs){var n=function(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e).func.apply(t,r(i.map(o)))};return m.makeWrapper(e.func,n),n[Symbol.toStringTag]=function(){return e.toString()},n.toString=function(){return e.toString()},n}return e}return e},t.makeLazyFunction=function(e){return new d.LazyBuiltIn(e,!1)},t.callIfFuncAndRightArgs=function(e,t,n){for(var i=arguments.length,s=new Array(i>3?i-3:0),a=3;a<i;a++)s[a-3]=arguments[a];var c=p.callExpression(p.locationDummyNode(t,n),s,{start:{line:t,column:n},end:{line:t,column:n}});if("function"==typeof e){var h=e;void 0!==e.transformedFunction&&(e=e.transformedFunction);var f=e.length,m=s.length,g=void 0!==e.minArgsNeeded;if(g?e.minArgsNeeded>m:f!==m)throw new u.InvalidNumberOfArguments(c,g?e.minArgsNeeded:f,m,g);try{var y=s.map(o);return h.apply(void 0,r(y))}catch(e){throw e instanceof l.RuntimeSourceError||e instanceof u.ExceptionError?e:new u.ExceptionError(e,c.loc)}}else{if(!(e instanceof d.LazyBuiltIn))throw new u.CallingNonFunctionValue(e,c);try{var v;return e.evaluateArgs&&(s=s.map(o)),(v=e).func.apply(v,r(s))}catch(e){throw e instanceof l.RuntimeSourceError||e instanceof u.ExceptionError?e:new u.ExceptionError(e,c.loc)}}},t.boolOrErr=function(e,t,n){e=o(e);var r=f.checkIfStatement(p.locationDummyNode(t,n),e);if(void 0===r)return e;throw r},t.unaryOp=function(e,t,n,r){t=o(t);var i=f.checkUnaryExpression(p.locationDummyNode(n,r),e,t);if(void 0===i)return s(e,t);throw i},t.evaluateUnaryExpression=s,t.binaryOp=function(e,t,n,r,i,s){n=o(n),r=o(r);var u=f.checkBinaryExpression(p.locationDummyNode(i,s),e,t,n,r);if(void 0===u)return a(e,n,r);throw u},t.evaluateBinaryExpression=a;t.callIteratively=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];for(var a=-1,p=-1,f=Date.now(),m=[];;){var g=h.locationDummyNode(a,p);if("function"==typeof(e=o(e))){void 0!==e.transformedFunction&&(e=e.transformedFunction);var y=e.length,v=i.length,b=void 0!==e.minArgsNeeded;if(b?e.minArgsNeeded>v:y!==v)throw new u.InvalidNumberOfArguments(h.callExpression(g,i,{start:{line:a,column:p},end:{line:a,column:p}}),b?e.minArgsNeeded:y,v,b)}else{if(!(e instanceof d.LazyBuiltIn))throw new u.CallingNonFunctionValue(e,g);e.evaluateArgs&&(i=i.map(o)),e=e.func}var x=void 0;try{if(x=e.apply(void 0,r(i)),Date.now()-f>t.maxExecTime)throw new c.PotentialInfiniteRecursionError(g,m,t.maxExecTime)}catch(e){throw e instanceof l.RuntimeSourceError||e instanceof u.ExceptionError?e:new u.ExceptionError(e,g.loc)}if(null==x)return x;if(!0!==x.isTail)return!1===x.isTail?x.value:x;e=x.function,a=x.line,p=x.column,m.push([x.functionName,i=x.arguments])}};t.wrap=function(e,n,r,i){r&&(e.minArgsNeeded=e.length);var o=function(){for(var n,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=t).callIteratively.apply(n,[e,i].concat(o))};return m.makeWrapper(e,o),o.transformedFunction=e,o[Symbol.toStringTag]=function(){return n},o.toString=function(){return n},o};t.setProp=function(e,t,n,r,i){var o=h.locationDummyNode(r,i),s=f.checkMemberAccess(o,e,t);if(void 0===s)return e[t]=n;throw s};t.getProp=function(e,t,n,r){var i=h.locationDummyNode(n,r),o=f.checkMemberAccess(i,e,t);if(void 0===o){if(void 0===e[t]||e.hasOwnProperty(t))return e[t];throw new u.GetInheritedPropertyError(i,e,t)}throw o}},B67y:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function h(e){var t=f();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function g(e){var t=e/1e3,n=t*x.JSSLANG_PROPERTIES.factorToIncreaseBy;return S.stripIndent(y||(y=m(["If you are certain your program is correct, press run again without editing your program.\n      The time limit will be increased from "," to "," seconds.\n      This page may be unresponsive for up to "," seconds if you do so."])),t,n,n)}var y,v,b;Object.defineProperty(t,"__esModule",{value:!0}),t.PotentialInfiniteRecursionError=t.PotentialInfiniteLoopError=t.TimeoutError=void 0;var x=n("Otp2"),w=n("GFFv"),_=n("QyX9"),S=n("zZ3m"),k=function(e){function t(){return n.apply(this,arguments)}l(t,e);var n=h(t);return t}(n("5AhW").RuntimeSourceError);t.TimeoutError=k,t.PotentialInfiniteLoopError=function(e){function t(e,t){var r;return(r=n.call(this,e)).maxExecTime=t,r.type=_.ErrorType.RUNTIME,r.severity=_.ErrorSeverity.ERROR,r}l(t,e);var n=h(t);return a(t,[{key:"explain",value:function(){return S.stripIndent(v||(v=m(["",".\n    ",""])),"Potential infinite loop detected",g(this.maxExecTime))}},{key:"elaborate",value:function(){return this.explain()}}]),t}(k),t.PotentialInfiniteRecursionError=function(e){function t(e,t,r){var i;return(i=n.call(this,e)).calls=t,i.maxExecTime=r,i.type=_.ErrorType.RUNTIME,i.severity=_.ErrorSeverity.ERROR,i.calls=i.calls.slice(-3),i}l(t,e);var n=h(t);return a(t,[{key:"explain",value:function(){var e=this.calls.map((function(e){var t=i(e,2),n=t[1];return"".concat(t[0],"(").concat(n.map((function(e){return w.stringify(e)})).join(", "),")")}));return S.stripIndent(b||(b=m(["",": ",".\n      ",""])),"Potential infinite recursion detected",e.join(" ... "),g(this.maxExecTime))}},{key:"elaborate",value:function(){return this.explain()}}]),t}(k)},"BjK/":function(e,t,n){(function(t){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function o(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function s(e,t){for(var n=e.length;n--;)if(f(e[n][0],t))return n;return-1}function a(e,t){t=function(e,t){if(q(e))return!1;var r=n(e);if("number"==r||"symbol"==r||"boolean"==r||null==e||m(e))return!0;return k.test(e)||!S.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return q(e)?e:K(e)}(t);for(var r=0,i=t.length;null!=e&&r<i;)e=e[h(t[r++])];return r&&r==i?e:void 0}function u(e){if(!d(e)||(t=e,P&&P in t))return!1;var t,n=function(e){var t=d(e)?V.call(e):"";return t==x||t==w}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?B:C;return n.test(function(e){if(null!=e){try{return F.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function l(e,t){var r=e.__data__;return function(e){var t=n(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function c(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return u(n)?n:void 0}function h(e){if("string"==typeof e||m(e))return e;var t=e+"";return"0"==t&&1/e==-b?"-0":t}function p(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(p.Cache||o),n}function f(e,t){return e===t||e!=e&&t!=t}function d(e){var t=n(e);return!!e&&("object"==t||"function"==t)}function m(e){return"symbol"==n(e)||function(e){return!!e&&"object"==n(e)}(e)&&V.call(e)==_}function g(e){return null==e?"":function(e){if("string"==typeof e)return e;if(m(e))return H?H.call(e):"";var t=e+"";return"0"==t&&1/e==-b?"-0":t}(e)}var y,v="__lodash_hash_undefined__",b=1/0,x="[object Function]",w="[object GeneratorFunction]",_="[object Symbol]",S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/,T=/^\./,A=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,E=/\\(\\)?/g,C=/^\[object .+?Constructor\]$/,L="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t,I="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,R=L||I||Function("return this")(),M=Array.prototype,O=Function.prototype,N=Object.prototype,D=R["__core-js_shared__"],P=(y=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",F=O.toString,$=N.hasOwnProperty,V=N.toString,B=RegExp("^"+F.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=R.Symbol,j=M.splice,U=c(R,"Map"),G=c(Object,"create"),W=z?z.prototype:void 0,H=W?W.toString:void 0;r.prototype.clear=function(){this.__data__=G?G(null):{}},r.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},r.prototype.get=function(e){var t=this.__data__;if(G){var n=t[e];return n===v?void 0:n}return $.call(t,e)?t[e]:void 0},r.prototype.has=function(e){var t=this.__data__;return G?void 0!==t[e]:$.call(t,e)},r.prototype.set=function(e,t){return this.__data__[e]=G&&void 0===t?v:t,this},i.prototype.clear=function(){this.__data__=[]},i.prototype.delete=function(e){var t=this.__data__,n=s(t,e);return!(n<0)&&(n==t.length-1?t.pop():j.call(t,n,1),!0)},i.prototype.get=function(e){var t=this.__data__,n=s(t,e);return n<0?void 0:t[n][1]},i.prototype.has=function(e){return s(this.__data__,e)>-1},i.prototype.set=function(e,t){var n=this.__data__,r=s(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},o.prototype.clear=function(){this.__data__={hash:new r,map:new(U||i),string:new r}},o.prototype.delete=function(e){return l(this,e).delete(e)},o.prototype.get=function(e){return l(this,e).get(e)},o.prototype.has=function(e){return l(this,e).has(e)},o.prototype.set=function(e,t){return l(this,e).set(e,t),this};var K=p((function(e){e=g(e);var t=[];return T.test(e)&&t.push(""),e.replace(A,(function(e,n,r,i){t.push(r?i.replace(E,"$1"):n||e)})),t}));p.Cache=o;var q=Array.isArray;e.exports=function(e,t,n){var r=null==e?void 0:a(e,t);return void 0===r?n:r}}).call(this,n("pCvA"))},CJDg:function(e,t,n){(function(e,r){function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var s,a,u=(a="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(a||(a=__filename)),function(){function t(){var e=T.buffer;f.HEAP8=C=new Int8Array(e),f.HEAP16=new Int16Array(e),f.HEAPU8=L=new Uint8Array(e),f.HEAPU16=new Uint16Array(e),f.HEAP32=new Int32Array(e),f.HEAPU32=I=new Uint32Array(e),f.HEAPF32=new Float32Array(e),f.HEAPF64=new Float64Array(e)}function r(e){var t;null===(t=f.onAbort)||void 0===t||t.call(f,e),E(e="Aborted("+e+")"),O=!0,e+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(e);throw h(n),n}function s(e){if(e==R&&k)return new Uint8Array(k);if(g)return g(e);throw"both async and sync fetching of the wasm failed"}function u(e,t,n){return function(e){if(!k&&(v||b)){if("function"==typeof fetch&&!z(e))return fetch(e,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '".concat(e,"'");return t.arrayBuffer()})).catch((function(){return s(e)}));if(m)return new Promise((function(t,n){m(e,(function(e){return t(new Uint8Array(e))}),n)}))}return Promise.resolve().then((function(){return s(e)}))}(e).then((function(e){return WebAssembly.instantiate(e,t)})).then(n,(function(e){E("failed to asynchronously prepare wasm: ".concat(e)),r(e)}))}function l(){function e(){U||(U=!0,f.calledRun=!0,O||(G(D),c(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),function(){if(f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)e=f.postRun.shift(),P.unshift(e);var e;G(P)}()))}F>0||(function(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)e=f.preRun.shift(),N.unshift(e);var e;G(N)}(),F>0||(f.setStatus?(f.setStatus("Running..."),setTimeout((function(){setTimeout((function(){f.setStatus("")}),1),e()}),1)):e()))}var c,h,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=p;f.ready=new Promise((function(e,t){c=e,h=t}));var d,m,g,y=o({},f),v="object"==("undefined"==typeof window?"undefined":i(window)),b="function"==typeof importScripts,x="object"==(void 0===e?"undefined":i(e))&&"object"==i(e.versions)&&"string"==typeof e.versions.node,w="";if(x){var _=n("lVFF"),S=n("R8iU");w=b?S.dirname(w)+"/":__dirname+"/",d=function(e,t){return e=z(e)?new URL(e):S.normalize(e),_.readFileSync(e,t?void 0:"utf8")},g=function(e){var t=d(e,!0);return t.buffer||(t=new Uint8Array(t)),t},m=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e=z(e)?new URL(e):S.normalize(e),_.readFile(e,r?void 0:"utf8",(function(e,i){e?n(e):t(r?i.buffer:i)}))},!f.thisProgram&&e.argv.length>1&&e.argv[1].replace(/\\/g,"/"),e.argv.slice(2)}else(v||b)&&(b?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),a&&(w=a),w=w.startsWith("blob:")?"":w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1),d=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},b&&(g=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),m=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var k,T,A=f.print||console.log.bind(console),E=f.printErr||console.error.bind(console);o(f,y),y=null,f.wasmBinary&&(k=f.wasmBinary);var C,L,I,R,M,O=!1,N=[],D=[],P=[],F=0,$=null,V=null,B=function(e){return e.startsWith("data:application/octet-stream;base64,")},z=function(e){return e.startsWith("file://")};B(R="sinterwasm.wasm")||(M=R,R=f.locateFile?f.locateFile(M,w):w+M);var j,U,G=function(e){for(;e.length>0;)e.shift()(f)},W="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,H=function(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.buffer&&W)return W.decode(e.subarray(t,i));for(var o="";t<i;){var s=e[t++];if(128&s){var a=63&e[t++];if(192!=(224&s)){var u=63&e[t++];if((s=224==(240&s)?(15&s)<<12|a<<6|u:(7&s)<<18|a<<12|u<<6|63&e[t++])<65536)o+=String.fromCharCode(s);else{var l=s-65536;o+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else o+=String.fromCharCode((31&s)<<6|a)}else o+=String.fromCharCode(s)}return o},K=function(e,t){return e?H(L,e,t):""},q=function(e){var n=(e-T.buffer.byteLength+65535)/65536;try{return T.grow(n),t(),1}catch(e){}},X=[null,[],[]],Y=[],Q=function(e){var t=Y[e];return t||(e>=Y.length&&(Y.length=e+1),Y[e]=t=j.get(e)),t},Z=function(e){return f["_"+e]},J=function(e){var t=function(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t}(e)+1,n=se(t);return function(e,t,n){!function(e,t,n,r){if(!(r>0))return 0;for(var i=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(n>=i)break;t[n++]=s}else if(s<=2047){if(n+1>=i)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=i)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}t[n]=0}(e,L,t,n)}(e,n,t),n},ee=function(e,t,n,r){var i={string:function(e){var t=0;return null!=e&&0!==e&&(t=J(e)),t},array:function(e){var t=se(e.length);return function(e,t){C.set(e,t)}(e,t),t}},o=Z(e),s=[],a=0;if(r)for(var u=0;u<r.length;u++){var l=i[n[u]];l?(0===a&&(a=ie()),s[u]=l(r[u])):s[u]=r[u]}var c=o.apply(void 0,s);return c=function(e){return 0!==a&&oe(a),function(e){return"string"===t?K(e):"boolean"===t?Boolean(e):e}(e)}(c)},te={a:function(e,t,n,i){r("Assertion failed: ".concat(K(e),", at: ")+[t?K(t):"unknown filename",n,i?K(i):"unknown function"])},e:function(){throw 1/0},h:function(e,t,n){return L.copyWithin(e,t,t+n)},f:function(e){var t=L.length,n=2147483648;if((e>>>=0)>n)return!1;for(var r,i,o=1;o<=4;o*=2){var s=t*(1+.2/o);s=Math.min(s,e+100663296);var a=Math.min(n,(r=Math.max(e,s))+((i=65536)-r%i)%i);if(q(a))return!0}return!1},g:function(){return 52},d:function(){return 70},b:function(e,t,n,r){for(var i,o,s,a=0,u=0;u<n;u++){var l=I[t>>2],c=I[t+4>>2];t+=8;for(var h=0;h<c;h++)s=void 0,s=X[i=e],0===(o=L[l+h])||10===o?((1===i?A:E)(H(s,0)),s.length=0):s.push(o);a+=c}return I[r>>2]=a,0},i:function(e,t){var n=ie();try{return Q(e)(t)}catch(e){if(oe(n),e!==e+0)throw e;re(1,0)}},c:function(e,t){var n=ie();try{Q(e)(t)}catch(e){if(oe(n),e!==e+0)throw e;re(1,0)}},j:function(e,t,n,r,i,o){var s=ie();try{Q(e)(t,n,r,i,o)}catch(e){if(oe(s),e!==e+0)throw e;re(1,0)}}},ne=function(){function e(e){return T=(ne=e.exports).k,t(),j=ne.q,D.unshift(ne.l),function(){var e;if(F--,null===(e=f.monitorRunDependencies)||void 0===e||e.call(f,F),0==F&&(null!==$&&(clearInterval($),$=null),V)){var t=V;V=null,t()}}(),ne}var n,r,i,o,s,a={a:te};if(F++,null===(n=f.monitorRunDependencies)||void 0===n||n.call(f,F),f.instantiateWasm)try{return f.instantiateWasm(a,e)}catch(e){E("Module.instantiateWasm callback failed with error: ".concat(e)),h(e)}return(r=k,i=R,o=a,s=function(t){e(t.instance)},r||"function"!=typeof WebAssembly.instantiateStreaming||B(i)||z(i)||x||"function"!=typeof fetch?u(i,o,s):fetch(i,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,o).then(s,(function(e){return E("wasm streaming compile failed: ".concat(e)),E("falling back to ArrayBuffer instantiation"),u(i,o,s)}))}))).catch(h),{}}(),re=(f._siwasm_alloc_heap=function(e){return(f._siwasm_alloc_heap=ne.m)(e)},f._siwasm_alloc=function(e){return(f._siwasm_alloc=ne.n)(e)},f._siwasm_free=function(e){return(f._siwasm_free=ne.o)(e)},f._siwasm_run=function(e,t){return(f._siwasm_run=ne.p)(e,t)},function(e,t){return(re=ne.r)(e,t)}),ie=function(){return(ie=ne.s)()},oe=function(e){return(oe=ne.t)(e)},se=function(e){return(se=ne.u)(e)};if(f.ccall=ee,f.cwrap=function(e,t,n,r){var i=!n||n.every((function(e){return"number"===e||"boolean"===e}));return"string"!==t&&i&&!r?Z(e):function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ee(e,t,n,i)}},V=function e(){U||l(),U||(V=e)},f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.pop()();return l(),p.ready});"object"===i(t)&&"object"===i(r)?r.exports=u:void 0===(s=function(){return u}.apply(t,[]))||(r.exports=s)}).call(this,n("5IsQ"),n("RoC8")(e))},D0XY:function(e,t,n){(function(e){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}ace.define("ace/theme/monokai-css",["require","exports","module"],(function(e,t,n){n.exports=".ace-monokai .ace_gutter {\n  background: #2F3129;\n  color: #8F908A\n}\n\n.ace-monokai .ace_print-margin {\n  width: 1px;\n  background: #555651\n}\n\n.ace-monokai {\n  background-color: #272822;\n  color: #F8F8F2\n}\n\n.ace-monokai .ace_cursor {\n  color: #F8F8F0\n}\n\n.ace-monokai .ace_marker-layer .ace_selection {\n  background: #49483E\n}\n\n.ace-monokai.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px #272822;\n}\n\n.ace-monokai .ace_marker-layer .ace_step {\n  background: rgb(102, 82, 0)\n}\n\n.ace-monokai .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid #49483E\n}\n\n.ace-monokai .ace_marker-layer .ace_active-line {\n  background: #202020\n}\n\n.ace-monokai .ace_gutter-active-line {\n  background-color: #272727\n}\n\n.ace-monokai .ace_marker-layer .ace_selected-word {\n  border: 1px solid #49483E\n}\n\n.ace-monokai .ace_invisible {\n  color: #52524d\n}\n\n.ace-monokai .ace_entity.ace_name.ace_tag,\n.ace-monokai .ace_keyword,\n.ace-monokai .ace_meta.ace_tag,\n.ace-monokai .ace_storage {\n  color: #F92672\n}\n\n.ace-monokai .ace_punctuation,\n.ace-monokai .ace_punctuation.ace_tag {\n  color: #fff\n}\n\n.ace-monokai .ace_constant.ace_character,\n.ace-monokai .ace_constant.ace_language,\n.ace-monokai .ace_constant.ace_numeric,\n.ace-monokai .ace_constant.ace_other {\n  color: #AE81FF\n}\n\n.ace-monokai .ace_invalid {\n  color: #F8F8F0;\n  background-color: #F92672\n}\n\n.ace-monokai .ace_invalid.ace_deprecated {\n  color: #F8F8F0;\n  background-color: #AE81FF\n}\n\n.ace-monokai .ace_support.ace_constant,\n.ace-monokai .ace_support.ace_function {\n  color: #66D9EF\n}\n\n.ace-monokai .ace_fold {\n  background-color: #A6E22E;\n  border-color: #F8F8F2\n}\n\n.ace-monokai .ace_storage.ace_type,\n.ace-monokai .ace_support.ace_class,\n.ace-monokai .ace_support.ace_type {\n  font-style: italic;\n  color: #66D9EF\n}\n\n.ace-monokai .ace_entity.ace_name.ace_function,\n.ace-monokai .ace_entity.ace_other,\n.ace-monokai .ace_entity.ace_other.ace_attribute-name,\n.ace-monokai .ace_variable {\n  color: #A6E22E\n}\n\n.ace-monokai .ace_variable.ace_parameter {\n  font-style: italic;\n  color: #FD971F\n}\n\n.ace-monokai .ace_string {\n  color: #E6DB74\n}\n\n.ace-monokai .ace_comment {\n  color: #75715E\n}\n\n.ace-monokai .ace_indent-guide {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y\n}\n\n.ace-monokai .ace_indent-guide-active {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;\n}\n"})),ace.define("ace/theme/monokai",["require","exports","module","ace/theme/monokai-css","ace/lib/dom"],(function(e,t){t.isDark=!0,t.cssClass="ace-monokai",t.cssText=e("./monokai-css"),e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.require(["ace/theme/monokai"],(function(r){"object"==n(e)&&"object"==n(t)&&e&&(e.exports=r)}))}).call(this,n("RoC8")(e))},D9C7:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function c(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if("function"==typeof r){var o=n.split("(")[0].trim(),s="function ".concat(n," {\n\t[implementation hidden]\n}");r.toString=function(){return s},r.minArgsNeeded=i,t.defineSymbol(e,o,r)}else if(r instanceof E){var a=function(){return r.func.apply(r,arguments)},u=n.split("(")[0].trim(),l="function ".concat(n," {\n\t[implementation hidden]\n}");a.toString=function(){return l},A.makeWrapper(r.func,a),t.defineSymbol(e,u,new E(a,r.evaluateArgs))}else t.defineSymbol(e,n,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.importBuiltins=t.importExternalSymbols=t.defineBuiltin=t.defineSymbol=t.ensureGlobalEnvironmentExist=t.createEmptyContext=t.createGlobalEnvironment=t.EnvTreeNode=t.EnvTree=t.LazyBuiltIn=void 0;var h=n("Otp2"),p=n("w6cD"),f=n("255Z"),d=n("255Z"),m=n("neqR"),g=n("0clT"),y=n("g0lB"),v=n("9fWK"),b=n("HnoM"),x=n("WrTS"),w=n("B4Ta"),_=n("5tzL"),S=n("GFFv"),k=n("jahb"),T=n("xhom"),A=n("XZ2b"),E=function(e,t){this.func=e,this.evaluateArgs=t};t.LazyBuiltIn=E;var C=function(){function e(){this._root=null,this.map=new Map}return u(e,[{key:"root",get:function(){return this._root}},{key:"insert",value:function(e){var t=e.tail;if(null===t)null===this._root&&(this._root=new L(e,null),this.map.set(e,this._root));else{var n=this.map.get(t);if(n){var r=new L(e,n);n.addChild(r),this.map.set(e,r)}}}},{key:"getTreeNode",value:function(e){return this.map.get(e)}}]),e}();t.EnvTree=C;var L=function(){function e(e,t){this.environment=e,this.parent=t,this._children=[]}return u(e,[{key:"children",get:function(){return this._children}},{key:"resetChildren",value:function(e){var t=this;this.clearChildren(),this.addChildren(e),e.forEach((function(e){return e.parent=t}))}},{key:"clearChildren",value:function(){this._children=[]}},{key:"addChildren",value:function(e){var t;(t=this._children).push.apply(t,i(e))}},{key:"addChild",value:function(e){return this._children.push(e),e}}]),e}();t.EnvTreeNode=L;var I=function(){return{break:!1,debuggerOn:!0,isRunning:!1,environmentTree:new C,environments:[],value:void 0,nodes:[]}};t.createGlobalEnvironment=function(){return{tail:null,name:"global",head:{}}};t.createEmptyContext=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return{chapter:e,externalSymbols:arguments.length>2?arguments[2]:void 0,errors:[],externalContext:arguments.length>3?arguments[3]:void 0,moduleParams:arguments.length>4?arguments[4]:void 0,runtime:I(),numberOfOuterEnvironments:1,prelude:null,debugger:{observers:{callbacks:Array()},status:!1,state:{it:function*(){}(),scheduler:new p.AsyncScheduler}},nativeStorage:{builtins:new Map,previousProgramsIdentifiers:new Set,operators:new Map(Object.entries(w)),gpu:new Map(Object.entries(_)),maxExecTime:h.JSSLANG_PROPERTIES.maxExecTime,evaller:null},executionMethod:"auto",variant:t,unTypecheckedCode:[],typeEnvironment:T.createTypeEnvironment(e),previousCode:[]}};t.ensureGlobalEnvironmentExist=function(e){if(e.runtime||(e.runtime=I()),e.runtime.environments||(e.runtime.environments=[]),e.runtime.environmentTree||(e.runtime.environmentTree=new C),0===e.runtime.environments.length){var n=t.createGlobalEnvironment();e.runtime.environments.push(n),e.runtime.environmentTree.insert(n)}};t.defineSymbol=function(e,t,n){Object.defineProperty(e.runtime.environments[0].head,t,{value:n,writable:!1,enumerable:!0}),e.nativeStorage.builtins.set(t,n);var r=e.typeEnvironment[0];r.declKindMap.has(t)||(r.typeMap.set(t,T.tForAll(T.tVar("T1"))),r.declKindMap.set(t,"const"))},t.defineBuiltin=c;t.importExternalSymbols=function(e,n){t.ensureGlobalEnvironmentExist(e),n.forEach((function(n){t.defineSymbol(e,n,h.GLOBAL[n])}))};t.importBuiltins=function(e,n){t.ensureGlobalEnvironmentExist(e);var r=function(t){return n.rawDisplay(t,arguments.length<=1?void 0:arguments[1],e.externalContext)},s=function(e){if(1==(arguments.length<=1?0:arguments.length-1)&&void 0!==(arguments.length<=1?void 0:arguments[1])&&"string"!=typeof(arguments.length<=1?void 0:arguments[1]))throw new TypeError("display expects the second argument to be a string");return r(S.stringify(e),arguments.length<=1?void 0:arguments[1]),e},a=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.visualiseList(r,e.externalContext)};if(e.chapter>=1){c(e,"get_time()",y.get_time),c(e,"display(val, prepend = undefined)",s,1),c(e,"raw_display(str, prepend = undefined)",r,1),c(e,"stringify(val, indent = 2, maxLineLength = 80)",S.stringify,1),c(e,"error(str, prepend = undefined)",y.error_message,1),c(e,"prompt(str)",(function(t){var r=Date.now(),i=n.prompt(t,"",e.externalContext);return e.nativeStorage.maxExecTime+=Date.now()-r,i})),c(e,"is_number(val)",y.is_number),c(e,"is_string(val)",y.is_string),c(e,"is_function(val)",y.is_function),c(e,"is_boolean(val)",y.is_boolean),c(e,"is_undefined(val)",y.is_undefined),c(e,"parse_int(str, radix)",y.parse_int),c(e,"char_at(str, index)",y.char_at),c(e,"undefined",void 0),c(e,"NaN",NaN),c(e,"Infinity",1/0);var u,l=Object.getOwnPropertyNames(Math),h=(i("abcdefghijklmnopqrstuvwxyz"),function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}(l));try{for(h.s();!(u=h.n()).done;){var p=u.value,m=Math[p];if("function"==typeof m){var g=void 0,x=void 0;g="...values",x=0,c(e,"math_".concat(p,"(").concat(g,")"),m,x)}else c(e,"math_".concat(p),m)}}catch(e){h.e(e)}finally{h.f()}}e.chapter>=2&&("lazy"===e.variant?(c(e,"pair(left, right)",new E(f.pair,!1)),c(e,"list(...values)",new E(f.list,!1),0),c(e,"is_pair(val)",new E(f.is_pair,!0)),c(e,"head(xs)",new E(f.head,!0)),c(e,"tail(xs)",new E(f.tail,!0)),c(e,"is_null(val)",new E(f.is_null,!0)),c(e,"draw_data(...xs)",new E(a,!0),0)):(c(e,"pair(left, right)",f.pair),c(e,"is_pair(val)",f.is_pair),c(e,"head(xs)",f.head),c(e,"tail(xs)",f.tail),c(e,"is_null(val)",f.is_null),c(e,"list(...values)",f.list,0),c(e,"draw_data(...xs)",a,0),c(e,"display_list(val, prepend = undefined)",(function(e){if(1==(arguments.length<=1?0:arguments.length-1)&&void 0!==(arguments.length<=1?void 0:arguments[1])&&"string"!=typeof(arguments.length<=1?void 0:arguments[1]))throw new TypeError("display_list expects the second argument to be a string");return f.rawDisplayList(s,e,arguments.length<=1?void 0:arguments[1])}),0))),e.chapter>=3&&(c(e,"set_head(xs, val)",f.set_head),c(e,"set_tail(xs, val)",f.set_tail),c(e,"array_length(arr)",y.array_length),c(e,"is_array(val)",y.is_array),c(e,"stream_tail(stream)",b.stream_tail),c(e,"stream(...values)",b.stream,0),c(e,"list_to_stream(xs)",b.list_to_stream)),e.chapter>=4&&(c(e,"parse(program_string)",(function(t){return v.parse(t,M(e.chapter))})),c(e,"tokenize(program_string)",(function(t){return v.tokenize(t,M(e.chapter))})),c(e,"apply_in_underlying_javascript(fun, args)",(function(e,t){return e.apply(e,d.list_to_vector(t))})),"gpu"===e.variant&&(c(e,"__clearKernelCache()",_.__clearKernelCache),c(e,"__createKernelSource(shape, extern, localNames, output, fun, kernelId)",_.__createKernelSource))),e.chapter>=100&&(c(e,"is_object(val)",y.is_object),c(e,"is_NaN(val)",y.is_NaN),c(e,"has_own_property(obj, prop)",y.has_own_property),c(e,"alert(val)",(function(t){var r=Date.now();n.alert(t,"",e.externalContext),e.nativeStorage.maxExecTime+=Date.now()-r})),c(e,"timed(fun)",(function(t){return y.timed(e,t,e.externalContext,n.rawDisplay)}))),"lazy"===e.variant&&(c(e,"wrapLazyCallee(f)",new E(w.wrapLazyCallee,!0)),c(e,"makeLazyFunction(f)",new E(w.makeLazyFunction,!0)),c(e,"forceIt(val)",new E(w.forceIt,!0)),c(e,"delayIt(xs)",new E(w.delayIt,!0)))};var R={rawDisplay:y.rawDisplay,prompt:y.rawDisplay,alert:y.rawDisplay,visualiseList:function(){throw new Error("List visualizer is not enabled")}},M=function(){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:R,r=t.createEmptyContext(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",e,arguments.length>3?arguments[3]:void 0,arguments.length>5?arguments[5]:void 0);return t.importBuiltins(r,n),function(e){var t="";e.chapter>=2&&(t+="lazy"===e.variant?k.lazyListPrelude:m.listPrelude),e.chapter>=3&&(t+=x.streamPrelude),"non-det"===e.variant&&(t+=g.nonDetPrelude),""!==t&&(e.prelude=t)}(r),t.importExternalSymbols(r,e),r};t.default=M},E02R:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},FaXh:function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?i-1:0,p=n?-1:1,f=e[t+h];for(h+=p,o=f&(1<<-c)-1,f>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=p,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+h],h+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=l}return(f?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?p/u:p*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*u-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&a,f+=d,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[n+f]=255&s,f+=d,s/=256,l-=8);e[n+f-d]|=128*m}},GFFv:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){function t(e){return s(e,n)}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{_next:0};switch(e.kind){case"primitive":return e.name;case"variable":return e.constraint&&"none"!==e.constraint?e.constraint:(e.name in n||(n[e.name]="T"+n._next++),n[e.name]);case"list":return"List<".concat(t(e.elementType),">");case"array":return"Array<".concat(t(e.elementType),">");case"pair":var r=t(e.headType);return"list"===e.tailType.kind&&r===t(e.tailType.elementType)?"List<".concat(r,">"):"[".concat(t(e.headType),", ").concat(t(e.tailType),"]");case"function":var i=e.parameterTypes.map(t).join(", ");return 1===e.parameterTypes.length&&"function"!==e.parameterTypes[0].kind||(i="(".concat(i,")")),"".concat(i," -> ").concat(t(e.returnType));default:return"Unable to infer type"}}function a(e){function t(e,t,r,i){var a=s.get(e);if(void 0!==a)return[a,!1];o.set(e,o.size);for(var u=t.map(n),l=r.length+i.length+2*Math.max(0,u.length-1),c=!1,h=0;h<u.length;h++)null==u[h]&&(u[h]=n(void 0)),l+=u[h][0].length,c||(c=u[h][1]);o.delete(e);var p={type:"arraylike",elems:u.map((function(e){return e[0]})),prefix:r,suffix:i,length:l};return c||s.set(e,p),[p,c]}function n(a){if(null===a)return[{type:"terminal",str:"null",length:4},!1];if(void 0===a)return[{type:"terminal",str:"undefined",length:9},!1];if(o.has(a))return[{type:"terminal",str:"...<circular>",length:13},!0];if(a instanceof p.default){var u=a.toString().split("\n");return 1===u.length?[{type:"terminal",str:u[0],length:u[0].length},!1]:[{type:"multiline",lines:u,length:1/0},!1]}if("string"==typeof a){var l=JSON.stringify(a);return[{type:"terminal",str:l,length:l.length},!1]}if("object"!==r(a)){var c=a.toString().split("\n");return 1===c.length?[{type:"terminal",str:c[0],length:c[0].length},!1]:[{type:"multiline",lines:c,length:1/0},!1]}if(o.size>h.MAX_LIST_DISPLAY_LENGTH)return[{type:"terminal",str:"...<truncated>",length:14},!1];if("function"==typeof a.toReplString){var f=a.toReplString().split("\n");return 1===f.length?[{type:"terminal",str:f[0],length:f[0].length},!1]:[{type:"multiline",lines:f,length:1/0},!1]}return Array.isArray(a)?2===a.length?function(e){var t=s.get(e);if(void 0!==t)return[t,!1];o.set(e,o.size);var r=e,a=i(n(r[0]),2),u=a[0],l=a[1],c=i(n(r[1]),2),h=c[0],p=l||c[1];o.delete(e);var f={type:"pair",head:u,tail:h,length:u.length+h.length+4};return p||s.set(e,f),[f,p]}(a):t(a,a,"[","]"):function(e){return"string"==typeof e.replPrefix&&"string"==typeof e.replSuffix&&"function"==typeof e.replArrayContents}(a)?t(a,a.replArrayContents(),a.replPrefix,a.replSuffix):function(t){var r=s.get(e);if(void 0!==r)return[r,!1];o.set(t,o.size);for(var i=Object.entries(t),a=i.map((function(e){return n(e[1])})),u=2+2*Math.max(0,i.length-1)+2*i.length,l=!1,c=[],h=0;h<a.length;h++)u+=i[h][0].length,u+=a[h].length,l||(l=a[h][1]),c.push({type:"kvpair",key:i[h][0],value:a[h][0],length:a[h][0].length+i[h][0].length});o.delete(e);var p={type:"arraylike",elems:c,prefix:"{",suffix:"}",length:u};return l||s.set(e,p),[p,l]}(a)}var o=new Map,s=new Map;return n(e)[0]}function u(e,t,n){var r="["+" ".repeat(Math.max(0,t-1)),i=new Map;return function e(o){var s,a=i.get(o);if(void 0!==a)return a;if("terminal"===o.type)s={type:"line",line:o};else if("multiline"===o.type)s={type:"block",prefixFirst:"",prefixRest:"",block:o.lines.map((function(e){return{type:"line",line:{type:"terminal",str:e,length:e.length}}})),suffixRest:"",suffixLast:""};else if("pair"===o.type){var u=e(o.head),l=e(o.tail);s=o.length-2>n||"line"!==u.type||"line"!==l.type?{type:"block",prefixFirst:r,prefixRest:"",block:[u,l],suffixRest:",",suffixLast:"]"}:{type:"line",line:o}}else if("arraylike"===o.type){var c=o.elems.map(e);s=o.length-o.prefix.length-o.suffix.length>n||c.some((function(e){return"line"!==e.type}))?{type:"block",prefixFirst:o.prefix+" ".repeat(Math.max(0,t-o.prefix.length)),prefixRest:" ".repeat(Math.max(o.prefix.length,t)),block:c,suffixRest:",",suffixLast:o.suffix}:{type:"line",line:o}}else{if("kvpair"!==o.type)throw"up";var h=e(o.value);s=o.length>n||"line"!==h.type?{type:"block",prefixFirst:"",prefixRest:"",block:[{type:"line",line:{type:"terminal",str:JSON.stringify(o.key),length:0}},h],suffixRest:":",suffixLast:""}:{type:"line",line:o}}return i.set(o,s),s}(e)}function l(e){return function e(t,n){if("multiline"===t.type)throw"Tried to format multiline string as single line string";if("terminal"===t.type)n.push(t.str);else if("pair"===t.type)n.push("["),e(t.head,n),n.push(", "),e(t.tail,n),n.push("]");else if("kvpair"===t.type)n.push(JSON.stringify(t.key)),n.push(": "),e(t.value,n);else if("arraylike"===t.type){n.push(t.prefix),t.elems.length>0&&e(t.elems[0],n);for(var r=1;r<t.elems.length;r++)n.push(", "),e(t.elems[r],n);n.push(t.suffix)}return n}(e,[]).join("")}function c(e){var t="",n=new Map,r=new Map;return function e(i,o){var s=r.get(i);if(void 0!==s){var a=s.get(o.length);if(void 0!==a)return void(t+=t.substring(a[0],a[1]))}var u=t.length;if("line"===i.type)n.has(i.line)||n.set(i.line,l(i.line)),t+=n.get(i.line);else if("block"===i.type){t+=i.prefixFirst;var c=o+" ".repeat(i.prefixFirst.length),h=o+i.prefixRest;e(i.block[0],c);for(var p=1;p<i.block.length;p++)t+=i.suffixRest,t+=h,e(i.block[p],h);t+=i.suffixLast}var f=t.length;if(void 0===s){var d=new Map;d.set(o.length,[u,f]),r.set(i,d)}else s.set(o.length,[u,f])}(e,"\n"),t}Object.defineProperty(t,"__esModule",{value:!0}),t.lineTreeToString=t.stringDagToSingleLine=t.stringDagToLineTree=t.valueToStringDag=t.typeToString=t.stringify=void 0;var h=n("Otp2"),p=n("TK+R"),f=n("B4Ta");t.stringify=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80;if(e=f.forceIt(e),"string"==typeof t)throw"stringify with arbitrary indent string not supported";var r=t;return t>10&&(r=10),c(u(a(e),r,n))},t.typeToString=function(e){return s(e)},t.valueToStringDag=a,t.stringDagToLineTree=u,t.stringDagToSingleLine=l,t.lineTreeToString=c},HnoM:function(e,t,n){"use strict";function r(e){return i.is_null(e)?null:i.pair(i.head(e),(function(){return r(i.tail(e))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.list_to_stream=t.stream=t.stream_tail=void 0;var i=n("255Z");t.stream_tail=function(e){var t;if(!i.is_pair(e))throw new Error("stream_tail(xs) expects a pair as argument xs, but encountered "+e);if("function"==typeof(t=e[1]))return t();throw new Error("stream_tail(xs) expects a function as the tail of the argument pair xs, but encountered "+t)},t.stream=function(){return r(i.list.apply(i,arguments))},t.list_to_stream=r},HrKg:function(e){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},IHZQ:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NoUnspecifiedLiteral=void 0;var s=n("QyX9"),a=["boolean","string","number"],u=function(){function e(e){this.node=e,this.type=s.ErrorType.SYNTAX,this.severity=s.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){var e=this.node.value instanceof RegExp?"RegExp":"";return"'".concat(e,"' literals are not allowed.")}},{key:"elaborate",value:function(){return""}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.NoUnspecifiedLiteral=u,t.default={name:"no-unspecified-literal",checkers:{Literal:function(e){return null===e.value||a.includes(r(e.value))?[]:[new u(e)]}}}},IPtZ:function(e,t,n){"use strict";var r=n("XKyj").Buffer,i=n(1);e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,i=0;n;)n.data.copy(t,i),i+=n.data.length,n=n.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},Ib16:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.getInstructionSize=t.OPCODE_MAX=t.OpCodes=void 0,function(e){e[e.NOP=0]="NOP",e[e.LDCI=1]="LDCI",e[e.LGCI=2]="LGCI",e[e.LDCF32=3]="LDCF32",e[e.LGCF32=4]="LGCF32",e[e.LDCF64=5]="LDCF64",e[e.LGCF64=6]="LGCF64",e[e.LDCB0=7]="LDCB0",e[e.LDCB1=8]="LDCB1",e[e.LGCB0=9]="LGCB0",e[e.LGCB1=10]="LGCB1",e[e.LGCU=11]="LGCU",e[e.LGCN=12]="LGCN",e[e.LGCS=13]="LGCS",e[e.POPG=14]="POPG",e[e.POPB=15]="POPB",e[e.POPF=16]="POPF",e[e.ADDG=17]="ADDG",e[e.ADDF=18]="ADDF",e[e.SUBG=19]="SUBG",e[e.SUBF=20]="SUBF",e[e.MULG=21]="MULG",e[e.MULF=22]="MULF",e[e.DIVG=23]="DIVG",e[e.DIVF=24]="DIVF",e[e.MODG=25]="MODG",e[e.MODF=26]="MODF",e[e.NOTG=27]="NOTG",e[e.NOTB=28]="NOTB",e[e.LTG=29]="LTG",e[e.LTF=30]="LTF",e[e.GTG=31]="GTG",e[e.GTF=32]="GTF",e[e.LEG=33]="LEG",e[e.LEF=34]="LEF",e[e.GEG=35]="GEG",e[e.GEF=36]="GEF",e[e.EQG=37]="EQG",e[e.EQF=38]="EQF",e[e.EQB=39]="EQB",e[e.NEWC=40]="NEWC",e[e.NEWA=41]="NEWA",e[e.LDLG=42]="LDLG",e[e.LDLF=43]="LDLF",e[e.LDLB=44]="LDLB",e[e.STLG=45]="STLG",e[e.STLB=46]="STLB",e[e.STLF=47]="STLF",e[e.LDPG=48]="LDPG",e[e.LDPF=49]="LDPF",e[e.LDPB=50]="LDPB",e[e.STPG=51]="STPG",e[e.STPB=52]="STPB",e[e.STPF=53]="STPF",e[e.LDAG=54]="LDAG",e[e.LDAB=55]="LDAB",e[e.LDAF=56]="LDAF",e[e.STAG=57]="STAG",e[e.STAB=58]="STAB",e[e.STAF=59]="STAF",e[e.BRT=60]="BRT",e[e.BRF=61]="BRF",e[e.BR=62]="BR",e[e.JMP=63]="JMP",e[e.CALL=64]="CALL",e[e.CALLT=65]="CALLT",e[e.CALLP=66]="CALLP",e[e.CALLTP=67]="CALLTP",e[e.CALLV=68]="CALLV",e[e.CALLTV=69]="CALLTV",e[e.RETG=70]="RETG",e[e.RETF=71]="RETF",e[e.RETB=72]="RETB",e[e.RETU=73]="RETU",e[e.RETN=74]="RETN",e[e.DUP=75]="DUP",e[e.NEWENV=76]="NEWENV",e[e.POPENV=77]="POPENV",e[e.NEWCP=78]="NEWCP",e[e.NEWCV=79]="NEWCV",e[e.NEGG=80]="NEGG",e[e.NEGF=81]="NEGF",e[e.NEQG=82]="NEQG",e[e.NEQF=83]="NEQF",e[e.NEQB=84]="NEQB",e[e.ARRAY_LEN=1e3]="ARRAY_LEN",e[e.DISPLAY=1001]="DISPLAY",e[e.DRAW_DATA=1002]="DRAW_DATA",e[e.ERROR=1003]="ERROR",e[e.IS_ARRAY=1004]="IS_ARRAY",e[e.IS_BOOL=1005]="IS_BOOL",e[e.IS_FUNC=1006]="IS_FUNC",e[e.IS_NULL=1007]="IS_NULL",e[e.IS_NUMBER=1008]="IS_NUMBER",e[e.IS_STRING=1009]="IS_STRING",e[e.IS_UNDEFINED=1010]="IS_UNDEFINED",e[e.MATH_ABS=1011]="MATH_ABS",e[e.MATH_ACOS=1012]="MATH_ACOS",e[e.MATH_ACOSH=1013]="MATH_ACOSH",e[e.MATH_ASIN=1014]="MATH_ASIN",e[e.MATH_ASINH=1015]="MATH_ASINH",e[e.MATH_ATAN=1016]="MATH_ATAN",e[e.MATH_ATAN2=1017]="MATH_ATAN2",e[e.MATH_ATANH=1018]="MATH_ATANH",e[e.MATH_CBRT=1019]="MATH_CBRT",e[e.MATH_CEIL=1020]="MATH_CEIL",e[e.MATH_CLZ32=1021]="MATH_CLZ32",e[e.MATH_COS=1022]="MATH_COS",e[e.MATH_COSH=1023]="MATH_COSH",e[e.MATH_EXP=1024]="MATH_EXP",e[e.MATH_EXPM1=1025]="MATH_EXPM1",e[e.MATH_FLOOR=1026]="MATH_FLOOR",e[e.MATH_FROUND=1027]="MATH_FROUND",e[e.MATH_HYPOT=1028]="MATH_HYPOT",e[e.MATH_IMUL=1029]="MATH_IMUL",e[e.MATH_LOG=1030]="MATH_LOG",e[e.MATH_LOG1P=1031]="MATH_LOG1P",e[e.MATH_LOG2=1032]="MATH_LOG2",e[e.MATH_LOG10=1033]="MATH_LOG10",e[e.MATH_MAX=1034]="MATH_MAX",e[e.MATH_MIN=1035]="MATH_MIN",e[e.MATH_POW=1036]="MATH_POW",e[e.MATH_RANDOM=1037]="MATH_RANDOM",e[e.MATH_ROUND=1038]="MATH_ROUND",e[e.MATH_SIGN=1039]="MATH_SIGN",e[e.MATH_SIN=1040]="MATH_SIN",e[e.MATH_SINH=1041]="MATH_SINH",e[e.MATH_SQRT=1042]="MATH_SQRT",e[e.MATH_TAN=1043]="MATH_TAN",e[e.MATH_TANH=1044]="MATH_TANH",e[e.MATH_TRUNC=1045]="MATH_TRUNC",e[e.PARSE_INT=1046]="PARSE_INT",e[e.RUNTIME=1047]="RUNTIME",e[e.STREAM=1048]="STREAM",e[e.STRINGIFY=1049]="STRINGIFY",e[e.PROMPT=1050]="PROMPT",e[e.EXECUTE=2e3]="EXECUTE",e[e.TEST_AND_SET=2001]="TEST_AND_SET",e[e.CLEAR=2002]="CLEAR"}(n=t.OpCodes||(t.OpCodes={})),t.OPCODE_MAX=84,t.getInstructionSize=function(e){switch(e){case n.LDLG:case n.LDLF:case n.LDLB:case n.STLG:case n.STLF:case n.STLB:case n.CALL:case n.CALLT:case n.NEWENV:case n.NEWCP:case n.NEWCV:return 2;case n.LDPG:case n.LDPF:case n.LDPB:case n.STPG:case n.STPF:case n.STPB:case n.CALLP:case n.CALLTP:case n.CALLV:case n.CALLTV:return 3;case n.LDCI:case n.LGCI:case n.LDCF32:case n.LGCF32:case n.LGCS:case n.NEWC:case n.BRF:case n.BRT:case n.BR:case n.JMP:return 5;case n.LDCF64:case n.LGCF64:return 9;default:return 1}},t.default=n},JFiO:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=p();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.SetPropertyError=t.GetInheritedPropertyError=t.GetPropertyError=t.ConstAssignment=t.VariableRedeclaration=t.InvalidNumberOfArguments=t.UnassignedVariable=t.UndefinedVariable=t.CallingNonFunctionValue=t.MaximumStackLimitExceeded=t.ExceptionError=t.InterruptedError=void 0;var d=n("j0Aj"),m=n("QyX9"),g=n("GFFv"),y=n("5AhW");t.InterruptedError=function(e){function t(e){return n.call(this,e)}u(t,e);var n=c(t);return s(t,[{key:"explain",value:function(){return"Execution aborted by user."}},{key:"elaborate",value:function(){return"TODO"}}]),t}(y.RuntimeSourceError),t.ExceptionError=function(){function e(e,t){this.error=e,this.location=t,this.type=m.ErrorType.RUNTIME,this.severity=m.ErrorSeverity.ERROR}return s(e,[{key:"explain",value:function(){return this.error.toString()}},{key:"elaborate",value:function(){return"TODO"}}]),e}();var v=function(e){function t(e,t){var r;return(r=n.call(this,e)).calls=t,r.customGenerator=i(i({},d.baseGenerator),{CallExpression:function(e,t){t.write(d.generate(e.callee)),t.write("(");var n=e.arguments.map((function(e){return g.stringify(e.value)}));t.write(n.join(", ")),t.write(")")}}),r}u(t,e);var n=c(t);return s(t,[{key:"explain",value:function(){var e=this;return"Maximum call stack size exceeded\n  "+this.calls.map((function(t){return function(t){return d.generate(t,{generator:e.customGenerator})}(t)+".."})).join("  ")}},{key:"elaborate",value:function(){return"TODO"}}]),t}(y.RuntimeSourceError);t.MaximumStackLimitExceeded=v,v.MAX_CALLS_TO_SHOW=3,t.CallingNonFunctionValue=function(e){function t(e,t){var r;return(r=n.call(this,t)).callee=e,r.node=t,r}u(t,e);var n=c(t);return s(t,[{key:"explain",value:function(){return"Calling non-function value ".concat(g.stringify(this.callee),".")}},{key:"elaborate",value:function(){var e,t=this.callee,n=g.stringify(t);e=this.node.arguments.map(d.generate).join(", ");var r="Because ".concat(n," is not a function, you cannot run ").concat(n,"(").concat(e,")."),i="If you were planning to perform multiplication by ".concat(n,", you need to use the * operator.");return Number.isFinite(t)?"".concat(r," ").concat(i):r}}]),t}(y.RuntimeSourceError),t.UndefinedVariable=function(e){function t(e,t){var r;return(r=n.call(this,t)).name=e,r}u(t,e);var n=c(t);return s(t,[{key:"explain",value:function(){return"Name ".concat(this.name," not declared.")}},{key:"elaborate",value:function(){return"Before you can read the value of ".concat(this.name,", you need to declare it as a variable or a constant. You can do this using the let or const keywords.")}}]),t}(y.RuntimeSourceError),t.UnassignedVariable=function(e){function t(e,t){var r;return(r=n.call(this,t)).name=e,r}u(t,e);var n=c(t);return s(t,[{key:"explain",value:function(){return"Name ".concat(this.name," declared later in current scope but not yet assigned")}},{key:"elaborate",value:function(){return"If you're trying to access the value of ".concat(this.name," from an outer scope, please rename the inner ").concat(this.name,". An easy way to avoid this issue in future would be to avoid declaring any variables or constants with the name ").concat(this.name," in the same scope.")}}]),t}(y.RuntimeSourceError);var b=function(e){function t(e,t,r){var i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(i=n.call(this,e)).expected=t,i.got=r,i.hasVarArgs=o,i.calleeStr=d.generate(e.callee),i}u(t,e);var n=c(t);return s(t,[{key:"explain",value:function(){return"Expected ".concat(this.expected," ").concat(this.hasVarArgs?"or more ":"","arguments, but got ").concat(this.got,".")}},{key:"elaborate",value:function(){var e=1===this.expected?"":"s";return"Try calling function ".concat(this.calleeStr," again, but with ").concat(this.expected," argument").concat(e," instead. Remember that arguments are separated by a ',' (comma).")}}]),t}(y.RuntimeSourceError);t.InvalidNumberOfArguments=b,t.VariableRedeclaration=function(e){function t(e,t,r){var i;return(i=n.call(this,e)).node=e,i.name=t,i.writable=r,i}u(t,e);var n=c(t);return s(t,[{key:"explain",value:function(){return"Redeclaring name ".concat(this.name,".")}},{key:"elaborate",value:function(){if(!0===this.writable){var e="Since ".concat(this.name," has already been declared, you can assign a value to it without re-declaring."),t="";return"FunctionDeclaration"===this.node.type?t="("+this.node.params.map(d.generate).join(",")+") => {...":"VariableDeclaration"===this.node.type&&(t=d.generate(this.node.declarations[0].init)),"".concat(e," As such, you can just do\n\n\t").concat(this.name," = ").concat(t,";\n")}return!1===this.writable?"You will need to declare another variable, as ".concat(this.name," is read-only."):""}}]),t}(y.RuntimeSourceError),t.ConstAssignment=function(e){function t(e,t){var r;return(r=n.call(this,e)).name=t,r}u(t,e);var n=c(t);return s(t,[{key:"explain",value:function(){return"Cannot assign new value to constant ".concat(this.name,".")}},{key:"elaborate",value:function(){return"As ".concat(this.name," was declared as a constant, its value cannot be changed. You will have to declare a new variable.")}}]),t}(y.RuntimeSourceError),t.GetPropertyError=function(e){function t(e,t,r){var i;return(i=n.call(this,e)).obj=t,i.prop=r,i}u(t,e);var n=c(t);return s(t,[{key:"explain",value:function(){return"Cannot read property ".concat(this.prop," of ").concat(g.stringify(this.obj),".")}},{key:"elaborate",value:function(){return"TODO"}}]),t}(y.RuntimeSourceError),t.GetInheritedPropertyError=function(e){function t(e,t,r){var i;return(i=n.call(this,e)).obj=t,i.prop=r,i.type=m.ErrorType.RUNTIME,i.severity=m.ErrorSeverity.ERROR,i.location=e.loc,i}u(t,e);var n=c(t);return s(t,[{key:"explain",value:function(){return"Cannot read inherited property ".concat(this.prop," of ").concat(g.stringify(this.obj),".")}},{key:"elaborate",value:function(){return"TODO"}}]),t}(y.RuntimeSourceError),t.SetPropertyError=function(e){function t(e,t,r){var i;return(i=n.call(this,e)).obj=t,i.prop=r,i}u(t,e);var n=c(t);return s(t,[{key:"explain",value:function(){return"Cannot assign property ".concat(this.prop," of ").concat(g.stringify(this.obj),".")}},{key:"elaborate",value:function(){return"TODO"}}]),t}(y.RuntimeSourceError)},JleK:function(e,t,n){(function(e){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],(function(e,t){"use strict";var n,r=e("./lib/oop"),i=(e("./lib/lang"),e("./lib/event_emitter").EventEmitter),o=e("./editor").Editor,s=e("./virtual_renderer").VirtualRenderer,a=e("./edit_session").EditSession;(function(){r.implement(this,i),this.$createEditor=function(){var e=document.createElement("div");e.className=this.$editorCSS,e.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(e);var t=new o(new s(e,this.$theme));return t.on("focus",function(){this._emit("focus",t)}.bind(this)),this.$editors.push(t),t.setFontSize(this.$fontSize),t},this.setSplits=function(e){var t;if(e<1)throw"The number of splits have to be > 0!";if(e!=this.$splits){if(e>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<e;)this.$container.appendChild((t=this.$editors[this.$splits]).container),t.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<e;)this.$createEditor(),this.$splits++}else for(;this.$splits>e;)this.$container.removeChild((t=this.$editors[this.$splits-1]).container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(e){return this.$editors[e]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(e){this.$editors.forEach((function(t){t.setTheme(e)}))},this.setKeyboardHandler=function(e){this.$editors.forEach((function(t){t.setKeyboardHandler(e)}))},this.forEach=function(e,t){this.$editors.forEach(e,t)},this.$fontSize="",this.setFontSize=function(e){this.$fontSize=e,this.forEach((function(t){t.setFontSize(e)}))},this.$cloneSession=function(e){var t=new a(e.getDocument(),e.getMode()),n=e.getUndoManager();return t.setUndoManager(n),t.setTabSize(e.getTabSize()),t.setUseSoftTabs(e.getUseSoftTabs()),t.setOverwrite(e.getOverwrite()),t.setBreakpoints(e.getBreakpoints()),t.setUseWrapMode(e.getUseWrapMode()),t.setUseWorker(e.getUseWorker()),t.setWrapLimitRange(e.$wrapLimitRange.min,e.$wrapLimitRange.max),t.$foldData=e.$cloneFoldData(),t},this.setSession=function(e,t){var n;n=null==t?this.$cEditor:this.$editors[t];var r=this.$editors.some((function(t){return t.session===e}));return r&&(e=this.$cloneSession(e)),n.setSession(e),e},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(e){this.$orientation!=e&&(this.$orientation=e,this.resize())},this.resize=function(){var e,t=this.$container.clientWidth,n=this.$container.clientHeight;if(this.$orientation==this.BESIDE)for(var r=t/this.$splits,i=0;i<this.$splits;i++)(e=this.$editors[i]).container.style.width=r+"px",e.container.style.top="0px",e.container.style.left=i*r+"px",e.container.style.height=n+"px",e.resize();else{var o=n/this.$splits;for(i=0;i<this.$splits;i++)(e=this.$editors[i]).container.style.width=t+"px",e.container.style.top=i*o+"px",e.container.style.left="0px",e.container.style.height=o+"px",e.resize()}}}).call((n=function(e,t,n){this.BELOW=1,this.BESIDE=0,this.$container=e,this.$theme=t,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(n||1),this.$cEditor=this.$editors[0],this.on("focus",function(e){this.$cEditor=e}.bind(this))}).prototype),t.Split=n})),ace.define("ace/ext/split",["require","exports","module","ace/split"],(function(e,t,n){"use strict";n.exports=e("../split")})),ace.require(["ace/ext/split"],(function(r){"object"==n(e)&&"object"==n(t)&&e&&(e.exports=r)}))}).call(this,n("RoC8")(e))},Jmra:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){"string"==typeof e&&(e=u(e));var t=function(e,t,n){var i=e.auth,o=e.hostname,s=e.protocol||"",a=e.pathname||"",u=e.hash||"",l=e.query||"",c=!1;i=i?encodeURIComponent(i).replace(/%3A/i,":")+"@":"",e.host?c=i+e.host:o&&(c=i+(~o.indexOf(":")?"["+o+"]":o),e.port&&(c+=":"+e.port)),l&&"object"==r(l)&&(l=t.encode(l));var h=e.search||l&&"?"+l||"";return s&&":"!==s.substr(-1)&&(s+=":"),e.slashes||(!s||n.test(s))&&!1!==c?(c="//"+(c||""),a&&"/"!==a[0]&&(a="/"+a)):c||(c=""),u&&"#"!==u[0]&&(u="#"+u),h&&"?"!==h[0]&&(h="?"+h),{protocol:s,host:c,pathname:a=a.replace(/[?#]/g,encodeURIComponent),search:h=h.replace("#","%23"),hash:u}}(e,c.a,h);return""+t.protocol+t.host+t.pathname+t.search+t.hash}function o(e,t){var n="string"==typeof e?u(e):e;e="object"==r(e)?i(e):e;var o=u(t),s="";n.protocol&&!n.slashes&&(s=n.protocol,e=e.replace(n.protocol,""),s+="/"===t[0]||"/"===e[0]?"/":""),s&&o.protocol&&(s="",o.slashes||(s=o.protocol,t=t.replace(o.protocol,"")));var a=e.match(m);a&&!o.protocol&&(e=e.substr((s=a[1]+(a[2]||"")).length),/^\/\/[^/]/.test(t)&&(s=s.slice(0,-1)));var l=new URL(e,d+"/"),c=new URL(t,l).toString().replace(d,""),h=o.protocol||n.protocol;return h+=n.slashes||o.slashes?"//":"",!s&&h?c=c.replace(p,h):s&&(c=c.replace(p,"")),g.test(c)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==c.slice(-1)||(c=c.slice(0,-1)),s&&(c=s+("/"===c[0]?c.substr(1):c)),c}function s(e,t){return u(o(e,t))}function a(){}function u(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),e&&"object"==r(e)&&e instanceof a)return e;var o=(e=e.trim()).match(v);e=o?o[1].replace(/\\/g,"/")+o[2]:e.replace(/\\/g,"/"),w.test(e)&&"/"!==e.slice(-1)&&(e+="/");var s=!/(^javascript)/.test(e)&&e.match(b),u=x.test(e),l="";s&&(y.test(s[1])||(l=s[1].toLowerCase(),e=""+s[2]+s[3]),s[2]||(u=!1,y.test(s[1])?(l=s[1],e=""+s[3]):e="//"+s[3]),3!==s[2].length&&1!==s[2].length||(l=s[1],e="/"+s[3]));var h,p=(o?o[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),m=p&&p[1],g=new a,_="",S="";try{h=new URL(e)}catch(k){_=k,l||n||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(S="/",e=e.substr(1));try{h=new URL(e,d)}catch(k){return g.protocol=l,g.href=l,g}}g.slashes=u&&!S,g.host=h.host===f?"":h.host,g.hostname=h.hostname===f?"":h.hostname.replace(/(\[|\])/g,""),g.protocol=_?l||null:h.protocol,g.search=h.search.replace(/\\/g,"%5C"),g.hash=h.hash.replace(/\\/g,"%5C");var k,T=e.split("#");!g.search&&~T[0].indexOf("?")&&(g.search="?"),g.hash||""!==T[1]||(g.hash="#"),g.query=t?c.a.decode(h.search.substr(1)):g.search.substr(1),g.pathname=S+(s?(k=h.pathname).replace(/['^|`]/g,(function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(e,t){try{return decodeURIComponent(t).split("").map((function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()})).join("")}catch(e){return t}})):h.pathname),"about:"===g.protocol&&"blank"===g.pathname&&(g.protocol="",g.pathname=""),_&&"/"!==e[0]&&(g.pathname=g.pathname.substr(1)),l&&!y.test(l)&&"/"!==e.slice(-1)&&"/"===g.pathname&&(g.pathname=""),g.path=g.pathname+g.search,g.auth=[h.username,h.password].map(decodeURIComponent).filter(Boolean).join(":"),g.port=h.port,m&&!g.host.endsWith(m)&&(g.host+=m,g.port=m.slice(1)),g.href=S?""+g.pathname+g.search+g.hash:i(g);var A=/^(file)/.test(g.href)?["host","hostname"]:[];return Object.keys(g).forEach((function(e){~A.indexOf(e)||(g[e]=g[e]||null)})),g}n.r(t),n.d(t,"parse",(function(){return u})),n.d(t,"format",(function(){return i})),n.d(t,"resolve",(function(){return o})),n.d(t,"resolveObject",(function(){return s})),n.d(t,"Url",(function(){return a}));var l=n("UKnr"),c=n.n(l),h=/https?|ftp|gopher|file/,p="http://",f="w.w",d=p+f,m=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,g=/https?|ftp|gopher|file/;a.prototype.parse=u,a.prototype.format=i,a.prototype.resolve=o,a.prototype.resolveObject=o;var y=/^https?|ftp|gopher|file/,v=/^(.*?)([#?].*)/,b=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,x=/^([a-z0-9.+-]*:)?\/\/\/*/i,w=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i},K2jg:function(e){(function(t){e.exports=t}).call(this,{})},K573:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n("ed46"),a=n("W0B4"),u=n("l8WD"),l=n("WPPq"),c=n("QcTW"),h=(0,c.getAceInstance)(),p=function(e){function t(t){var n=e.call(this,t)||this;return c.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=c.debounce,n}return i(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,i=t.onValidate,o=t.mode,s=t.focus,a=t.theme,u=t.fontSize,l=t.value,p=t.defaultValue,f=t.showGutter,d=t.wrapEnabled,m=t.showPrintMargin,g=t.scrollMargin,y=void 0===g?[0,0,0,0]:g,v=t.keyboardHandler,b=t.onLoad,x=t.commands,w=t.annotations,_=t.markers,S=t.placeholder;this.editor=h.edit(this.refEditor),r&&r(h);for(var k=Object.keys(this.props.editorProps),T=0;T<k.length;T++)this.editor[k[T]]=this.props.editorProps[k[T]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(y[0],y[1],y[2],y[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode("string"==typeof o?"ace/mode/".concat(o):o),a&&""!==a&&this.editor.setTheme("ace/theme/".concat(a)),this.editor.setFontSize("number"==typeof u?"".concat(u,"px"):u),this.editor.getSession().setValue(p||(l||"")),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(f),this.editor.getSession().setUseWrapMode(d),this.editor.setShowPrintMargin(m),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),S&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),i&&this.editor.getSession().on("changeAnnotation",(function(){var t=e.editor.getSession().getAnnotations();e.props.onValidate(t)})),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(w||[]),_&&_.length>0&&this.handleMarkers(_);var A=this.editor.$options;c.editorOptions.forEach((function(t){A.hasOwnProperty(t)?e.editor.setOption(t,e.props[t]):e.props[t]&&console.warn("ReactAce: editor option ".concat(t," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))})),this.handleOptions(this.props),Array.isArray(x)&&x.forEach((function(t){"string"==typeof t.exec?e.editor.commands.bindKey(t.bindKey,t.exec):e.editor.commands.addCommand(t)})),v&&this.editor.setKeyboardHandler("ace/keyboard/"+v),n&&(this.refEditor.className+=" "+n),b&&b(this.editor),this.editor.resize(),s&&this.editor.focus()},t.prototype.componentDidUpdate=function(e){for(var t=e,n=this.props,r=0;r<c.editorOptions.length;r++){var i=c.editorOptions[r];n[i]!==t[i]&&this.editor.setOption(i,n[i])}if(n.className!==t.className){var o=this.refEditor.className.trim().split(" ");t.className.trim().split(" ").forEach((function(e){var t=o.indexOf(e);o.splice(t,1)})),this.refEditor.className=" "+n.className+" "+o.join(" ")}var s=this.editor&&null!=n.value&&this.editor.getValue()!==n.value;if(s){this.silent=!0;var a=this.editor.session.selection.toJSON();this.editor.setValue(n.value,n.cursorStart),this.editor.session.selection.fromJSON(a),this.silent=!1}n.placeholder!==t.placeholder&&this.updatePlaceholder(),n.mode!==t.mode&&this.editor.getSession().setMode("string"==typeof n.mode?"ace/mode/".concat(n.mode):n.mode),n.theme!==t.theme&&this.editor.setTheme("ace/theme/"+n.theme),n.keyboardHandler!==t.keyboardHandler&&this.editor.setKeyboardHandler(n.keyboardHandler?"ace/keyboard/"+n.keyboardHandler:null),n.fontSize!==t.fontSize&&this.editor.setFontSize("number"==typeof n.fontSize?"".concat(n.fontSize,"px"):n.fontSize),n.wrapEnabled!==t.wrapEnabled&&this.editor.getSession().setUseWrapMode(n.wrapEnabled),n.showPrintMargin!==t.showPrintMargin&&this.editor.setShowPrintMargin(n.showPrintMargin),n.showGutter!==t.showGutter&&this.editor.renderer.setShowGutter(n.showGutter),l(n.setOptions,t.setOptions)||this.handleOptions(n),!s&&l(n.annotations,t.annotations)||this.editor.getSession().setAnnotations(n.annotations||[]),!l(n.markers,t.markers)&&Array.isArray(n.markers)&&this.handleMarkers(n.markers),l(n.scrollMargin,t.scrollMargin)||this.handleScrollMargins(n.scrollMargin),e.height===this.props.height&&e.width===this.props.width||this.editor.resize(),this.props.focus&&!e.focus&&this.editor.focus()},t.prototype.handleScrollMargins=function(e){void 0===e&&(e=[0,0,0,0]),this.editor.renderer.setScrollMargin(e[0],e[1],e[2],e[3])},t.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},t.prototype.onChange=function(e){if(this.props.onChange&&!this.silent){var t=this.editor.getValue();this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=this.editor.getSelection();this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=this.editor.getSelection();this.props.onCursorChange(t,e)}},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e),this.props.placeholder&&this.updatePlaceholder()},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e,this.editor)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e,this.editor)},t.prototype.onCopy=function(e){this.props.onCopy&&this.props.onCopy(e.text)},t.prototype.onPaste=function(e){this.props.onPaste&&this.props.onPaste(e.text)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e){for(var t=Object.keys(e.setOptions),n=0;n<t.length;n++)this.editor.setOption(t[n],e.setOptions[t[n]])},t.prototype.handleMarkers=function(e){var t=this,n=this.editor.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&this.editor.getSession().removeMarker(n[r].id);for(var r in n=this.editor.getSession().getMarkers(!1))n.hasOwnProperty(r)&&"ace_active-line"!==n[r].clazz&&"ace_selected-word"!==n[r].clazz&&this.editor.getSession().removeMarker(n[r].id);e.forEach((function(e){var n=e.className,r=e.type,i=e.inFront,o=void 0!==i&&i,a=new s.Range(e.startRow,e.startCol,e.endRow,e.endCol);t.editor.getSession().addMarker(a,n,r,o)}))},t.prototype.updatePlaceholder=function(){var e=this.editor,t=this.props.placeholder,n=!e.session.getValue().length,r=e.renderer.placeholderNode;!n&&r?(e.renderer.scroller.removeChild(e.renderer.placeholderNode),e.renderer.placeholderNode=null):n&&!r?((r=e.renderer.placeholderNode=document.createElement("div")).textContent=t||"",r.className="ace_comment ace_placeholder",r.style.padding="0 9px",r.style.position="absolute",r.style.zIndex="3",e.renderer.scroller.appendChild(r)):n&&r&&(r.textContent=t)},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=o({width:e.width,height:e.height},e.style);return u.createElement("div",{ref:this.updateRef,id:t,style:n})},t.propTypes={mode:a.oneOfType([a.string,a.object]),focus:a.bool,theme:a.string,name:a.string,className:a.string,height:a.string,width:a.string,fontSize:a.oneOfType([a.number,a.string]),showGutter:a.bool,onChange:a.func,onCopy:a.func,onPaste:a.func,onFocus:a.func,onInput:a.func,onBlur:a.func,onScroll:a.func,value:a.string,defaultValue:a.string,onLoad:a.func,onSelectionChange:a.func,onCursorChange:a.func,onBeforeLoad:a.func,onValidate:a.func,minLines:a.number,maxLines:a.number,readOnly:a.bool,highlightActiveLine:a.bool,tabSize:a.number,showPrintMargin:a.bool,cursorStart:a.number,debounceChangePeriod:a.number,editorProps:a.object,setOptions:a.object,style:a.object,scrollMargin:a.array,annotations:a.array,markers:a.array,keyboardHandler:a.string,wrapEnabled:a.bool,enableSnippets:a.bool,enableBasicAutocompletion:a.oneOfType([a.bool,a.array]),enableLiveAutocompletion:a.oneOfType([a.bool,a.array]),navigateToFileEnd:a.bool,commands:a.array,placeholder:a.string},t.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},t}(u.Component);t.default=p},"KZ+V":function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function i(e){var t=a();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}function o(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){function n(){return function(e,t,n){if(a())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&u(i,n.prototype),i}(e,arguments,l(this).constructor)}if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},s(e)}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a=function(){return!!e})()}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function p(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InternalCyclicReferenceError=t.InternalDifferentNumberArgumentsError=t.UnifyError=t.InternalTypeError=t.TypeError=void 0;var f=n("QyX9"),d=n("GFFv");t.TypeError=function(){function e(e,t){this.node=e,this.message=t,this.type=f.ErrorType.TYPE,this.severity=f.ErrorSeverity.WARNING,e.typability="Untypable"}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return this.message}},{key:"elaborate",value:function(){return this.message}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();var m=function(e){function t(e){var t;return(t=n.call(this)).message=e,t}r(t,e);var n=i(t);return t}(s(Error));t.InternalTypeError=m,t.UnifyError=function(e){function t(e,t){var r;return(r=n.call(this,"Failed to unify LHS: ".concat(d.typeToString(e),", RHS: ").concat(d.typeToString(t)))).LHS=e,r.RHS=t,r}r(t,e);var n=i(t);return t}(m),t.InternalDifferentNumberArgumentsError=function(e){function t(e,t){var r;return(r=n.call(this,"Expected ".concat(e," args, got ").concat(t))).numExpectedArgs=e,r.numReceived=t,r}r(t,e);var n=i(t);return t}(m),t.InternalCyclicReferenceError=function(e){function t(e){var t;return(t=n.call(this,"contains a cyclic reference to itself")).name=e,t}r(t,e);var n=i(t);return t}(m)},KlUR:function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function r(e,t,n){for(var r,o=[],s=t;s<n;s+=3)o.push(i[(r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return o.join("")}t.byteLength=function(e){var t=n(e),r=t[1];return 3*(t[0]+r)/4-r},t.toByteArray=function(e){var t,r,i=n(e),a=i[0],u=i[1],l=new s(function(e,t,n){return 3*(t+n)/4-n}(0,a,u)),c=0,h=u>0?a-4:a;for(r=0;r<h;r+=4)t=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===u&&(t=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,l[c++]=255&t),1===u&&(t=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,s=[],a=16383,u=0,l=n-o;u<l;u+=a)s.push(r(e,u,u+a>l?l:u+a));return 1===o?s.push(i[(t=e[n-1])>>2]+i[t<<4&63]+"=="):2===o&&s.push(i[(t=(e[n-2]<<8)+e[n-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),s.join("")};for(var i=[],o=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0;u<64;++u)i[u]=a[u],o[a.charCodeAt(u)]=u;o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},Lq4A:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=this;this.forLoopTransform=function(e){e.init&&e.update&&e.test&&(t.ok=t.hasCounter(e.init)&&t.hasCondition(e.test)&&t.hasUpdate(e.update))},this.hasCounter=function(e){if(!e||"VariableDeclaration"!==e.type)return!1;if("let"!==e.kind)return!1;var n=e.declarations;if(n.length>1)return!1;var r=n[0];if("Identifier"!==r.id.type||!r.init)return!1;t.counter=r.id.name;var i=r.init;return!(!i||"Literal"!==i.type||0!==i.value)},this.hasCondition=function(e){if("BinaryExpression"!==e.type)return!1;if("<"!==e.operator&&"<="!==e.operator)return!1;var n=e.left;if("Identifier"!==n.type||n.name!==t.counter)return!1;var r=e.right;return("Identifier"===r.type||"Literal"===r.type)&&(t.end=r,!0)},this.hasUpdate=function(e){if("AssignmentExpression"!==e.type)return!1;if("="!==e.operator)return!1;if("Identifier"!==e.left.type||e.left.name!==t.counter)return!1;if("BinaryExpression"!==e.right.type)return!1;var n=e.right;return"+"===n.operator&&("Identifier"===n.left.type&&n.left.name===t.counter&&("Literal"===n.right.type&&1===n.right.value)||"Identifier"===n.right.type&&n.right.name===t.counter&&("Literal"===n.left.type&&1===n.left.value))},this.node=e,this.forLoopTransform(this.node)}},Lqhk:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NoUpdateAssignment=void 0;var s=n("j0Aj"),a=n("QyX9"),u=function(){function e(e){this.node=e,this.type=a.ErrorType.SYNTAX,this.severity=a.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"The assignment operator "+this.node.operator+" is not allowed. Use = instead."}},{key:"elaborate",value:function(){var e=s.generate(this.node.left),t=s.generate(this.node.right),n=this.node.operator.slice(0,-1);return"+"===n||"-"===n||"/"===n||"*"===n?"\n\t".concat(e," = ").concat(e," ").concat(n," ").concat(t,";"):""}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.NoUpdateAssignment=u,t.default={name:"no-update-assignment",checkers:{AssignmentExpression:function(e){return"="!==e.operator?[new u(e)]:[]}}}},MNOf:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,i,o){i=i||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(r=r||"&");var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var h,p,f,d,m=e[c].replace(a,"%20"),g=m.indexOf(i);g>=0?(h=m.substr(0,g),p=m.substr(g+1)):(h=m,p=""),f=decodeURIComponent(h),d=decodeURIComponent(p),t(s,f)?n(s[f])?s[f].push(d):s[f]=[s[f],d]:s[f]=d}return s};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},NAQH:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BracesAroundForError=void 0;var s=n("j0Aj"),a=n("QyX9"),u=function(){function e(e){this.node=e,this.type=a.ErrorType.SYNTAX,this.severity=a.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return'Missing curly braces around "for" block.'}},{key:"elaborate",value:function(){var e=s.generate(this.node.init),t=s.generate(this.node.test),n=s.generate(this.node.update),r="\tfor (".concat(e," ").concat(t,"; ").concat(n,") {\n\t\t//code goes here\n\t}");return'Remember to enclose your "for" block with braces:\n\n '.concat(r)}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.BracesAroundForError=u,t.default={name:"braces-around-for",checkers:{ForStatement:function(e){return"BlockStatement"!==e.body.type?[new u(e)]:[]}}}},NS33:function(e,t,n){"use strict";function r(){}function i(){}var o=n("E02R");i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,s){if(s!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},"NY/1":function(e,t,n){var r=n("zkTx").Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,i=0;i<n;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},NpYg:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n("QcTW"),a=(0,s.getAceInstance)(),u=n("ed46"),l=n("JleK"),c=n("W0B4"),h=n("l8WD"),p=n("WPPq"),f=n("BjK/"),d=function(e){function t(t){var n=e.call(this,t)||this;return s.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=s.debounce,n}return i(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,i=t.mode,o=t.focus,u=t.theme,c=t.fontSize,h=t.value,p=t.defaultValue,d=t.cursorStart,m=t.showGutter,g=t.wrapEnabled,y=t.showPrintMargin,v=t.scrollMargin,b=void 0===v?[0,0,0,0]:v,x=t.keyboardHandler,w=t.onLoad,_=t.commands,S=t.annotations,k=t.markers,T=t.splits;this.editor=a.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(u)),r&&r(a);var A=Object.keys(this.props.editorProps),E=new l.Split(this.editor.container,"ace/theme/".concat(u),T);this.editor.env.split=E,this.splitEditor=E.getEditor(0),this.split=E,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var C=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),E.forEach((function(t,n){for(var r=0;r<A.length;r++)t[A[r]]=e.props.editorProps[A[r]];var o=f(p,n),l=f(h,n,"");t.session.setUndoManager(new a.UndoManager),t.setTheme("ace/theme/".concat(u)),t.renderer.setScrollMargin(b[0],b[1],b[2],b[3]),t.getSession().setMode("ace/mode/".concat(i)),t.setFontSize(c),t.renderer.setShowGutter(m),t.getSession().setUseWrapMode(g),t.setShowPrintMargin(y),t.on("focus",e.onFocus),t.on("blur",e.onBlur),t.on("input",e.onInput),t.on("copy",e.onCopy),t.on("paste",e.onPaste),t.on("change",e.onChange),t.getSession().selection.on("changeSelection",e.onSelectionChange),t.getSession().selection.on("changeCursor",e.onCursorChange),t.session.on("changeScrollTop",e.onScroll),t.setValue(void 0===o?l:o,d);var v=f(S,n,[]),w=f(k,n,[]);t.getSession().setAnnotations(v),w&&w.length>0&&e.handleMarkers(w,t);for(r=0;r<s.editorOptions.length;r++){var T=s.editorOptions[r];C.hasOwnProperty(T)?t.setOption(T,e.props[T]):e.props[T]&&console.warn("ReaceAce: editor option ".concat(T," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}e.handleOptions(e.props,t),Array.isArray(_)&&_.forEach((function(e){"string"==typeof e.exec?t.commands.bindKey(e.bindKey,e.exec):t.commands.addCommand(e)})),x&&t.setKeyboardHandler("ace/keyboard/"+x)})),n&&(this.refEditor.className+=" "+n),o&&this.splitEditor.focus();var L=this.editor.env.split;L.setOrientation("below"===this.props.orientation?L.BELOW:L.BESIDE),L.resize(!0),w&&w(L)},t.prototype.componentDidUpdate=function(e){var t=this,n=e,r=this.props,i=this.editor.env.split;if(r.splits!==n.splits&&i.setSplits(r.splits),r.orientation!==n.orientation&&i.setOrientation("below"===r.orientation?i.BELOW:i.BESIDE),i.forEach((function(e,i){r.mode!==n.mode&&e.getSession().setMode("ace/mode/"+r.mode),r.keyboardHandler!==n.keyboardHandler&&e.setKeyboardHandler(r.keyboardHandler?"ace/keyboard/"+r.keyboardHandler:null),r.fontSize!==n.fontSize&&e.setFontSize(r.fontSize),r.wrapEnabled!==n.wrapEnabled&&e.getSession().setUseWrapMode(r.wrapEnabled),r.showPrintMargin!==n.showPrintMargin&&e.setShowPrintMargin(r.showPrintMargin),r.showGutter!==n.showGutter&&e.renderer.setShowGutter(r.showGutter);for(var o=0;o<s.editorOptions.length;o++){var a=s.editorOptions[o];r[a]!==n[a]&&e.setOption(a,r[a])}p(r.setOptions,n.setOptions)||t.handleOptions(r,e);var u=f(r.value,i,"");if(e.getValue()!==u){t.silent=!0;var l=e.session.selection.toJSON();e.setValue(u,r.cursorStart),e.session.selection.fromJSON(l),t.silent=!1}var c=f(r.annotations,i,[]),h=f(n.annotations,i,[]);p(c,h)||e.getSession().setAnnotations(c);var d=f(r.markers,i,[]),m=f(n.markers,i,[]);!p(d,m)&&Array.isArray(d)&&t.handleMarkers(d,e)})),r.className!==n.className){var o=this.refEditor.className.trim().split(" ");n.className.trim().split(" ").forEach((function(e){var t=o.indexOf(e);o.splice(t,1)})),this.refEditor.className=" "+r.className+" "+o.join(" ")}r.theme!==n.theme&&i.setTheme("ace/theme/"+r.theme),r.focus&&!n.focus&&this.splitEditor.focus(),r.height===this.props.height&&r.width===this.props.width||this.editor.resize()},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(e){if(this.props.onChange&&!this.silent){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getValue())})),this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onCursorChange(t,e)}},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e)},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e)},t.prototype.onCopy=function(e){this.props.onCopy&&this.props.onCopy(e)},t.prototype.onPaste=function(e){this.props.onPaste&&this.props.onPaste(e)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e,t){for(var n=Object.keys(e.setOptions),r=0;r<n.length;r++)t.setOption(n[r],e.setOptions[n[r]])},t.prototype.handleMarkers=function(e,t){var n=t.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&t.getSession().removeMarker(n[r].id);for(var r in n=t.getSession().getMarkers(!1))n.hasOwnProperty(r)&&t.getSession().removeMarker(n[r].id);e.forEach((function(e){var n=e.className,r=e.type,i=e.inFront,o=void 0!==i&&i,s=new u.Range(e.startRow,e.startCol,e.endRow,e.endCol);t.getSession().addMarker(s,n,r,o)}))},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=o({width:e.width,height:e.height},e.style);return h.createElement("div",{ref:this.updateRef,id:t,style:n})},t.propTypes={className:c.string,debounceChangePeriod:c.number,defaultValue:c.arrayOf(c.string),focus:c.bool,fontSize:c.oneOfType([c.number,c.string]),height:c.string,mode:c.string,name:c.string,onBlur:c.func,onChange:c.func,onCopy:c.func,onFocus:c.func,onInput:c.func,onLoad:c.func,onPaste:c.func,onScroll:c.func,orientation:c.string,showGutter:c.bool,splits:c.number,theme:c.string,value:c.arrayOf(c.string),width:c.string,onSelectionChange:c.func,onCursorChange:c.func,onBeforeLoad:c.func,minLines:c.number,maxLines:c.number,readOnly:c.bool,highlightActiveLine:c.bool,tabSize:c.number,showPrintMargin:c.bool,cursorStart:c.number,editorProps:c.object,setOptions:c.object,style:c.object,scrollMargin:c.array,annotations:c.array,markers:c.array,keyboardHandler:c.string,wrapEnabled:c.bool,enableBasicAutocompletion:c.oneOfType([c.bool,c.array]),enableLiveAutocompletion:c.oneOfType([c.bool,c.array]),commands:c.array},t.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},t}(h.Component);t.default=d},OLMR:function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}e.exports=r;var i=n("+t3Y"),o=Object.create(n("nrnY"));o.inherits=n("wfEq"),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},Otp2:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ACORN_PARSE_OPTIONS=t.sourceLanguages=t.JSSLANG_PROPERTIES=t.UNKNOWN_LOCATION=t.MAX_LIST_DISPLAY_LENGTH=t.MODULE_PARAMS_ID=t.NATIVE_STORAGE_ID=t.GLOBAL=t.TRY_AGAIN=t.CUT=void 0,t.CUT="cut",t.TRY_AGAIN="retry",t.GLOBAL="undefined"==typeof window?e:window,t.NATIVE_STORAGE_ID="nativeStorage",t.MODULE_PARAMS_ID="moduleParams",t.MAX_LIST_DISPLAY_LENGTH=100,t.UNKNOWN_LOCATION={start:{line:-1,column:-1},end:{line:-1,column:-1}},t.JSSLANG_PROPERTIES={maxExecTime:1e3,factorToIncreaseBy:10},t.sourceLanguages=[{chapter:1,variant:"default"},{chapter:1,variant:"wasm"},{chapter:1,variant:"lazy"},{chapter:2,variant:"default"},{chapter:2,variant:"lazy"},{chapter:3,variant:"default"},{chapter:3,variant:"concurrent"},{chapter:3,variant:"non-det"},{chapter:4,variant:"default"},{chapter:4,variant:"gpu"}],t.ACORN_PARSE_OPTIONS={ecmaVersion:2015}}).call(this,n("pCvA"))},"Pq/i":function(e,t,n){"use strict";n.r(t);var r=n("hosL"),i=r.h,o=r.render,s=function(e){return e&&e.default?e.default:e},a=function(e){return"/"===e[e.length-1]?e:e+"/"};if("serviceWorker"in navigator&&navigator.serviceWorker.register(a(n.p)+"sw.js"),"function"==typeof s(n("QfWi"))){var u=document.getElementById("preact_root")||document.body.firstElementChild;0,function(){var e=s(n("QfWi")),t={},r=document.querySelector('[type="__PREACT_CLI_DATA__"]');r&&(t=JSON.parse(decodeURI(r.innerHTML)).preRenderData||t);var l={preRenderData:t};t.url&&a(t.url);o(i(e,{CLI_DATA:l}),document.body,u)}()}},QPHl:function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},r=-1;n.Diff=function(e,t){return[e,t]},n.prototype.diff_main=function(e,t,r,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=i;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[new n.Diff(0,e)]:[];void 0===r&&(r=!0);var s=r,a=this.diff_commonPrefix(e,t),u=e.substring(0,a);e=e.substring(a),t=t.substring(a),a=this.diff_commonSuffix(e,t);var l=e.substring(e.length-a);e=e.substring(0,e.length-a),t=t.substring(0,t.length-a);var c=this.diff_compute_(e,t,s,o);return u&&c.unshift(new n.Diff(0,u)),l&&c.push(new n.Diff(0,l)),this.diff_cleanupMerge(c),c},n.prototype.diff_compute_=function(e,t,i,o){var s;if(!e)return[new n.Diff(1,t)];if(!t)return[new n.Diff(r,e)];var a=e.length>t.length?e:t,u=e.length>t.length?t:e,l=a.indexOf(u);if(-1!=l)return s=[new n.Diff(1,a.substring(0,l)),new n.Diff(0,u),new n.Diff(1,a.substring(l+u.length))],e.length>t.length&&(s[0][0]=s[2][0]=r),s;if(1==u.length)return[new n.Diff(r,e),new n.Diff(1,t)];var c=this.diff_halfMatch_(e,t);if(c){var h=c[1],p=c[3],f=c[4],d=this.diff_main(c[0],c[2],i,o),m=this.diff_main(h,p,i,o);return d.concat([new n.Diff(0,f)],m)}return i&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,o):this.diff_bisect_(e,t,o)},n.prototype.diff_lineMode_=function(e,t,i){var o=this.diff_linesToChars_(e,t),s=o.lineArray,a=this.diff_main(e=o.chars1,t=o.chars2,!1,i);this.diff_charsToLines_(a,s),this.diff_cleanupSemantic(a),a.push(new n.Diff(0,""));for(var u=0,l=0,c=0,h="",p="";u<a.length;){switch(a[u][0]){case 1:c++,p+=a[u][1];break;case r:l++,h+=a[u][1];break;case 0:if(l>=1&&c>=1){a.splice(u-l-c,l+c),u=u-l-c;for(var f=this.diff_main(h,p,!1,i),d=f.length-1;d>=0;d--)a.splice(u,0,f[d]);u+=f.length}c=0,l=0,h="",p=""}u++}return a.pop(),a},n.prototype.diff_bisect_=function(e,t,i){for(var o=e.length,s=t.length,a=Math.ceil((o+s)/2),u=a,l=2*a,c=new Array(l),h=new Array(l),p=0;p<l;p++)c[p]=-1,h[p]=-1;c[u+1]=0,h[u+1]=0;for(var f=o-s,d=f%2!=0,m=0,g=0,y=0,v=0,b=0;b<a&&!((new Date).getTime()>i);b++){for(var x=-b+m;x<=b-g;x+=2){for(var w=u+x,_=(E=x==-b||x!=b&&c[w-1]<c[w+1]?c[w+1]:c[w-1]+1)-x;E<o&&_<s&&e.charAt(E)==t.charAt(_);)E++,_++;if(c[w]=E,E>o)g+=2;else if(_>s)m+=2;else if(d){if((T=u+f-x)>=0&&T<l&&-1!=h[T])if(E>=(k=o-h[T]))return this.diff_bisectSplit_(e,t,E,_,i)}}for(var S=-b+y;S<=b-v;S+=2){for(var k,T=u+S,A=(k=S==-b||S!=b&&h[T-1]<h[T+1]?h[T+1]:h[T-1]+1)-S;k<o&&A<s&&e.charAt(o-k-1)==t.charAt(s-A-1);)k++,A++;if(h[T]=k,k>o)v+=2;else if(A>s)y+=2;else if(!d){if((w=u+f-S)>=0&&w<l&&-1!=c[w]){var E;_=u+(E=c[w])-w;if(E>=(k=o-k))return this.diff_bisectSplit_(e,t,E,_,i)}}}}return[new n.Diff(r,e),new n.Diff(1,t)]},n.prototype.diff_bisectSplit_=function(e,t,n,r,i){var o=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),u=t.substring(r),l=this.diff_main(o,s,!1,i),c=this.diff_main(a,u,!1,i);return l.concat(c)},n.prototype.diff_linesToChars_=function(e,t){function n(e){for(var t="",n=0,s=-1,a=r.length;s<e.length-1;){-1==(s=e.indexOf("\n",n))&&(s=e.length-1);var u=e.substring(n,s+1);(i.hasOwnProperty?i.hasOwnProperty(u):void 0!==i[u])?t+=String.fromCharCode(i[u]):(a==o&&(u=e.substring(n),s=e.length),t+=String.fromCharCode(a),i[u]=a,r[a++]=u),n=s+1}return t}var r=[],i={};r[0]="";var o=4e4,s=n(e);return o=65535,{chars1:s,chars2:n(t),lineArray:r}},n.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}},n.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var o=0,s=1;;){var a=e.substring(i-s),u=t.indexOf(a);if(-1==u)return o;s+=u,0!=u&&e.substring(i-s)!=t.substring(0,s)||(o=s,s++)}},n.prototype.diff_halfMatch_=function(e,t){function n(e,t,n){for(var r,i,o,s,a=e.substring(n,n+Math.floor(e.length/4)),u=-1,l="";-1!=(u=t.indexOf(a,u+1));){var h=c.diff_commonPrefix(e.substring(n),t.substring(u)),p=c.diff_commonSuffix(e.substring(0,n),t.substring(0,u));l.length<p+h&&(l=t.substring(u-p,u)+t.substring(u,u+h),r=e.substring(0,n-p),i=e.substring(n+h),o=t.substring(0,u-p),s=t.substring(u+h))}return 2*l.length>=e.length?[r,i,o,s,l]:null}if(this.Diff_Timeout<=0)return null;var r=e.length>t.length?e:t,i=e.length>t.length?t:e;if(r.length<4||2*i.length<r.length)return null;var o,s,a,u,l,c=this,h=n(r,i,Math.ceil(r.length/4)),p=n(r,i,Math.ceil(r.length/2));return h||p?(o=p?h&&h[4].length>p[4].length?h:p:h,e.length>t.length?(s=o[0],a=o[1],u=o[2],l=o[3]):(u=o[0],l=o[1],s=o[2],a=o[3]),[s,a,u,l,o[4]]):null},n.prototype.diff_cleanupSemantic=function(e){for(var t=!1,i=[],o=0,s=null,a=0,u=0,l=0,c=0,h=0;a<e.length;)0==e[a][0]?(i[o++]=a,u=c,l=h,c=0,h=0,s=e[a][1]):(1==e[a][0]?c+=e[a][1].length:h+=e[a][1].length,s&&s.length<=Math.max(u,l)&&s.length<=Math.max(c,h)&&(e.splice(i[o-1],0,new n.Diff(r,s)),e[i[o-1]+1][0]=1,o--,a=--o>0?i[o-1]:-1,u=0,l=0,c=0,h=0,s=null,t=!0)),a++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),a=1;a<e.length;){if(e[a-1][0]==r&&1==e[a][0]){var p=e[a-1][1],f=e[a][1],d=this.diff_commonOverlap_(p,f),m=this.diff_commonOverlap_(f,p);d>=m?(d>=p.length/2||d>=f.length/2)&&(e.splice(a,0,new n.Diff(0,f.substring(0,d))),e[a-1][1]=p.substring(0,p.length-d),e[a+1][1]=f.substring(d),a++):(m>=p.length/2||m>=f.length/2)&&(e.splice(a,0,new n.Diff(0,p.substring(0,m))),e[a-1][0]=1,e[a-1][1]=f.substring(0,f.length-m),e[a+1][0]=r,e[a+1][1]=p.substring(m),a++),a++}a++}},n.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var r=e.charAt(e.length-1),i=t.charAt(0),o=r.match(n.nonAlphaNumericRegex_),s=i.match(n.nonAlphaNumericRegex_),a=o&&r.match(n.whitespaceRegex_),u=s&&i.match(n.whitespaceRegex_),l=a&&r.match(n.linebreakRegex_),c=u&&i.match(n.linebreakRegex_),h=l&&e.match(n.blanklineEndRegex_),p=c&&t.match(n.blanklineStartRegex_);return h||p?5:l||c?4:o&&!a&&u?3:a||u?2:o||s?1:0}for(var r=1;r<e.length-1;){if(0==e[r-1][0]&&0==e[r+1][0]){var i=e[r-1][1],o=e[r][1],s=e[r+1][1],a=this.diff_commonSuffix(i,o);if(a){var u=o.substring(o.length-a);i=i.substring(0,i.length-a),o=u+o.substring(0,o.length-a),s=u+s}for(var l=i,c=o,h=s,p=t(i,o)+t(o,s);o.charAt(0)===s.charAt(0);){i+=o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1);var f=t(i,o)+t(o,s);f>=p&&(p=f,l=i,c=o,h=s)}e[r-1][1]!=l&&(l?e[r-1][1]=l:(e.splice(r-1,1),r--),e[r][1]=c,h?e[r+1][1]=h:(e.splice(r+1,1),r--))}r++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,i=[],o=0,s=null,a=0,u=!1,l=!1,c=!1,h=!1;a<e.length;)0==e[a][0]?(e[a][1].length<this.Diff_EditCost&&(c||h)?(i[o++]=a,u=c,l=h,s=e[a][1]):(o=0,s=null),c=h=!1):(e[a][0]==r?h=!0:c=!0,s&&(u&&l&&c&&h||s.length<this.Diff_EditCost/2&&u+l+c+h==3)&&(e.splice(i[o-1],0,new n.Diff(r,s)),e[i[o-1]+1][0]=1,o--,s=null,u&&l?(c=h=!0,o=0):(a=--o>0?i[o-1]:-1,c=h=!1),t=!0)),a++;t&&this.diff_cleanupMerge(e)},n.prototype.diff_cleanupMerge=function(e){e.push(new n.Diff(0,""));for(var t,i=0,o=0,s=0,a="",u="";i<e.length;)switch(e[i][0]){case 1:s++,u+=e[i][1],i++;break;case r:o++,a+=e[i][1],i++;break;case 0:o+s>1?(0!==o&&0!==s&&(0!==(t=this.diff_commonPrefix(u,a))&&(i-o-s>0&&0==e[i-o-s-1][0]?e[i-o-s-1][1]+=u.substring(0,t):(e.splice(0,0,new n.Diff(0,u.substring(0,t))),i++),u=u.substring(t),a=a.substring(t)),0!==(t=this.diff_commonSuffix(u,a))&&(e[i][1]=u.substring(u.length-t)+e[i][1],u=u.substring(0,u.length-t),a=a.substring(0,a.length-t))),e.splice(i-=o+s,o+s),a.length&&(e.splice(i,0,new n.Diff(r,a)),i++),u.length&&(e.splice(i,0,new n.Diff(1,u)),i++),i++):0!==i&&0==e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,s=0,o=0,a="",u=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(i=1;i<e.length-1;)0==e[i-1][0]&&0==e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),l=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),l=!0)),i++;l&&this.diff_cleanupMerge(e)},n.prototype.diff_xIndex=function(e,t){var n,i=0,o=0,s=0,a=0;for(n=0;n<e.length&&(1!==e[n][0]&&(i+=e[n][1].length),e[n][0]!==r&&(o+=e[n][1].length),!(i>t));n++)s=i,a=o;return e.length!=n&&e[n][0]===r?a:a+(t-s)},n.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,i=/</g,o=/>/g,s=/\n/g,a=0;a<e.length;a++){var u=e[a][0],l=e[a][1].replace(n,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(s,"&para;<br>");switch(u){case 1:t[a]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case r:t[a]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:t[a]="<span>"+l+"</span>"}}return t.join("")},n.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},n.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==r&&(t[n]=e[n][1]);return t.join("")},n.prototype.diff_levenshtein=function(e){for(var t=0,n=0,i=0,o=0;o<e.length;o++){var s=e[o][1];switch(e[o][0]){case 1:n+=s.length;break;case r:i+=s.length;break;case 0:t+=Math.max(n,i),n=0,i=0}}return t+=Math.max(n,i)},n.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case r:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(e,t){for(var i=[],o=0,s=0,a=t.split(/\t/g),u=0;u<a.length;u++){var l=a[u].substring(1);switch(a[u].charAt(0)){case"+":try{i[o++]=new n.Diff(1,decodeURI(l))}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var c=parseInt(l,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+l);var h=e.substring(s,s+=c);"="==a[u].charAt(0)?i[o++]=new n.Diff(0,h):i[o++]=new n.Diff(r,h);break;default:if(a[u])throw new Error("Invalid diff operation in diff_fromDelta: "+a[u])}}if(s!=e.length)throw new Error("Delta length ("+s+") does not equal source text length ("+e.length+").");return i},n.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},n.prototype.match_bitap_=function(e,t,n){function r(e,r){var i=e/t.length,s=Math.abs(n-r);return o.Match_Distance?i+s/o.Match_Distance:s?1:i}if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(t),o=this,s=this.Match_Threshold,a=e.indexOf(t,n);-1!=a&&(s=Math.min(r(0,a),s),-1!=(a=e.lastIndexOf(t,n+t.length))&&(s=Math.min(r(0,a),s)));var u,l,c=1<<t.length-1;a=-1;for(var h,p=t.length+e.length,f=0;f<t.length;f++){for(u=0,l=p;u<l;)r(f,n+l)<=s?u=l:p=l,l=Math.floor((p-u)/2+u);p=l;var d=Math.max(1,n-l+1),m=Math.min(n+l,e.length)+t.length,g=Array(m+2);g[m+1]=(1<<f)-1;for(var y=m;y>=d;y--){var v=i[e.charAt(y-1)];if(g[y]=0===f?(g[y+1]<<1|1)&v:(g[y+1]<<1|1)&v|(h[y+1]|h[y])<<1|1|h[y+1],g[y]&c){var b=r(f,y-1);if(b<=s){if(s=b,!((a=y-1)>n))break;d=Math.max(1,2*n-a)}}}if(r(f+1,n)>s)break;h=g}return a},n.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},n.prototype.patch_addContext_=function(e,t){if(0!=t.length){if(null===e.start2)throw Error("patch not initialized");for(var r=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(r)!=t.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r=t.substring(e.start2-(i+=this.Patch_Margin),e.start2+e.length1+i);var o=t.substring(e.start2-(i+=this.Patch_Margin),e.start2);o&&e.diffs.unshift(new n.Diff(0,o));var s=t.substring(e.start2+e.length1,e.start2+e.length1+i);s&&e.diffs.push(new n.Diff(0,s)),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+s.length,e.length2+=o.length+s.length}},n.prototype.patch_make=function(e,i,o){var s,a;if("string"==typeof e&&"string"==typeof i&&void 0===o)(a=this.diff_main(s=e,i,!0)).length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(e&&"object"==t(e)&&void 0===i&&void 0===o)s=this.diff_text1(a=e);else if("string"==typeof e&&i&&"object"==t(i)&&void 0===o)s=e,a=i;else{if("string"!=typeof e||"string"!=typeof i||!o||"object"!=t(o))throw new Error("Unknown call format to patch_make.");s=e,a=o}if(0===a.length)return[];for(var u=[],l=new n.patch_obj,c=0,h=0,p=0,f=s,d=s,m=0;m<a.length;m++){var g=a[m][0],y=a[m][1];switch(c||0===g||(l.start1=h,l.start2=p),g){case 1:l.diffs[c++]=a[m],l.length2+=y.length,d=d.substring(0,p)+y+d.substring(p);break;case r:l.length1+=y.length,l.diffs[c++]=a[m],d=d.substring(0,p)+d.substring(p+y.length);break;case 0:y.length<=2*this.Patch_Margin&&c&&a.length!=m+1?(l.diffs[c++]=a[m],l.length1+=y.length,l.length2+=y.length):y.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(l,f),u.push(l),l=new n.patch_obj,c=0,f=d,h=p)}1!==g&&(h+=y.length),g!==r&&(p+=y.length)}return c&&(this.patch_addContext_(l,f),u.push(l)),u},n.prototype.patch_deepCopy=function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r],o=new n.patch_obj;o.diffs=[];for(var s=0;s<i.diffs.length;s++)o.diffs[s]=new n.Diff(i.diffs[s][0],i.diffs[s][1]);o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,t[r]=o}return t},n.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var i=0,o=[],s=0;s<e.length;s++){var a,u,l=e[s].start2+i,c=this.diff_text1(e[s].diffs),h=-1;if(c.length>this.Match_MaxBits?-1!=(a=this.match_main(t,c.substring(0,this.Match_MaxBits),l))&&(-1==(h=this.match_main(t,c.substring(c.length-this.Match_MaxBits),l+c.length-this.Match_MaxBits))||a>=h)&&(a=-1):a=this.match_main(t,c,l),-1==a)o[s]=!1,i-=e[s].length2-e[s].length1;else if(o[s]=!0,i=a-l,c==(u=t.substring(a,-1==h?a+c.length:h+this.Match_MaxBits)))t=t.substring(0,a)+this.diff_text2(e[s].diffs)+t.substring(a+c.length);else{var p=this.diff_main(c,u,!1);if(c.length>this.Match_MaxBits&&this.diff_levenshtein(p)/c.length>this.Patch_DeleteThreshold)o[s]=!1;else{this.diff_cleanupSemanticLossless(p);for(var f,d=0,m=0;m<e[s].diffs.length;m++){var g=e[s].diffs[m];0!==g[0]&&(f=this.diff_xIndex(p,d)),1===g[0]?t=t.substring(0,a+f)+g[1]+t.substring(a+f):g[0]===r&&(t=t.substring(0,a+f)+t.substring(a+this.diff_xIndex(p,d+g[1].length))),g[0]!==r&&(d+=g[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),o]},n.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,r="",i=1;i<=t;i++)r+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var o=e[0],s=o.diffs;if(0==s.length||0!=s[0][0])s.unshift(new n.Diff(0,r)),o.start1-=t,o.start2-=t,o.length1+=t,o.length2+=t;else if(t>s[0][1].length){var a=t-s[0][1].length;s[0][1]=r.substring(s[0][1].length)+s[0][1],o.start1-=a,o.start2-=a,o.length1+=a,o.length2+=a}if(0==(s=(o=e[e.length-1]).diffs).length||0!=s[s.length-1][0])s.push(new n.Diff(0,r)),o.length1+=t,o.length2+=t;else if(t>s[s.length-1][1].length){s[s.length-1][1]+=r.substring(0,a=t-s[s.length-1][1].length),o.length1+=a,o.length2+=a}return r},n.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,i=0;i<e.length;i++)if(!(e[i].length1<=t)){var o=e[i];e.splice(i--,1);for(var s=o.start1,a=o.start2,u="";0!==o.diffs.length;){var l=new n.patch_obj,c=!0;for(l.start1=s-u.length,l.start2=a-u.length,""!==u&&(l.length1=l.length2=u.length,l.diffs.push(new n.Diff(0,u)));0!==o.diffs.length&&l.length1<t-this.Patch_Margin;){var h=o.diffs[0][0],p=o.diffs[0][1];1===h?(l.length2+=p.length,a+=p.length,l.diffs.push(o.diffs.shift()),c=!1):h===r&&1==l.diffs.length&&0==l.diffs[0][0]&&p.length>2*t?(l.length1+=p.length,s+=p.length,c=!1,l.diffs.push(new n.Diff(h,p)),o.diffs.shift()):(p=p.substring(0,t-l.length1-this.Patch_Margin),l.length1+=p.length,s+=p.length,0===h?(l.length2+=p.length,a+=p.length):c=!1,l.diffs.push(new n.Diff(h,p)),p==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(p.length))}u=(u=this.diff_text2(l.diffs)).substring(u.length-this.Patch_Margin);var f=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==f&&(l.length1+=f.length,l.length2+=f.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=f:l.diffs.push(new n.Diff(0,f))),c||e.splice(++i,0,l)}}},n.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},n.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var i=e.split("\n"),o=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<i.length;){var a=i[o].match(s);if(!a)throw new Error("Invalid patch string: "+i[o]);var u=new n.patch_obj;for(t.push(u),u.start1=parseInt(a[1],10),""===a[2]?(u.start1--,u.length1=1):"0"==a[2]?u.length1=0:(u.start1--,u.length1=parseInt(a[2],10)),u.start2=parseInt(a[3],10),""===a[4]?(u.start2--,u.length2=1):"0"==a[4]?u.length2=0:(u.start2--,u.length2=parseInt(a[4],10)),o++;o<i.length;){var l=i[o].charAt(0);try{var c=decodeURI(i[o].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+c)}if("-"==l)u.diffs.push(new n.Diff(r,c));else if("+"==l)u.diffs.push(new n.Diff(1,c));else if(" "==l)u.diffs.push(new n.Diff(0,c));else{if("@"==l)break;if(""!==l)throw new Error('Invalid patch mode "'+l+'" in: '+c)}o++}}return t},(n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:e="+";break;case r:e="-";break;case 0:e=" "}t[n+1]=e+encodeURI(this.diffs[n][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=n,e.exports.diff_match_patch=n,e.exports.DIFF_DELETE=r,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},QRet:function(e,t,n){"use strict";function r(e,t){I.__h&&I.__h(S,e,E||t),E=0;var n=S.__H||(S.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:L}),n.__[e]}function i(e){return E=1,o(w,e)}function o(e,t,n){var i=r(_++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):w(void 0,t),function(e){var t=i.__N?i.__N[0]:i.__[0],n=i.t(t,e);t!==n&&(i.__N=[n,i.__[1]],i.__c.setState({}))}],i.__c=S,!S.u)){var o=function(e,t,n){if(!i.__c.__H)return!0;var r=i.__c.__H.__.filter((function(e){return!!e.__c}));if(r.every((function(e){return!e.__N})))return!s||s.call(this,e,t,n);var o=!1;return r.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}})),!(!o&&i.__c.props===e)&&(!s||s.call(this,e,t,n))};S.u=!0;var s=S.shouldComponentUpdate,a=S.componentWillUpdate;S.componentWillUpdate=function(e,t,n){if(this.__e){var r=s;s=void 0,o(e,t,n),s=r}a&&a.call(this,e,t,n)},S.shouldComponentUpdate=o}return i.__N||i.__}function s(e,t){var n=r(_++,3);!I.__s&&x(n.__H,t)&&(n.__=e,n.i=t,S.__H.__h.push(n))}function a(e,t){var n=r(_++,4);!I.__s&&x(n.__H,t)&&(n.__=e,n.i=t,S.__h.push(n))}function u(e){return E=5,c((function(){return{current:e}}),[])}function l(e,t,n){E=6,a((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function c(e,t){var n=r(_++,7);return x(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function h(e,t){return E=8,c((function(){return e}),t)}function p(e){var t=S.context[e.__c],n=r(_++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(S)),t.props.value):e.__}function f(e,t){I.useDebugValue&&I.useDebugValue(t?t(e):e)}function d(e){var t=r(_++,10),n=i();return t.__=e,S.componentDidCatch||(S.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]}function m(){var e=r(_++,11);if(!e.__){for(var t=S.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function g(){for(var e;e=C.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(v),e.__H.__h.forEach(b),e.__H.__h=[]}catch(t){e.__H.__h=[],I.__e(t,e.__v)}}function y(e){var t,n=function(){clearTimeout(r),F&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);F&&(t=requestAnimationFrame(n))}function v(e){var t=S,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),S=t}function b(e){var t=S;e.__c=e.__(),S=t}function x(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function w(e,t){return"function"==typeof t?t(e):t}n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return i}));var _,S,k,T,A=n("hosL"),E=0,C=[],L=[],I=A.options,R=I.__b,M=I.__r,O=I.diffed,N=I.__c,D=I.unmount,P=I.__;I.__b=function(e){S=null,R&&R(e)},I.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),P&&P(e,t)},I.__r=function(e){M&&M(e),_=0;var t=(S=e.__c).__H;t&&(k===S?(t.__h=[],S.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=L,e.__N=e.i=void 0}))):(t.__h.forEach(v),t.__h.forEach(b),t.__h=[],_=0)),k=S},I.diffed=function(e){O&&O(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==C.push(t)&&T===I.requestAnimationFrame||((T=I.requestAnimationFrame)||y)(g)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==L&&(e.__=e.__V),e.i=void 0,e.__V=L}))),k=S=null},I.__c=function(e,t){t.some((function(e){try{e.__h.forEach(v),e.__h=e.__h.filter((function(e){return!e.__||b(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],I.__e(n,e.__v)}})),N&&N(e,t)},I.unmount=function(e){D&&D(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{v(e)}catch(e){t=e}})),n.__H=void 0,t&&I.__e(t,n.__v))};var F="function"==typeof requestAnimationFrame},QcTW:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getAceInstance=t.debounce=t.editorEvents=t.editorOptions=void 0;t.editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];t.editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];t.getAceInstance=function(){var t;return"undefined"==typeof window?(e.window={},t=n("ed46"),delete e.window):window.ace?(t=window.ace).acequire=window.ace.require||window.ace.acequire:t=n("ed46"),t};t.debounce=function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(r,i)}),t)}}}).call(this,n("pCvA"))},QfWi:function(e,t,n){"use strict";n.r(t),function(e){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t=document.createTextNode(e);if(E.appendChild(t),L){var n=E.parentElement;n.scrollTop=n.scrollHeight}}function a(e){var t=document.createTextNode(e);if(C.appendChild(t),L){var n=C.parentElement;n.scrollTop=n.scrollHeight}}function u(){E.textContent="",C.textContent=""}function l(){var e=prompt("Enter new heap size, in bytes");if(e){var t=parseInt(e);t<0||isNaN(t)||!isFinite(t)?a("Invalid heap size!\n"):(R.alloc_heap(t),s("Resized heap to ".concat(t," bytes.\n")))}}function c(e){var t=e.severity?"[".concat(e.severity,"] "):"",n=e.location?"(".concat(e.location.start.line,":").concat(e.location.start.column,") "):"",r=e.explain?e.explain():e.message;return"".concat(t).concat(n).concat(r,"\n")}function h(){M&&u();var e=I.match(/\/\*\*!sivmfn([\s\S]*?)\*\//),t=e?e[1].trim().split(/[,\n]/g).map((function(e){return e.trim()})).filter((function(e){return e.length>0})):void 0;t&&a("Using internal functions:\n".concat(t.map((function(e,t){return"".concat(t,": ").concat(e)})).join("\n"),"\n"));var n,r,o=v()(3,"default"),s=Object(b.parse)(I,o),l=0,h=0,p=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}(o.errors);try{for(p.s();!(n=p.n()).done;){var f=n.value;switch(a(c(f)),f.severity){case"Warning":++l;break;case"Error":++h}}}catch(e){p.e(e)}finally{p.f()}if((l>0||h>0)&&a("".concat(l," warning(s) and ").concat(h," error(s) produced.\n")),void 0===s)return null;try{r=Object(x.compileToIns)(s,void 0,t)}catch(e){return a(c(e)),null}return r}function p(){var e=h();if(null!==e){var t;try{t=Object(w.assemble)(e)}catch(e){return void a(c(e))}var n=R.alloc(t.byteLength);n?(R.module.HEAPU8.set(t,n),R.run(n,t.byteLength)):a("Failed to allocate WebAssembly memory.\n")}}function f(){var e=Object(_.stringifyProgram)(h());s("".concat(e,"\n"))}function d(){var e;try{e=Object(w.assemble)(h())}catch(e){return void a(c(e))}var t=new Blob([e],{type:"application/octet-stream"});Object(A.saveAs)(t,"program.svm")}function m(){var t=r(Object(g.l)(!1),2),n=t[0],i=t[1],o=r(Object(g.l)(L),2),s=o[0],a=o[1],c=r(Object(g.l)(M),2),h=c[0],m=c[1];Object(g.d)((function(){O.then((function(){i(!0)}),(function(){I="// NOTE: Error loading Sinter WASM module. Check browser console for errors.",i(!0)}))}),[]);var y=Object(g.a)((function(e){e&&e.appendChild(E)}),[]),v=Object(g.a)((function(e){e&&e.appendChild(C)}),[]);return e("div",{id:"app"},e("div",{id:"editor"},e(T.a,{mode:"javascript",theme:"monokai",onChange:function(e){I=e},height:"100%",width:"100%",fontSize:16,value:I,commands:[{name:"run",bindKey:{win:"Shift-Enter",mac:"Shift-Enter"},exec:p}]})),e("div",{id:"control"},n?e("div",{id:"buttons"},e("button",{onClick:p},"Run"),e("button",{onClick:f},"Assembly"),e("button",{onClick:d},"Save SVM"),e("button",{onClick:u},"Clear output"),e("button",{onClick:l},"Resize heap"),e("button",{onClick:function(){var e=!h;m(e),M=e}},h?"â˜‘":"â˜"," Autoclear"),e("button",{onClick:function(){var e=!s;a(e),L=e}},s?"â˜‘":"â˜"," Autoscroll")):e("h2",null,"Loading..."),e("div",{class:"output-section"},e("h2",null,"Standard output"),e("div",{class:"output-container",ref:y})),e("div",{class:"output-section"},e("h2",null,"Standard error"),e("div",{class:"output-container",ref:v}))))}n.d(t,"default",(function(){return m}));n("pyAK");var g=n("QRet"),y=n("D9C7"),v=n.n(y),b=n("f9Fa"),x=n("7w3z"),w=n("3SHh"),_=n("pFN/"),S=n("TVo1"),k=n("lWdj"),T=n.n(k),A=n("RKBc"),E=(n("aA6t"),n("D0XY"),document.createElement("pre"));E.id="stdout";var C=document.createElement("pre");C.id="stderr";var L=!0,I='// Shift+Enter to run, just like in Source Academy\n\ndisplay("Hello world!");',R=null,M=!0,O=Object(S.a)({print:function(e){return s("".concat(e,"\n"))},printErr:function(e){return a("".concat(e,"\n"))}});O.then((function(e){e.alloc_heap(65536),R=e}),(function(){}))}.call(this,n("hosL").h)},QyX9:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorSeverity=t.ErrorType=void 0,function(e){e.SYNTAX="Syntax",e.TYPE="Type",e.RUNTIME="Runtime"}(t.ErrorType||(t.ErrorType={})),function(e){e.WARNING="Warning",e.ERROR="Error"}(t.ErrorSeverity||(t.ErrorSeverity={}))},R8iU:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),s="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&s&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var l=[];for(u=a;u<i.length;u++)l.push("..");return(l=l.concat(o.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("5IsQ"))},RKBc:function(e,t,n){(function(n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i,o;void 0===(o="function"==typeof(i=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=r(t)&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function i(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==("undefined"==typeof window?"undefined":r(window))&&window.window===window?window:"object"==("undefined"==typeof self?"undefined":r(self))&&self.self===self?self:"object"==(void 0===n?"undefined":r(n))&&n.global===n?n:void 0,u=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||("object"!=("undefined"==typeof window?"undefined":r(window))||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(e,t,n){var r=a.URL||a.webkitURL,u=document.createElement("a");u.download=t=t||e.name||"download",u.rel="noopener","string"==typeof e?(u.href=e,u.origin===location.origin?s(u):o(u.href)?i(e,t,n):s(u,u.target="_blank")):(u.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(u.href)}),4e4),setTimeout((function(){s(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,r){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),n);else if(o(e))i(e,n,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){s(a)}))}}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return i(e,t,n);var o="application/octet-stream"===e.type,s=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&s||u)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},c.readAsDataURL(e)}else{var h=a.URL||a.webkitURL,p=h.createObjectURL(e);r?r.location=p:location.href=p,r=null,setTimeout((function(){h.revokeObjectURL(p)}),4e4)}});a.saveAs=l.saveAs=l,e.exports=l})?i.apply(t,[]):i)||(e.exports=o)}).call(this,n("pCvA"))},RZxB:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:String(t)}function c(e){var t=e.left,n=_.simplify(k.generate(e.right));return[t.name,n]}function h(e){var t,n=_.simplify(k.generate(e.test));switch(e.type){case"IfStatement":n="if (".concat(n,") { ... } else { ... }"),t="if statement";break;case"ConditionalExpression":n="".concat(n," ? ... : ..."),t="conditional expression";break;case"WhileStatement":n="while (".concat(n,") { ... }"),t="while statement";break;case"ForStatement":n="for (...; ".concat(n,"; ...) { ... }"),t="for statement"}return{exprString:n,kind:t}}var p,f,d,m,g,y,v,b,x;Object.defineProperty(t,"__esModule",{value:!0}),t.CallingNonFunctionType=t.ConsequentAlternateMismatchError=t.UndefinedIdentifierError=t.InvalidTestConditionError=t.InvalidArgumentTypesError=t.DifferentNumberArgumentsError=t.CyclicReferenceError=t.DifferentAssignmentError=t.ReassignConstError=t.ArrayAssignmentError=t.InvalidArrayIndexType=void 0;var w=n("QyX9"),_=n("zZ3m"),S=n("GFFv"),k=n("j0Aj");t.InvalidArrayIndexType=function(){function e(e,t){this.node=e,this.receivedType=t,this.type=w.ErrorType.TYPE,this.severity=w.ErrorSeverity.WARNING}return u(e,[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"Expected array index as number, got ".concat(S.typeToString(this.receivedType)," instead")}},{key:"elaborate",value:function(){return this.explain()}}]),e}(),t.ArrayAssignmentError=function(){function e(e,t,n){this.node=e,this.arrayType=t,this.receivedType=n,this.type=w.ErrorType.TYPE,this.severity=w.ErrorSeverity.WARNING}return u(e,[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return _.stripIndent(p||(p=o(["Expected array type: ","\n    but got: ",""])),S.typeToString(this.arrayType),S.typeToString(this.receivedType))}},{key:"elaborate",value:function(){return this.explain()}}]),e}(),t.ReassignConstError=function(){function e(e){this.node=e,this.type=w.ErrorType.TYPE,this.severity=w.ErrorSeverity.WARNING}return u(e,[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){var e=r(c(this.node),1);return"Reassignment of constant ".concat(e[0])}},{key:"elaborate",value:function(){return this.explain()}}]),e}(),t.DifferentAssignmentError=function(){function e(e,t,n){this.node=e,this.expectedType=t,this.receivedType=n,this.type=w.ErrorType.TYPE,this.severity=w.ErrorSeverity.WARNING}return u(e,[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){var e=r(c(this.node),2),t=e[0],n=e[1];return _.stripIndent(f||(f=o(["\n    Expected assignment of ",":\n      ","\n    to get a value of type:\n      ","\n    but got a value of type:\n      ","\n    "])),t,n,S.typeToString(this.expectedType),S.typeToString(this.receivedType))}},{key:"elaborate",value:function(){return this.explain()}}]),e}(),t.CyclicReferenceError=function(){function e(e){this.node=e,this.type=w.ErrorType.TYPE,this.severity=w.ErrorSeverity.WARNING}return u(e,[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"".concat(["VariableDeclaration","FunctionDeclaration"].includes((e=this.node).type)?"VariableDeclaration"===e.type?e.declarations[0].id.name:null===(t=e.id)||void 0===t?void 0:t.name:"Identifier"===e.type?e.name:JSON.stringify(e)," contains cyclic reference to itself");var e,t}},{key:"elaborate",value:function(){return this.explain()}}]),e}(),t.DifferentNumberArgumentsError=function(){function e(e,t,n){this.node=e,this.numExpectedArgs=t,this.numReceived=n,this.type=w.ErrorType.TYPE,this.severity=w.ErrorSeverity.WARNING}return u(e,[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"Function expected ".concat(this.numExpectedArgs," args, but got ").concat(this.numReceived)}},{key:"elaborate",value:function(){return this.explain()}}]),e}(),t.InvalidArgumentTypesError=function(){function e(e,t,n,r){this.node=e,this.args=t,this.expectedTypes=n,this.receivedTypes=r,this.type=w.ErrorType.TYPE,this.severity=w.ErrorSeverity.WARNING}return u(e,[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){function e(e){return 1===e.length?"an argument of type:\n      ".concat(S.typeToString(e[0])):"".concat(e.length," arguments of types:\n      ").concat(e.map(S.typeToString).join(", "))}var t=this.args.map((function(e){return _.simplify(k.generate(e))}));if("operator"in this.node){var n=this.node.operator;return 2===this.expectedTypes.length?_.stripIndent(d||(d=o(["\n        A type mismatch was detected in the binary expression:\n          "," "," ","\n        The binary operator (",") expected two operands with types:\n          "," "," ","\n        but instead it received two operands of types:\n          "," "," ","\n        "])),t[0],n,t[1],n,S.typeToString(this.expectedTypes[0]),n,S.typeToString(this.expectedTypes[1]),S.typeToString(this.receivedTypes[0]),n,S.typeToString(this.receivedTypes[1])):_.stripIndent(m||(m=o(["\n        A type mismatch was detected in the unary expression:\n          "," ","\n        The unary operator (",") expected its operand to be of type:\n          ","\n        but instead it received an operand of type:\n          ","\n        "])),n,t[0],n,S.typeToString(this.expectedTypes[0]),S.typeToString(this.receivedTypes[0]))}var r=_.simplify(k.generate(this.node));return _.stripIndent(g||(g=o(["\n    A type mismatch was detected in the function call:\n      ","\n    The function expected ","\n    but instead received ","\n    "])),r,e(this.expectedTypes),e(this.receivedTypes))}},{key:"elaborate",value:function(){return this.explain()}}]),e}(),t.InvalidTestConditionError=function(){function e(e,t){this.node=e,this.receivedType=t,this.type=w.ErrorType.TYPE,this.severity=w.ErrorSeverity.WARNING}return u(e,[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){var e=h(this.node),t=e.exprString,n=e.kind;return _.stripIndent(y||(y=o(["\n    Expected the test part of the ",":\n      ","\n    to have type boolean, but instead it is type:\n      ","\n    "])),n,t,S.typeToString(this.receivedType))}},{key:"elaborate",value:function(){return this.explain()}}]),e}(),t.UndefinedIdentifierError=function(){function e(e,t){this.node=e,this.name=t,this.type=w.ErrorType.TYPE,this.severity=w.ErrorSeverity.WARNING}return u(e,[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return _.stripIndent(v||(v=o(["\n    Undeclared name '","' detected\n    "])),this.name)}},{key:"elaborate",value:function(){return this.explain()}}]),e}(),t.ConsequentAlternateMismatchError=function(){function e(e,t,n){this.node=e,this.consequentType=t,this.alternateType=n,this.type=w.ErrorType.TYPE,this.severity=w.ErrorSeverity.WARNING}return u(e,[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){var e=h(this.node),t=e.exprString,n=e.kind;return _.stripIndent(b||(b=o(["\n    The two branches of the ",":\n      ","\n    produce different types!\n    The true branch has type:\n      ","\n    but the false branch has type:\n      ","\n    "])),n,t,S.typeToString(this.consequentType),S.typeToString(this.alternateType))}},{key:"elaborate",value:function(){return this.explain()}}]),e}(),t.CallingNonFunctionType=function(){function e(e,t){this.node=e,this.callerType=t,this.type=w.ErrorType.TYPE,this.severity=w.ErrorSeverity.WARNING}return u(e,[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return _.stripIndent(x||(x=o(["\n    In\n      ","\n    expected\n      ","\n    to be a function type, but instead it is type:\n      ","\n    "])),_.simplify(k.generate(this.node)),_.simplify(k.generate(this.node.callee)),S.typeToString(this.callerType))}},{key:"elaborate",value:function(){return this.explain()}}]),e}()},RoC8:function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"SG+n":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function u(e){var t=c();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isIdentifier=t.checkMemberAccess=t.checkIfStatement=t.checkBinaryExpression=t.checkUnaryExpression=t.TypeError=void 0;var p=n("5AhW"),f=n("QyX9"),d=" on left hand side of operation",m=" on right hand side of operation",g=function(e){function t(e,t,n,r){var i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4;return(i=a.call(this,e)).side=t,i.expected=n,i.got=r,i.chapter=o,i.type=f.ErrorType.RUNTIME,i.severity=f.ErrorSeverity.ERROR,i}s(t,e);var n,r,o,a=u(t);return n=t,(r=[{key:"explain",value:function(){var e="array"===this.got?this.chapter<=2?"pair":"compound data":this.got;return"Expected ".concat(this.expected).concat(this.side,", got ").concat(e,".")}},{key:"elaborate",value:function(){return this.explain()}}])&&i(n.prototype,r),o&&i(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(p.RuntimeSourceError);t.TypeError=g;var y=function(e){return null===e?"null":Array.isArray(e)?"array":r(e)},v=function(e){return"number"===y(e)},b=function(e){return"string"===y(e)},x=function(e){return"boolean"===y(e)};t.checkUnaryExpression=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;return"+"!==t&&"-"!==t||v(n)?"!"!==t||x(n)?void 0:new g(e,"","boolean",y(n),r):new g(e,"","number",y(n),r)};t.checkBinaryExpression=function(e,t,n,r,i){switch(t){case"-":case"*":case"/":case"%":return v(r)?v(i)?void 0:new g(e,m,"number",y(i),n):new g(e,d,"number",y(r),n);case"+":case"<":case"<=":case">":case">=":case"!==":case"===":if(n>2&&("==="===t||"!=="===t))return;return v(r)?v(i)?void 0:new g(e,m,"number",y(i),n):b(r)?b(i)?void 0:new g(e,m,"string",y(i),n):new g(e,d,"string or number",y(r),n);default:return}};t.checkIfStatement=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return x(t)?void 0:new g(e," as condition","boolean",y(t),n)};t.checkMemberAccess=function(e,t,n){return"object"===y(t)?b(n)?void 0:new g(e," as prop","string",y(n)):function(e){return"array"===y(e)}(t)?function(e){return v(e)&&e>>>0===e&&e<Math.pow(2,32)-1}(n)?void 0:v(n)?new g(e," as prop","array index","other number"):new g(e," as prop","array index",y(n)):new g(e,"","object or array",y(t))};t.isIdentifier=function(e){return void 0!==e.name}},THQi:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var r=function(e){switch(t(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,s,a,u){return s=s||"&",a=a||"=",null===e&&(e=void 0),"object"===t(e)?n(o(e),(function(t){var o=encodeURIComponent(r(t))+a;return i(e[t])?n(e[t],(function(e){return o+encodeURIComponent(r(e))})).join(s):o+encodeURIComponent(r(e[t]))})).join(s):u?encodeURIComponent(r(u))+a+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},"TK+R":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function a(e){var t=h();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){function n(){return function(e,t,n){if(h())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&p(i,n.prototype),i}(e,arguments,f(this).constructor)}if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)},c(e)}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}Object.defineProperty(t,"__esModule",{value:!0});var d=n("j0Aj"),m=n("my7b"),g=n("+dHa"),y=function(e){function t(e,t,n){var r;r=u.call(this,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(this,t)})),r.node=e,r.environment=t,r.originalNode=e,r.functionName="FunctionDeclaration"===r.node.type&&null!==r.node.id?r.node.id.name:(1===r.node.params.length?"":"(")+r.node.params.map((function(e){return e.name})).join(", ")+(1===r.node.params.length?"":")")+" => ...";var i=function(e,t,n){function r(){for(var r=Array.prototype.slice.call(arguments),i=g.apply(t,e,r,m.callExpression(m.identifier(n),r),this),o=i.next();!o.done;)o=i.next();return o.value}return Object.defineProperty(r,"name",{value:n}),Object.setPrototypeOf(r,(function(){})),Object.defineProperty(r,"Inherits",{value:function(e){(r.prototype=Object.create(e.prototype)).constructor=r}}),r.toString=function(){return d.generate(e.originalNode)},r.call=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return r.apply(e,n)},r}(l(r),n,r.functionName);return r.fun=i,r}s(t,e);var n,r,o,u=a(t);return n=t,o=[{key:"makeFromArrowFunction",value:function(e,n,r){var i="BlockStatement"!==e.body.type?[m.returnStatement(e.body,e.body.loc)]:e.body,o=new t(m.blockArrowFunction(e.params,i,e.loc),n,r);return o.originalNode=e,o}}],(r=[{key:"toString",value:function(){return d.generate(this.originalNode)}}])&&i(n.prototype,r),o&&i(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(function(e){function t(e){return u(n.call(this),Object.setPrototypeOf(e,(this instanceof t?this.constructor:void 0).prototype))}s(t,e);var n=a(t);return t}(c(Function)));t.default=y},TVo1:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){var i;return i=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==r(i)?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}var a=n("CJDg"),u=n.n(a),l=n.p+"06da814bcfd2ab5c4a0033f504e5db7e.wasm",c=function(){var e,t=(e=function*(e){var t=yield u()(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({locateFile:function(e){return e.endsWith(".wasm")?l:e}},e));if(!t.cwrap)throw console.error("module has no cwrap",t),new Error("module has no cwrap");var n=t.cwrap("siwasm_alloc_heap",null,["number"]),r=t.cwrap("siwasm_alloc","number",["number"]),s=t.cwrap("siwasm_free",null,["number"]),a=t.cwrap("siwasm_run",null,["number","number"]);return{module:t,alloc_heap:n,alloc:r,free:s,run:a}},function(){var t=this,n=arguments;return new Promise((function(r,i){function o(e){s(u,r,i,o,a,"next",e)}function a(e){s(u,r,i,o,a,"throw",e)}var u=e.apply(t,n);o(void 0)}))});return function(e){return t.apply(this,arguments)}}();t.a=c},UKnr:function(e,t,n){"use strict";t.decode=t.parse=n("MNOf"),t.encode=t.stringify=n("THQi")},W0B4:function(e,t,n){e.exports=n("NS33")()},WPPq:function(e,t,n){(function(e,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function o(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function s(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function c(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new l;++t<n;)this.add(e[t])}function h(e){var t=this.__data__=new u(e);this.size=t.size}function p(e,t){var n=Qe(e),r=!n&&Ye(e),i=!n&&!r&&Ze(e),o=!n&&!r&&!i&&Je(e),s=n||r||i||o,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=a.length;for(var l in e)!t&&!_e.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||S(l,u))||a.push(l);return a}function f(e,t){for(var n=e.length;n--;)if(T(e[n][0],t))return n;return-1}function d(e){return null==e?void 0===e?J:W:Re&&Re in Object(e)?function(e){var t=_e.call(e,Re),n=e[Re];try{e[Re]=void 0;var r=!0}catch(e){}var i=ke.call(e);r&&(t?e[Re]=n:delete e[Re]);return i}(e):function(e){return ke.call(e)}(e)}function m(e){return L(e)&&d(e)==D}function g(e,t,n,r,i){return e===t||(null==e||null==t||!L(e)&&!L(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var u=Qe(e),l=Qe(t),c=u?P:Xe(e),p=l?P:Xe(t),f=(c=c==D?H:c)==H,d=(p=p==D?H:p)==H,m=c==p;if(m&&Ze(e)){if(!Ze(t))return!1;u=!0,f=!1}if(m&&!f)return a||(a=new h),u||Je(e)?b(e,t,n,r,i,a):function(e,t,n,r,i,a,u){switch(n){case ne:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case te:return!(e.byteLength!=t.byteLength||!a(new Ce(e),new Ce(t)));case $:case V:case G:return T(+e,+t);case B:return e.name==t.name&&e.message==t.message;case X:case Q:return e==t+"";case U:var l=o;case Y:if(l||(l=s),e.size!=t.size&&!(r&M))return!1;var c=u.get(e);if(c)return c==t;r|=O,u.set(e,t);var h=b(l(e),l(t),r,i,a,u);return u.delete(e),h;case Z:if(Ke)return Ke.call(e)==Ke.call(t)}return!1}(e,t,c,n,r,i,a);if(!(n&M)){var g=f&&_e.call(e,"__wrapped__"),y=d&&_e.call(t,"__wrapped__");if(g||y){var v=g?e.value():e,w=y?t.value():t;return a||(a=new h),i(v,w,n,r,a)}}if(!m)return!1;return a||(a=new h),function(e,t,n,r,i,o){var s=n&M,a=x(e),u=a.length,l=x(t);if(u!=l.length&&!s)return!1;var c=u;for(;c--;){var h=a[c];if(!(s?h in t:_e.call(t,h)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var f=!0;o.set(e,t),o.set(t,e);var d=s;for(;++c<u;){var m=e[h=a[c]],g=t[h];if(r)var y=s?r(g,m,h,t,e,o):r(m,g,h,e,t,o);if(!(void 0===y?m===g||i(m,g,n,r,o):y)){f=!1;break}d||(d="constructor"==h)}if(f&&!d){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,i,a)}(e,t,n,r,g,i))}function y(e){return!(!C(e)||(t=e,Se&&Se in t))&&(A(e)?Te:re).test(k(e));var t}function v(e){if(!function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||be)}(e))return Ne(e);var t=[];for(var n in Object(e))_e.call(e,n)&&"constructor"!=n&&t.push(n);return t}function b(e,t,n,r,o,s){var a=n&M,u=e.length,l=t.length;if(u!=l&&!(a&&l>u))return!1;var h=s.get(e);if(h&&s.get(t))return h==t;var p=-1,f=!0,d=n&O?new c:void 0;for(s.set(e,t),s.set(t,e);++p<u;){var m=e[p],g=t[p];if(r)var y=a?r(g,m,p,t,e,s):r(m,g,p,e,t,s);if(void 0!==y){if(y)continue;f=!1;break}if(d){if(!i(t,(function(e,t){if(!d.has(t)&&(m===e||o(m,e,n,r,s)))return d.push(t)}))){f=!1;break}}else if(m!==g&&!o(m,g,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function x(e){return function(e,t,n){var r=t(e);return Qe(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,I,qe)}function w(e,t){var n=e.__data__;return function(e){var t=r(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function _(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return y(n)?n:void 0}function S(e,t){return!!(t=null==t?N:t)&&("number"==typeof e||ie.test(e))&&e>-1&&e%1==0&&e<t}function k(e){if(null!=e){try{return we.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function T(e,t){return e===t||e!=e&&t!=t}function A(e){if(!C(e))return!1;var t=d(e);return t==z||t==j||t==F||t==q}function E(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=N}function C(e){var t=r(e);return null!=e&&("object"==t||"function"==t)}function L(e){return null!=e&&"object"==r(e)}function I(e){return function(e){return null!=e&&E(e.length)&&!A(e)}(e)?p(e):v(e)}var R="__lodash_hash_undefined__",M=1,O=2,N=9007199254740991,D="[object Arguments]",P="[object Array]",F="[object AsyncFunction]",$="[object Boolean]",V="[object Date]",B="[object Error]",z="[object Function]",j="[object GeneratorFunction]",U="[object Map]",G="[object Number]",W="[object Null]",H="[object Object]",K="[object Promise]",q="[object Proxy]",X="[object RegExp]",Y="[object Set]",Q="[object String]",Z="[object Symbol]",J="[object Undefined]",ee="[object WeakMap]",te="[object ArrayBuffer]",ne="[object DataView]",re=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,oe={};oe["[object Float32Array]"]=oe["[object Float64Array]"]=oe["[object Int8Array]"]=oe["[object Int16Array]"]=oe["[object Int32Array]"]=oe["[object Uint8Array]"]=oe["[object Uint8ClampedArray]"]=oe["[object Uint16Array]"]=oe["[object Uint32Array]"]=!0,oe[D]=oe[P]=oe[te]=oe[$]=oe[ne]=oe[V]=oe[B]=oe[z]=oe[U]=oe[G]=oe[H]=oe[X]=oe[Y]=oe[Q]=oe[ee]=!1;var se,ae,ue,le="object"==(void 0===e?"undefined":r(e))&&e&&e.Object===Object&&e,ce="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,he=le||ce||Function("return this")(),pe="object"==r(t)&&t&&!t.nodeType&&t,fe=pe&&"object"==r(n)&&n&&!n.nodeType&&n,de=fe&&fe.exports===pe,me=de&&le.process,ge=function(){try{return me&&me.binding&&me.binding("util")}catch(e){}}(),ye=ge&&ge.isTypedArray,ve=Array.prototype,be=Object.prototype,xe=he["__core-js_shared__"],we=Function.prototype.toString,_e=be.hasOwnProperty,Se=(se=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||""))?"Symbol(src)_1."+se:"",ke=be.toString,Te=RegExp("^"+we.call(_e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=de?he.Buffer:void 0,Ee=he.Symbol,Ce=he.Uint8Array,Le=be.propertyIsEnumerable,Ie=ve.splice,Re=Ee?Ee.toStringTag:void 0,Me=Object.getOwnPropertySymbols,Oe=Ae?Ae.isBuffer:void 0,Ne=(ae=Object.keys,ue=Object,function(e){return ae(ue(e))}),De=_(he,"DataView"),Pe=_(he,"Map"),Fe=_(he,"Promise"),$e=_(he,"Set"),Ve=_(he,"WeakMap"),Be=_(Object,"create"),ze=k(De),je=k(Pe),Ue=k(Fe),Ge=k($e),We=k(Ve),He=Ee?Ee.prototype:void 0,Ke=He?He.valueOf:void 0;a.prototype.clear=function(){this.__data__=Be?Be(null):{},this.size=0},a.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},a.prototype.get=function(e){var t=this.__data__;if(Be){var n=t[e];return n===R?void 0:n}return _e.call(t,e)?t[e]:void 0},a.prototype.has=function(e){var t=this.__data__;return Be?void 0!==t[e]:_e.call(t,e)},a.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Be&&void 0===t?R:t,this},u.prototype.clear=function(){this.__data__=[],this.size=0},u.prototype.delete=function(e){var t=this.__data__,n=f(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ie.call(t,n,1),--this.size,!0)},u.prototype.get=function(e){var t=this.__data__,n=f(t,e);return n<0?void 0:t[n][1]},u.prototype.has=function(e){return f(this.__data__,e)>-1},u.prototype.set=function(e,t){var n=this.__data__,r=f(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},l.prototype.clear=function(){this.size=0,this.__data__={hash:new a,map:new(Pe||u),string:new a}},l.prototype.delete=function(e){var t=w(this,e).delete(e);return this.size-=t?1:0,t},l.prototype.get=function(e){return w(this,e).get(e)},l.prototype.has=function(e){return w(this,e).has(e)},l.prototype.set=function(e,t){var n=w(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},c.prototype.add=c.prototype.push=function(e){return this.__data__.set(e,R),this},c.prototype.has=function(e){return this.__data__.has(e)},h.prototype.clear=function(){this.__data__=new u,this.size=0},h.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},h.prototype.get=function(e){return this.__data__.get(e)},h.prototype.has=function(e){return this.__data__.has(e)},h.prototype.set=function(e,t){var n=this.__data__;if(n instanceof u){var r=n.__data__;if(!Pe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new l(r)}return n.set(e,t),this.size=n.size,this};var qe=Me?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}(Me(e),(function(t){return Le.call(e,t)})))}:function(){return[]},Xe=d;(De&&Xe(new De(new ArrayBuffer(1)))!=ne||Pe&&Xe(new Pe)!=U||Fe&&Xe(Fe.resolve())!=K||$e&&Xe(new $e)!=Y||Ve&&Xe(new Ve)!=ee)&&(Xe=function(e){var t=d(e),n=t==H?e.constructor:void 0,r=n?k(n):"";if(r)switch(r){case ze:return ne;case je:return U;case Ue:return K;case Ge:return Y;case We:return ee}return t});var Ye=m(function(){return arguments}())?m:function(e){return L(e)&&_e.call(e,"callee")&&!Le.call(e,"callee")},Qe=Array.isArray,Ze=Oe||function(){return!1},Je=ye?function(e){return function(t){return e(t)}}(ye):function(e){return L(e)&&E(e.length)&&!!oe[d(e)]};n.exports=function(e,t){return g(e,t)}}).call(this,n("pCvA"),n("RoC8")(e))},WQQS:function(e,t,n){"use strict";function r(e,t,n,r,i){n||(n=y),function e(r,i,o){var s=o||r.type,a=t[s];n[s](r,i,e),a&&a(r,i)}(e,r,i)}function i(e,t,n,r,i){var o=[];n||(n=y),function e(r,i,s){var a=s||r.type,u=t[a],l=r!==o[o.length-1];l&&o.push(r),n[a](r,i,e),u&&u(r,i||o,o),l&&o.pop()}(e,r,i)}function o(e,t,n,r,i){var o=n?f(n,r||void 0):r;!function e(t,n,r){o[r||t.type](t,n,e)}(e,t,i)}function s(e){return"string"==typeof e?function(t){return t===e}:e||function(){return!0}}function a(e,t,n,r,i){var o;n||(n=y),function e(r,i,s){var a=s||r.type;n[a](r,i,e),o!==r&&(t(r,i,a),o=r)}(e,r,i)}function u(e,t,n,r){n||(n=y);var i,o=[];!function e(r,s,a){var u=a||r.type,l=r!==o[o.length-1];l&&o.push(r),n[u](r,s,e),i!==r&&(t(r,s||o,o,u),i=r),l&&o.pop()}(e,r)}function l(e,t,n,r,i,o){i||(i=y),r=s(r);try{!function e(o,s,a){var u=a||o.type;if((null==t||o.start<=t)&&(null==n||o.end>=n)&&i[u](o,s,e),(null==t||o.start===t)&&(null==n||o.end===n)&&r(u,o))throw new g(o,s)}(e,o)}catch(e){if(e instanceof g)return e;throw e}}function c(e,t,n,r,i){n=s(n),r||(r=y);try{!function e(i,o,s){var a=s||i.type;if(!(i.start>t||i.end<t)&&(r[a](i,o,e),n(a,i)))throw new g(i,o)}(e,i)}catch(e){if(e instanceof g)return e;throw e}}function h(e,t,n,r,i){n=s(n),r||(r=y);try{!function e(i,o,s){if(!(i.end<t)){var a=s||i.type;if(i.start>=t&&n(a,i))throw new g(i,o);r[a](i,o,e)}}(e,i)}catch(e){if(e instanceof g)return e;throw e}}function p(e,t,n,r,i){var o;return n=s(n),r||(r=y),function e(i,s,a){if(!(i.start>t)){var u=a||i.type;i.end<=t&&(!o||o.node.end<i.end)&&n(u,i)&&(o=new g(i,s)),r[u](i,s,e)}}(e,i),o}function f(e,t){var n=Object.create(t||y);for(var r in e)n[r]=e[r];return n}function d(e,t,n){n(e,t)}function m(){}n.r(t),n.d(t,"ancestor",(function(){return i})),n.d(t,"base",(function(){return y})),n.d(t,"findNodeAfter",(function(){return h})),n.d(t,"findNodeAround",(function(){return c})),n.d(t,"findNodeAt",(function(){return l})),n.d(t,"findNodeBefore",(function(){return p})),n.d(t,"full",(function(){return a})),n.d(t,"fullAncestor",(function(){return u})),n.d(t,"make",(function(){return f})),n.d(t,"recursive",(function(){return o})),n.d(t,"simple",(function(){return r}));var g=function(e,t){this.node=e,this.state=t},y={};y.Program=y.BlockStatement=y.StaticBlock=function(e,t,n){for(var r=0,i=e.body;r<i.length;r+=1){n(i[r],t,"Statement")}},y.Statement=d,y.EmptyStatement=m,y.ExpressionStatement=y.ParenthesizedExpression=y.ChainExpression=function(e,t,n){return n(e.expression,t,"Expression")},y.IfStatement=function(e,t,n){n(e.test,t,"Expression"),n(e.consequent,t,"Statement"),e.alternate&&n(e.alternate,t,"Statement")},y.LabeledStatement=function(e,t,n){return n(e.body,t,"Statement")},y.BreakStatement=y.ContinueStatement=m,y.WithStatement=function(e,t,n){n(e.object,t,"Expression"),n(e.body,t,"Statement")},y.SwitchStatement=function(e,t,n){n(e.discriminant,t,"Expression");for(var r=0,i=e.cases;r<i.length;r+=1){var o=i[r];o.test&&n(o.test,t,"Expression");for(var s=0,a=o.consequent;s<a.length;s+=1){n(a[s],t,"Statement")}}},y.SwitchCase=function(e,t,n){e.test&&n(e.test,t,"Expression");for(var r=0,i=e.consequent;r<i.length;r+=1){n(i[r],t,"Statement")}},y.ReturnStatement=y.YieldExpression=y.AwaitExpression=function(e,t,n){e.argument&&n(e.argument,t,"Expression")},y.ThrowStatement=y.SpreadElement=function(e,t,n){return n(e.argument,t,"Expression")},y.TryStatement=function(e,t,n){n(e.block,t,"Statement"),e.handler&&n(e.handler,t),e.finalizer&&n(e.finalizer,t,"Statement")},y.CatchClause=function(e,t,n){e.param&&n(e.param,t,"Pattern"),n(e.body,t,"Statement")},y.WhileStatement=y.DoWhileStatement=function(e,t,n){n(e.test,t,"Expression"),n(e.body,t,"Statement")},y.ForStatement=function(e,t,n){e.init&&n(e.init,t,"ForInit"),e.test&&n(e.test,t,"Expression"),e.update&&n(e.update,t,"Expression"),n(e.body,t,"Statement")},y.ForInStatement=y.ForOfStatement=function(e,t,n){n(e.left,t,"ForInit"),n(e.right,t,"Expression"),n(e.body,t,"Statement")},y.ForInit=function(e,t,n){"VariableDeclaration"===e.type?n(e,t):n(e,t,"Expression")},y.DebuggerStatement=m,y.FunctionDeclaration=function(e,t,n){return n(e,t,"Function")},y.VariableDeclaration=function(e,t,n){for(var r=0,i=e.declarations;r<i.length;r+=1){n(i[r],t)}},y.VariableDeclarator=function(e,t,n){n(e.id,t,"Pattern"),e.init&&n(e.init,t,"Expression")},y.Function=function(e,t,n){e.id&&n(e.id,t,"Pattern");for(var r=0,i=e.params;r<i.length;r+=1){n(i[r],t,"Pattern")}n(e.body,t,e.expression?"Expression":"Statement")},y.Pattern=function(e,t,n){"Identifier"===e.type?n(e,t,"VariablePattern"):"MemberExpression"===e.type?n(e,t,"MemberPattern"):n(e,t)},y.VariablePattern=m,y.MemberPattern=d,y.RestElement=function(e,t,n){return n(e.argument,t,"Pattern")},y.ArrayPattern=function(e,t,n){for(var r=0,i=e.elements;r<i.length;r+=1){var o=i[r];o&&n(o,t,"Pattern")}},y.ObjectPattern=function(e,t,n){for(var r=0,i=e.properties;r<i.length;r+=1){var o=i[r];"Property"===o.type?(o.computed&&n(o.key,t,"Expression"),n(o.value,t,"Pattern")):"RestElement"===o.type&&n(o.argument,t,"Pattern")}},y.Expression=d,y.ThisExpression=y.Super=y.MetaProperty=m,y.ArrayExpression=function(e,t,n){for(var r=0,i=e.elements;r<i.length;r+=1){var o=i[r];o&&n(o,t,"Expression")}},y.ObjectExpression=function(e,t,n){for(var r=0,i=e.properties;r<i.length;r+=1){n(i[r],t)}},y.FunctionExpression=y.ArrowFunctionExpression=y.FunctionDeclaration,y.SequenceExpression=function(e,t,n){for(var r=0,i=e.expressions;r<i.length;r+=1){n(i[r],t,"Expression")}},y.TemplateLiteral=function(e,t,n){for(var r=0,i=e.quasis;r<i.length;r+=1){n(i[r],t)}for(var o=0,s=e.expressions;o<s.length;o+=1){n(s[o],t,"Expression")}},y.TemplateElement=m,y.UnaryExpression=y.UpdateExpression=function(e,t,n){n(e.argument,t,"Expression")},y.BinaryExpression=y.LogicalExpression=function(e,t,n){n(e.left,t,"Expression"),n(e.right,t,"Expression")},y.AssignmentExpression=y.AssignmentPattern=function(e,t,n){n(e.left,t,"Pattern"),n(e.right,t,"Expression")},y.ConditionalExpression=function(e,t,n){n(e.test,t,"Expression"),n(e.consequent,t,"Expression"),n(e.alternate,t,"Expression")},y.NewExpression=y.CallExpression=function(e,t,n){if(n(e.callee,t,"Expression"),e.arguments)for(var r=0,i=e.arguments;r<i.length;r+=1){n(i[r],t,"Expression")}},y.MemberExpression=function(e,t,n){n(e.object,t,"Expression"),e.computed&&n(e.property,t,"Expression")},y.ExportNamedDeclaration=y.ExportDefaultDeclaration=function(e,t,n){e.declaration&&n(e.declaration,t,"ExportNamedDeclaration"===e.type||e.declaration.id?"Statement":"Expression"),e.source&&n(e.source,t,"Expression")},y.ExportAllDeclaration=function(e,t,n){e.exported&&n(e.exported,t),n(e.source,t,"Expression")},y.ImportDeclaration=function(e,t,n){for(var r=0,i=e.specifiers;r<i.length;r+=1){n(i[r],t)}n(e.source,t,"Expression")},y.ImportExpression=function(e,t,n){n(e.source,t,"Expression")},y.ImportSpecifier=y.ImportDefaultSpecifier=y.ImportNamespaceSpecifier=y.Identifier=y.PrivateIdentifier=y.Literal=m,y.TaggedTemplateExpression=function(e,t,n){n(e.tag,t,"Expression"),n(e.quasi,t,"Expression")},y.ClassDeclaration=y.ClassExpression=function(e,t,n){return n(e,t,"Class")},y.Class=function(e,t,n){e.id&&n(e.id,t,"Pattern"),e.superClass&&n(e.superClass,t,"Expression"),n(e.body,t)},y.ClassBody=function(e,t,n){for(var r=0,i=e.body;r<i.length;r+=1){n(i[r],t)}},y.MethodDefinition=y.PropertyDefinition=y.Property=function(e,t,n){e.computed&&n(e.key,t,"Expression"),e.value&&n(e.value,t,"Expression")}},WrTS:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.streamPrelude=void 0,t.streamPrelude='\n\n// Supporting streams in the Scheme style, following\n// "stream discipline"\n\n// is_stream recurses down the stream and checks that it ends with the\n// empty list null\n\nfunction is_stream(xs) {\n  return is_null(xs) || (is_pair(xs) && is_stream(stream_tail(xs)));\n}\n\n// A stream is either null or a pair whose tail is\n// a nullary function that returns a stream.\n\nfunction list_to_stream(xs) {\n  return is_null(xs)\n    ? null\n    : pair(head(xs),\n      () => list_to_stream(tail(xs)));\n}\n\n// stream_to_list transforms a given stream to a list\n// Lazy? No: stream_to_list needs to force the whole stream\nfunction stream_to_list(xs) {\n  return is_null(xs)\n    ? null\n    : pair(head(xs), stream_to_list(stream_tail(xs)));\n}\n\n// stream_length returns the length of a given argument stream\n// throws an exception if the argument is not a stream\n// Lazy? No: The function needs to explore the whole stream\nfunction stream_length(xs) {\n  return is_null(xs)\n    ? 0\n    : 1 + stream_length(stream_tail(xs));\n}\n\n// stream_map applies first arg f to the elements of the second\n// argument, assumed to be a stream.\n// f is applied element-by-element:\n// stream_map(f,list_to_stream(list(1,2)) results in\n// the same as list_to_stream(list(f(1),f(2)))\n// stream_map throws an exception if the second argument is not a\n// stream, and if the second argument is a nonempty stream and the\n// first argument is not a function.\n// Lazy? Yes: The argument stream is only explored as forced by\n//            the result stream.\nfunction stream_map(f, s) {\n  return is_null(s)\n    ? null\n    : pair(f(head(s)),\n      () => stream_map(f, stream_tail(s)));\n}\n\n// build_stream takes a function fun as first argument, \n// and a nonnegative integer n as second argument,\n// build_stream returns a stream of n elements, that results from\n// applying fun to the numbers from 0 to n-1.\n// Lazy? Yes: The result stream forces the applications of fun\n//            for the next element\nfunction build_stream(fun, n) {\n  function build(i) {\n    return i >= n\n      ? null\n      : pair(fun(i),\n        () => build(i + 1));\n  }\n  return build(0);\n}\n\n// stream_for_each applies first arg fun to the elements of the stream\n// passed as second argument. fun is applied element-by-element:\n// for_each(fun,list_to_stream(list(1, 2,null))) results in the calls fun(1)\n// and fun(2).\n// stream_for_each returns true.\n// stream_for_each throws an exception if the second argument is not a\n// stream, and if the second argument is a nonempty stream and the\n// first argument is not a function.\n// Lazy? No: stream_for_each forces the exploration of the entire stream\nfunction stream_for_each(fun, xs) {\n  if (is_null(xs)) {\n    return true;\n  } else {\n    fun(head(xs));\n    return stream_for_each(fun, stream_tail(xs));\n  }\n}\n\n// stream_reverse reverses the argument stream\n// stream_reverse throws an exception if the argument is not a stream.\n// Lazy? No: stream_reverse forces the exploration of the entire stream\nfunction stream_reverse(xs) {\n  function rev(original, reversed) {\n    return is_null(original)\n      ? reversed\n      : rev(stream_tail(original),\n        pair(head(original), () => reversed));\n  }\n  return rev(xs, null);\n}\n\n// stream_append appends first argument stream and second argument stream.\n// In the result, null at the end of the first argument stream\n// is replaced by the second argument stream\n// stream_append throws an exception if the first argument is not a\n// stream.\n// Lazy? Yes: the result stream forces the actual append operation\nfunction stream_append(xs, ys) {\n  return is_null(xs)\n    ? ys\n    : pair(head(xs),\n      () => stream_append(stream_tail(xs), ys));\n}\n\n// stream_member looks for a given first-argument element in a given\n// second argument stream. It returns the first postfix substream\n// that starts with the given element. It returns null if the\n// element does not occur in the stream\n// Lazy? Sort-of: stream_member forces the stream only until the element is found.\nfunction stream_member(x, s) {\n  return is_null(s)\n    ? null\n    : head(s) === x\n      ? s\n      : stream_member(x, stream_tail(s));\n}\n\n// stream_remove removes the first occurrence of a given first-argument element\n// in a given second-argument list. Returns the original list\n// if there is no occurrence.\n// Lazy? Yes: the result stream forces the construction of each next element\nfunction stream_remove(v, xs) {\n  return is_null(xs)\n    ? null\n    : v === head(xs)\n      ? stream_tail(xs)\n      : pair(head(xs),\n        () => stream_remove(v, stream_tail(xs)));\n}\n\n// stream_remove_all removes all instances of v instead of just the first.\n// Lazy? Yes: the result stream forces the construction of each next element\nfunction stream_remove_all(v, xs) {\n  return is_null(xs)\n    ? null\n    : v === head(xs)\n      ? stream_remove_all(v, stream_tail(xs))\n      : pair(head(xs), () => stream_remove_all(v, stream_tail(xs)));\n}\n\n// filter returns the substream of elements of given stream s\n// for which the given predicate function p returns true.\n// Lazy? Yes: The result stream forces the construction of\n//            each next element. Of course, the construction\n//            of the next element needs to go down the stream\n//            until an element is found for which p holds.\nfunction stream_filter(p, s) {\n  return is_null(s)\n    ? null\n    : p(head(s))\n      ? pair(head(s),\n        () => stream_filter(p, stream_tail(s)))\n      : stream_filter(p, stream_tail(s));\n}\n\n// enumerates numbers starting from start,\n// using a step size of 1, until the number\n// exceeds end.\n// Lazy? Yes: The result stream forces the construction of\n//            each next element\nfunction enum_stream(start, end) {\n  return start > end\n    ? null\n    : pair(start,\n      () => enum_stream(start + 1, end));\n}\n\n// integers_from constructs an infinite stream of integers\n// starting at a given number n\n// Lazy? Yes: The result stream forces the construction of\n//            each next element\nfunction integers_from(n) {\n  return pair(n,\n    () => integers_from(n + 1));\n}\n\n// eval_stream constructs the list of the first n elements\n// of a given stream s\n// Lazy? Sort-of: eval_stream only forces the computation of\n//                the first n elements, and leaves the rest of\n//                the stream untouched.\nfunction eval_stream(s, n) {\n    function es(s, n) {\n        return n === 1 \n               ? list(head(s))\n               : pair(head(s), \n                      es(stream_tail(s), n - 1));\n    }\n    return n === 0 \n           ? null\n           : es(s, n);\n}\n\n// Returns the item in stream s at index n (the first item is at position 0)\n// Lazy? Sort-of: stream_ref only forces the computation of\n//                the first n elements, and leaves the rest of\n//                the stream untouched.\nfunction stream_ref(s, n) {\n  return n === 0\n    ? head(s)\n    : stream_ref(stream_tail(s), n - 1);\n}\n'},X0TW:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NoAssignmentToForVariable=void 0;var s=n("QyX9");t.NoAssignmentToForVariable=function(){function e(e){this.node=e,this.type=s.ErrorType.SYNTAX,this.severity=s.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"Assignment to a for loop variable in the for loop is not allowed."}},{key:"elaborate",value:function(){return this.explain()}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},X7hy:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BracesAroundWhileError=void 0;var s=n("j0Aj"),a=n("QyX9"),u=function(){function e(e){this.node=e,this.type=a.ErrorType.SYNTAX,this.severity=a.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return'Missing curly braces around "while" block.'}},{key:"elaborate",value:function(){var e=s.generate(this.node.test),t="\twhile (".concat(e,") {\n\t\t//code goes here\n\t}");return'Remember to enclose your "while" block with braces:\n\n '.concat(t)}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.BracesAroundWhileError=u,t.default={name:"braces-around-while",checkers:{WhileStatement:function(e){return"BlockStatement"!==e.body.type?[new u(e)]:[]}}}},XKyj:function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return s(e,t,n)}var o=n("zkTx"),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=i),r(s,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=s(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},XZ2b:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeWrapper=void 0,t.makeWrapper=function(e,t){for(var n in e)e.hasOwnProperty(n)&&Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));for(var r=0,i=["length","name"];r<i.length;r++){var o=i[r];e.hasOwnProperty(o)&&Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))}}},XwI5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base=t.findNodeAfter=t.findNodeAround=t.findNodeAt=t.make=t.fullAncestor=t.full=t.recursive=t.ancestor=t.simple=void 0;var r=n("WQQS");t.simple=r.simple,t.ancestor=r.ancestor,t.recursive=r.recursive,t.full=r.full,t.fullAncestor=r.fullAncestor,t.make=r.make,t.findNodeAt=r.findNodeAt,t.findNodeAround=r.findNodeAround,t.findNodeAfter=r.findNodeAfter,t.base=r.base},Xy3c:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=65536,r=0;r<t.length;r+=2){if((n+=t[r])>e)return!1;if((n+=t[r+1])>=e)return!0}return!1}function o(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&B.test(String.fromCharCode(e)):!1!==t&&i(e,N)))}function s(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&z.test(String.fromCharCode(e)):!1!==t&&(i(e,N)||i(e,O)))))}function a(e,t){return new j(e,{beforeExpr:!0,binop:t})}function u(e,t){return void 0===t&&(t={}),t.keyword=e,W[e]=new j(e,t)}function l(e){return 10===e||13===e||8232===e||8233===e}function c(e,t,n){void 0===n&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(l(i))return r<n-1&&13===i&&10===e.charCodeAt(r+1)?r+2:r+1}return-1}function h(e){return ne[e]||(ne[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function p(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function f(e,t){for(var n=1,r=0;;){var i=c(e,r,t);if(i<0)return new ie(n,t-r);++n,r=i}}function d(e){var t={};for(var n in se)t[n]=e&&ee(e,n)?e[n]:se[n];if("latest"===t.ecmaVersion?t.ecmaVersion=1e8:null==t.ecmaVersion?(!ae&&"object"===("undefined"==typeof console?"undefined":r(console))&&console.warn&&(ae=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),e&&null!=e.allowHashBang||(t.allowHashBang=t.ecmaVersion>=14),te(t.onToken)){var i=t.onToken;t.onToken=function(e){return i.push(e)}}return te(t.onComment)&&(t.onComment=function(e,t){return function(n,r,i,o,s,a){var u={type:n?"Block":"Line",value:r,start:i,end:o};e.locations&&(u.loc=new oe(this,s,a)),e.ranges&&(u.range=[i,o]),t.push(u)}}(t,t.onComment)),t}function m(e,t){return 2|(e?4:0)|(t?8:0)}function g(e,t){var n=t.key.name,r=e[n],i="true";return"MethodDefinition"!==t.type||"get"!==t.kind&&"set"!==t.kind||(i=(t.static?"s":"i")+t.kind),"iget"===r&&"iset"===i||"iset"===r&&"iget"===i||"sget"===r&&"sset"===i||"sset"===r&&"sget"===i?(e[n]="true",!1):!!r||(e[n]=i,!1)}function y(e,t){var n=e.key;return!e.computed&&("Identifier"===n.type&&n.name===t||"Literal"===n.type&&n.value===t)}function v(e){return"MemberExpression"===e.type&&"PrivateIdentifier"===e.property.type||"ChainExpression"===e.type&&v(e.expression)}function b(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}function x(e){var t=Ue[e]={binary:h(Ne[e]+" "+Pe),binaryOfStrings:h(De[e]),nonBinary:{General_Category:h(Pe),Script:h(je[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}function w(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function _(e){return e>=65&&e<=90||e>=97&&e<=122}function S(e){return _(e)||95===e}function k(e){return S(e)||T(e)}function T(e){return e>=48&&e<=57}function A(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function E(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function C(e){return e>=48&&e<=55}function L(e){return"function"!=typeof BigInt?null:BigInt(e.replace(/_/g,""))}function I(e,t){return le.parse(e,t)}function R(e,t,n){return le.parseExpressionAt(e,t,n)}function M(e,t){return le.tokenizer(e,t)}n.r(t),n.d(t,"Node",(function(){return Le})),n.d(t,"Parser",(function(){return le})),n.d(t,"Position",(function(){return ie})),n.d(t,"SourceLocation",(function(){return oe})),n.d(t,"TokContext",(function(){return we})),n.d(t,"Token",(function(){return qe})),n.d(t,"TokenType",(function(){return j})),n.d(t,"defaultOptions",(function(){return se})),n.d(t,"getLineInfo",(function(){return f})),n.d(t,"isIdentifierChar",(function(){return s})),n.d(t,"isIdentifierStart",(function(){return o})),n.d(t,"isNewLine",(function(){return l})),n.d(t,"keywordTypes",(function(){return W})),n.d(t,"lineBreak",(function(){return K})),n.d(t,"lineBreakG",(function(){return q})),n.d(t,"nonASCIIwhitespace",(function(){return X})),n.d(t,"parse",(function(){return I})),n.d(t,"parseExpressionAt",(function(){return R})),n.d(t,"tokContexts",(function(){return _e})),n.d(t,"tokTypes",(function(){return H})),n.d(t,"tokenizer",(function(){return M})),n.d(t,"version",(function(){return Qe}));var O=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],N=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],D="ÂªÂµÂºÃ€-Ã–Ã˜-Ã¶Ã¸-ËË†-Ë‘Ë -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½Í¿Î†Îˆ-ÎŠÎŒÎŽ-Î¡Î£-ÏµÏ·-ÒÒŠ-Ô¯Ô±-Õ–Õ™Õ -Öˆ×-×ª×¯-×²Ø -ÙŠÙ®Ù¯Ù±-Û“Û•Û¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ’-Ü¯Ý-Þ¥Þ±ßŠ-ßªß´ßµßºà €-à •à šà ¤à ¨à¡€-à¡˜à¡ -à¡ªà¡°-à¢‡à¢‰-à¢Žà¢ -à£‰à¤„-à¤¹à¤½à¥à¥˜-à¥¡à¥±-à¦€à¦…-à¦Œà¦à¦à¦“-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§Žà§œà§à§Ÿ-à§¡à§°à§±à§¼à¨…-à¨Šà¨à¨à¨“-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©™-à©œà©žà©²-à©´àª…-àªàª-àª‘àª“-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à«¹à¬…-à¬Œà¬à¬à¬“-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­œà­à­Ÿ-à­¡à­±à®ƒà®…-à®Šà®Ž-à®à®’-à®•à®™à®šà®œà®žà®Ÿà®£à®¤à®¨-à®ªà®®-à®¹à¯à°…-à°Œà°Ž-à°à°’-à°¨à°ª-à°¹à°½à±˜-à±šà±à± à±¡à²€à²…-à²Œà²Ž-à²à²’-à²¨à²ª-à²³à²µ-à²¹à²½à³à³žà³ à³¡à³±à³²à´„-à´Œà´Ž-à´à´’-à´ºà´½àµŽàµ”-àµ–àµŸ-àµ¡àµº-àµ¿à¶…-à¶–à¶š-à¶±à¶³-à¶»à¶½à·€-à·†à¸-à¸°à¸²à¸³à¹€-à¹†àºàº‚àº„àº†-àºŠàºŒ-àº£àº¥àº§-àº°àº²àº³àº½à»€-à»„à»†à»œ-à»Ÿà¼€à½€-à½‡à½‰-à½¬à¾ˆ-à¾Œá€€-á€ªá€¿á-á•áš-áá¡á¥á¦á®-á°áµ-á‚á‚Žá‚ -áƒ…áƒ‡áƒáƒ-áƒºáƒ¼-á‰ˆá‰Š-á‰á‰-á‰–á‰˜á‰š-á‰á‰ -áŠˆáŠŠ-áŠáŠ-áŠ°áŠ²-áŠµáŠ¸-áŠ¾á‹€á‹‚-á‹…á‹ˆ-á‹–á‹˜-áŒáŒ’-áŒ•áŒ˜-ášáŽ€-áŽáŽ -áµá¸-á½á-á™¬á™¯-á™¿áš-áššáš -á›ªá›®-á›¸áœ€-áœ‘áœŸ-áœ±á€-á‘á -á¬á®-á°áž€-áž³áŸ—áŸœá  -á¡¸á¢€-á¢¨á¢ªá¢°-á£µá¤€-á¤žá¥-á¥­á¥°-á¥´á¦€-á¦«á¦°-á§‰á¨€-á¨–á¨ -á©”áª§á¬…-á¬³á­…-á­Œá®ƒ-á® á®®á®¯á®º-á¯¥á°€-á°£á±-á±á±š-á±½á²€-á²ˆá²-á²ºá²½-á²¿á³©-á³¬á³®-á³³á³µá³¶á³ºá´€-á¶¿á¸€-á¼•á¼˜-á¼á¼ -á½…á½ˆ-á½á½-á½—á½™á½›á½á½Ÿ-á½½á¾€-á¾´á¾¶-á¾¼á¾¾á¿‚-á¿„á¿†-á¿Œá¿-á¿“á¿–-á¿›á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â‚-â‚œâ„‚â„‡â„Š-â„“â„•â„˜-â„â„¤â„¦â„¨â„ª-â„¹â„¼-â„¿â……-â…‰â…Žâ… -â†ˆâ°€-â³¤â³«-â³®â³²â³³â´€-â´¥â´§â´­â´°-âµ§âµ¯â¶€-â¶–â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·€-â·†â·ˆ-â·Žâ·-â·–â·˜-â·žã€…-ã€‡ã€¡-ã€©ã€±-ã€µã€¸-ã€¼ã-ã‚–ã‚›-ã‚Ÿã‚¡-ãƒºãƒ¼-ãƒ¿ã„…-ã„¯ã„±-ã†Žã† -ã†¿ã‡°-ã‡¿ã€-ä¶¿ä¸€-ê’Œê“-ê“½ê”€-ê˜Œê˜-ê˜Ÿê˜ªê˜«ê™€-ê™®ê™¿-êšêš -ê›¯êœ—-êœŸêœ¢-êžˆêž‹-êŸŠêŸêŸ‘êŸ“êŸ•-êŸ™êŸ²-ê ê ƒ-ê …ê ‡-ê Šê Œ-ê ¢ê¡€-ê¡³ê¢‚-ê¢³ê£²-ê£·ê£»ê£½ê£¾ê¤Š-ê¤¥ê¤°-ê¥†ê¥ -ê¥¼ê¦„-ê¦²ê§ê§ -ê§¤ê§¦-ê§¯ê§º-ê§¾ê¨€-ê¨¨ê©€-ê©‚ê©„-ê©‹ê© -ê©¶ê©ºê©¾-êª¯êª±êªµêª¶êª¹-êª½ê«€ê«‚ê«›-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬†ê¬‰-ê¬Žê¬‘-ê¬–ê¬ -ê¬¦ê¬¨-ê¬®ê¬°-ê­šê­œ-ê­©ê­°-ê¯¢ê°€-íž£íž°-íŸ†íŸ‹-íŸ»ï¤€-ï©­ï©°-ï«™ï¬€-ï¬†ï¬“-ï¬—ï¬ï¬Ÿ-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­€ï­ï­ƒï­„ï­†-ï®±ï¯“-ï´½ïµ-ï¶ï¶’-ï·‡ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½šï½¦-ï¾¾ï¿‚-ï¿‡ï¿Š-ï¿ï¿’-ï¿—ï¿š-ï¿œ",P={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},F="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",$={5:F,"5module":F+" export import",6:F+" const class extends export import super"},V=/^in(stanceof)?$/,B=new RegExp("["+D+"]"),z=new RegExp("["+D+"â€Œâ€Â·Ì€-Í¯Î‡Òƒ-Ò‡Ö‘-Ö½Ö¿××‚×„×…×‡Ø-ØšÙ‹-Ù©Ù°Û–-ÛœÛŸ-Û¤Û§Û¨Ûª-Û­Û°-Û¹Ü‘Ü°-ÝŠÞ¦-Þ°ß€-ß‰ß«-ß³ß½à –-à ™à ›-à £à ¥-à §à ©-à ­à¡™-à¡›à¢˜-à¢Ÿà£Š-à£¡à££-à¤ƒà¤º-à¤¼à¤¾-à¥à¥‘-à¥—à¥¢à¥£à¥¦-à¥¯à¦-à¦ƒà¦¼à¦¾-à§„à§‡à§ˆà§‹-à§à§—à§¢à§£à§¦-à§¯à§¾à¨-à¨ƒà¨¼à¨¾-à©‚à©‡à©ˆà©‹-à©à©‘à©¦-à©±à©µàª-àªƒàª¼àª¾-à«…à«‡-à«‰à«‹-à«à«¢à«£à«¦-à«¯à«º-à«¿à¬-à¬ƒà¬¼à¬¾-à­„à­‡à­ˆà­‹-à­à­•-à­—à­¢à­£à­¦-à­¯à®‚à®¾-à¯‚à¯†-à¯ˆà¯Š-à¯à¯—à¯¦-à¯¯à°€-à°„à°¼à°¾-à±„à±†-à±ˆà±Š-à±à±•à±–à±¢à±£à±¦-à±¯à²-à²ƒà²¼à²¾-à³„à³†-à³ˆà³Š-à³à³•à³–à³¢à³£à³¦-à³¯à³³à´€-à´ƒà´»à´¼à´¾-àµ„àµ†-àµˆàµŠ-àµàµ—àµ¢àµ£àµ¦-àµ¯à¶-à¶ƒà·Šà·-à·”à·–à·˜-à·Ÿà·¦-à·¯à·²à·³à¸±à¸´-à¸ºà¹‡-à¹Žà¹-à¹™àº±àº´-àº¼à»ˆ-à»Žà»-à»™à¼˜à¼™à¼ -à¼©à¼µà¼·à¼¹à¼¾à¼¿à½±-à¾„à¾†à¾‡à¾-à¾—à¾™-à¾¼à¿†á€«-á€¾á€-á‰á–-á™áž-á á¢-á¤á§-á­á±-á´á‚‚-á‚á‚-á‚á-áŸá©-á±áœ’-áœ•áœ²-áœ´á’á“á²á³áž´-áŸ“áŸáŸ -áŸ©á ‹-á á -á ™á¢©á¤ -á¤«á¤°-á¤»á¥†-á¥á§-á§šá¨—-á¨›á©•-á©žá© -á©¼á©¿-áª‰áª-áª™áª°-áª½áª¿-á«Žá¬€-á¬„á¬´-á­„á­-á­™á­«-á­³á®€-á®‚á®¡-á®­á®°-á®¹á¯¦-á¯³á°¤-á°·á±€-á±‰á±-á±™á³-á³’á³”-á³¨á³­á³´á³·-á³¹á·€-á·¿â€Œâ€â€¿â€â”âƒ-âƒœâƒ¡âƒ¥-âƒ°â³¯-â³±âµ¿â· -â·¿ã€ª-ã€¯ã‚™ã‚šãƒ»ê˜ -ê˜©ê™¯ê™´-ê™½êšžêšŸê›°ê›±ê ‚ê †ê ‹ê £-ê §ê ¬ê¢€ê¢ê¢´-ê£…ê£-ê£™ê£ -ê£±ê£¿-ê¤‰ê¤¦-ê¤­ê¥‡-ê¥“ê¦€-ê¦ƒê¦³-ê§€ê§-ê§™ê§¥ê§°-ê§¹ê¨©-ê¨¶ê©ƒê©Œê©ê©-ê©™ê©»-ê©½êª°êª²-êª´êª·êª¸êª¾êª¿ê«ê««-ê«¯ê«µê«¶ê¯£-ê¯ªê¯¬ê¯­ê¯°-ê¯¹ï¬žï¸€-ï¸ï¸ -ï¸¯ï¸³ï¸´ï¹-ï¹ï¼-ï¼™ï¼¿ï½¥]"),j=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null},U={beforeExpr:!0},G={startsExpr:!0},W={},H={num:new j("num",G),regexp:new j("regexp",G),string:new j("string",G),name:new j("name",G),privateId:new j("privateId",G),eof:new j("eof"),bracketL:new j("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new j("]"),braceL:new j("{",{beforeExpr:!0,startsExpr:!0}),braceR:new j("}"),parenL:new j("(",{beforeExpr:!0,startsExpr:!0}),parenR:new j(")"),comma:new j(",",U),semi:new j(";",U),colon:new j(":",U),dot:new j("."),question:new j("?",U),questionDot:new j("?."),arrow:new j("=>",U),template:new j("template"),invalidTemplate:new j("invalidTemplate"),ellipsis:new j("...",U),backQuote:new j("`",G),dollarBraceL:new j("${",{beforeExpr:!0,startsExpr:!0}),eq:new j("=",{beforeExpr:!0,isAssign:!0}),assign:new j("_=",{beforeExpr:!0,isAssign:!0}),incDec:new j("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new j("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:a("||",1),logicalAND:a("&&",2),bitwiseOR:a("|",3),bitwiseXOR:a("^",4),bitwiseAND:a("&",5),equality:a("==/!=/===/!==",6),relational:a("</>/<=/>=",7),bitShift:a("<</>>/>>>",8),plusMin:new j("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:a("%",10),star:a("*",10),slash:a("/",10),starstar:new j("**",{beforeExpr:!0}),coalesce:a("??",1),_break:u("break"),_case:u("case",U),_catch:u("catch"),_continue:u("continue"),_debugger:u("debugger"),_default:u("default",U),_do:u("do",{isLoop:!0,beforeExpr:!0}),_else:u("else",U),_finally:u("finally"),_for:u("for",{isLoop:!0}),_function:u("function",G),_if:u("if"),_return:u("return",U),_switch:u("switch"),_throw:u("throw",U),_try:u("try"),_var:u("var"),_const:u("const"),_while:u("while",{isLoop:!0}),_with:u("with"),_new:u("new",{beforeExpr:!0,startsExpr:!0}),_this:u("this",G),_super:u("super",G),_class:u("class",G),_extends:u("extends",U),_export:u("export"),_import:u("import",G),_null:u("null",G),_true:u("true",G),_false:u("false",G),_in:u("in",{beforeExpr:!0,binop:7}),_instanceof:u("instanceof",{beforeExpr:!0,binop:7}),_typeof:u("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:u("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:u("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},K=/\r\n?|\n|\u2028|\u2029/,q=new RegExp(K.source,"g"),X=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Y=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Q=Object.prototype,Z=Q.hasOwnProperty,J=Q.toString,ee=Object.hasOwn||function(e,t){return Z.call(e,t)},te=Array.isArray||function(e){return"[object Array]"===J.call(e)},ne=Object.create(null),re=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ie=function(e,t){this.line=e,this.column=t};ie.prototype.offset=function(e){return new ie(this.line,this.column+e)};var oe=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)},se={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},ae=!1,ue=256,le=function(e,t,n){this.options=e=d(e),this.sourceFile=e.sourceFile,this.keywords=h($[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var r="";!0!==e.allowReserved&&(r=P[e.ecmaVersion>=6?6:5===e.ecmaVersion?5:3],"module"===e.sourceType&&(r+=" await")),this.reservedWords=h(r);var i=(r?r+" ":"")+P.strict;this.reservedWordsStrict=h(i),this.reservedWordsStrictBind=h(i+" "+P.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(K).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=H.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},ce={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};le.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},ce.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},ce.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},ce.inAsync.get=function(){return(4&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},ce.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&ue)return!1;if(2&t.flags)return(4&t.flags)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},ce.allowSuper.get=function(){var e=this.currentThisScope();return(64&e.flags)>0||e.inClassFieldInit||this.options.allowSuperOutsideMethod},ce.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},ce.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},ce.allowNewDotTarget.get=function(){var e=this.currentThisScope();return(258&e.flags)>0||e.inClassFieldInit},ce.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&ue)>0},le.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},le.parse=function(e,t){return new this(t,e).parse()},le.parseExpressionAt=function(e,t,n){var r=new this(n,e,t);return r.nextToken(),r.parseExpression()},le.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(le.prototype,ce);var he=le.prototype,pe=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;he.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){Y.lastIndex=e,e+=Y.exec(this.input)[0].length;var t=pe.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){Y.lastIndex=e+t[0].length;var n=Y.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return";"===i||"}"===i||K.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||"!"===i&&"="===this.input.charAt(r+1))}Y.lastIndex=e+=t[0].length,e+=Y.exec(this.input)[0].length,";"===this.input[e]&&e++}},he.eat=function(e){return this.type===e&&(this.next(),!0)},he.isContextual=function(e){return this.type===H.name&&this.value===e&&!this.containsEsc},he.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},he.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},he.canInsertSemicolon=function(){return this.type===H.eof||this.type===H.braceR||K.test(this.input.slice(this.lastTokEnd,this.start))},he.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},he.semicolon=function(){this.eat(H.semi)||this.insertSemicolon()||this.unexpected()},he.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},he.expect=function(e){this.eat(e)||this.unexpected()},he.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")};var fe=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};he.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}},he.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},he.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},he.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var de=le.prototype;de.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==H.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var o=i[r];this.raiseRecoverable(this.undefinedExports[o].start,"Export '"+o+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var me={kind:"loop"},ge={kind:"switch"};de.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Y.lastIndex=this.pos;var t=Y.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(91===r||92===r)return!0;if(e)return!1;if(123===r||r>55295&&r<56320)return!0;if(o(r,!0)){for(var i=n+1;s(r=this.input.charCodeAt(i),!0);)++i;if(92===r||r>55295&&r<56320)return!0;var a=this.input.slice(n,i);if(!V.test(a))return!0}return!1},de.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Y.lastIndex=this.pos;var e,t=Y.exec(this.input),n=this.pos+t[0].length;return!(K.test(this.input.slice(this.pos,n))||"function"!==this.input.slice(n,n+8)||n+8!==this.input.length&&(s(e=this.input.charCodeAt(n+8))||e>55295&&e<56320))},de.parseStatement=function(e,t,n){var r,i=this.type,o=this.startNode();switch(this.isLet(e)&&(i=H._var,r="let"),i){case H._break:case H._continue:return this.parseBreakContinueStatement(o,i.keyword);case H._debugger:return this.parseDebuggerStatement(o);case H._do:return this.parseDoStatement(o);case H._for:return this.parseForStatement(o);case H._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!e);case H._class:return e&&this.unexpected(),this.parseClass(o,!0);case H._if:return this.parseIfStatement(o);case H._return:return this.parseReturnStatement(o);case H._switch:return this.parseSwitchStatement(o);case H._throw:return this.parseThrowStatement(o);case H._try:return this.parseTryStatement(o);case H._const:case H._var:return r=r||this.value,e&&"var"!==r&&this.unexpected(),this.parseVarStatement(o,r);case H._while:return this.parseWhileStatement(o);case H._with:return this.parseWithStatement(o);case H.braceL:return this.parseBlock(!0,o);case H.semi:return this.parseEmptyStatement(o);case H._export:case H._import:if(this.options.ecmaVersion>10&&i===H._import){Y.lastIndex=this.pos;var s=Y.exec(this.input),a=this.input.charCodeAt(this.pos+s[0].length);if(40===a||46===a)return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===H._import?this.parseImport(o):this.parseExport(o,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!e);var u=this.value,l=this.parseExpression();return i===H.name&&"Identifier"===l.type&&this.eat(H.colon)?this.parseLabeledStatement(o,u,l,e):this.parseExpressionStatement(o,l)}},de.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(H.semi)||this.insertSemicolon()?e.label=null:this.type!==H.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(e.label&&n)break}}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},de.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},de.parseDoStatement=function(e){return this.next(),this.labels.push(me),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(H._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(H.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},de.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(me),this.enterScope(0),this.expect(H.parenL),this.type===H.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===H._var||this.type===H._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===H._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===r.declarations.length?(this.options.ecmaVersion>=9&&(this.type===H._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var o=this.isContextual("let"),s=!1,a=new fe,u=this.parseExpression(!(t>-1)||"await",a);return this.type===H._in||(s=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===H._in?t>-1&&this.unexpected(t):e.await=t>-1),o&&s&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))},de.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,ve|(n?0:be),!1,t)},de.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(H._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},de.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(H.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},de.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(H.braceL),this.labels.push(ge),this.enterScope(0);for(var n=!1;this.type!==H.braceR;)if(this.type===H._case||this.type===H._default){var r=this.type===H._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(H.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},de.parseThrowStatement=function(e){return this.next(),K.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var ye=[];de.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t="Identifier"===e.type;return this.enterScope(t?32:0),this.checkLValPattern(e,t?4:2),this.expect(H.parenR),e},de.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===H._catch){var t=this.startNode();this.next(),this.eat(H.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(H._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},de.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")},de.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(me),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},de.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},de.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},de.parseLabeledStatement=function(e,t,n,r){for(var i=0,o=this.labels;i<o.length;i+=1){o[i].name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var s=this.type.isLoop?"loop":this.type===H._switch?"switch":null,a=this.labels.length-1;a>=0;a--){var u=this.labels[a];if(u.statementStart!==e.start)break;u.statementStart=this.start,u.kind=s}return this.labels.push({name:t,kind:s,statementStart:this.start}),e.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},de.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},de.parseBlock=function(e,t,n){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(H.braceL),e&&this.enterScope(0);this.type!==H.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},de.parseFor=function(e,t){return e.init=t,this.expect(H.semi),e.test=this.type===H.semi?null:this.parseExpression(),this.expect(H.semi),e.update=this.type===H.parenR?null:this.parseExpression(),this.expect(H.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},de.parseForIn=function(e,t){var n=this.type===H._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(H.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},de.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(H.eq)?i.init=this.parseMaybeAssign(t):r||"const"!==n||this.type===H._in||this.options.ecmaVersion>=6&&this.isContextual("of")?r||"Identifier"===i.id.type||t&&(this.type===H._in||this.isContextual("of"))?i.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(H.comma))break}return e},de.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,"var"===t?1:2,!1)};var ve=1,be=2;de.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===H.star&&t&be&&this.unexpected(),e.generator=this.eat(H.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&ve&&(e.id=4&t&&this.type!==H.name?null:this.parseIdent(),!e.id||t&be||this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var o=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(m(e.async,e.generator)),t&ve||(e.id=this.type===H.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=o,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(e,t&ve?"FunctionDeclaration":"FunctionExpression")},de.parseFunctionParams=function(e){this.expect(H.parenL),e.params=this.parseBindingList(H.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},de.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),o=!1;for(i.body=[],this.expect(H.braceL);this.type!==H.braceR;){var s=this.parseClassElement(null!==e.superClass);s&&(i.body.push(s),"MethodDefinition"===s.type&&"constructor"===s.kind?(o&&this.raiseRecoverable(s.start,"Duplicate constructor in the same class"),o=!0):s.key&&"PrivateIdentifier"===s.key.type&&g(r,s)&&this.raiseRecoverable(s.key.start,"Identifier '#"+s.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},de.parseClassElement=function(e){if(this.eat(H.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,o=!1,s="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(H.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===H.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==H.star||this.canInsertSemicolon()?r="async":o=!0),!r&&(t>=9||!o)&&this.eat(H.star)&&(i=!0),!r&&!o&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?s=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===H.parenL||"method"!==s||i||o){var l=!n.static&&y(n,"constructor"),c=l&&e;l&&"method"!==s&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":s,this.parseClassMethod(n,i,o,c)}else this.parseClassField(n);return n},de.isClassElementNameStart=function(){return this.type===H.name||this.type===H.privateId||this.type===H.num||this.type===H.string||this.type===H.bracketL||this.type.keyword},de.parseClassElementName=function(e){this.type===H.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},de.parseClassMethod=function(e,t,n,r){var i=e.key;"constructor"===e.kind?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&y(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var o=e.value=this.parseMethod(t,n,r);return"get"===e.kind&&0!==o.params.length&&this.raiseRecoverable(o.start,"getter should have no params"),"set"===e.kind&&1!==o.params.length&&this.raiseRecoverable(o.start,"setter should have exactly one param"),"set"===e.kind&&"RestElement"===o.params[0].type&&this.raiseRecoverable(o.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},de.parseClassField=function(e){if(y(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&y(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(H.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")},de.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(320);this.type!==H.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")},de.parseClassId=function(e,t){this.type===H.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},de.parseClassSuper=function(e){e.superClass=this.eat(H._extends)?this.parseExprSubscripts(null,!1):null},de.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},de.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=0===r?null:this.privateNameStack[r-1],o=0;o<n.length;++o){var s=n[o];ee(t,s.name)||(i?i.used.push(s):this.raiseRecoverable(s.start,"Private field '#"+s.name+"' must be declared in an enclosing class"))}},de.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==H.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")},de.parseExport=function(e,t){if(this.next(),this.eat(H.star))return this.parseExportAllDeclaration(e,t);if(this.eat(H._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==H.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),"Literal"===i.local.type&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},de.parseExportDeclaration=function(){return this.parseStatement(null)},de.parseExportDefaultDeclaration=function(){var e;if(this.type===H._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,4|ve,!1,e)}if(this.type===H._class){var n=this.startNode();return this.parseClass(n,"nullableID")}var r=this.parseMaybeAssign();return this.semicolon(),r},de.checkExport=function(e,t,n){e&&("string"!=typeof t&&(t="Identifier"===t.type?t.name:t.value),ee(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},de.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t,t.start);else if("ObjectPattern"===n)for(var r=0,i=t.properties;r<i.length;r+=1){this.checkPatternExport(e,i[r])}else if("ArrayPattern"===n)for(var o=0,s=t.elements;o<s.length;o+=1){var a=s[o];a&&this.checkPatternExport(e,a)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n&&this.checkPatternExport(e,t.argument)},de.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){this.checkPatternExport(e,r[n].id)}},de.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},de.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")},de.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(H.braceL);!this.eat(H.braceR);){if(n)n=!1;else if(this.expect(H.comma),this.afterTrailingComma(H.braceR))break;t.push(this.parseExportSpecifier(e))}return t},de.parseImport=function(e){return this.next(),this.type===H.string?(e.specifiers=ye,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===H.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},de.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportSpecifier")},de.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportDefaultSpecifier")},de.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportNamespaceSpecifier")},de.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===H.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(H.comma)))return e;if(this.type===H.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(H.braceL);!this.eat(H.braceR);){if(t)t=!1;else if(this.expect(H.comma),this.afterTrailingComma(H.braceR))break;e.push(this.parseImportSpecifier())}return e},de.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===H.string){var e=this.parseLiteral(this.value);return re.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)},de.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},de.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var xe=le.prototype;xe.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var o=i[r];this.toAssignable(o,t),"RestElement"!==o.type||"ArrayPattern"!==o.argument.type&&"ObjectPattern"!==o.argument.type||this.raise(o.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},xe.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var o=e[n-1];6===this.options.ecmaVersion&&t&&o&&"RestElement"===o.type&&"Identifier"!==o.argument.type&&this.unexpected(o.argument.start)}return e},xe.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},xe.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==H.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},xe.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case H.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(H.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case H.braceL:return this.parseObj(!0)}return this.parseIdent()},xe.parseBindingList=function(e,t,n,r){for(var i=[],o=!0;!this.eat(e);)if(o?o=!1:this.expect(H.comma),t&&this.type===H.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===H.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),i.push(s),this.type===H.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}i.push(this.parseAssignableListItem(r))}return i},xe.parseAssignableListItem=function(){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e},xe.parseBindingListItem=function(e){return e},xe.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(H.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},xe.checkLValSimple=function(e,t,n){void 0===t&&(t=0);var r=0!==t;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(ee(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),5!==t&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}},xe.checkLValPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){this.checkLValInnerPattern(i[r],t,n)}break;case"ArrayPattern":for(var o=0,s=e.elements;o<s.length;o+=1){var a=s[o];a&&this.checkLValInnerPattern(a,t,n)}break;default:this.checkLValSimple(e,t,n)}},xe.checkLValInnerPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var we=function(e,t,n,r,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!i},_e={b_stat:new we("{",!1),b_expr:new we("{",!0),b_tmpl:new we("${",!1),p_stat:new we("(",!1),p_expr:new we("(",!0),q_tmpl:new we("`",!0,!0,(function(e){return e.tryReadTemplateToken()})),f_stat:new we("function",!1),f_expr:new we("function",!0),f_expr_gen:new we("function",!0,!1,null,!0),f_gen:new we("function",!1,!1,null,!0)},Se=le.prototype;Se.initialContext=function(){return[_e.b_stat]},Se.curContext=function(){return this.context[this.context.length-1]},Se.braceIsBlock=function(e){var t=this.curContext();return t===_e.f_expr||t===_e.f_stat||(e!==H.colon||t!==_e.b_stat&&t!==_e.b_expr?e===H._return||e===H.name&&this.exprAllowed?K.test(this.input.slice(this.lastTokEnd,this.start)):e===H._else||e===H.semi||e===H.eof||e===H.parenR||e===H.arrow||(e===H.braceL?t===_e.b_stat:e!==H._var&&e!==H._const&&e!==H.name&&!this.exprAllowed):!t.isExpr)},Se.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},Se.updateContext=function(e){var t,n=this.type;n.keyword&&e===H.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},Se.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},H.parenR.updateContext=H.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===_e.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},H.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?_e.b_stat:_e.b_expr),this.exprAllowed=!0},H.dollarBraceL.updateContext=function(){this.context.push(_e.b_tmpl),this.exprAllowed=!0},H.parenL.updateContext=function(e){this.context.push(e===H._if||e===H._for||e===H._with||e===H._while?_e.p_stat:_e.p_expr),this.exprAllowed=!0},H.incDec.updateContext=function(){},H._function.updateContext=H._class.updateContext=function(e){!e.beforeExpr||e===H._else||e===H.semi&&this.curContext()!==_e.p_stat||e===H._return&&K.test(this.input.slice(this.lastTokEnd,this.start))||(e===H.colon||e===H.braceL)&&this.curContext()===_e.b_stat?this.context.push(_e.f_stat):this.context.push(_e.f_expr),this.exprAllowed=!1},H.colon.updateContext=function(){"function"===this.curContext().token&&this.context.pop(),this.exprAllowed=!0},H.backQuote.updateContext=function(){this.curContext()===_e.q_tmpl?this.context.pop():this.context.push(_e.q_tmpl),this.exprAllowed=!1},H.star.updateContext=function(e){if(e===H._function){var t=this.context.length-1;this.context[t]=this.context[t]===_e.f_expr?_e.f_expr_gen:_e.f_gen}this.exprAllowed=!0},H.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==H.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var ke=le.prototype;ke.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r,i=e.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var o=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===o&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);else{var s=t[r="$"+r];if(s)("init"===o?this.strict&&s.init||s.get||s.set:s.init||s[o])&&this.raiseRecoverable(i.start,"Redefinition of property");else s=t[r]={init:!1,get:!1,set:!1};s[o]=!0}}},ke.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===H.comma){var o=this.startNodeAt(n,r);for(o.expressions=[i];this.eat(H.comma);)o.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(o,"SequenceExpression")}return i},ke.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,o=-1,s=-1;t?(i=t.parenthesizedAssign,o=t.trailingComma,s=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new fe,r=!0);var a=this.start,u=this.startLoc;this.type!==H.parenL&&this.type!==H.name||(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===e);var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===H.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===H.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),s>-1&&(t.doubleProto=s),this.finishNode(c,"AssignmentExpression")}return r&&this.checkExpressionErrors(t,!0),i>-1&&(t.parenthesizedAssign=i),o>-1&&(t.trailingComma=o),l},ke.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(H.question)){var o=this.startNodeAt(n,r);return o.test=i,o.consequent=this.parseMaybeAssign(),this.expect(H.colon),o.alternate=this.parseMaybeAssign(e),this.finishNode(o,"ConditionalExpression")}return i},ke.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,e)},ke.parseExprOp=function(e,t,n,r,i){var o=this.type.binop;if(null!=o&&(!i||this.type!==H._in)&&o>r){var s=this.type===H.logicalOR||this.type===H.logicalAND,a=this.type===H.coalesce;a&&(o=H.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,o,i),p=this.buildBinary(t,n,e,h,u,s||a);return(s&&this.type===H.coalesce||a&&(this.type===H.logicalOR||this.type===H.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(p,t,n,r,i)}return e},ke.buildBinary=function(e,t,n,r,i,o){"PrivateIdentifier"===r.type&&this.raise(r.start,"Private identifier can only be left side of binary expression");var s=this.startNodeAt(e,t);return s.left=n,s.operator=i,s.right=r,this.finishNode(s,o?"LogicalExpression":"BinaryExpression")},ke.parseMaybeUnary=function(e,t,n,r){var i,o=this.start,s=this.startLoc;if(this.isContextual("await")&&this.canAwait)i=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===H.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&"delete"===a.operator&&"Identifier"===a.argument.type?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):"delete"===a.operator&&v(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,i=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(t||this.type!==H.privateId){if(i=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return i;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(o,s);l.operator=this.value,l.prefix=!1,l.argument=i,this.checkLValSimple(i),this.next(),i=this.finishNode(l,"UpdateExpression")}}else(r||0===this.privateNameStack.length)&&this.options.checkPrivateFields&&this.unexpected(),i=this.parsePrivateIdent(),this.type!==H._in&&this.unexpected();return n||!this.eat(H.starstar)?i:t?void this.unexpected(this.lastTokStart):this.buildBinary(o,s,i,this.parseMaybeUnary(null,!1,!1,r),"**",!1)},ke.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if("ArrowFunctionExpression"===i.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return i;var o=this.parseSubscripts(i,n,r,!1,t);return e&&"MemberExpression"===o.type&&(e.parenthesizedAssign>=o.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=o.start&&(e.parenthesizedBind=-1),e.trailingComma>=o.start&&(e.trailingComma=-1)),o},ke.parseSubscripts=function(e,t,n,r,i){for(var o=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&this.potentialArrowAt===e.start,s=!1;;){var a=this.parseSubscript(e,t,n,r,o,s,i);if(a.optional&&(s=!0),a===e||"ArrowFunctionExpression"===a.type){if(s){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}},ke.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(H.arrow)},ke.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)},ke.parseSubscript=function(e,t,n,r,i,o,s){var a=this.options.ecmaVersion>=11,u=a&&this.eat(H.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(H.bracketL);if(l||u&&this.type!==H.parenL&&this.type!==H.backQuote||this.eat(H.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(H.bracketR)):c.property=this.type===H.privateId&&"Super"!==e.type?this.parsePrivateIdent():this.parseIdent("never"!==this.options.allowReserved),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(H.parenL)){var h=new fe,p=this.yieldPos,f=this.awaitPos,d=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(H.parenR,this.options.ecmaVersion>=8,!1,h);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=p,this.awaitPos=f,this.awaitIdentPos=d,this.parseSubscriptAsyncArrow(t,n,m,s);this.checkExpressionErrors(h,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=f||this.awaitPos,this.awaitIdentPos=d||this.awaitIdentPos;var g=this.startNodeAt(t,n);g.callee=e,g.arguments=m,a&&(g.optional=u),e=this.finishNode(g,"CallExpression")}else if(this.type===H.backQuote){(u||o)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var y=this.startNodeAt(t,n);y.tag=e,y.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(y,"TaggedTemplateExpression")}return e},ke.parseExprAtom=function(e,t,n){this.type===H.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case H._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type!==H.parenL||this.allowDirectSuper||this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==H.dot&&this.type!==H.bracketL&&this.type!==H.parenL&&this.unexpected(),this.finishNode(r,"Super");case H._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case H.name:var o=this.start,s=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&"async"===u.name&&!this.canInsertSemicolon()&&this.eat(H._function))return this.overrideContext(_e.f_expr),this.parseFunction(this.startNodeAt(o,s),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(H.arrow))return this.parseArrowExpression(this.startNodeAt(o,s),[u],!1,t);if(this.options.ecmaVersion>=8&&"async"===u.name&&this.type===H.name&&!a&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return u=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(H.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(o,s),[u],!0,t)}return u;case H.regexp:var l=this.value;return(r=this.parseLiteral(l.value)).regex={pattern:l.pattern,flags:l.flags},r;case H.num:case H.string:return this.parseLiteral(this.value);case H._null:case H._true:case H._false:return(r=this.startNode()).value=this.type===H._null?null:this.type===H._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case H.parenL:var c=this.start,h=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(h)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),h;case H.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(H.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case H.braceL:return this.overrideContext(_e.b_expr),this.parseObj(!1,e);case H._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case H._class:return this.parseClass(this.startNode(),!1);case H._new:return this.parseNew();case H.backQuote:return this.parseTemplate();case H._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}},ke.parseExprAtomDefault=function(){this.unexpected()},ke.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===H.parenL&&!e)return this.parseDynamicImport(t);if(this.type===H.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}this.unexpected()},ke.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(H.parenR)){var t=this.start;this.eat(H.comma)&&this.eat(H.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},ke.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},ke.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},ke.parseParenExpression=function(){this.expect(H.parenL);var e=this.parseExpression();return this.expect(H.parenR),e},ke.shouldParseArrow=function(){return!this.canInsertSemicolon()},ke.parseParenAndDistinguishExpression=function(e,t){var n,r=this.start,i=this.startLoc,o=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s,a=this.start,u=this.startLoc,l=[],c=!0,h=!1,p=new fe,f=this.yieldPos,d=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==H.parenR;){if(c?c=!1:this.expect(H.comma),o&&this.afterTrailingComma(H.parenR,!0)){h=!0;break}if(this.type===H.ellipsis){s=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===H.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,p,this.parseParenItem))}var m=this.lastTokEnd,g=this.lastTokEndLoc;if(this.expect(H.parenR),e&&this.shouldParseArrow(l)&&this.eat(H.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=d,this.parseParenArrowList(r,i,l,t);l.length&&!h||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(p,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=d||this.awaitPos,l.length>1?((n=this.startNodeAt(a,u)).expressions=l,this.finishNodeAt(n,"SequenceExpression",m,g)):n=l[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(r,i);return y.expression=n,this.finishNode(y,"ParenthesizedExpression")}return n},ke.parseParenItem=function(e){return e},ke.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var Te=[];ke.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===H.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),e.arguments=this.eat(H.parenL)?this.parseExprList(H.parenR,this.options.ecmaVersion>=8,!1):Te,this.finishNode(e,"NewExpression")},ke.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===H.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===H.backQuote,this.finishNode(n,"TemplateElement")},ke.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===H.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(H.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(H.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},ke.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===H.name||this.type===H.num||this.type===H.string||this.type===H.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===H.star)&&!K.test(this.input.slice(this.lastTokEnd,this.start))},ke.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(H.braceR);){if(r)r=!1;else if(this.expect(H.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(H.braceR))break;var o=this.parseProperty(e,t);e||this.checkPropClash(o,i,t),n.properties.push(o)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},ke.parseProperty=function(e,t){var n,r,i,o,s=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(H.ellipsis))return e?(s.argument=this.parseIdent(!1),this.type===H.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(s,"RestElement")):(s.argument=this.parseMaybeAssign(!1,t),this.type===H.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(s,"SpreadElement"));this.options.ecmaVersion>=6&&(s.method=!1,s.shorthand=!1,(e||t)&&(i=this.start,o=this.startLoc),e||(n=this.eat(H.star)));var a=this.containsEsc;return this.parsePropertyName(s),!e&&!a&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(s)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(H.star),this.parsePropertyName(s)):r=!1,this.parsePropertyValue(s,e,n,r,i,o,t,a),this.finishNode(s,"Property")},ke.parseGetterSetter=function(e){if(e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1),e.value.params.length!==("get"===e.kind?0:1)){var t=e.value.start;this.raiseRecoverable(t,"get"===e.kind?"getter should have no params":"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},ke.parsePropertyValue=function(e,t,n,r,i,o,s,a){(n||r)&&this.type===H.colon&&this.unexpected(),this.eat(H.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,s),e.kind="init"):this.options.ecmaVersion>=6&&this.type===H.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):t||a||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===H.comma||this.type===H.braceR||this.type===H.eq?this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,o,this.copyNode(e.key)):this.type===H.eq&&s?(s.shorthandAssign<0&&(s.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,o,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected():((n||r)&&this.unexpected(),this.parseGetterSetter(e))},ke.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(H.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(H.bracketR),e.key;e.computed=!1}return e.key=this.type===H.num||this.type===H.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},ke.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},ke.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,o=this.awaitPos,s=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|m(t,r.generator)|(n?128:0)),this.expect(H.parenL),r.params=this.parseBindingList(H.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=o,this.awaitIdentPos=s,this.finishNode(r,"FunctionExpression")},ke.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,o=this.awaitPos,s=this.awaitIdentPos;return this.enterScope(16|m(n,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=o,this.awaitIdentPos=s,this.finishNode(e,"ArrowFunctionExpression")},ke.parseFunctionBody=function(e,t,n,r){var i=this.strict,o=!1;if(t&&this.type!==H.braceL)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var s=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);i&&!s||(o=this.strictDirective(this.end))&&s&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var a=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!i&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,5),e.body=this.parseBlock(!1,void 0,o&&!i),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=a}this.exitScope()},ke.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){if("Identifier"!==n[t].type)return!1}return!0},ke.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){this.checkLValInnerPattern(i[r],1,t?null:n)}},ke.parseExprList=function(e,t,n,r){for(var i=[],o=!0;!this.eat(e);){if(o)o=!1;else if(this.expect(H.comma),t&&this.afterTrailingComma(e))break;var s=void 0;n&&this.type===H.comma?s=null:this.type===H.ellipsis?(s=this.parseSpread(r),r&&this.type===H.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):s=this.parseMaybeAssign(!1,r),i.push(s)}return i},ke.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;(this.inGenerator&&"yield"===r&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===r&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),!this.inClassStaticBlock||"arguments"!==r&&"await"!==r||this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\"))||(this.strict?this.reservedWordsStrict:this.reservedWords).test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))},ke.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),"await"!==t.name||this.awaitIdentPos||(this.awaitIdentPos=t.start)),t},ke.parseIdentNode=function(){var e=this.startNode();return this.type===H.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,"class"!==e.name&&"function"!==e.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop(),this.type=H.name):this.unexpected(),e},ke.parsePrivateIdent=function(){var e=this.startNode();return this.type===H.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(0===this.privateNameStack.length?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e},ke.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===H.semi||this.canInsertSemicolon()||this.type!==H.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(H.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},ke.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var Ae=le.prototype;Ae.raise=function(e,t){var n=f(this.input,e),r=new SyntaxError(t+=" ("+n.line+":"+n.column+")");throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},Ae.raiseRecoverable=Ae.raise,Ae.curPosition=function(){if(this.options.locations)return new ie(this.curLine,this.pos-this.lineStart)};var Ee=le.prototype,Ce=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Ee.enterScope=function(e){this.scopeStack.push(new Ce(e))},Ee.exitScope=function(){this.scopeStack.pop()},Ee.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},Ee.declareName=function(e,t,n){var r=!1;if(2===t){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&1&i.flags&&delete this.undefinedExports[e]}else if(4===t){this.currentScope().lexical.push(e)}else if(3===t){var o=this.currentScope();r=this.treatFunctionsAsVar?o.lexical.indexOf(e)>-1:o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var s=this.scopeStack.length-1;s>=0;--s){var a=this.scopeStack[s];if(a.lexical.indexOf(e)>-1&&!(32&a.flags&&a.lexical[0]===e)||!this.treatFunctionsAsVarInScope(a)&&a.functions.indexOf(e)>-1){r=!0;break}if(a.var.push(e),this.inModule&&1&a.flags&&delete this.undefinedExports[e],259&a.flags)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},Ee.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},Ee.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Ee.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(259&t.flags)return t}},Ee.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(259&t.flags&&!(16&t.flags))return t}};var Le=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new oe(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},Ie=le.prototype;Ie.startNode=function(){return new Le(this,this.start,this.startLoc)},Ie.startNodeAt=function(e,t){return new Le(this,e,t)},Ie.finishNode=function(e,t){return b.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},Ie.finishNodeAt=function(e,t,n,r){return b.call(this,e,t,n,r)},Ie.copyNode=function(e){var t=new Le(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};for(var Re="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Me=Re+" Extended_Pictographic",Oe=Me+" EBase EComp EMod EPres ExtPict",Ne={9:Re,10:Me,11:Me,12:Oe,13:Oe,14:Oe},De={9:"",10:"",11:"",12:"",13:"",14:"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji"},Pe="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Fe="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",$e=Fe+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Ve=$e+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Be=Ve+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",ze=Be+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",je={9:Fe,10:$e,11:Ve,12:Be,13:ze,14:ze+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz"},Ue={},Ge=0,We=[9,10,11,12,13,14];Ge<We.length;Ge+=1){x(We[Ge])}var He=le.prototype,Ke=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Ue[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Ke.prototype.reset=function(e,t,n){var r=-1!==n.indexOf("v"),i=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=i&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=i&&this.parser.options.ecmaVersion>=9)},Ke.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},Ke.prototype.at=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return-1;var i=n.charCodeAt(e);if(!t&&!this.switchU||i<=55295||i>=57344||e+1>=r)return i;var o=n.charCodeAt(e+1);return o>=56320&&o<=57343?(i<<10)+o-56613888:i},Ke.prototype.nextIndex=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return r;var i,o=n.charCodeAt(e);return!t&&!this.switchU||o<=55295||o>=57344||e+1>=r||(i=n.charCodeAt(e+1))<56320||i>57343?e+1:e+2},Ke.prototype.current=function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},Ke.prototype.lookahead=function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},Ke.prototype.advance=function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},Ke.prototype.eat=function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},Ke.prototype.eatChars=function(e,t){void 0===t&&(t=!1);for(var n=this.pos,r=0,i=e;r<i.length;r+=1){var o=i[r],s=this.at(n,t);if(-1===s||s!==o)return!1;n=this.nextIndex(n,t)}return this.pos=n,!0},He.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,o=0;o<n.length;o++){var s=n.charAt(o);-1===t.indexOf(s)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(s,o+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),"u"===s&&(r=!0),"v"===s&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")},He.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},He.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){-1===e.groupNames.indexOf(n[t])&&e.raise("Invalid named capture referenced")}},He.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},He.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},He.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},He.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},He.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},He.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},He.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return-1!==i&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},He.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},He.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},He.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},He.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},He.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},He.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},He.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!w(t)&&(e.lastIntValue=t,e.advance(),!0)},He.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!w(n);)e.advance();return e.pos!==t},He.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t)&&(e.advance(),!0)},He.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},He.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},He.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=p(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=p(e.lastIntValue);return!0}return!1},He.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),function(e){return o(e,!0)||36===e||95===e}(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},He.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),function(e){return s(e,!0)||36===e||95===e||8204===e||8205===e}(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},He.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},He.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},He.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},He.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},He.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},He.regexp_eatZero=function(e){return 48===e.current()&&!T(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},He.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},He.regexp_eatControlLetter=function(e){var t=e.current();return!!_(t)&&(e.lastIntValue=t%32,e.advance(),!0)},He.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var n,r=e.pos,i=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(i&&o>=55296&&o<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var a=e.lastIntValue;if(a>=56320&&a<=57343)return e.lastIntValue=1024*(o-55296)+(a-56320)+65536,!0}e.pos=s,e.lastIntValue=o}return!0}if(i&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&((n=e.lastIntValue)>=0&&n<=1114111))return!0;i&&e.raise("Invalid unicode escape"),e.pos=r}return!1},He.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t)&&(e.lastIntValue=t,e.advance(),!0)},He.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1};He.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(function(e){return 100===e||68===e||115===e||83===e||119===e||87===e}(t))return e.lastIntValue=-1,e.advance(),1;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=80===t)||112===t)){var r;if(e.lastIntValue=-1,e.advance(),e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&2===r&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return 0},He.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e))return this.regexp_validateUnicodePropertyNameAndValue(e,n,e.lastStringValue),1}return e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)?this.regexp_validateUnicodePropertyNameOrValue(e,e.lastStringValue):0},He.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){ee(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},He.regexp_validateUnicodePropertyNameOrValue=function(e,t){return e.unicodeProperties.binary.test(t)?1:e.switchV&&e.unicodeProperties.binaryOfStrings.test(t)?2:void e.raise("Invalid property name")},He.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";S(t=e.current());)e.lastStringValue+=p(t),e.advance();return""!==e.lastStringValue},He.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";k(t=e.current());)e.lastStringValue+=p(t),e.advance();return""!==e.lastStringValue},He.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},He.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&2===n&&e.raise("Negated character class may contain strings"),!0}return!1},He.regexp_classContents=function(e){return 93===e.current()?1:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),1)},He.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},He.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||C(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return 93!==r&&(e.lastIntValue=r,e.advance(),!0)},He.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},He.regexp_classSetExpression=function(e){var t,n=1;if(this.regexp_eatClassSetRange(e));else if(t=this.regexp_eatClassSetOperand(e)){2===t&&(n=2);for(var r=e.pos;e.eatChars([38,38]);)38!==e.current()&&(t=this.regexp_eatClassSetOperand(e))?2!==t&&(n=1):e.raise("Invalid character in character class");if(r!==e.pos)return n;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return n}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(!(t=this.regexp_eatClassSetOperand(e)))return n;2===t&&(n=2)}},He.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return-1!==n&&-1!==r&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1},He.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?1:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)},He.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&2===r&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null},He.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null},He.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)2===this.regexp_classString(e)&&(t=2);return t},He.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return 1===t?1:2},He.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return!(!this.regexp_eatCharacterEscape(e)&&!this.regexp_eatClassSetReservedPunctuator(e))||(e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1));var n=e.current();return!(n<0||n===e.lookahead()&&function(e){return 33===e||e>=35&&e<=38||e>=42&&e<=44||46===e||e>=58&&e<=64||94===e||96===e||126===e}(n))&&(!function(e){return 40===e||41===e||45===e||47===e||e>=91&&e<=93||e>=123&&e<=125}(n)&&(e.advance(),e.lastIntValue=n,!0))},He.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return!!function(e){return 33===e||35===e||37===e||38===e||44===e||45===e||e>=58&&e<=62||64===e||96===e||126===e}(t)&&(e.lastIntValue=t,e.advance(),!0)},He.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!T(t)&&95!==t)&&(e.lastIntValue=t%32,e.advance(),!0)},He.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},He.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;T(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},He.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;A(n=e.current());)e.lastIntValue=16*e.lastIntValue+E(n),e.advance();return e.pos!==t},He.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;e.lastIntValue=t<=3&&this.regexp_eatOctalDigit(e)?64*t+8*n+e.lastIntValue:8*t+n}else e.lastIntValue=t;return!0}return!1},He.regexp_eatOctalDigit=function(e){var t=e.current();return C(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},He.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!A(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+E(i),e.advance()}return!0};var qe=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new oe(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},Xe=le.prototype;Xe.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new qe(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Xe.getToken=function(){return this.next(),new qe(this)},"undefined"!=typeof Symbol&&(Xe[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===H.eof,value:t}}}}),Xe.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(H.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},Xe.readToken=function(e){return o(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},Xe.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},Xe.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=c(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())},Xe.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!l(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},Xe.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&X.test(String.fromCharCode(e))))break e;++this.pos}}},Xe.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},Xe.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(H.ellipsis)):(++this.pos,this.finishToken(H.dot))},Xe.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(H.assign,2):this.finishOp(H.slash,1)},Xe.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?H.star:H.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,r=H.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(H.assign,n+1):this.finishOp(r,n)},Xe.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(H.assign,3);return this.finishOp(124===e?H.logicalOR:H.logicalAND,2)}return 61===t?this.finishOp(H.assign,2):this.finishOp(124===e?H.bitwiseOR:H.bitwiseAND,1)},Xe.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(H.assign,2):this.finishOp(H.bitwiseXOR,1)},Xe.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!K.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(H.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(H.assign,2):this.finishOp(H.plusMin,1)},Xe.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(H.assign,n+1):this.finishOp(H.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(H.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Xe.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(H.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(H.arrow)):this.finishOp(61===e?H.eq:H.prefix,1)},Xe.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(H.questionDot,2)}if(63===t){if(e>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(H.assign,3);return this.finishOp(H.coalesce,2)}}return this.finishOp(H.question,1)},Xe.readToken_numberSign=function(){var e=35;if(this.options.ecmaVersion>=13&&(++this.pos,o(e=this.fullCharCodeAtPos(),!0)||92===e))return this.finishToken(H.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+p(e)+"'")},Xe.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(H.parenL);case 41:return++this.pos,this.finishToken(H.parenR);case 59:return++this.pos,this.finishToken(H.semi);case 44:return++this.pos,this.finishToken(H.comma);case 91:return++this.pos,this.finishToken(H.bracketL);case 93:return++this.pos,this.finishToken(H.bracketR);case 123:return++this.pos,this.finishToken(H.braceL);case 125:return++this.pos,this.finishToken(H.braceR);case 58:return++this.pos,this.finishToken(H.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(H.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(H.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+p(e)+"'")},Xe.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},Xe.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(K.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var o=this.pos,s=this.readWord1();this.containsEsc&&this.unexpected(o);var a=this.regexpState||(this.regexpState=new Ke(this));a.reset(n,i,s),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,s)}catch(e){}return this.finishToken(H.regexp,{pattern:i,flags:s,value:u})},Xe.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&void 0===t,i=n&&48===this.input.charCodeAt(this.pos),o=this.pos,s=0,a=0,u=0,l=null==t?1/0:t;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),h=void 0;if(r&&95===c)i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===a&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===u&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;else{if((h=c>=97?c-97+10:c>=65?c-65+10:c>=48&&c<=57?c-48:1/0)>=e)break;a=c,s=s*e+h}}return r&&95===a&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===o||null!=t&&this.pos-o!==t?null:s},Xe.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return null==n&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=L(this.input.slice(t,this.pos)),++this.pos):o(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(H.num,n)},Xe.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(t,"Invalid number");var n=this.pos-t>=2&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&110===r){var i=L(this.input.slice(t,this.pos));return++this.pos,o(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(H.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(43!==(r=this.input.charCodeAt(++this.pos))&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),o(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s,a=(s=this.input.slice(t,this.pos),n?parseInt(s,8):parseFloat(s.replace(/_/g,"")));return this.finishToken(H.num,a)},Xe.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},Xe.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):8232===r||8233===r?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(l(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(H.string,t)};var Ye={};Xe.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==Ye)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Xe.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Ye;this.raise(e,t)},Xe.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==H.template&&this.type!==H.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(H.template,e)):36===n?(this.pos+=2,this.finishToken(H.dollarBraceL)):(++this.pos,this.finishToken(H.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(l(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},Xe.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(H.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Xe.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return p(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e)this.invalidStringToken(this.pos-1,"Invalid escape sequence in template string");default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(n,8);return r>255&&(n=n.slice(0,-1),r=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),"0"===n&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return l(t)?"":String.fromCharCode(t)}},Xe.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},Xe.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(s(i,r))this.pos+=i<=65535?1:2;else{if(92!==i)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var a=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var u=this.readCodePoint();(t?o:s)(u,r)||this.invalidStringToken(a,"Invalid Unicode escape"),e+=p(u),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},Xe.readWord=function(){var e=this.readWord1(),t=H.name;return this.keywords.test(e)&&(t=W[e]),this.finishToken(t,e)};var Qe="8.11.3";le.acorn={Parser:le,version:Qe,defaultOptions:se,Position:ie,SourceLocation:oe,getLineInfo:f,Node:Le,TokenType:j,tokTypes:H,keywordTypes:W,TokContext:we,tokContexts:_e,isIdentifierChar:s,isIdentifierStart:o,Token:qe,isNewLine:l,lineBreak:K,lineBreakG:q,nonASCIIwhitespace:X}},Z66Z:function(e){e.exports=function(){throw new Error("define cannot be used indirect")}},a4Df:function(e,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),ArrayBuffer.transfer||(ArrayBuffer.transfer=function(e,t){if(!(e instanceof ArrayBuffer))throw new TypeError("Source must be an instance of ArrayBuffer");if(t<=e.byteLength)return e.slice(0,t);var n=new Uint8Array(e),r=new Uint8Array(new ArrayBuffer(t));return r.set(n),r.buffer}),t.default=function(){function e(){this._capacity=32,this.cursor=0,this._written=0,this._buffer=new ArrayBuffer(this._capacity),this._view=new DataView(this._buffer)}var t,n,i;return t=e,(n=[{key:"maybeExpand",value:function(e){if(!(this.cursor+e<this._capacity)){for(;this.cursor+e>=this._capacity;)this._capacity*=2;this._buffer=ArrayBuffer.transfer(this._buffer,this._capacity),this._view=new DataView(this._buffer)}}},{key:"updateWritten",value:function(){this._written=Math.max(this._written,this.cursor)}},{key:"get",value:function(e,t){var n=this._view["get".concat(e?"I":"Ui","nt").concat(t)](this.cursor,!0);return this.cursor+=t/8,n}},{key:"getI",value:function(e){return this.get(!0,e)}},{key:"getU",value:function(e){return this.get(!1,e)}},{key:"getF",value:function(e){var t=this._view["getFloat".concat(e)](this.cursor,!0);return this.cursor+=e/8,t}},{key:"put",value:function(e,t,n){this.maybeExpand(n/8),this._view["set".concat(t?"I":"Ui","nt").concat(n)](this.cursor,e,!0),this.cursor+=n/8,this.updateWritten()}},{key:"putI",value:function(e,t){this.put(t,!0,e)}},{key:"putU",value:function(e,t){this.put(t,!1,e)}},{key:"putF",value:function(e,t){this.maybeExpand(e/8),this._view["setFloat".concat(e)](this.cursor,t,!0),this.cursor+=e/8,this.updateWritten()}},{key:"putA",value:function(e){this.maybeExpand(e.byteLength),new Uint8Array(this._buffer,this.cursor,e.byteLength).set(e),this.cursor+=e.byteLength,this.updateWritten()}},{key:"align",value:function(e){var t=this.cursor%e;0!==t&&(this.cursor+=e-t)}},{key:"asArray",value:function(){return new Uint8Array(this._buffer.slice(0,this._written))}},{key:"written",get:function(){return this._written}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},aA6t:function(e,t,n){(function(e){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t){"use strict";var n=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,i=function e(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},e.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};n.inherits(i,r),i.getTagRule=function(){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},i.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},i.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.JsDocCommentHighlightRules=i})),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(e,t){"use strict";function n(){var e=a.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var r="/"==e.charAt(1)?2:1;return 1==r?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==r&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==r?"":"end-")+"tag-open.xml",value:e.slice(0,r)},{type:"meta.tag.tag-name.xml",value:e.substr(r)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,r("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function r(e){return[{token:"comment",regex:/\/\*/,next:[o.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[o.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}var i=e("../lib/oop"),o=e("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,s=e("./text_highlight_rules").TextHighlightRules,a="[a-zA-Z\\$_Â¡-ï¿¿][a-zA-Z\\d\\$_Â¡-ï¿¿]*",u=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),i="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[o.getStartRule("doc-start"),r("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+a+")(\\.)(prototype)(\\.)("+a+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\.)("+a+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+a+")(\\.)("+a+")(\\s*)(=)(\\s*)(function\\*?)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function\\*?)(\\s+)("+a+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:t,regex:a},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+a+")(\\.)("+a+")(\\s*)(=)(\\s*)(function\\*?)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:a},{regex:"",token:"empty",next:"no_regex"}],start:[o.getStartRule("doc-start"),r("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[r("function_arguments"),{token:"variable.parameter",regex:a},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:i},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:i},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:i},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+a+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=.+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),e&&0==e.jsx||n.call(this)),this.embedRules(o,"doc-",[o.getEndRule("no_regex")]),this.normalizeRules()};i.inherits(u,s),t.JavaScriptHighlightRules=u})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t){"use strict";var n=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var r=e.getLine(t).match(/^(\s*\})/);if(!r)return 0;var i=r[1].length,o=e.findMatchingBracket({row:t,column:i});if(!o||o.row==t)return 0;var s=this.$getIndent(e.getLine(o.row));e.replace(new n(t,0,t,i-1),s)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t){"use strict";var n=e("../../lib/oop"),r=e("../../range").Range,i=e("./fold_mode").FoldMode,o=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(o,i),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var i=this._getFoldWidgetBase(e,t,n);return!i&&this.startRegionRe.test(r)?"start":i},this.getFoldWidgetRange=function(e,t,n,r){var i,o=e.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,n);if(i=o.match(this.foldingStartMarker)){var s=i.index;if(i[1])return this.openingBracketBlock(e,i[1],n,s);var a=e.getCommentFoldRange(n,s+i[0].length,1);return a&&!a.isMultiLine()&&(r?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}if("markbegin"!==t&&(i=o.match(this.foldingStopMarker))){s=i.index+i[0].length;return i[1]?this.closingBracketBlock(e,i[1],n,s):e.getCommentFoldRange(n,s,-1)}},this.getSectionRange=function(e,t){for(var n=e.getLine(t),i=n.search(/\S/),o=t,s=n.length,a=t+=1,u=e.getLength();++t<u;){var l=(n=e.getLine(t)).search(/\S/);if(-1!==l){if(i>l)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=o)break;if(c.isMultiLine())t=c.end.row;else if(i==l)break}a=t}}return new r(o,s,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),o=e.getLength(),s=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,u=1;++n<o;){t=e.getLine(n);var l=a.exec(t);if(l&&(l[1]?u--:u++,!u))break}if(n>s)return new r(s,i,n,t.length)}}.call(o.prototype)})),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],(function(e,t){"use strict";var n=e("../lib/oop"),r=e("./text").Mode,i=e("./javascript_highlight_rules").JavaScriptHighlightRules,o=e("./matching_brace_outdent").MatchingBraceOutdent,s=e("../worker/worker_client").WorkerClient,a=e("./behaviour/cstyle").CstyleBehaviour,u=e("./folding/cstyle").FoldMode,l=function(){this.HighlightRules=i,this.$outdent=new o,this.$behaviour=new a,this.foldingRules=new u};n.inherits(l,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),i=this.getTokenizer().getLineTokens(t,e),o=i.tokens,s=i.state;if(o.length&&"comment"==o[o.length-1].type)return r;if("start"==e||"no_regex"==e)(a=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(r+=n);else if("doc-start"==e){if("start"==s||"no_regex"==s)return"";var a;(a=t.match(/^\s*(\/?)\*/))&&(a[1]&&(r+=" "),r+="* ")}return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new s(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}.call(l.prototype),t.Mode=l})),ace.require(["ace/mode/javascript"],(function(r){"object"==n(e)&&"object"==n(t)&&e&&(e.exports=r)}))}).call(this,n("RoC8")(e))},aRQd:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NoNullError=void 0;var s=n("QyX9"),a=function(){function e(e){this.node=e,this.type=s.ErrorType.SYNTAX,this.severity=s.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"null literals are not allowed."}},{key:"elaborate",value:function(){return"They're not part of the Source Â§1 specs."}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.NoNullError=a,t.default={name:"no-null",disableOn:2,checkers:{Literal:function(e){return null===e.value?[new a(e)]:[]}}}},bIKd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("XwI5");t.default=function(e,t,n){var i=this;this.checkBody=function(e){var t=!0;if(r.simple(e,{FunctionDeclaration:function(){t=!1},ArrowFunctionExpression:function(){t=!1},ReturnStatement:function(){t=!1},BreakStatement:function(){t=!1},ContinueStatement:function(){t=!1}}),t){var n=new RegExp(/^math_[a-z]+$/);if(r.simple(e,{CallExpression:function(e){"Identifier"===e.callee.type?n.test(e.callee.name)||(t=!1):t=!1}}),t){var o=new Set;r.simple(e,{VariableDeclaration:function(e){"Identifier"===e.declarations[0].id.type&&o.add(e.declarations[0].id.name)}}),i.localVar=o;var s=[],a=i.getArrayName;if(r.simple(e,{AssignmentExpression:function(e){if("Identifier"!==e.left.type||!o.has(e.left.name)){if("MemberExpression"===e.left.type){var t=a(e.left);if(o.has(t.name))return}s.push(e)}}}),1===s.length&&"MemberExpression"===s[0].left.type){var u=i.getPropertyAccess(s[0].left);if(!(0===u.length||u.length>i.counters.length)){var l=i.getPropertyAccess,c=i.outputArray;if(r.simple(e,{MemberExpression:function(e){if(a(e).name===c.name){var n=l(e);JSON.stringify(n)!==JSON.stringify(u)&&(t=!1)}}},r.make({MemberExpression:function(){}})),t){for(var h=0;h<i.counters.length&&u[h]===i.counters[h];h++)i.state++;i.state>3&&(i.state=3)}}}}}},this.getArrayName=function(e){for(var t=e;"MemberExpression"===t.type;)t=t.object;return t},this.getPropertyAccess=function(e){for(var t=[],n=!0,r=e;"MemberExpression"===r.type;){if("Identifier"!==r.property.type){n=!1;break}t.push(r.property.name),r=r.object}return n?(i.outputArray=r,t.reverse()):[]},this.program=e,this.node=t,this.counters=n,this.state=0,this.checkBody(t)}},"c+Ec":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=h();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleInternalError=t.ModuleNotFoundError=t.ModuleConnectionError=void 0;var f=n("5AhW"),d=function(e){function t(e){return n.call(this,e)}a(t,e);var n=l(t);return o(t,[{key:"explain",value:function(){return t.message}},{key:"elaborate",value:function(){return t.elaboration}}]),t}(f.RuntimeSourceError);t.ModuleConnectionError=d,d.message="Unable to get modules.",d.elaboration="You should check your Internet connection, and ensure you have used the correct module path.",t.ModuleNotFoundError=function(e){function t(e,t){var r;return(r=n.call(this,t)).moduleName=e,r}a(t,e);var n=l(t);return o(t,[{key:"explain",value:function(){return'Module "'.concat(this.moduleName,'" not found.')}},{key:"elaborate",value:function(){return"\n      You should check your import declarations, and ensure that all are valid modules.\n    "}}]),t}(f.RuntimeSourceError),t.ModuleInternalError=function(e){function t(e,t){var r;return(r=n.call(this,t)).moduleName=e,r}a(t,e);var n=l(t);return o(t,[{key:"explain",value:function(){return'Error(s) occured when executing the module "'.concat(this.moduleName,'".')}},{key:"elaborate",value:function(){return"\n      You may need to contact with the author for this module to fix this error.\n    "}}]),t}(f.RuntimeSourceError)},cZXM:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NoDotAbbreviationError=void 0;var s=n("QyX9"),a=function(){function e(e){this.node=e,this.type=s.ErrorType.SYNTAX,this.severity=s.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"Dot abbreviations are not allowed."}},{key:"elaborate",value:function(){return"Source doesn't use object-oriented programming, so you don't need any dots in your code (except decimal         points in numbers)."}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.NoDotAbbreviationError=a,t.default={name:"no-dot-abbreviation",disableOn:100,checkers:{MemberExpression:function(e){return e.computed?[]:[new a(e)]}}}},ct8n:function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n("pCvA"))},ed46:function(e,t,n){(function(e){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}!function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function e(t,n,r){"string"==typeof t?(2==arguments.length&&(r=n),e.modules[t]||(e.payloads[t]=r,e.modules[t]=null)):e.original?e.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n,r,i=function(e,t,n){if("string"==typeof t){var r=a(e,t);if(null!=r)return n&&n(),r}else if("[object Array]"===Object.prototype.toString.call(t)){for(var i=[],s=0,u=t.length;s<u;++s){var l=a(e,t[s]);if(null==l&&o.original)return;i.push(l)}return n&&n.apply(null,i)||!0}},o=function e(t,n){var r=i("",t,n);return null==r&&e.original?e.original.apply(this,arguments):r},s=function e(t,n){if(-1!==n.indexOf("!")){var r=n.split("!");return e(t,r[0])+"!"+e(t,r[1])}if("."==n.charAt(0))for(n=t.split("/").slice(0,-1).join("/")+"/"+n;-1!==n.indexOf(".")&&i!=n;){var i=n;n=n.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return n},a=function(e,n){n=s(e,n);var r=t.modules[n];if(!r){if("function"==typeof(r=t.payloads[n])){var o={},a={id:n,uri:"",exports:o,packaged:!0},u=r((function(e,t){return i(n,e,t)}),o,a);t.modules[n]=o=u||a.exports,delete t.payloads[n]}r=t.modules[n]=o||r}return r};r=e,(n="ace")&&(e[n]||(e[n]={}),r=e[n]),r.define&&r.define.packaged||(t.original=r.define,r.define=t,r.define.packaged=!0),r.require&&r.require.packaged||(o.original=r.require,r.require=o,r.require.packaged=!0)}(),ace.define("ace/lib/es6-shim",["require","exports","module"],(function(){function e(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||e(String.prototype,"startsWith",(function(e,t){return this.lastIndexOf(e,t=t||0)===t})),String.prototype.endsWith||e(String.prototype,"endsWith",(function(e,t){var n=this;(void 0===t||t>n.length)&&(t=n.length);var r=n.indexOf(e,t-=e.length);return-1!==r&&r===t})),String.prototype.repeat||e(String.prototype,"repeat",(function(e){for(var t="",n=this;e>0;)1&e&&(t+=n),(e>>=1)&&(n+=n);return t})),String.prototype.includes||e(String.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Object.assign||(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];null!=r&&Object.keys(r).forEach((function(e){t[e]=r[e]}))}return t}),Object.values||(Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}),Array.prototype.find||e(Array.prototype,"find",(function(e){for(var t=this.length,n=arguments[1],r=0;r<t;r++){var i=this[r];if(e.call(n,i,r,this))return i}})),Array.prototype.findIndex||e(Array.prototype,"findIndex",(function(e){for(var t=this.length,n=arguments[1],r=0;r<t;r++){if(e.call(n,this[r],r,this))return r}})),Array.prototype.includes||e(Array.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Array.prototype.fill||e(Array.prototype,"fill",(function(e){for(var t=this,n=t.length>>>0,r=arguments[1]>>0,i=r<0?Math.max(n+r,0):Math.min(r,n),o=arguments[2],s=void 0===o?n:o>>0,a=s<0?Math.max(n+s,0):Math.min(s,n);i<a;)t[i]=e,i++;return t})),Array.of||e(Array,"of",(function(){return Array.prototype.slice.call(arguments)}))})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],(function(e){"use strict";e("./es6-shim")})),ace.define("ace/lib/deep_copy",["require","exports","module"],(function(e,t){t.deepCopy=function e(t){if("object"!==r(t)||!t)return t;var n;if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++)n[i]=e(t[i]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var i in n={},t)n[i]=e(t[i]);return n}})),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],(function(e,t){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var n=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)t[n]=e[n]&&"object"==r(e[n])?this.copyObject(e[n]):e[n];return t},t.deepCopy=e("./deep_copy").deepCopy,t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function e(r){return e.cancel(),t=setTimeout(n,r||0),e};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){null==n&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i},t.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(e){return!1}return!0},t.skipEmptyMatch=function(e,t,n){return n&&e.codePointAt(t)>65535?2:1}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var n="object"==("undefined"==typeof navigator?"undefined":r(navigator))?navigator:{},i=(/mac|win|linux/i.exec(n.platform)||["other"])[0].toLowerCase(),o=n.userAgent||"",s=n.appName||"";t.isWin="win"==i,t.isMac="mac"==i,t.isLinux="linux"==i,t.isIE="Microsoft Internet Explorer"==s||s.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\/\d+/),t.isOpera="object"==("undefined"==typeof opera?"undefined":r(opera))&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isSafari=parseFloat(o.split(" Safari/")[1])&&!t.isChrome||void 0,t.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,t.isAIR=o.indexOf("AdobeAIR")>=0,t.isAndroid=o.indexOf("Android")>=0,t.isChromeOS=o.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t){"use strict";function n(){var e=a;a=null,e&&e.forEach((function(e){i(e[0],e[1])}))}function i(e,r,i){if("undefined"!=typeof document){if(a)if(i)n();else if(!1===i)return a.push([e,r]);if(!o){var s=i;i&&i.getRootNode&&(s=i.getRootNode())&&s!=i||(s=document);var u=s.ownerDocument||s;if(r&&t.hasCssString(r,s))return null;r&&(e+="\n/*# sourceURL=ace/css/"+r+" */");var l=t.createElement("style");l.appendChild(u.createTextNode(e)),r&&(l.id=r),s==u&&(s=t.getDocumentHead(u)),s.insertBefore(l,s.firstChild)}}}var o,s=e("./useragent");t.buildDom=function e(t,n,i){if("string"==typeof t&&t){var o=document.createTextNode(t);return n&&n.appendChild(o),o}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var s=[],a=0;a<t.length;a++){var u=e(t[a],n,i);u&&s.push(u)}return s}var l=document.createElement(t[0]),c=t[1],h=1;c&&"object"==r(c)&&!Array.isArray(c)&&(h=2);for(a=h;a<t.length;a++)e(t[a],l,i);return 2==h&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?i&&(i[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var r=n.indexOf(t);if(-1==r)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),r=!0;;){var i=n.indexOf(t);if(-1==i)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,r=0;if(n=(t=t||document).querySelectorAll("style"))for(;r<n.length;)if(n[r++].id===e)return!0},t.removeElementById=function(e,t){(t=t||document).getElementById(e)&&t.getElementById(e).remove()};var a=[];if(t.useStrictCSP=function(e){o=e,0==e?n():a||(a=[])},t.importCssString=i,t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),i=r.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",r.appendChild(n);var o=e&&e.documentElement||document&&document.documentElement;if(!o)return 0;o.appendChild(r);var s=n.offsetWidth;i.overflow="scroll";var a=n.offsetWidth;return s===a&&(a=r.clientWidth),o.removeChild(r),s-a},t.computedStyle=function(e){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!s.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,s.isChromeOS&&(t.HI_DPI=!1),"undefined"!=typeof document){var u=document.createElement("div");t.HI_DPI&&void 0!==u.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),s.isEdge||void 0===u.style.animationName||(t.HAS_CSS_ANIMATION=!0),u=null}t.translate=t.HAS_CSS_TRANSFORMS?function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t){"use strict";var n=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var r=n.getDocumentHead(),i=document.createElement("script");i.src=e,r.appendChild(i),i.onload=i.onreadystatechange=function(e,n){!n&&i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(i=i.onload=i.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t){"use strict";var n={},i=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],s=this._defaultHandlers[e];if(n.length||s){"object"==r(t)&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var a=0;a<n.length&&(n[a](t,this),!t.propagationStopped);a++);return s&&!t.defaultPrevented?s(t,this):void 0}},n._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)}},n.once=function(e,t){var n=this;if(this.on(e,(function r(){n.off(e,r),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},n.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var o=i.indexOf(t);-1!=o&&i.splice(o,1)}n[e]=t},n.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var r=n._disabled_[e];if(n[e]==t)r&&this.setDefaultHandler(e,r.pop());else if(r){var i=r.indexOf(t);-1!=i&&r.splice(i,1)}}},n.on=n.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),-1==r.indexOf(t)&&r[n?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},n.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=n})),ace.define("ace/lib/report_error",["require","exports","module"],(function(e,t){t.reportError=function(e,t){var n=new Error(e);n.data=t,"object"==("undefined"==typeof console?"undefined":r(console))&&console.error&&console.error(n),setTimeout((function(){throw n}))}})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error"],(function(e,t){function n(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}var r,i=e("./oop"),o=e("./event_emitter").EventEmitter,s=e("./report_error").reportError,a={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var r=this.$options[e];if(!r)return n('misspelled option "'+e+'"');if(r.forwardTo)return this[r.forwardTo]&&this[r.forwardTo].setOption(e,t);r.handlesSet||(this["$"+e]=t),r&&r.set&&r.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:n('misspelled option "'+e+'"')}},u=function(){function e(){this.$defaultOptions={}}return e.prototype.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var r=n[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)})),i.implement(e,a),this},e.prototype.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},e.prototype.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},e.prototype.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},e.prototype.setMessages=function(e){r=e},e.prototype.nls=function(e,t){r&&!r[e]&&n("No message found for '"+e+"' in the provided messages, falling back to default English message.");var i=r&&r[e]||e;return t&&(i=i.replace(/\$(\$|[\d]+)/g,(function(e,n){return"$"==n?"$":t[n]}))),i},e}();u.prototype.warn=n,u.prototype.reportError=s,i.implement(u.prototype,o),t.AppConfig=u})),ace.define("ace/theme/textmate-css",["require","exports","module"],(function(e,t,n){n.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],(function(e,t){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText=e("./textmate-css"),t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],(function(e,t,n){var r=e("./lib/lang"),i=e("./lib/net"),o=e("./lib/dom"),s=e("./lib/app_config").AppConfig;n.exports=t=new s;var a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},t.set=function(e,t){if(a.hasOwnProperty(e))a[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&o.useStrictCSP(t)},t.all=function(){return r.copyObject(a)},t.$modes={},t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var n=e.split("/"),r="snippets"==(t=t||n[n.length-2]||"")?"/":"-",i=n[n.length-1];if("worker"==t&&"-"==r){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");i=i.replace(o,"")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var s=a[t+"Path"];return null==s?s=a.basePath:"/"==r&&(t=r=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+r+i+this.get("suffix")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t};var u;t.setLoader=function(e){u=e},t.dynamicModules=Object.create(null),t.$loading={},t.$loaded={},t.loadModule=function(n,r){var o;if(Array.isArray(n))var s=n[0],a=n[1];else if("string"==typeof n)a=n;var c=function(n){if(n&&!t.$loading[a])return r&&r(n);if(t.$loading[a]||(t.$loading[a]=[]),t.$loading[a].push(r),!(t.$loading[a].length>1)){var o=function(){!function(t,n){"ace/theme/textmate"===t||"./theme/textmate"===t?n(null,e("./theme/textmate")):u?u(t,n):console.error("loader is not configured")}(a,(function(e,n){n&&(t.$loaded[a]=n),t._emit("load.module",{name:a,module:n});var r=t.$loading[a];t.$loading[a]=null,r.forEach((function(e){e&&e(n)}))}))};if(!t.get("packaged"))return o();i.loadScript(t.moduleUrl(a,s),o),l()}};if(t.dynamicModules[a])t.dynamicModules[a]().then((function(e){c(e.default?e.default:e)}));else{try{o=this.$require(a)}catch(e){}c(o||t.$loaded[a])}},t.$require=function(e){if("function"==typeof n.require){return n.require(e)}},t.setModuleLoader=function(e,n){t.dynamicModules[e]=n};var l=function(){a.basePath||a.workerPath||a.modePath||a.themePath||Object.keys(a.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),l=function(){})};t.version="1.32.7"})),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],(function(e,t,r){"use strict";function i(t){if(s&&s.document){o.set("packaged",t||e.packaged||r.packaged||s.define&&n("Z66Z").packaged);var i={},a="",u=document.currentScript||document._currentScript,l=u&&u.ownerDocument||document;u&&u.src&&(a=u.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var c,h=l.getElementsByTagName("script"),p=0;p<h.length;p++){var f=h[p],d=f.src||f.getAttribute("src");if(d){for(var m=f.attributes,g=0,y=m.length;g<y;g++){var v=m[g];0===v.name.indexOf("data-ace-")&&(i[(c=v.name.replace(/^data-ace-/,""),c.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=v.value)}var b=d.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);b&&(a=b[1])}}for(var x in a&&(i.base=i.base||a,i.packaged=!0),i.basePath=i.base,i.workerPath=i.workerPath||i.base,i.modePath=i.modePath||i.base,i.themePath=i.themePath||i.base,delete i.base,i)void 0!==i[x]&&o.set(x,i[x])}}e("./lib/fixoldbrowsers");var o=e("./config");o.setLoader((function(t,n){e([t],(function(e){n(null,e)}))}));var s=function(){return this||"undefined"!=typeof window&&window}();r.exports=function(t){o.init=i,o.$require=e,t.require=e,t.define=n("Z66Z")},i(!0)})),ace.define("ace/range",["require","exports","module"],(function(e,t){"use strict";var n=function(){function e(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}}return e.prototype.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},e.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},e.prototype.contains=function(e,t){return 0==this.compare(e,t)},e.prototype.compareRange=function(e){var t,n=e.end,r=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(r.row,r.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(r.row,r.column))?-1:1==t?42:0},e.prototype.comparePoint=function(e){return this.compare(e.row,e.column)},e.prototype.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},e.prototype.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},e.prototype.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},e.prototype.isStart=function(e,t){return this.start.row==e&&this.start.column==t},e.prototype.setStart=function(e,t){"object"==r(e)?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},e.prototype.setEnd=function(e,t){"object"==r(e)?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},e.prototype.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},e.prototype.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},e.prototype.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},e.prototype.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},e.prototype.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},e.prototype.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},e.prototype.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},e.prototype.clipRows=function(t,n){if(this.end.row>n)var r={row:n+1,column:0};else if(this.end.row<t)r={row:t,column:0};if(this.start.row>n)var i={row:n+1,column:0};else if(this.start.row<t)i={row:t,column:0};return e.fromPoints(i||this.start,r||this.end)},e.prototype.extend=function(t,n){var r=this.compare(t,n);if(0==r)return this;if(-1==r)var i={row:t,column:n};else var o={row:t,column:n};return e.fromPoints(i||this.start,o||this.end)},e.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},e.prototype.isMultiLine=function(){return this.start.row!==this.end.row},e.prototype.clone=function(){return e.fromPoints(this.start,this.end)},e.prototype.collapseRows=function(){return new e(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},e.prototype.toScreenRange=function(t){var n=t.documentToScreenPosition(this.start),r=t.documentToScreenPosition(this.end);return new e(n.row,n.column,r.row,r.column)},e.prototype.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t},e}();n.fromPoints=function(e,t){return new n(e.row,e.column,t.row,t.column)},n.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=n})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t){"use strict";var n=e("./oop"),r=function(){var e,t,r={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in r.PRINTABLE_KEYS[173]="-",r.FUNCTION_KEYS)e=r.FUNCTION_KEYS[t].toLowerCase(),r[e]=parseInt(t,10);for(t in r.PRINTABLE_KEYS)e=r.PRINTABLE_KEYS[t].toLowerCase(),r[e]=parseInt(t,10);return n.mixin(r,r.MODIFIER_KEYS),n.mixin(r,r.PRINTABLE_KEYS),n.mixin(r,r.FUNCTION_KEYS),r.enter=r.return,r.escape=r.esc,r.del=r.delete,function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)r.KEY_MODS[t]=e.filter((function(e){return t&r.KEY_MODS[e]})).join("-")+"-"}(),r.KEY_MODS[0]="",r.KEY_MODS[-1]="input-",r}();n.mixin(t,r),t.default=t,t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t){"use strict";function n(){return null==a&&function(){a=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){return a={passive:!1},!0}})}catch(e){}}(),a}function i(e,t,n){this.elem=e,this.type=t,this.callback=n}function o(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function s(){c=Object.create(null)}var a,u=e("./keys"),l=e("./useragent"),c=null,h=0;i.prototype.destroy=function(){f(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var p=t.addListener=function(e,t,r,o){e.addEventListener(t,r,n()),o&&o.$toDestroy.push(new i(e,t,r))},f=t.removeListener=function(e,t,r){e.removeEventListener(t,r,n())};if(t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||l.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){function r(e){t&&t(e),n&&n(e),f(i,"mousemove",t),f(i,"mouseup",r),f(i,"dragstart",r)}var i=e&&e.ownerDocument||document;return p(i,"mousemove",t),p(i,"mouseup",r),p(i,"dragstart",r),r},t.addMouseWheelListener=function(e,t,n){p(e,"wheel",(function(e){var n=e.deltaX||0,r=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.15*n,e.wheelY=.15*r;break;case e.DOM_DELTA_LINE:e.wheelX=15*n,e.wheelY=15*r;break;case e.DOM_DELTA_PAGE:e.wheelX=150*n,e.wheelY=150*r}t(e)}),n)},t.addMultiMouseDownListener=function(e,n,r,i,o){function s(e){if(0!==t.getButton(e)?h=0:e.detail>1?++h>4&&(h=1):h=1,l.isIE){var o=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-u)>5;c&&!o||(h=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[h-1]||600),1==h&&(a=e.clientX,u=e.clientY)}if(e._clicks=h,r[i]("mousedown",e),h>4)h=0;else if(h>1)return r[i](f[h],e)}var a,u,c,h=0,f={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach((function(e){p(e,"mousedown",s,o)}))},t.getModifierString=function(e){return u.KEY_MODS[o(e)]},t.addCommandKeyListener=function(e,n,r){var i=null;p(e,"keydown",(function(e){c[e.keyCode]=(c[e.keyCode]||0)+1;var t=function(e,t,n){var r=o(t);if(!l.isMac&&c){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(r|=8),c.altGr){if(3==(3&r))return;c.altGr=0}if(18===n||17===n){var i=t.location;17===n&&1===i?1==c[n]&&(h=t.timeStamp):18===n&&3===r&&2===i&&t.timeStamp-h<50&&(c.altGr=!0)}}if(n in u.MODIFIER_KEYS&&(n=-1),r||13!==n||3!==t.location||(e(t,r,-n),!t.defaultPrevented)){if(l.isChromeOS&&8&r){if(e(t,r,n),t.defaultPrevented)return;r&=-9}return!!(r||n in u.FUNCTION_KEYS||n in u.PRINTABLE_KEYS)&&e(t,r,n)}}(n,e,e.keyCode);return i=e.defaultPrevented,t}),r),p(e,"keypress",(function(e){i&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),i=null)}),r),p(e,"keyup",(function(e){c[e.keyCode]=null}),r),c||(s(),p(window,"focus",s))},"object"==("undefined"==typeof window?"undefined":r(window))&&window.postMessage&&!l.isOldIE){var d=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+d++;p(n,"message",(function i(o){o.data==r&&(t.stopPropagation(o),f(n,"message",i),e())})),n.postMessage(r,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==("undefined"==typeof window?"undefined":r(window))&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame=t.nextFrame?t.nextFrame.bind(window):function(e){setTimeout(e,17)}})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){"use strict";var r;n.exports={lineMode:!1,pasteCancelled:function(){return!!(r&&r>Date.now()-50)||(r=!1)},cancel:function(){r=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t){"use strict";var n=e("../lib/event"),r=e("../config").nls,i=e("../lib/useragent"),o=e("../lib/dom"),s=e("../lib/lang"),a=e("../clipboard"),u=i.isChrome<18,l=i.isIE,c=i.isChrome>63,h=400,p=e("../lib/keys"),f=p.KEY_MODS,d=i.isIOS,m=d?/\s/:/\n/,g=i.isMobile;t.TextInput=function(e,t){function y(){A=!0,b.blur(),b.focus(),A=!1}function v(){clearTimeout(H),H=setTimeout((function(){k&&(b.style.cssText=k,k=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}var b=o.createElement("textarea");b.className="ace_text-input",b.setAttribute("wrap","off"),b.setAttribute("autocorrect","off"),b.setAttribute("autocapitalize","off"),b.setAttribute("spellcheck","false"),b.style.opacity="0",e.insertBefore(b,e.firstChild);var x=!1,w=!1,_=!1,S=!1,k="";g||(b.style.fontSize="1px");var T=!1,A=!1,E="",C=0,L=0,I=0,R=Number.MAX_SAFE_INTEGER,M=Number.MIN_SAFE_INTEGER,O=0;try{var N=document.activeElement===b}catch(e){}this.setNumberOfExtraLines=function(e){R=Number.MAX_SAFE_INTEGER,M=Number.MIN_SAFE_INTEGER,O=e<0?0:e},this.setAriaOptions=function(e){(e.activeDescendant?(b.setAttribute("aria-haspopup","true"),b.setAttribute("aria-autocomplete",e.inline?"both":"list"),b.setAttribute("aria-activedescendant",e.activeDescendant)):(b.setAttribute("aria-haspopup","false"),b.setAttribute("aria-autocomplete","both"),b.removeAttribute("aria-activedescendant")),e.role&&b.setAttribute("role",e.role),e.setLabel)&&(b.setAttribute("aria-roledescription",r("editor")),t.session&&b.setAttribute("aria-label",r("Cursor at row $0",[t.session.selection.cursor.row+1])))},this.setAriaOptions({role:"textbox"}),n.addListener(b,"blur",(function(e){A||(t.onBlur(e),N=!1)}),t),n.addListener(b,"focus",(function(e){if(!A){if(N=!0,i.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),i.isEdge?setTimeout(P):P()}}),t),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:t.renderer.enableKeyboardAccessibility}),k||c||"browser"==this.$focusScroll)return b.focus({preventScroll:!0});var e=b.style.top;b.style.position="fixed",b.style.top="0px";try{var n=0!=b.getBoundingClientRect().top}catch(e){return}var r=[];if(n)for(var i=b.parentElement;i&&1==i.nodeType;)r.push(i),i.setAttribute("ace_nocontext","true"),i=!i.parentElement&&i.getRootNode?i.getRootNode().host:i.parentElement;b.focus({preventScroll:!0}),n&&r.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){b.style.position="","0px"==b.style.top&&(b.style.top=e)}),0)},this.blur=function(){b.blur()},this.isFocused=function(){return N},t.on("beforeEndOperation",(function(){var e=t.curOp,n=e&&e.command&&e.command.name;"insertstring"!=n&&(_&&(n&&(e.docChanged||e.selectionChanged))&&(E=b.value="",q()),P())}));var D=function(e,n){for(var r=n,i=1;i<=e-R&&i<2*O+1;i++)r+=t.session.getLine(e-i).length+1;return r},P=d?function(e){if(N&&(!x||e)&&!S){e||(e="");var n="\n ab"+e+"cde fg\n";n!=b.value&&(b.value=E=n);var r=4+(e.length||(t.selection.isEmpty()?0:1));4==C&&L==r||b.setSelectionRange(4,r),C=4,L=r}}:function(){if(!_&&!S&&(N||$)){_=!0;var e=0,n=0,r="";if(t.session){var i=t.selection,o=i.getRange(),s=i.cursor.row;s===M+1?M=(R=M+1)+2*O:s===R-1?R=(M=R-1)-2*O:(s<R-1||s>M+1)&&(R=s>O?s-O:0,M=s>O?s+O:2*O);for(var a=[],u=R;u<=M;u++)a.push(t.session.getLine(u));if(r=a.join("\n"),e=D(o.start.row,o.start.column),n=D(o.end.row,o.end.column),o.start.row<R){var l=t.session.getLine(R-1);e=o.start.row<R-1?0:e,n+=l.length+1,r=l+"\n"+r}else if(o.end.row>M){var c=t.session.getLine(M+1);n=o.end.row>M+1?c.length:o.end.column,n+=r.length+1,r=r+"\n"+c}else g&&s>0&&(r="\n"+r,n+=1,e+=1);r.length>h&&(e<h&&n<h?r=r.slice(0,h):(r="\n",e==n?e=n=0:(e=0,n=1)));var p=r+"\n\n";p!=E&&(b.value=E=p,C=L=p.length)}if($&&(C=b.selectionStart,L=b.selectionEnd),L!=n||C!=e||b.selectionEnd!=L)try{b.setSelectionRange(e,n),C=e,L=n}catch(e){}_=!1}};this.resetSelection=P,N&&t.onFocus();var F=null;this.setInputHandler=function(e){F=e},this.getInputHandler=function(){return F};var $=!1,V=function(e,n){if($&&($=!1),w)return P(),e&&t.onPaste(e),w=!1,"";for(var r=b.selectionStart,o=b.selectionEnd,s=C,a=E.length-L,u=e,l=e.length-r,c=e.length-o,h=0;s>0&&E[h]==e[h];)h++,s--;for(u=u.slice(h),h=1;a>0&&E.length-h>C-1&&E[E.length-h]==e[e.length-h];)h++,a--;l-=h-1,c-=h-1;var p=u.length-h+1;if(p<0&&(s=-p,p=0),u=u.slice(0,p),!(n||u||l||s||a||c))return"";S=!0;var f=!1;return i.isAndroid&&". "==u&&(u="  ",f=!0),u&&!s&&!a&&!l&&!c||T?t.onTextInput(u):t.onTextInput(u,{extendLeft:s,extendRight:a,restoreStart:l,restoreEnd:c}),S=!1,E=e,C=r,L=o,I=c,f?"\n":u},B=function(e){if(_)return K();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var n=b.value,r=V(n,!0);(n.length>500||m.test(r)||g&&C<1&&C==L)&&P()},z=function e(t,n,r){var i=t.clipboardData||window.clipboardData;if(i&&!u){var o=l||r?"Text":"text/plain";try{return n?!1!==i.setData(o,n):i.getData(o)}catch(t){if(!r)return e(t,n,!0)}}},j=function(e,r){var i=t.getCopyText();if(!i)return n.preventDefault(e);z(e,i)?(d&&(P(i),x=i,setTimeout((function(){x=!1}),10)),r?t.onCut():t.onCopy(),n.preventDefault(e)):(x=!0,b.value=i,b.select(),setTimeout((function(){x=!1,P(),r?t.onCut():t.onCopy()})))},U=function(e){j(e,!0)},G=function(e){j(e,!1)},W=function(e){var r=z(e);a.pasteCancelled()||("string"==typeof r?(r&&t.onPaste(r,e),i.isIE&&setTimeout(P),n.preventDefault(e)):(b.value="",w=!0))};n.addCommandKeyListener(b,(function(e,n,r){if(!_)return t.onCommandKey(e,n,r)}),t),n.addListener(b,"select",(function(){_||(x?x=!1:!function(e){return 0===e.selectionStart&&e.selectionEnd>=E.length&&e.value===E&&E&&e.selectionEnd!==L}(b)?g&&b.selectionStart!=C&&P():(t.selectAll(),P()))}),t),n.addListener(b,"input",B,t),n.addListener(b,"cut",U,t),n.addListener(b,"copy",G,t),n.addListener(b,"paste",W,t),"oncut"in b&&"oncopy"in b&&"onpaste"in b||n.addListener(e,"keydown",(function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:G(e);break;case 86:W(e);break;case 88:U(e)}}),t);var H,K=function(){if(_&&t.onCompositionUpdate&&!t.$readOnly){if(T)return y();if(_.useTextareaForIME)t.onCompositionUpdate(b.value);else V(b.value),_.markerRange&&(_.context&&(_.markerRange.start.column=_.selectionStart=_.context.compositionStartOffset),_.markerRange.end.column=_.markerRange.start.column+L-_.selectionStart+I)}},q=function(e){t.onCompositionEnd&&!t.$readOnly&&(_=!1,t.onCompositionEnd(),t.off("mousedown",y),e&&B())},X=s.delayedCall(K,50).schedule.bind(null,null);n.addListener(b,"compositionstart",(function(e){if(!_&&t.onCompositionStart&&!t.$readOnly&&(_={},!T)){e.data&&(_.useTextareaForIME=!1),setTimeout(K,0),t._signal("compositionStart"),t.on("mousedown",y);var n=t.getSelectionRange();n.end.row=n.start.row,n.end.column=n.start.column,_.markerRange=n,_.selectionStart=C,t.onCompositionStart(_),_.useTextareaForIME?(E=b.value="",C=0,L=0):(b.msGetInputContext&&(_.context=b.msGetInputContext()),b.getInputContext&&(_.context=b.getInputContext()))}}),t),n.addListener(b,"compositionupdate",K,t),n.addListener(b,"keyup",(function(e){27==e.keyCode&&b.value.length<b.selectionStart&&(_||(E=b.value),C=L=-1,P()),X()}),t),n.addListener(b,"keydown",X,t),n.addListener(b,"compositionend",q,t),this.getElement=function(){return b},this.setCommandMode=function(e){T=e,b.readOnly=!1},this.setReadOnly=function(e){T||(b.readOnly=e)},this.setCopyWithEmptySelection=function(){},this.onContextMenu=function(e){$=!0,P(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,r){k||(k=b.style.cssText),b.style.cssText=(r?"z-index:100000;":"")+(i.isIE?"opacity:0.1;":"")+"text-indent: -"+(C+L)*t.renderer.characterWidth*.5+"px;";var s=t.container.getBoundingClientRect(),a=o.computedStyle(t.container),u=s.top+(parseInt(a.borderTopWidth)||0),l=s.left+(parseInt(s.borderLeftWidth)||0),c=s.bottom-u-b.clientHeight-2,h=function(e){o.translate(b,e.clientX-l-2,Math.min(e.clientY-u-2,c))};h(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(H),i.isWin&&n.capture(t.container,h,v))},this.onContextMenuClose=v;var Y=function(e){t.textInput.onContextMenu(e),v()};n.addListener(b,"mouseup",Y,t),n.addListener(b,"mousedown",(function(e){e.preventDefault(),v()}),t),n.addListener(t.renderer.scroller,"contextmenu",Y,t),n.addListener(b,"contextmenu",Y,t),d&&function(e,t,n){var r=null,i=!1;n.addEventListener("keydown",(function(){r&&clearTimeout(r),i=!0}),!0),n.addEventListener("keyup",(function(){r=setTimeout((function(){i=!1}),100)}),!0);var o=function(){if(document.activeElement===n&&!(i||_||t.$mouseHandler.isMousePressed||x)){var e=n.selectionStart,r=n.selectionEnd,o=null,s=0;if(0==e?o=p.up:1==e?o=p.home:r>L&&"\n"==E[r]?o=p.end:e<C&&" "==E[e-1]?(o=p.left,s=f.option):e<C||e==C&&L!=C&&e==r?o=p.left:r>L&&E.slice(0,r).split("\n").length>2?o=p.down:r>L&&" "==E[r-1]?(o=p.right,s=f.option):(r>L||r==L&&L!=C&&e==r)&&(o=p.right),e!==r&&(s|=f.shift),o){if(!t.onCommandKey({},s,o)&&t.commands){o=p.keyCodeToString(o);var a=t.commands.findKeyCommand(s,o);a&&t.execCommand(a)}C=e,L=r,P("")}}};document.addEventListener("selectionchange",o),t.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}(0,t,b),this.destroy=function(){b.parentElement&&b.parentElement.removeChild(b)}},t.$setUserAgentForTests=function(e,t){g=e,d=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t){"use strict";function n(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var r=e("../lib/useragent"),i=function(){function e(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}return e.prototype.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,o=e.getButton();return 0!==o?((i.getSelectionRange().isEmpty()||1==o)&&i.selection.moveToPosition(n),void(2==o&&(i.textInput.onContextMenu(e.domEvent),r.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||i.isFocused()||(i.focus(),!this.$focusTimeout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},e.prototype.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.setStyle("ace_selecting"),this.setState("select"))},e.prototype.select=function(){var e,t=this.editor,r=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(r);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var o=n(this.$clickSelection,r);r=o.cursor,e=o.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(r),t.renderer.scrollCursorIntoView()},e.prototype.extendSelectionBy=function(e){var t,r=this.editor,i=r.renderer.screenToTextCoordinates(this.x,this.y),o=r.selection[e](i.row,i.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(o.start),a=this.$clickSelection.comparePoint(o.end);if(-1==s&&a<=0)t=this.$clickSelection.end,o.end.row==i.row&&o.end.column==i.column||(i=o.start);else if(1==a&&s>=0)t=this.$clickSelection.start,o.start.row==i.row&&o.start.column==i.column||(i=o.end);else if(-1==s&&1==a)i=o.end,t=o.start;else{var u=n(this.$clickSelection,i);i=u.cursor,t=u.anchor}r.selection.setSelectionAnchor(t.row,t.column)}r.selection.selectToPosition(i),r.renderer.scrollCursorIntoView()},e.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},e.prototype.focusWait=function(){var e,t,n=(e=this.mousedownEvent.y,t=this.y,Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(t-e,2))),r=Date.now();(n>0||r-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},e.prototype.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session.getBracketRange(t);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=r,this.select()},e.prototype.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},e.prototype.onQuadClick=function(){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},e.prototype.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,r=e.domEvent.timeStamp,i=r-n.t,o=i?e.wheelX/i:n.vx,s=i?e.wheelY/i:n.vy;i<550&&(o=(o+n.vx)/2,s=(s+n.vy)/2);var a=Math.abs(o/s),u=!1;if(a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(u=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(u=!0),u)n.allowed=r;else if(r-n.allowed<550){Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(s)<=1.5*Math.abs(n.vy)?(u=!0,n.allowed=r):n.allowed=0}return n.t=r,n.vx=o,n.vy=s,u?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},e}();i.prototype.selectEnd=i.prototype.selectByLinesEnd,i.prototype.selectAllEnd=i.prototype.selectByLinesEnd,i.prototype.selectByWordsEnd=i.prototype.selectByLinesEnd,t.DefaultHandlers=i})),ace.define("ace/lib/scroll",["require","exports","module"],(function(e,t){t.preventParentScroll=function(e){e.stopPropagation();var t=e.currentTarget;t.scrollHeight>t.clientHeight||e.preventDefault()}})),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],(function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=e("./lib/dom"),s=(e("./lib/event"),e("./range").Range),a=e("./lib/scroll").preventParentScroll,u="ace_tooltip",l=function(){function e(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}return e.prototype.$init=function(){return this.$element=o.createElement("div"),this.$element.className=u,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},e.prototype.getElement=function(){return this.$element||this.$init()},e.prototype.setText=function(e){this.getElement().textContent=e},e.prototype.setHtml=function(e){this.getElement().innerHTML=e},e.prototype.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},e.prototype.setClassName=function(e){o.addCssClass(this.getElement(),e)},e.prototype.setTheme=function(e){this.$element.className=u+" "+(e.isDark?"ace_dark ":"")+(e.cssClass||"")},e.prototype.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},e.prototype.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=u,this.isOpen=!1)},e.prototype.getHeight=function(){return this.getElement().offsetHeight},e.prototype.getWidth=function(){return this.getElement().offsetWidth},e.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},e}(),c=new(function(){function e(){this.popups=[]}return e.prototype.addPopup=function(e){this.popups.push(e),this.updatePopups()},e.prototype.removePopup=function(e){var t=this.popups.indexOf(e);-1!==t&&(this.popups.splice(t,1),this.updatePopups())},e.prototype.updatePopups=function(){var e,t,n,r;this.popups.sort((function(e,t){return t.priority-e.priority}));var o=[];try{for(var s=i(this.popups),a=s.next();!a.done;a=s.next()){var u=a.value,l=!0;try{for(var c=(n=void 0,i(o)),h=c.next();!h.done;h=c.next()){if(this.doPopupsOverlap(h.value,u)){l=!1;break}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}l?o.push(u):u.hide()}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}},e.prototype.doPopupsOverlap=function(e,t){var n=e.getElement().getBoundingClientRect(),r=t.getElement().getBoundingClientRect();return n.left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top},e}());t.popupManager=c,t.Tooltip=l;var h=function(e){function t(t){void 0===t&&(t=document.body);var n=e.call(this,t)||this;n.timeout=void 0,n.lastT=0,n.idleTime=350,n.lastEvent=void 0,n.onMouseOut=n.onMouseOut.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.waitForHover=n.waitForHover.bind(n),n.hide=n.hide.bind(n);var r=n.getElement();return r.style.whiteSpace="pre-wrap",r.style.pointerEvents="auto",r.addEventListener("mouseout",n.onMouseOut),r.tabIndex=-1,r.addEventListener("blur",function(){r.contains(document.activeElement)||this.hide()}.bind(n)),r.addEventListener("wheel",a),n}return r(t,e),t.prototype.addToEditor=function(e){e.on("mousemove",this.onMouseMove),e.on("mousedown",this.hide),e.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},t.prototype.removeFromEditor=function(e){e.off("mousemove",this.onMouseMove),e.off("mousedown",this.hide),e.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},t.prototype.onMouseMove=function(e,t){this.lastEvent=e,this.lastT=Date.now();var n=t.$mouseHandler.isMousePressed;if(this.isOpen){var r=this.lastEvent&&this.lastEvent.getDocumentPosition();this.range&&this.range.contains(r.row,r.column)&&!n&&!this.isOutsideOfText(this.lastEvent)||this.hide()}this.timeout||n||(this.lastEvent=e,this.timeout=setTimeout(this.waitForHover,this.idleTime))},t.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var e=Date.now()-this.lastT;this.idleTime-e>10?this.timeout=setTimeout(this.waitForHover,this.idleTime-e):(this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor))},t.prototype.isOutsideOfText=function(e){var t=e.editor,n=e.getDocumentPosition(),r=t.session.getLine(n.row);if(n.column==r.length){var i=t.renderer.pixelToScreenCoordinates(e.clientX,e.clientY),o=t.session.documentToScreenPosition(n.row,n.column);if(o.column!=i.column||o.row!=i.row)return!0}return!1},t.prototype.setDataProvider=function(e){this.$gatherData=e},t.prototype.showForRange=function(e,t,n,r){if(!(r&&r!=this.lastEvent||this.isOpen&&document.activeElement==this.getElement())){var i=e.renderer;this.isOpen||(c.addPopup(this),this.$registerCloseEvents(),this.setTheme(i.theme)),this.isOpen=!0,this.addMarker(t,e.session),this.range=s.fromPoints(t.start,t.end);var o=i.textToScreenCoordinates(t.start.row,t.start.column),a=i.scroller.getBoundingClientRect();o.pageX<a.left&&(o.pageX=a.left);var u=this.getElement();u.innerHTML="",u.appendChild(n),u.style.maxHeight="",u.style.display="block";var l=u.clientWidth,h=window.innerHeight-o.pageY-i.lineHeight,p=!0;o.pageY-u.clientHeight<0&&o.pageY<h&&(p=!1),u.style.maxHeight=(p?o.pageY:h)-10+"px",u.style.top=p?"":o.pageY+i.lineHeight+"px",u.style.bottom=p?window.innerHeight-o.pageY+"px":"",u.style.left=Math.min(o.pageX,window.innerWidth-l-10)+"px"}},t.prototype.addMarker=function(e,t){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=t,this.marker=t&&t.addMarker(e,"ace_highlight-marker","text")},t.prototype.hide=function(e){(e||document.activeElement!=this.getElement())&&(e&&e.target&&("keydown"!=e.type||e.ctrlKey||e.metaKey)&&this.$element.contains(e.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,c.removePopup(this))))},t.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},t.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},t.prototype.onMouseOut=function(e){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&e.relatedTarget&&!this.getElement().contains(e.relatedTarget)&&(e&&e.currentTarget.contains(e.relatedTarget)||e.relatedTarget.classList.contains("ace_content")||this.hide())},t}(l);t.HoverTooltip=h})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],(function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=e("../lib/dom"),s=e("../lib/event"),a=e("../tooltip").Tooltip,u=e("../config").nls;t.GutterHandler=function(e){function t(){r&&(r=clearTimeout(r)),c.isOpen&&(c.hideTooltip(),a.off("mousewheel",t))}function n(e){c.setPosition(e.x,e.y)}var r,i,a=e.editor,u=a.renderer.$gutterLayer,c=new l(a);e.editor.setDefaultHandler("guttermousedown",(function(t){if(a.isFocused()&&0==t.getButton()&&"foldWidgets"!=u.getRegion(t)){var n=t.getDocumentPosition().row,r=a.session.selection;if(t.getShiftKey())r.selectTo(n,0);else{if(2==t.domEvent.detail)return a.selectAll(),t.preventDefault();e.$clickSelection=a.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(s){if(o.hasCssClass(s.domEvent.target||s.domEvent.srcElement,"ace_fold-widget"))return t();c.isOpen&&e.$tooltipFollowsMouse&&n(s),i=s,r||(r=setTimeout((function(){r=null,i&&!e.isMousePressed?function(){var r=i.getDocumentPosition().row;if(r==a.session.getLength()){var o=a.renderer.pixelToScreenCoordinates(0,i.y).row,s=i.$pos;if(o>a.session.documentToScreenRow(s.row,s.column))return t()}if(c.showTooltip(r),c.isOpen)if(a.on("mousewheel",t),e.$tooltipFollowsMouse)n(i);else{var l=i.getGutterRow(),h=u.$lines.get(l);if(h){var p=h.element.querySelector(".ace_gutter_annotation").getBoundingClientRect(),f=c.getElement().style;f.left=p.right+"px",f.top=p.bottom+"px"}else n(i)}}():t()}),50))})),s.addListener(a.renderer.$gutter,"mouseout",(function(){i=null,c.isOpen&&!r&&(r=setTimeout((function(){r=null,t()}),50))}),a),a.on("changeSession",t),a.on("input",t)};var l=function(e){function t(t){var n=e.call(this,t.container)||this;return n.editor=t,n}return r(t,e),t.prototype.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),o=this.getHeight();(e+=15)+i>n&&(e-=e+i-n),(t+=15)+o>r&&(t-=20+o),a.prototype.setPosition.call(this,e,t)},Object.defineProperty(t,"annotationLabels",{get:function(){return{error:{singular:u("error"),plural:u("errors")},warning:{singular:u("warning"),plural:u("warnings")},info:{singular:u("information message"),plural:u("information messages")}}},enumerable:!1,configurable:!0}),t.prototype.showTooltip=function(e){var n,r=this.editor.renderer.$gutterLayer,i=r.$annotations[e];n=i?{text:Array.from(i.text),type:Array.from(i.type)}:{text:[],type:[]};var o=r.session.getFoldLine(e);if(o&&r.$showFoldedAnnotations){for(var s,a={error:[],warning:[],info:[]},u=e+1;u<=o.end.row;u++)if(r.$annotations[u])for(var l=0;l<r.$annotations[u].text.length;l++){var c=r.$annotations[u].type[l];a[c].push(r.$annotations[u].text[l]),"error"!==c?"warning"!==c||(s="warning_fold"):s="error_fold"}if("error_fold"===s||"warning_fold"===s){var h="".concat(t.annotationsToSummaryString(a)," in folded code.");n.text.push(h),n.type.push(s)}}if(0===n.text.length)return this.hide();var p={error:[],warning:[],info:[]},f=r.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";for(u=0;u<n.text.length;u++){var d="<span class='ace_".concat(n.type[u]," ").concat(f,"' aria-label='").concat(t.annotationLabels[n.type[u].replace("_fold","")].singular,"' role=img> </span> ").concat(n.text[u]);p[n.type[u].replace("_fold","")].push(d)}var m=[].concat(p.error,p.warning,p.info).join("<br>");this.setHtml(m),this.$element.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},t.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},t.annotationsToSummaryString=function(e){var n,r,o=[];try{for(var s=i(["error","warning","info"]),a=s.next();!a.done;a=s.next()){var u=a.value;if(e[u].length){var l=1===e[u].length?t.annotationLabels[u].singular:t.annotationLabels[u].plural;o.push("".concat(e[u].length," ").concat(l))}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o.join(", ")},t}(a);t.GutterTooltip=l})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t){"use strict";var n=e("../lib/event"),r=e("../lib/useragent"),i=function(){function e(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return e.prototype.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},e.prototype.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},e.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},e.prototype.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},e.prototype.getGutterRow=function(){var e=this.getDocumentPosition().row;return this.editor.session.documentToScreenRow(e,0)-this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0)},e.prototype.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},e.prototype.getButton=function(){return n.getButton(this.domEvent)},e.prototype.getShiftKey=function(){return this.domEvent.shiftKey},e.prototype.getAccelKey=function(){return r.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},e}();t.MouseEvent=i})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t){"use strict";function n(e){function t(){var e=v;(function(e,t){var n=Date.now();_&&t&&e.row==t.row&&t&&e.column==t.column?r(S.x,S.y,d,m)>5?_=null:n-_>=200&&(h.renderer.scrollCursorIntoView(),_=null):(h.moveCursorToPosition(e),_=n,S={x:d,y:m})})(v=h.renderer.screenToTextCoordinates(d,m),e),function(e,t){var n=Date.now(),r=h.renderer.layerConfig.lineHeight,i=h.renderer.layerConfig.characterWidth,o=h.renderer.scroller.getBoundingClientRect(),s={x:{left:d-o.left,right:o.right-d},y:{top:m-o.top,bottom:o.bottom-m}},a=Math.min(s.x.left,s.x.right),u=Math.min(s.y.top,s.y.bottom),l={row:e.row,column:e.column};a/i<=2&&(l.column+=s.x.left<s.x.right?-3:2),u/r<=1&&(l.row+=s.y.top<s.y.bottom?-1:1),e.row!=l.row||e.column!=l.column&&t&&e.row==t.row?w?n-w>=200&&h.renderer.scrollCursorIntoView(l):w=n:w=null}(v,e)}function n(){y=h.selection.toOrientedRange(),f=h.session.addMarker(y,"ace_selection",h.getSelectionStyle()),h.clearSelection(),h.isFocused()&&h.renderer.$cursorLayer.setBlinking(!1),clearInterval(g),t(),g=setInterval(t,20),T=0,o.addListener(document,"mousemove",u)}function a(){clearInterval(g),h.session.removeMarker(f),f=null,h.selection.fromOrientedRange(y),h.isFocused()&&!x&&h.$resetCursorStyle(),y=null,v=null,T=0,w=null,_=null,o.removeListener(document,"mousemove",u)}function u(){null==A&&(A=setTimeout((function(){null!=A&&f&&a()}),20))}function l(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function c(e){var t=["copy","copymove","all","uninitialized"],n=s.isMac?e.altKey:e.ctrlKey,r="uninitialized";try{r=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var i="none";return n&&t.indexOf(r)>=0?i="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(r)>=0?i="move":t.indexOf(r)>=0&&(i="copy"),i}var h=e.editor,p=i.createElement("div");p.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",p.textContent="Â ";["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),h.on("mousedown",this.onMouseDown.bind(e));var f,d,m,g,y,v,b,x,w,_,S,k=h.container,T=0;this.onDragStart=function(e){if(this.cancelDrag||!k.draggable){var t=this;return setTimeout((function(){t.startSelect(),t.captureMouse(e)}),0),e.preventDefault()}y=h.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=h.getReadOnly()?"copy":"copyMove",h.container.appendChild(p),n.setDragImage&&n.setDragImage(p,0,0),setTimeout((function(){h.container.removeChild(p)})),n.clearData(),n.setData("Text",h.session.getTextRange()),x=!0,this.setState("drag")},this.onDragEnd=function(e){(k.draggable=!1,x=!1,this.setState(null),h.getReadOnly())||(b||"move"!=e.dataTransfer.dropEffect||h.session.remove(h.getSelectionRange()),h.$resetCursorStyle());this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!h.getReadOnly()&&l(e.dataTransfer))return d=e.clientX,m=e.clientY,f||n(),T++,e.dataTransfer.dropEffect=b=c(e),o.preventDefault(e)},this.onDragOver=function(e){if(!h.getReadOnly()&&l(e.dataTransfer))return d=e.clientX,m=e.clientY,f||(n(),T++),null!==A&&(A=null),e.dataTransfer.dropEffect=b=c(e),o.preventDefault(e)},this.onDragLeave=function(e){if(--T<=0&&f)return a(),b=null,o.preventDefault(e)},this.onDrop=function(e){if(v){var t=e.dataTransfer;if(x)switch(b){case"move":y=y.contains(v.row,v.column)?{start:v,end:v}:h.moveText(y,v);break;case"copy":y=h.moveText(y,v,!0)}else{var n=t.getData("Text");y={start:v,end:h.session.insert(v,n)},h.focus(),b=null}return a(),o.preventDefault(e)}},o.addListener(k,"dragstart",this.onDragStart.bind(e),h),o.addListener(k,"dragend",this.onDragEnd.bind(e),h),o.addListener(k,"dragenter",this.onDragEnter.bind(e),h),o.addListener(k,"dragover",this.onDragOver.bind(e),h),o.addListener(k,"dragleave",this.onDragLeave.bind(e),h),o.addListener(k,"drop",this.onDrop.bind(e),h);var A=null}function r(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}var i=e("../lib/dom"),o=e("../lib/event"),s=e("../lib/useragent");(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging"),e.renderer.setCursorStyle(s.isWin?"default":"move"),this.setState("dragReady")},this.onMouseDrag=function(){var e=this.editor.container;s.isIE&&"dragReady"==this.state&&(r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&e.dragDrop());"dragWait"===this.state&&(r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton();if(1===(e.domEvent.detail||1)&&0===r&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var i=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in i&&(i.unselectable="on"),t.getDragDelay()){if(s.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(n.prototype),t.DragdropHandler=n})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t){"use strict";var n=e("./mouse_event").MouseEvent,r=e("../lib/event"),i=e("../lib/dom");t.addTouchListeners=function(e,t){function o(){var e=window.navigator&&window.navigator.clipboard,n=!1,r=function(r){var o,s,a=r.target.getAttribute("action");if("more"==a||!n)return n=!n,o=t.getCopyText(),s=t.session.getUndoManager().hasUndo(),void y.replaceChild(i.buildDom(n?["span",!o&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],o&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],o&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],s&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),y.firstChild);"paste"==a?e.readText().then((function(e){t.execCommand(a,e)})):a&&("cut"!=a&&"copy"!=a||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(a)),y.firstChild.style.display="none",n=!1,"openCommandPalette"!=a&&t.focus()};y=i.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){v="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),r(e)},onclick:r},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container)}function s(){y||o();var e=t.selection.cursor,n=t.renderer.textToScreenCoordinates(e.row,e.column),r=t.renderer.textToScreenCoordinates(0,0).pageX,i=t.renderer.scrollLeft,s=t.container.getBoundingClientRect();y.style.top=n.pageY-s.top-3+"px",n.pageX-s.left<s.width-70?(y.style.left="",y.style.right="10px"):(y.style.right="",y.style.left=r+i-s.left+"px"),y.style.display="",y.firstChild.style.display="none",t.on("input",a)}function a(){y&&(y.style.display="none"),t.off("input",a)}function u(){f=null,clearTimeout(f);var e=t.selection.getRange(),n=e.contains(m.row,m.column);!e.isEmpty()&&n||(t.selection.moveToPosition(m),t.selection.selectWord()),v="wait",s()}var l,c,h,p,f,d,m,g,y,v="scroll",b=0,x=0,w=0,_=0;r.addListener(e,"contextmenu",(function(){g&&t.textInput.getElement().focus()}),t),r.addListener(e,"touchstart",(function(e){var r=e.touches;if(f||r.length>1)return clearTimeout(f),f=null,h=-1,void(v="zoom");g=t.$mouseHandler.isMousePressed=!0;var i=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.lineHeight,s=e.timeStamp;p=s;var a=r[0],d=a.clientX,y=a.clientY;Math.abs(l-d)+Math.abs(c-y)>i&&(h=-1),l=e.clientX=d,c=e.clientY=y,w=_=0;var S=new n(e,t);if(m=S.getDocumentPosition(),s-h<500&&1==r.length&&!b)x++,e.preventDefault(),e.button=0,function(){f=null,clearTimeout(f),t.selection.moveToPosition(m);var e=x>=2?t.selection.getLineRange(m.row):t.session.getBracketRange(m);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),v="wait"}();else{x=0;var k=t.selection.cursor,T=t.selection.isEmpty()?k:t.selection.anchor,A=t.renderer.$cursorLayer.getPixelPosition(k,!0),E=t.renderer.$cursorLayer.getPixelPosition(T,!0),C=t.renderer.scroller.getBoundingClientRect(),L=t.renderer.layerConfig.offset,I=t.renderer.scrollLeft,R=function(e,t){return(e/=o)*e+(t=t/i-.75)*t};if(e.clientX<C.left)return void(v="zoom");var M=R(e.clientX-C.left-A.left+I,e.clientY-C.top-A.top+L),O=R(e.clientX-C.left-E.left+I,e.clientY-C.top-E.top+L);M<3.5&&O<3.5&&(v=M>O?"cursor":"anchor"),v=O<3.5?"anchor":M<3.5?"cursor":"scroll",f=setTimeout(u,450)}h=s}),t),r.addListener(e,"touchend",(function(){g=t.$mouseHandler.isMousePressed=!1,d&&clearInterval(d),"zoom"==v?(v="",b=0):f?(t.selection.moveToPosition(m),b=0,s()):"scroll"==v?(b+=60,d=setInterval((function(){b--<=0&&(clearInterval(d),d=null),Math.abs(w)<.01&&(w=0),Math.abs(_)<.01&&(_=0),b<20&&(w*=.9),b<20&&(_*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*w,10*_),e==t.session.getScrollTop()&&(b=0)}),10),a()):s(),clearTimeout(f),f=null}),t),r.addListener(e,"touchmove",(function(e){f&&(clearTimeout(f),f=null);var r=e.touches;if(!(r.length>1||"zoom"==v)){var i=r[0],o=l-i.clientX,s=c-i.clientY;if("wait"==v){if(!(o*o+s*s>4))return e.preventDefault();v="cursor"}l=i.clientX,c=i.clientY,e.clientX=i.clientX,e.clientY=i.clientY;var a=e.timeStamp,u=a-p;if(p=a,"scroll"==v){var h=new n(e,t);h.speed=1,h.wheelX=o,h.wheelY=s,10*Math.abs(o)<Math.abs(s)&&(o=0),10*Math.abs(s)<Math.abs(o)&&(s=0),0!=u&&(w=o/u,_=s/u),t._emit("mousewheel",h),h.propagationStopped||(w=_=0)}else{var d=new n(e,t).getDocumentPosition();"cursor"==v?t.selection.moveCursorToPosition(d):"anchor"==v&&t.selection.setSelectionAnchor(d.row,d.column),t.renderer.scrollCursorIntoView(d),e.preventDefault()}}}),t)}})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t){"use strict";var n=e("../lib/event"),r=e("../lib/useragent"),i=e("./default_handlers").DefaultHandlers,o=e("./default_gutter_handler").GutterHandler,s=e("./mouse_event").MouseEvent,a=e("./dragdrop_handler").DragdropHandler,u=e("./touch_handler").addTouchListeners,l=e("../config"),c=function(){function e(e){var t=this;this.editor=e,new i(this),new o(this),new a(this);var s=function(){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus(),setTimeout((function(){e.isFocused()||e.focus()}))},l=e.renderer.getMouseEventTarget();n.addListener(l,"click",this.onMouseEvent.bind(this,"click"),e),n.addListener(l,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),n.addMultiMouseDownListener([l,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),n.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),u(e.container,e);var c=e.renderer.$gutter;n.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),n.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick"),e),n.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),n.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),n.addListener(l,"mousedown",s,e),n.addListener(c,"mousedown",s,e),r.isIE&&e.renderer.scrollBarV&&(n.addListener(e.renderer.scrollBarV.element,"mousedown",s,e),n.addListener(e.renderer.scrollBarH.element,"mousedown",s,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),o=e.renderer;!i.isEmpty()&&i.insideStart(r.row,r.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),e)}return e.prototype.onMouseEvent=function(e,t){this.editor.session&&this.editor._emit(e,new s(t,this.editor))},e.prototype.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new s(t,this.editor))},e.prototype.onMouseWheel=function(e,t){var n=new s(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},e.prototype.setState=function(e){this.state=e},e.prototype.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var i=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var a=this,u=function(e){if(e){if(r.isWebKit&&!e.which&&a.releaseMouse)return a.releaseMouse();a.x=e.clientX,a.y=e.clientY,t&&t(e),a.mouseEvent=new s(e,a.editor),a.$mouseMoved=!0}},l=function(e){i.off("beforeEndOperation",h),clearInterval(p),i.session&&c(),a[a.state+"End"]&&a[a.state+"End"](e),a.state="",a.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),a.$onCaptureMouseMove=a.releaseMouse=null,e&&a.onMouseEvent("mouseup",e),i.endOperation()},c=function(){a[a.state]&&a[a.state](),a.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){l(e)}));var h=function(){a.releaseMouse&&i.curOp.command.name&&i.curOp.selectionChanged&&(a[a.state+"End"]&&a[a.state+"End"](),a.state="",a.releaseMouse())};i.on("beforeEndOperation",h),i.startOperation({command:{name:"mouse"}}),a.$onCaptureMouseMove=u,a.releaseMouse=n.capture(this.editor.container,u,l);var p=setInterval(c,20)},e.prototype.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&n.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},e.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},e}();c.prototype.releaseMouse=null,l.defineOptions(c.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=c})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t){"use strict";var n=e("../lib/dom");t.FoldHandler=function(e){e.on("click",(function(t){var r=t.getDocumentPosition(),i=e.session,o=i.getFoldAt(r.row,r.column,1);o&&(t.getAccelKey()?i.removeFold(o):i.expandFold(o),t.stop());var s=t.domEvent&&t.domEvent.target;s&&n.hasCssClass(s,"ace_inline_button")&&n.hasCssClass(s,"ace_toggle_wrap")&&(i.setOption("wrap",!i.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session;r.foldWidgets&&r.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session,i=r.getParentFoldRangeData(n,!0),o=i.range||i.firstRange;if(o){var s=r.getFoldAt(n=o.start.row,r.getLine(n).length,1);s?r.removeFold(s):(r.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t){"use strict";var n=e("../lib/keys"),r=e("../lib/event"),i=function(){function e(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)}return e.prototype.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},e.prototype.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},e.prototype.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},e.prototype.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},e.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},e.prototype.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},e.prototype.$callKeyboardHandlers=function(e,t,n,i){for(var o,s=!1,a=this.$editor.commands,u=this.$handlers.length;u--&&!((o=this.$handlers[u].handleKeyboard(this.$data,e,t,n,i))&&o.command&&((s="null"==o.command||a.exec(o.command,this.$editor,o.args,i))&&i&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&r.stopEvent(i),s)););return s||-1!=e||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},e.prototype.onCommandKey=function(e,t,r){var i=n.keyCodeToString(r);return this.$callKeyboardHandlers(t,i,r,e)},e.prototype.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)},e}();t.KeyBinding=i})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t){"use strict";function n(e,t,n){if(!(s<e))if(1!=e||1!=o||u)for(var r,i,a,l,c=n.length,h=0;h<c;){if(t[h]>=e){for(r=h+1;r<c&&t[r]>=e;)r++;for(i=h,a=r-1;i<a;i++,a--)l=n[i],n[i]=n[a],n[a]=l;h=r}h++}else n.reverse()}function r(e,t,n,r){var i,s,c,h,R=t[r];switch(R){case p:case f:a=!1;case g:case m:return R;case d:return a?m:d;case b:return a=!0,!0,f;case x:return g;case w:return r<1||r+1>=t.length||(i=n[r-1])!=d&&i!=m||(s=t[r+1])!=d&&s!=m?g:(a&&(s=m),s==i?s:g);case _:return(i=r>0?n[r-1]:y)==d&&r+1<t.length&&t[r+1]==d?d:g;case S:if(r>0&&n[r-1]==d)return d;if(a)return g;for(h=r+1,c=t.length;h<c&&t[h]==S;)h++;return h<c&&t[h]==d?d:g;case k:for(c=t.length,h=r+1;h<c&&t[h]==k;)h++;if(h<c){var M=e[r];if(i=t[h],(M>=1425&&M<=2303||64286==M)&&(i==f||i==b))return f}return r<1||(i=t[r-1])==y?g:n[r-1];case y:return a=!1,u=!0,o;case v:return l=!0,g;case T:case A:case C:case L:case E:a=!1;case I:return g}}function i(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?p:R[t]:5==n?/[\u0591-\u05f4]/.test(e)?f:p:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?k:/[\u0660-\u0669\u066b-\u066c]/.test(e)?m:1642==t?S:/[\u06f0-\u06f9]/.test(e)?d:b:32==n&&t<=8287?M[255&t]:254==n&&t>=65136?b:g}var o=0,s=0,a=!1,u=!1,l=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p=0,f=1,d=2,m=3,g=4,y=5,v=6,b=7,x=8,w=9,_=10,S=11,k=12,T=13,A=14,E=15,C=16,L=17,I=18,R=[I,I,I,I,I,I,I,I,I,v,y,v,x,y,I,I,I,I,I,I,I,I,I,I,I,I,I,I,y,y,y,v,x,g,g,S,S,S,g,g,g,g,g,_,w,_,w,w,d,d,d,d,d,d,d,d,d,d,w,g,g,g,g,g,g,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,g,g,g,g,g,g,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,g,g,g,g,I,I,I,I,I,I,y,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,w,g,S,S,S,S,g,g,g,g,p,g,g,I,g,g,S,S,d,d,g,p,g,g,g,d,p,g,g,g,g,g],M=[x,x,x,x,x,x,x,x,x,x,x,I,I,I,p,f,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,x,y,T,A,E,C,L,w,S,S,S,S,S,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,w,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,x];t.L=p,t.R=f,t.EN=d,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="Â·",t.doBidiReorder=function(e,p,d){if(e.length<2)return{};var w=e.split(""),_=new Array(w.length),S=new Array(w.length),k=[];o=d?1:0,function(e,t,n,p){var f=o?h:c,d=null,m=null,g=null,b=0,w=null,_=-1,S=null,k=null,T=[];if(!p)for(S=0,p=[];S<n;S++)p[S]=i(e[S]);for(s=o,a=!1,!1,u=!1,l=!1,k=0;k<n;k++){if(d=b,T[k]=m=r(e,p,T,k),w=240&(b=f[d][m]),t[k]=g=f[b&=15][5],w>0)if(16==w){for(S=_;S<k;S++)t[S]=1;_=-1}else _=-1;if(f[b][6])-1==_&&(_=k);else if(_>-1){for(S=_;S<k;S++)t[S]=g;_=-1}p[k]==y&&(t[k]=0),s|=g}if(l)for(S=0;S<n;S++)if(p[S]==v){t[S]=o;for(var A=S-1;A>=0&&p[A]==x;A--)t[A]=o}}(w,k,w.length,p);for(var A=0;A<_.length;_[A]=A,A++);n(2,k,_),n(1,k,_);for(A=0;A<_.length-1;A++)p[A]===m?k[A]=t.AN:k[A]===f&&(p[A]>b&&p[A]<T||p[A]===g||p[A]===I)?k[A]=t.ON_R:A>0&&"Ù„"===w[A-1]&&/\u0622|\u0623|\u0625|\u0627/.test(w[A])&&(k[A-1]=k[A]=t.R_H,A++);w[w.length-1]===t.DOT&&(k[w.length-1]=t.B),"â€«"===w[0]&&(k[0]=t.RLE);for(A=0;A<_.length;A++)S[A]=k[_[A]];return{logicalFromVisual:_,bidiLevels:S}},t.hasBidiCharacters=function(e,t){for(var n=!1,r=0;r<e.length;r++)t[r]=i(e.charAt(r)),n||t[r]!=f&&t[r]!=b&&t[r]!=m||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t){"use strict";var n=e("./lib/bidiutil"),r=e("./lib/lang"),i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=function(){function e(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=n,this.charWidths=[],this.EOL="Â¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="Â¶",this.RLE="â€«",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=i.test(e.getValue())}return e.prototype.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},e.prototype.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&i.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},e.prototype.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},e.prototype.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,r=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===r;)r=n,e++;else e=this.currentRow;return e},e.prototype.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var i=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(void 0===t&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[n.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t]),t==o.length&&(this.line+=this.showInvisibles?i:n.DOT))}else this.line+=this.showInvisibles?i:n.DOT;var s,a=this.session,u=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(s="\t"===e?a.getScreenTabSize(t+u):2,u+=s-1,r.stringRepeat(n.DOT,s)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==n.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},e.prototype.updateBidiMap=function(){var e=[];this.bidiMap=n.hasBidiCharacters(this.line,e)||this.isRtlDir?n.doBidiReorder(this.line,e,this.isRtlDir):{}},e.prototype.markAsDirty=function(){this.currentRow=null},e.prototype.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,r=e.$measureCharWidth("×”");this.charWidths[n.L]=this.charWidths[n.EN]=this.charWidths[n.ON_R]=t,this.charWidths[n.R]=this.charWidths[n.AN]=r,this.charWidths[n.R_H]=.45*r,this.charWidths[n.B]=this.charWidths[n.RLE]=0,this.currentRow=null}},e.prototype.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},e.prototype.setEolChar=function(e){this.EOL=e},e.prototype.setContentWidth=function(e){this.contentWidth=e},e.prototype.isRtlLine=function(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},e.prototype.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),r=e.selection.getSelectionAnchor().row;r<=n.row;r++)t||e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:r},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(r,0,1)},e.prototype.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,r=e>t?this.session.getOverwrite()?e:e-1:t,i=n.getVisualFromLogicalIdx(r,this.bidiMap),o=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&e<=t&&o[i]%2!=0&&i++;for(var a=0;a<i;a++)s+=this.charWidths[o[a]];return!this.session.getOverwrite()&&e>t&&o[i]%2==0&&(s+=this.charWidths[o[i]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},e.prototype.getSelections=function(e,t){var n,r=this.bidiMap,i=r.bidiLevels,o=[],s=0,a=Math.min(e,t)-this.wrapIndent,u=Math.max(e,t)-this.wrapIndent,l=!1,c=!1,h=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var p,f=0;f<i.length;f++)n=i[f],(l=(p=r.logicalFromVisual[f])>=a&&p<u)&&!c?h=s:!l&&c&&o.push({left:h,width:s-h}),s+=this.charWidths[n],c=l;if(l&&f===i.length&&o.push({left:h,width:s-h}),this.isRtlDir)for(var d=0;d<o.length;d++)o[d].left+=this.rtlLineOffset;return o},e.prototype.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),r=0,i=this.bidiMap.bidiLevels,o=this.charWidths[i[r]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+o/2;){if(n+=o,r===i.length-1){o=0;break}o=this.charWidths[i[++r]]}return r>0&&i[r-1]%2!=0&&i[r]%2==0?(e<n&&r--,t=this.bidiMap.logicalFromVisual[r]):r>0&&i[r-1]%2==0&&i[r]%2!=0?t=1+(e>n?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===i.length-1&&0===o&&i[r-1]%2==0||!this.isRtlDir&&0===r&&i[r]%2!=0?t=1+this.bidiMap.logicalFromVisual[r]:(r>0&&i[r-1]%2!=0&&0!==o&&r--,t=this.bidiMap.logicalFromVisual[r]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent},e}();t.BidiHandler=o})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t){"use strict";var n=e("./lib/oop"),r=e("./lib/lang"),i=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,s=function(){function e(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))}return e.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},e.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},e.prototype.getCursor=function(){return this.lead.getPosition()},e.prototype.setAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},e.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},e.prototype.getSelectionLead=function(){return this.lead.getPosition()},e.prototype.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},e.prototype.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},e.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},e.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},e.prototype.setRange=function(e,t){var n=t?e.end:e.start,r=t?e.start:e.end;this.$setSelection(n.row,n.column,r.row,r.column)},e.prototype.$setSelection=function(e,t,n,r){if(!this.$silent){var i=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,r),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||i!=this.$isEmpty||s)&&this._emit("changeSelection")}},e.prototype.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},e.prototype.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},e.prototype.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},e.prototype.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},e.prototype.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},e.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},e.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},e.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},e.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},e.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},e.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},e.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},e.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},e.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},e.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},e.prototype.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},e.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},e.prototype.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},e.prototype.getLineRange=function(e,t){var n,r="number"==typeof e?e:this.lead.row,i=this.session.getFoldLine(r);return i?(r=i.start.row,n=i.end.row):n=r,!0===t?new o(r,0,n,this.session.getLine(n).length):new o(r,0,n+1,0)},e.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},e.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},e.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},e.prototype.wouldMoveIntoSoftTab=function(e,t,n){var r=e.column,i=e.column+t;return n<0&&(r=e.column-t,i=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(r,i).split(" ").length-1==t},e.prototype.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},e.prototype.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t=this.lead,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},e.prototype.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column).match(/^\s*/);i[0].length==t||this.session.$useEmacsStyleLineStart||(r.column+=i[0].length),this.moveCursorToPosition(r)},e.prototype.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},e.prototype.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},e.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},e.prototype.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(e,t,1);if(i)this.moveCursorTo(i.end.row,i.end.column);else{if(this.session.nonTokenRe.exec(r)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(r)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},e.prototype.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var o=r.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},e.prototype.$shortWordEndIndex=function(e){var t,n=0,r=/\s/,i=this.session.tokenRe;if(i.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&r.test(t);)n++;if(n<1)for(i.lastIndex=0;(t=e[n])&&!i.test(t);)if(i.lastIndex=0,n++,r.test(t)){if(n>2){n--;break}for(;(t=e[n])&&r.test(t);)n++;if(n>2)break}}return i.lastIndex=0,n},e.prototype.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var o=this.doc.getLength();do{e++,r=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var s=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+s)},e.prototype.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var o=r.stringReverse(i),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-s)},e.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},e.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},e.prototype.moveCursorBy=function(e,t){var n,r=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var i=this.session.lineWidgets[this.lead.row];e<0?e-=i.rowsAbove||0:e>0&&(e+=i.rowCount-(i.rowsAbove||0))}var o=this.session.screenToDocumentPosition(r.row+e,r.column,n);this.moveCursorTo(o.row,o.column+t,0===t)},e.prototype.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},e.prototype.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(i.charAt(t))&&i.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},e.prototype.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},e.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},e.prototype.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},e.prototype.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},e.prototype.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return o.fromPoints(t,n)}catch(e){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},e.prototype.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},e.prototype.fromJSON=function(e){if(null==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},e.prototype.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0},e}();s.prototype.setSelectionAnchor=s.prototype.setAnchor,s.prototype.getSelectionAnchor=s.prototype.getAnchor,s.prototype.setSelectionRange=s.prototype.setRange,n.implement(s.prototype,i),t.Selection=s})),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],(function(e,t){"use strict";var n=e("./lib/report_error").reportError,r=2e3,i=function(){function e(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],r=[],i=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],u=0;u<n.length;u++){var l=n[u];if(l.defaultToken&&(o.defaultToken=l.defaultToken),l.caseInsensitive&&-1===s.indexOf("i")&&(s+="i"),l.unicode&&-1===s.indexOf("u")&&(s+="u"),null!=l.regex){l.regex instanceof RegExp&&(l.regex=l.regex.toString().slice(1,-1));var c=l.regex,h=new RegExp("(?:("+c+")|(.))").exec("a").length-2;Array.isArray(l.token)?1==l.token.length||1==h?l.token=l.token[0]:h-1!=l.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:l,groupCount:h-1}),l.token=l.token[0]):(l.tokenArray=l.token,l.token=null,l.onMatch=this.$arrayTokens):"function"!=typeof l.token||l.onMatch||(l.onMatch=h>1?this.$applyToken:l.token),h>1&&(/\\\d/.test(l.regex)?c=l.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+i+1)})):(h=1,c=this.removeCapturingGroups(l.regex)),l.splitRegex||"string"==typeof l.token||a.push(l)),o[i]=u,i+=h,r.push(c),l.onMatch||(l.onMatch=null)}}r.length||(o[0]=0,r.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)}),this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",s)}}return e.prototype.$setMaxTokenCount=function(e){r=0|e},e.prototype.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var r=[],i=0,o=n.length;i<o;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},e.prototype.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],r=this.tokenArray,i=0,o=r.length;i<o;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},e.prototype.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(e,t){return t?"(?:":e}))},e.prototype.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,r=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,s,a,u){return r?r="]"!=a:a?r=!0:s?(n==i.stack&&(i.end=u+1,i.stack=-1),n--):o&&(n++,1!=o.length&&(i.stack=n,i.start=u)),e})),null!=i.end&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},e.prototype.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var i=t||"start",o=this.states[i];o||(o=this.states[i="start"]);var s=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var u,l=[],c=0,h=0,p={type:null,value:""};u=a.exec(e);){var f=s.defaultToken,d=null,m=u[0],g=a.lastIndex;if(g-m.length>c){var y=e.substring(c,g-m.length);p.type==f?p.value+=y:(p.type&&l.push(p),p={type:f,value:y})}for(var v=0;v<u.length-2;v++)if(void 0!==u[v+1]){f=(d=o[s[v]]).onMatch?d.onMatch(m,i,n,e):d.token,d.next&&(i="string"==typeof d.next?d.next:d.next(i,n),(o=this.states[i])||(this.reportError("state doesn't exist",i),o=this.states[i="start"]),s=this.matchMappings[i],c=g,(a=this.regExps[i]).lastIndex=g),d.consumeLineEnd&&(c=g);break}if(m)if("string"==typeof f)d&&!1===d.merge||p.type!==f?(p.type&&l.push(p),p={type:f,value:m}):p.value+=m;else if(f){p.type&&l.push(p),p={type:null,value:""};for(v=0;v<f.length;v++)l.push(f[v])}if(c==e.length)break;if(c=g,h++>r){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});c<e.length;)p.type&&l.push(p),p={value:e.substring(c,c+=500),type:"overflow"};i="start",n=[];break}}return p.type&&l.push(p),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:l,state:n.length?n:i}},e}();i.prototype.reportError=n,t.Tokenizer=i})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],(function(e,t){"use strict";var n,r=e("../lib/deep_copy").deepCopy;(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var r=e[n],i=0;i<r.length;i++){var o=r[i];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=r}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,o){var s="function"==typeof e?(new e).getRules():e;if(i)for(var a=0;a<i.length;a++)i[a]=t+i[a];else for(var u in i=[],s)i.push(t+u);if(this.addRules(s,t),n){var l=Array.prototype[o?"push":"unshift"];for(a=0;a<i.length;a++)l.apply(this.$rules[i[a]],r(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,r=this.$rules;Object.keys(r).forEach((function i(o){var s=r[o];s.processed=!0;for(var a=0;a<s.length;a++){var u=s[a],l=null;Array.isArray(u)&&(l=u,u={}),!u.regex&&u.start&&(u.regex=u.start,u.next||(u.next=[]),u.next.push({defaultToken:u.token},{token:u.token+".end",regex:u.end||u.start,next:"pop"}),u.token=u.token+".start",u.push=!0);var c=u.next||u.push;if(c&&Array.isArray(c)){var h=u.stateName;h||("string"!=typeof(h=u.token)&&(h=h[0]||""),r[h]&&(h+=n++)),r[h]=c,u.next=h,i(h)}else"pop"==c&&(u.next=t);if(u.push&&(u.nextState=u.next||u.push,u.next=e,delete u.push),u.rules)for(var p in u.rules)r[p]?r[p].push&&r[p].push.apply(r[p],u.rules[p]):r[p]=u.rules[p];var f="string"==typeof u?u:u.include;if(f&&("$self"===f&&(f="start"),l=Array.isArray(f)?f.map((function(e){return r[e]})):r[f]),l){var d=[a,1].concat(l);u.noEscape&&(d=d.filter((function(e){return!e.next}))),s.splice.apply(s,d),a--}u.keywordMap&&(u.token=this.createKeywordMapper(u.keywordMap,u.defaultToken||"text",u.caseInsensitive),delete u.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var o=e[t].split(r||"|"),s=o.length;s--;){var a=o[s];this.$keywordList.push(a),n&&(a=a.toLowerCase()),i[a]=t}}),this),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call((n=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}}).prototype),t.TextHighlightRules=n})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t){"use strict";var n;(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call((n=function(){this.$behaviours={}}).prototype),t.Behaviour=n})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t){"use strict";var n=e("./range").Range,r=function(){function e(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1}return e.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},e.prototype.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},e.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},e.prototype.getCurrentTokenRow=function(){return this.$row},e.prototype.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},e.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},e.prototype.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new n(this.$row,t,this.$row,t+e.value.length)},e}();t.TokenIterator=r})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t){"use strict";var n,r,i=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),u=["text","paren.rparen","rparen","paren","punctuation.operator"],l=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],c={},h={'"':'"',"'":"'"},p=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,c.rangeCount!=e.multiSelect.rangeCount&&(c={rangeCount:e.multiSelect.rangeCount})),c[t])return n=c[t];n=c[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}};(r=function(e){e=e||{},this.add("braces","insertion",(function(t,i,o,s,u){var l=o.getCursorPosition(),c=s.doc.getLine(l.row);if("{"==u){p(o);var h=o.getSelectionRange(),d=s.doc.getTextRange(h);if(""!==d&&"{"!==d&&o.getWrapBehavioursEnabled())return f(h,d,"{","}");if(r.isSaneInsertion(o,s))return/[\]\}\)]/.test(c[l.column])||o.inMultiSelectMode||e.braces?(r.recordAutoInsert(o,s,"}"),{text:"{}",selection:[1,1]}):(r.recordMaybeInsert(o,s,"{"),{text:"{",selection:[1,1]})}else if("}"==u){if(p(o),"}"==c.substring(l.column,l.column+1))if(null!==s.$findOpeningBracket("}",{column:l.column+1,row:l.row})&&r.isAutoInsertedClosing(l,c,u))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==u||"\r\n"==u){p(o);var m="";if(r.isMaybeInsertedClosing(l,c)&&(m=a.stringRepeat("}",n.maybeInsertedBrackets),r.clearMaybeInsertedClosing()),"}"===c.substring(l.column,l.column+1)){var g=s.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!g)return null;var y=this.$getIndent(s.getLine(g.row))}else{if(!m)return void r.clearMaybeInsertedClosing();y=this.$getIndent(c)}var v=y+s.getTabString();return{text:"\n"+v+"\n"+y+m,selection:[1,v.length,1,v.length]}}r.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,r,i,o){var s=i.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){if(p(r),"}"==i.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;n.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,i,o){if("("==o){p(n);var s=n.getSelectionRange(),a=i.doc.getTextRange(s);if(""!==a&&n.getWrapBehavioursEnabled())return f(s,a,"(",")");if(r.isSaneInsertion(n,i))return r.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==o){p(n);var u=n.getCursorPosition(),l=i.doc.getLine(u.row);if(")"==l.substring(u.column,u.column+1))if(null!==i.$findOpeningBracket(")",{column:u.column+1,row:u.row})&&r.isAutoInsertedClosing(u,l,o))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"("==o&&(p(n),")"==r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("brackets","insertion",(function(e,t,n,i,o){if("["==o){p(n);var s=n.getSelectionRange(),a=i.doc.getTextRange(s);if(""!==a&&n.getWrapBehavioursEnabled())return f(s,a,"[","]");if(r.isSaneInsertion(n,i))return r.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==o){p(n);var u=n.getCursorPosition(),l=i.doc.getLine(u.row);if("]"==l.substring(u.column,u.column+1))if(null!==i.$findOpeningBracket("]",{column:u.column+1,row:u.row})&&r.isAutoInsertedClosing(u,l,o))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"["==o&&(p(n),"]"==r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("string_dquotes","insertion",(function(e,t,n,r,i){var o=r.$mode.$quotes||h;if(1==i.length&&o[i]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(i))return;p(n);var s=i,a=n.getSelectionRange(),u=r.doc.getTextRange(a);if(!(""===u||1==u.length&&o[u])&&n.getWrapBehavioursEnabled())return f(a,u,s,s);if(!u){var l=n.getCursorPosition(),c=r.doc.getLine(l.row),d=c.substring(l.column-1,l.column),m=c.substring(l.column,l.column+1),g=r.getTokenAt(l.row,l.column),y=r.getTokenAt(l.row,l.column+1);if("\\"==d&&g&&/escape/.test(g.type))return null;var v,b=g&&/string|escape/.test(g.type),x=!y||/string|escape/.test(y.type);if(m==s)(v=b!==x)&&/string\.end/.test(y.type)&&(v=!1);else{if(b&&!x)return null;if(b&&x)return null;var w=r.$mode.tokenRe;w.lastIndex=0;var _=w.test(d);w.lastIndex=0;var S=w.test(m),k=r.$mode.$pairQuotesAfter;if(!(k&&k[s]&&k[s].test(d))&&_||S)return null;if(m&&!/[\s;,.})\]\\]/.test(m))return null;var T=c[l.column-2];if(d==s&&(T==s||w.test(T)))return null;v=!0}return{text:v?s+s:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,r,i){var o=r.$mode.$quotes||h,s=r.doc.getTextRange(i);if(!i.isMultiLine()&&o.hasOwnProperty(s)&&(p(n),r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)==s))return i.end.column++,i})),!1!==e.closeDocComment&&this.add("doc comment end","insertion",(function(e,t,n,r,i){if("doc-start"===e&&("\n"===i||"\r\n"===i)&&n.selection.isEmpty()){var o=n.getCursorPosition(),s=r.doc.getLine(o.row),a=r.doc.getLine(o.row+1),u=this.$getIndent(s);if(/\s*\*/.test(a))return/^\s*\*/.test(s)?{text:i+u+"* ",selection:[1,3+u.length,1,3+u.length]}:{text:i+u+" * ",selection:[1,3+u.length,1,3+u.length]};if(/\/\*\*/.test(s.substring(0,o.column)))return{text:i+u+" * "+i+" "+u+"*/",selection:[1,4+u.length,1,4+u.length]}}}))}).isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new s(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",u)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var i=new s(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",u))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",l)},r.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},r.recordAutoInsert=function(e,t,r){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=i.row,n.autoInsertedLineEnd=r+o.substr(i.column),n.autoInsertedBrackets++},r.recordMaybeInsert=function(e,t,r){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isMaybeInsertedClosing(i,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=i.row,n.maybeInsertedLineStart=o.substr(0,i.column)+r,n.maybeInsertedLineEnd=o.substr(i.column),n.maybeInsertedBrackets++},r.isAutoInsertedClosing=function(e,t,r){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&r===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},r.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},r.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},r.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},i.inherits(r,o),t.CstyleBehaviour=r})),ace.define("ace/unicode",["require","exports","module"],(function(e,t){"use strict";for(var n=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],r=0,i=[],o=0;o<n.length;o+=2)i.push(r+=n[o]),n[o+1]&&i.push(45,r+=n[o+1]);t.wordChars=String.fromCharCode.apply(null,i)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t){"use strict";var n,i=e("../config"),o=e("../tokenizer").Tokenizer,s=e("./text_highlight_rules").TextHighlightRules,a=e("./behaviour/cstyle").CstyleBehaviour,u=e("../unicode"),l=e("../lib/lang"),c=e("../token_iterator").TokenIterator,h=e("../range").Range;(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+u.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+u.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new o(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){function i(e){for(var t=n;t<=r;t++)e(o.getLine(t),t)}var o=t.doc,s=!0,a=!0,u=1/0,c=t.getTabSize(),h=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))g=this.lineCommentStart.map(l.escapeRegExp).join("|"),d=this.lineCommentStart[0];else g=l.escapeRegExp(this.lineCommentStart),d=this.lineCommentStart;g=new RegExp("^(\\s*)(?:"+g+") ?"),h=t.getUseSoftTabs();b=function(e,t){var n=e.match(g);if(n){var r=n[1].length,i=n[0].length;f(e,r,i)||" "!=n[0][i-1]||i--,o.removeInLine(t,r,i)}};var p=d+" ",f=(v=function(e,t){s&&!/\S/.test(e)||(f(e,u,u)?o.insertInLine({row:t,column:u},p):o.insertInLine({row:t,column:u},d))},x=function(e){return g.test(e)},function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%c!=0)return!1;for(r=0;" "==e.charAt(n++);)r++;return c>2?r%c!=c-1:r%c==0})}else{if(!this.blockComment)return!1;var d=this.blockComment.start,m=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+l.escapeRegExp(d)+")"),y=new RegExp("(?:"+l.escapeRegExp(m)+")\\s*$"),v=function(e,t){x(e,t)||s&&!/\S/.test(e)||(o.insertInLine({row:t,column:e.length},m),o.insertInLine({row:t,column:u},d))},b=function(e,t){var n;(n=e.match(y))&&o.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(g))&&o.removeInLine(t,n[1].length,n[0].length)},x=function(e,n){if(g.test(e))return!0;for(var r=t.getTokens(n),i=0;i<r.length;i++)if("comment"===r[i].type)return!0}}var w=1/0;i((function(e,t){var n=e.search(/\S/);-1!==n?(n<u&&(u=n),a&&!x(e,t)&&(a=!1)):w>e.length&&(w=e.length)})),u==1/0&&(u=w,s=!1,a=!1),h&&u%c!=0&&(u=Math.floor(u/c)*c),i(a?b:v)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(i){!i.start&&i[0]&&(i=i[0]);var o,s,a=(m=new c(t,r.row,r.column)).getCurrentToken(),u=t.selection.toOrientedRange();if(a&&/comment/.test(a.type)){for(var l,p;a&&/comment/.test(a.type);){if(-1!=(g=a.value.indexOf(i.start))){var f=m.getCurrentTokenRow(),d=m.getCurrentTokenColumn()+g;l=new h(f,d,f,d+i.start.length);break}a=m.stepBackward()}var m;for(a=(m=new c(t,r.row,r.column)).getCurrentToken();a&&/comment/.test(a.type);){var g;if(-1!=(g=a.value.indexOf(i.end))){f=m.getCurrentTokenRow(),d=m.getCurrentTokenColumn()+g;p=new h(f,d,f,d+i.end.length);break}a=m.stepForward()}p&&t.remove(p),l&&(t.remove(l),o=l.start.row,s=-i.start.length)}else s=i.start.length,o=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);u.start.row==o&&(u.start.column+=s),u.end.row==o&&(u.end.column+=s),t.selection.fromOrientedRange(u)}},this.getNextLineIndent=function(e,t){return this.$getIndent(t)},this.checkOutdent=function(){return!1},this.autoOutdent=function(){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],r=n.prototype.$id,o=i.$modes[r];o||(i.$modes[r]=o=new n),i.$modes[t]||(i.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],a=function(e){var t,n,r;r=(t=u)[n=s[e]],t[s[e]]=function(){return this.$delegator(n,arguments,r)}},u=this;for(t=0;t<s.length;t++)a(t)},this.$delegator=function(e,t,n){var r=t[0]||"start";if("string"!=typeof r){if(Array.isArray(r[2]))if(o=this.$modes[r[2][r[2].length-1]])return o[e].apply(o,[r[1]].concat([].slice.call(t,1)));r=r[0]||"start"}for(var i=0;i<this.$embeds.length;i++)if(this.$modes[this.$embeds[i]]){var o,s=r.split(this.$embeds[i]);if(!s[0]&&s[1])return t[0]=s[1],(o=this.$modes[this.$embeds[i]])[e].apply(o,t)}var a=n.apply(this,t);return n?a:void 0},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][t]){var a=o[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var o=t[i],s=0,a=o.length;s<a;s++)if("string"==typeof o[s].token)/keyword|support|storage/.test(o[s].token)&&n.push(o[s].regex);else if("object"===r(o[s].token))for(var u=0,l=o[s].token.length;u<l;u++)if(/keyword|support|storage/.test(o[s].token[u])){i=o[s].regex.match(/\(.+?\)/g)[u];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call((n=function(){this.HighlightRules=s}).prototype),t.Mode=n})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t){"use strict";t.applyDelta=function(e,t){var n=t.start.row,r=t.start.column,i=e[n]||"";switch(t.action){case"insert":if(1===t.lines.length)e[n]=i.substring(0,r)+t.lines[0]+i.substring(r);else{var o=[n,1].concat(t.lines);e.splice.apply(e,o),e[n]=i.substring(0,r)+e[n],e[n+t.lines.length-1]+=i.substring(r)}break;case"remove":var s=t.end.column,a=t.end.row;n===a?e[n]=i.substring(0,r)+i.substring(s):e.splice(n,a-n+1,i.substring(0,r)+e[a].substring(s))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t){"use strict";function n(e,t,n){return e.row<t.row||e.row==t.row&&(n?e.column<=t.column:e.column<t.column)}var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=function(){function e(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"number"!=typeof t?this.setPosition(t.row,t.column):this.setPosition(t,n)}return e.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},e.prototype.getDocument=function(){return this.document},e.prototype.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var t=function(e,t,r){var i="insert"==e.action,o=(i?1:-1)*(e.end.row-e.start.row),s=(i?1:-1)*(e.end.column-e.start.column),a=e.start,u=i?a:e.end;return n(t,a,r)?{row:t.row,column:t.column}:n(u,t,!r)?{row:t.row+o,column:t.column+(t.row==u.row?s:0)}:{row:a.row,column:a.column}}(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,!0)}},e.prototype.setPosition=function(e,t,n){var r;if(r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})}},e.prototype.detach=function(){this.document.off("change",this.$onChange)},e.prototype.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},e.prototype.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n},e}();o.prototype.$insertRight=!1,r.implement(o.prototype,i),t.Anchor=o})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t){"use strict";var n=e("./lib/oop"),r=e("./apply_delta").applyDelta,i=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,s=e("./anchor").Anchor,a=function(){function e(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)}return e.prototype.setValue=function(e){var t=this.getLength()-1;this.remove(new o(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e||"")},e.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},e.prototype.createAnchor=function(e,t){return new s(this,e,t)},e.prototype.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},e.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},e.prototype.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},e.prototype.getNewLineMode=function(){return this.$newLineMode},e.prototype.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},e.prototype.getLine=function(e){return this.$lines[e]||""},e.prototype.getLines=function(e,t){return this.$lines.slice(e,t+1)},e.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},e.prototype.getLength=function(){return this.$lines.length},e.prototype.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},e.prototype.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},e.prototype.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},e.prototype.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},e.prototype.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},e.prototype.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},e.prototype.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},e.prototype.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var r=this.getLine(e);return null==t&&(t=r.length),{row:e,column:t=Math.min(Math.max(t,0),r.length)}},e.prototype.clonePos=function(e){return{row:e.row,column:e.column}},e.prototype.pos=function(e,t){return{row:e,column:t}},e.prototype.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},e.prototype.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},e.prototype.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:"insert",lines:t}),this.clonePos(r)},e.prototype.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},e.prototype.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:r,end:i,action:"remove",lines:this.getLinesForRange({start:r,end:i})},!0),this.clonePos(r)},e.prototype.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,r=t<this.getLength()-1,i=n?e-1:e,s=n?this.getLine(i).length:0,a=r?t+1:t,u=r?0:this.getLine(a).length,l=new o(i,s,a,u),c=this.$lines.slice(e,t+1);return this.applyDelta({start:l.start,end:l.end,action:"remove",lines:this.getLinesForRange(l)}),c},e.prototype.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},e.prototype.replace=function(e,t){return e instanceof o||(e=o.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},e.prototype.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},e.prototype.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},e.prototype.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!o.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(r(this.$lines,e,t),this._signal("change",e)))},e.prototype.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},e.prototype.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,r=n.length-t+1,i=e.start.row,o=e.start.column,s=0,a=0;s<r;s=a){var u=n.slice(s,a+=t-1);u.push(""),this.applyDelta({start:this.pos(i+s,o),end:this.pos(i+a,o=0),action:e.action,lines:u},!0)}e.lines=n.slice(s),e.start.row=i+s,e.start.column=o,this.applyDelta(e,!0)},e.prototype.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},e.prototype.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=t||0,o=n.length;i<o;i++)if((e-=n[i].length+r)<0)return{row:i,column:e+n[i].length+r};return{row:o-1,column:e+n[o-1].length+r}},e.prototype.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,o=Math.min(e.row,n.length),s=t||0;s<o;++s)i+=n[s].length+r;return i+e.column},e.prototype.$split=function(e){return e.split(/\r\n|\r|\n/)},e}();a.prototype.$autoNewLine="",a.prototype.$newLineMode="auto",n.implement(a.prototype,i),t.Document=a})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t){"use strict";var n=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,i=function(){function e(e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var t=this;this.$worker=function(){if(t.running){for(var e=new Date,n=t.currentLine,r=-1,i=t.doc,o=n;t.lines[n];)n++;var s=i.getLength(),a=0;for(t.running=!1;n<s;){t.$tokenizeRow(n),r=n;do{n++}while(t.lines[n]);if(++a%5==0&&new Date-e>20){t.running=setTimeout(t.$worker,20);break}}t.currentLine=n,-1==r&&(r=n),o<=r&&t.fireUpdateEvent(o,r)}}}return e.prototype.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},e.prototype.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},e.prototype.fireUpdateEvent=function(e,t){this._signal("update",{data:{first:e,last:t}})},e.prototype.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},e.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},e.prototype.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},e.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},e.prototype.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},e.prototype.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},e.prototype.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.tokenizer.getLineTokens(t,this.states[e-1],e);return this.states[e]+""!=n.state+""?(this.states[e]=n.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=n.tokens},e.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},e}();n.implement(i.prototype,r),t.BackgroundTokenizer=i})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],(function(e,t){"use strict";var n=e("./lib/lang"),r=e("./range").Range,i=function(){function e(e,t,n){void 0===n&&(n="text"),this.setRegexp(e),this.clazz=t,this.type=n}return e.prototype.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},e.prototype.update=function(e,t,i,o){if(this.regExp)for(var s=o.lastRow,a={},u=o.firstRow;u<=s;u++){var l=this.cache[u];null==l&&((l=n.getMatchOffsets(i.getLine(u),this.regExp)).length>this.MAX_RANGES&&(l=l.slice(0,this.MAX_RANGES)),l=l.map((function(e){return new r(u,e.offset,u,e.offset+e.length)})),this.cache[u]=l.length?l:"");for(var c=l.length;c--;){var h=l[c].toScreenRange(i),p=h.toString();a[p]||(a[p]=!0,t.drawSingleLineMarker(e,h,this.clazz,o))}}},e}();i.prototype.MAX_RANGES=500,t.SearchHighlight=i})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t){"use strict";function n(e){return{row:e.row,column:e.column}}function r(e){if(e=e||this,Array.isArray(e))return e.map(r).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(i).join("\n"):i(e.value)),e.start&&(t+=i(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function i(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function o(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)if(d(t.start,e.end)>=0)u(t,e,-1);else{if(!(d(t.start,e.start)<=0))return null;u(e,t,1)}else if(n&&!r)if(d(t.start,e.end)>=0)u(t,e,-1);else{if(!(d(t.end,e.start)<=0))return null;u(e,t,-1)}else if(!n&&r)if(d(t.start,e.start)>=0)u(t,e,1);else{if(!(d(t.start,e.start)<=0))return null;u(e,t,1)}else if(!n&&!r)if(d(t.start,e.start)>=0)u(t,e,1);else{if(!(d(t.end,e.start)<=0))return null;u(e,t,-1)}return[t,e]}function s(e,t){for(var n=e.length;n--;)for(var r=0;r<t.length;r++)if(!o(e[n],t[r])){for(;n<e.length;){for(;r--;)o(t[r],e[n]);r=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function a(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)d(e.start,t.start)<0?u(t,e,1):u(e,t,1);else if(n&&!r)d(e.start,t.end)>=0?u(e,t,-1):(d(e.start,t.start)<=0||u(e,f.fromPoints(t.start,e.start),-1),u(t,e,1));else if(!n&&r)d(t.start,e.end)>=0?u(t,e,-1):(d(t.start,e.start)<=0||u(t,f.fromPoints(e.start,t.start),-1),u(e,t,1));else if(!n&&!r)if(d(t.start,e.end)>=0)u(t,e,-1);else{var i,o;if(!(d(t.end,e.start)<=0))return d(e.start,t.start)<0&&(i=e,e=c(e,t.start)),d(e.end,t.end)>0&&(o=c(e,t.end)),l(t.end,e.start,e.end,-1),o&&!i&&(e.lines=o.lines,e.start=o.start,e.end=o.end,o=e),[t,i,o].filter(Boolean);u(e,t,-1)}return[t,e]}function u(e,t,n){l(e.start,t.start,t.end,n),l(e.end,t.start,t.end,n)}function l(e,t,n,r){e.row==(1==r?t:n).row&&(e.column+=r*(n.column-t.column)),e.row+=r*(n.row-t.row)}function c(e,t){var r=e.lines,i=e.end;e.end=n(t);var o=e.end.row-e.start.row,s=r.splice(o,r.length),a=o?t.column:t.column-e.start.column;return r.push(s[0].substring(0,a)),s[0]=s[0].substr(a),{start:n(t),end:i,lines:s,action:e.action}}function h(e,t){t=function(e){return{start:n(e.start),end:n(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var r=e.length;r--;){for(var i=e[r],o=0;o<i.length;o++){var s=a(i[o],t);t=s[0],2!=s.length&&(s[2]?(i.splice(o+1,1,s[1],s[2]),o++):s[1]||(i.splice(o,1),o--))}i.length||e.splice(r,1)}return e}var p=function(){function e(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return e.prototype.addSession=function(e){this.$session=e},e.prototype.add=function(e,t){if(!this.$fromUndo&&e!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===t||!this.lastDeltas){this.lastDeltas=[];var n=this.$undoStack.length;n>this.$undoDepth-1&&this.$undoStack.splice(0,n-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev}"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e)}},e.prototype.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},e.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},e.prototype.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=n.length;r--;){var i=n[r][0];if(i.id<=e)break;i.id<t&&(i.ignore=!0)}this.lastDeltas=null},e.prototype.getSelection=function(e,t){for(var n=this.selections,r=n.length;r--;){var i=n[r];if(i.rev<e)return t&&(i=n[r+1]),i}},e.prototype.getRevision=function(){return this.$rev},e.prototype.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=null,i=0,o=n.length;o--;){var s=n[o][0];if(s.id<t&&!r&&(r=o+1),s.id<=e){i=o+1;break}}return n.slice(i,r)},e.prototype.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},e.prototype.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},e.prototype.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var r=e[n];if(r&&!r[0].ignore){for(;n<t-1;){var i=s(e[n],e[n+1]);e[n]=i[0],e[n+1]=i[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var r=n.pop(),i=null;return r&&(i=e.undoChanges(r,t),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,i}},e.prototype.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)h(e,r[i])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var r=this.$redoStack.pop(),i=null;return r&&(i=e.redoChanges(r,t),this.$undoStack.push(r),this.$syncRev()),this.$fromUndo=!1,i},e.prototype.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},e.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},e.prototype.canUndo=function(){return this.$undoStack.length>0},e.prototype.canRedo=function(){return this.$redoStack.length>0},e.prototype.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},e.prototype.isAtBookmark=function(){return this.$rev===this.mark},e.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},e.prototype.fromJSON=function(e){this.reset(),this.$undoStack=e.$undoStack,this.$redoStack=e.$redoStack},e.prototype.$prettyPrint=function(e){return e?r(e):r(this.$undoStack)+"\n---\n"+r(this.$redoStack)},e}();p.prototype.hasUndo=p.prototype.canUndo,p.prototype.hasRedo=p.prototype.canRedo,p.prototype.isClean=p.prototype.isAtBookmark,p.prototype.markClean=p.prototype.bookmark;var f=e("./range").Range,d=f.comparePoints;t.UndoManager=p})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t){"use strict";var n=e("../range").Range,r=function(){function e(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var r=t[t.length-1];this.range=new n(t[0].start.row,t[0].start.column,r.end.row,r.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}return e.prototype.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},e.prototype.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},e.prototype.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},e.prototype.walk=function(e,t,n){var r,i,o=0,s=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var u=0;u<s.length;u++){if(-1==(i=(r=s[u]).range.compareStart(t,n)))return void e(null,t,n,o,a);if(!e(null,r.start.row,r.start.column,o,a)&&e(r.placeholder,r.start.row,r.start.column,o)||0===i)return;a=!r.sameRow,o=r.end.column}e(null,t,n,o,a)},e.prototype.getNextFoldTo=function(e,t){for(var n,r,i=0;i<this.folds.length;i++){if(-1==(r=(n=this.folds[i]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===r)return{fold:n,kind:"inside"}}return null},e.prototype.addRemoveChars=function(e,t,n){var r,i,o=this.getNextFoldTo(e,t);if(o)if(r=o.fold,"inside"==o.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){var s=(i=this.folds).indexOf(r);for(0===s&&(this.start.column+=n);s<i.length;s++){if((r=i[s]).start.column+=n,!r.sameRow)return;r.end.column+=n}this.end.column+=n}},e.prototype.split=function(t,n){var r=this.getNextFoldTo(t,n);if(!r||"inside"==r.kind)return null;var i=this.folds,o=this.foldData,s=i.indexOf(r.fold),a=i[s-1];this.end.row=a.end.row,this.end.column=a.end.column;var u=new e(o,i=i.splice(s,i.length-s));return o.splice(o.indexOf(this)+1,0,u),u},e.prototype.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},e.prototype.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},e.prototype.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var r=this.folds[n];if((e-=r.start.column-t)<0)return{row:r.start.row,column:r.start.column+e};if((e-=r.placeholder.length)<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}},e}();t.FoldLine=r})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t){"use strict";var n=e("./range").Range.comparePoints,r=function(){function e(){this.ranges=[],this.$bias=1}return e.prototype.pointIndex=function(e,t,r){for(var i=this.ranges,o=r||0;o<i.length;o++){var s=i[o],a=n(e,s.end);if(!(a>0)){var u=n(e,s.start);return 0===a?t&&0!==u?-o-2:o:u>0||0===u&&!t?o:-o-1}}return-o-1},e.prototype.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},e.prototype.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},e.prototype.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},e.prototype.merge=function(){for(var e,t=[],r=this.ranges,i=(r=r.sort((function(e,t){return n(e.start,t.start)})))[0],o=1;o<r.length;o++){var s=n((e=i).end,(i=r[o]).start);s<0||(0!=s||e.isEmpty()||i.isEmpty())&&(n(e.end,i.end)<0&&(e.end.row=i.end.row,e.end.column=i.end.column),r.splice(o,1),t.push(i),i=e,o--)}return this.ranges=r,t},e.prototype.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},e.prototype.containsPoint=function(e){return this.pointIndex(e)>=0},e.prototype.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},e.prototype.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);i<0&&(i=-i-1);for(var o=[],s=r;s<i;s++)o.push(n[s]);return o},e.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},e.prototype.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},e.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},e.prototype.$onChange=function(e){for(var t=e.start,n=e.end,r=t.row,i=n.row,o=this.ranges,s=0,a=o.length;s<a;s++){if((c=o[s]).end.row>=r)break}if("insert"==e.action)for(var u=i-r,l=-t.column+n.column;s<a;s++){if((c=o[s]).start.row>r)break;if(c.start.row==r&&c.start.column>=t.column&&(c.start.column==t.column&&this.$bias<=0||(c.start.column+=l,c.start.row+=u)),c.end.row==r&&c.end.column>=t.column){if(c.end.column==t.column&&this.$bias<0)continue;c.end.column==t.column&&l>0&&s<a-1&&c.end.column>c.start.column&&c.end.column==o[s+1].start.column&&(c.end.column-=l),c.end.column+=l,c.end.row+=u}}else for(u=r-i,l=t.column-n.column;s<a;s++){if((c=o[s]).start.row>i)break;c.end.row<i&&(r<c.end.row||r==c.end.row&&t.column<c.end.column)?(c.end.row=r,c.end.column=t.column):c.end.row==i?c.end.column<=n.column?(u||c.end.column>t.column)&&(c.end.column=t.column,c.end.row=t.row):(c.end.column+=l,c.end.row+=u):c.end.row>i&&(c.end.row+=u),c.start.row<i&&(r<c.start.row||r==c.start.row&&t.column<c.start.column)?(c.start.row=r,c.start.column=t.column):c.start.row==i?c.start.column<=n.column?(u||c.start.column>t.column)&&(c.start.column=t.column,c.start.row=t.row):(c.start.column+=l,c.start.row+=u):c.start.row>i&&(c.start.row+=u)}if(0!=u&&s<a)for(;s<a;s++){var c;(c=o[s]).start.row+=u,c.end.row+=u}},e}();r.prototype.comparePoints=n,t.RangeList=r})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],(function(e,t){"use strict";function n(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function r(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t,n){var r=e.call(this)||this;return r.foldLine=null,r.placeholder=n,r.range=t,r.start=t.start,r.end=t.end,r.sameRow=t.start.row==t.end.row,r.subFolds=r.ranges=[],r}return o(t,e),t.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},t.prototype.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},t.prototype.clone=function(){var e=new t(this.range.clone(),this.placeholder);return this.subFolds.forEach((function(t){e.subFolds.push(t.clone())})),e.collapseChildren=this.collapseChildren,e},t.prototype.addSubFold=function(e){if(!this.range.isEqual(e)){var t,r;n((t=e).start,r=this.start),n(t.end,r);for(var i=e.start.row,o=e.start.column,s=0,a=-1;s<this.subFolds.length&&1==(a=this.subFolds[s].range.compare(i,o));s++);var u=this.subFolds[s],l=0;if(0==a){if(u.range.containsRange(e))return u.addSubFold(e);l=1}i=e.range.end.row,o=e.range.end.column;var c=s;for(a=-1;c<this.subFolds.length&&1==(a=this.subFolds[c].range.compare(i,o));c++);0==a&&c++;for(var h=this.subFolds.splice(s,c-s,e),p=0==a?h.length-1:h.length,f=l;f<p;f++)e.addSubFold(h[f]);return e.setFoldLine(this.foldLine),e}},t.prototype.restoreRange=function(e){return function(e,t){r(e.start,t),r(e.end,t)}(e,this.start)},t}(e("../range_list").RangeList);t.Fold=s})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],(function(e,t){"use strict";var n=e("../range").Range,r=e("./fold_line").FoldLine,i=e("./fold").Fold,o=e("../token_iterator").TokenIterator,s=e("../mouse/mouse_event").MouseEvent;t.Folding=function(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;for(var i=r.folds,o=0;o<i.length;o++){var s=i[o].range;if(s.contains(e,t)){if(1==n&&s.isEnd(e,t)&&!s.isEmpty())continue;if(-1==n&&s.isStart(e,t)&&!s.isEmpty())continue;return i[o]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var o=0;o<r.length;o++){var s=r[o].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=r[o].folds,u=0;u<a.length;u++){var l=a[u];if(-2==(s=l.range.compareRange(e)))break;if(2!=s){if(42==s)break;i.push(l)}}}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){if(!(r=r||this.getFoldLine(e)))return null;for(var i,o,s={end:{column:0}},a=0;a<r.folds.length;a++){var u=(o=r.folds[a]).range.compareEnd(e,t);if(-1==u){i=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===u)return null;s=o}return i||(i=this.getLine(o.start.row).substring(s.end.column)),-1==n?i.substring(0,t-s.end.column):1==n?i.substring(t-s.end.column):i},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,r=t-e+1,i=0;i<n.length;i++){var o=n[i],s=o.end.row,a=o.start.row;if(s>=t){a<t&&(a>=e?r-=t-a:r=0);break}s>=e&&(r-=a>=e?s-a:s-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,o=this.$foldData,s=!1;e instanceof i?n=e:(n=new i(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,u=n.start.column,l=n.end.row,c=n.end.column,h=this.getFoldAt(a,u,1),p=this.getFoldAt(l,c,-1);if(h&&p==h)return h.addSubFold(n);h&&!h.range.isStart(a,u)&&this.removeFold(h),p&&!p.range.isEnd(l,c)&&this.removeFold(p);var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),n.collapseChildren||f.forEach((function(e){n.addSubFold(e)})));for(var d=0;d<o.length;d++){var m=o[d];if(l==m.start.row){m.addFold(n),s=!0;break}if(a==m.end.row){if(m.addFold(n),s=!0,!n.sameRow){var g=o[d+1];if(g&&g.start.row==l){m.merge(g);break}}break}if(l<=m.start.row)break}return s||(m=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,o=t.folds;if(1==o.length)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);(o=s.folds).shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var r,i;if(null==e)r=new n(0,0,this.getLength(),0),null==t&&(t=!0);else if("number"==typeof e)r=new n(e,0,e,this.getLine(e).length);else if("row"in e)r=n.fromPoints(e,e);else{if(Array.isArray(e))return i=[],e.forEach((function(e){i=i.concat(this.unfold(e))}),this),i;r=e}for(var o=i=this.getFoldsInRangeList(r);1==i.length&&n.comparePoints(i[0].start,r.start)<0&&n.comparePoints(i[0].end,r.end)>0;)this.expandFolds(i),i=this.getFoldsInRangeList(r);if(0!=t?this.removeFolds(i):this.expandFolds(i),o.length)return o},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){null==r&&(r=e.start.row),null==i&&(i=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,s="";return e.walk((function(e,t,n,a){if(!(t<r)){if(t==r){if(n<i)return;a=Math.max(i,a)}s+=null!=e?e:o.getLine(t).substring(a,n)}}),t,n),s},this.getDisplayLine=function(e,t,n,r){var i,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,n,r):(i=this.doc.getLine(e)).substring(r||0,t||i.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new r(e,n)}))},this.toggleFold=function(e){var t,n,r=this.selection.getRange();if(r.isEmpty()){var i=r.start;if(t=this.getFoldAt(i.row,i.column))return void this.expandFold(t);(n=this.findMatchingBracket(i))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:i.row,column:i.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(i.row,i.column)||r}else{var o=this.getFoldsInRange(r);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(r.start.row,r.start.column)),t&&t.range.toString()==r.toString())this.expandFold(t);else{var s="...";if(!r.isMultiLine()){if((s=this.getTextRange(r)).length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,r)}},this.getCommentFoldRange=function(e,t,r){var i=new o(this,e,t),s=i.getCurrentToken(),a=s&&s.type;if(s&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start|\\.doc");var u=new RegExp(a),l=new n;if(1!=r){do{s=i.stepBackward()}while(s&&u.test(s.type)&&!/^comment.end/.test(s.type));s=i.stepForward()}if(l.start.row=i.getCurrentTokenRow(),l.start.column=i.getCurrentTokenColumn()+(/^comment.start/.test(s.type)?s.value.length:2),i=new o(this,e,t),-1!=r){var c=-1;do{if(s=i.stepForward(),-1==c){var h=this.getState(i.$row);u.test(h)||(c=i.$row)}else if(i.$row>c)break}while(s&&u.test(s.type)&&!/^comment.start/.test(s.type));s=i.stepBackward()}else s=i.getCurrentToken();return l.end.row=i.getCurrentTokenRow(),l.end.column=i.getCurrentTokenColumn(),/^comment.end/.test(s.type)||(l.end.column+=s.value.length-2),l}},this.foldAll=function(e,t,n,r){null==n&&(n=1e5);var i=this.foldWidgets;if(i){t=t||this.getLength();for(var o=e=e||0;o<t;o++)if(null==i[o]&&(i[o]=this.getFoldWidget(o)),"start"==i[o]&&(!r||r(o))){var s=this.getFoldWidgetRange(o);s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e&&(o=s.end.row,s.collapseChildren=n,this.addFold("...",s))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),r=0;r<n.length;r++){var i=n[r];if("text"!=i.type||!/^\s+$/.test(i.value))return!!/comment/.test(i.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var r,i=e-1;i>=0;){var o=n[i];if(null==o&&(o=n[i]=this.getFoldWidget(i)),"start"==o){var s=this.getFoldWidgetRange(i);if(r||(r=s),s&&s.end.row>=e)break}i--}return{range:-1!==i&&s,firstRange:r}},this.onFoldWidgetClick=function(e,t){if(t instanceof s&&(t=t.domEvent),!this.$toggleFoldWidget(e,{children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey})){var n=t.target||t.srcElement;n&&/ace_fold-widget/.test(n.className)&&(n.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),r=this.getLine(e),i="end"===n?-1:1,o=this.getFoldAt(e,-1===i?0:r.length,i);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var u=a.range.start.row+1,l=a.range.end.row;this.foldAll(u,l,t.all?1e4:0)}else t.children?(l=s?s.end.row:this.getLength(),this.foldAll(e+1,l,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var t=this.$toggleFoldWidget(e,{});if(!t){var n=this.getParentFoldRangeData(e,!0);if(t=n.range||n.firstRange){var r=this.getFoldAt(e=t.start.row,this.getLine(e).length,1);r?this.removeFold(r):this.addFold("...",t)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t){"use strict";var n=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,o=n.charAt(e.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){if(!(a=this.$findClosingBracket(s[1],e)))return null;t=r.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(s[2],e)))return null;t=r.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e,t){var n=this.getLine(e.row),i=/([\(\[\{])|([\)\]\}])/,o=!t&&n.charAt(e.column-1),s=o&&o.match(i);if(s||(o=(void 0===t||t)&&n.charAt(e.column),e={row:e.row,column:e.column+1},s=o&&o.match(i)),!s)return null;var a=new r(e.row,e.column-1,e.row,e.column),u=s[1]?this.$findClosingBracket(s[1],e):this.$findOpeningBracket(s[2],e);return u?[a,new r(u.row,u.column,u.row,u.column+1)]:[a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,r){var i=this.$brackets[e],o=1,s=new n(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){r||(r=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var u=t.column-s.getCurrentTokenColumn()-2,l=a.value;;){for(;u>=0;){var c=l.charAt(u);if(c==i){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:u+s.getCurrentTokenColumn()}}else c==e&&(o+=1);u-=1}do{a=s.stepBackward()}while(a&&!r.test(a.type));if(null==a)break;u=(l=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,r){var i=this.$brackets[e],o=1,s=new n(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){r||(r=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var u=t.column-s.getCurrentTokenColumn();;){for(var l=a.value,c=l.length;u<c;){var h=l.charAt(u);if(h==i){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:u+s.getCurrentTokenColumn()}}else h==e&&(o+=1);u+=1}do{a=s.stepForward()}while(a&&!r.test(a.type));if(null==a)break;u=0}return null}},this.getMatchingTags=function(e){var t=new n(this,e.row,e.column),r=this.$findTagName(t);if(r)return"<"===t.stepBackward().value?this.$findClosingTag(t,r):this.$findOpeningTag(t,r)},this.$findTagName=function(e){var t=e.getCurrentToken(),n=!1,r=!1;if(t&&-1===t.type.indexOf("tag-name"))do{(t=r?e.stepBackward():e.stepForward())&&("/>"===t.value?r=!0:-1!==t.type.indexOf("tag-name")&&(n=!0))}while(t&&!n);return t},this.$findClosingTag=function(e,t){var n,i=t.value,o=t.value,s=0,a=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);t=e.stepForward();var u=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length),l=!1;do{if(n=t,t=e.stepForward()){if(">"===t.value&&!l){var c=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);l=!0}if(-1!==t.type.indexOf("tag-name")){if(o===(i=t.value))if("<"===n.value)s++;else if("</"===n.value&&--s<0){e.stepBackward();var h=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2);t=e.stepForward();var p=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if(!(t=e.stepForward())||">"!==t.value)return;var f=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else if(o===i&&"/>"===t.value&&--s<0)f=p=h=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2),c=new r(u.end.row,u.end.column,u.end.row,u.end.column+1)}}while(t&&s>=0);if(a&&c&&h&&f&&u&&p)return{openTag:new r(a.start.row,a.start.column,c.end.row,c.end.column),closeTag:new r(h.start.row,h.start.column,f.end.row,f.end.column),openTagName:u,closeTagName:p}},this.$findOpeningTag=function(e,t){var n=e.getCurrentToken(),i=t.value,o=0,s=e.getCurrentTokenRow(),a=e.getCurrentTokenColumn(),u=a+2,l=new r(s,a,s,u);e.stepForward();var c=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if((t=e.stepForward())&&">"===t.value){var h=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);e.stepBackward(),e.stepBackward();do{if(t=n,s=e.getCurrentTokenRow(),u=(a=e.getCurrentTokenColumn())+t.value.length,n=e.stepBackward(),t)if(-1!==t.type.indexOf("tag-name")){if(i===t.value)if("<"===n.value){if(++o>0){var p=new r(s,a,s,u),f=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);do{t=e.stepForward()}while(t&&">"!==t.value);var d=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else"</"===n.value&&o--}else if("/>"===t.value){for(var m=0,g=n;g;){if(-1!==g.type.indexOf("tag-name")&&g.value===i){o--;break}if("<"===g.value)break;g=e.stepBackward(),m++}for(var y=0;y<m;y++)e.stepForward()}}while(n&&o<=0);return f&&d&&l&&h&&p&&c?{openTag:new r(f.start.row,f.start.column,d.end.row,d.end.column),closeTag:new r(l.start.row,l.start.column,h.end.row,h.end.column),openTagName:p,closeTagName:c}:void 0}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t){"use strict";function n(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}var i=e("./lib/oop"),o=e("./lib/lang"),s=e("./bidihandler").BidiHandler,a=e("./config"),u=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,h=e("./range").Range,p=e("./document").Document,f=e("./background_tokenizer").BackgroundTokenizer,d=e("./search_highlight").SearchHighlight,m=e("./undomanager").UndoManager,g=function(){function e(t,n){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++e.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new f((new c).getTokenizer(),this);var i=this;this.bgTokenizer.on("update",(function(e){i._signal("tokenizerUpdate",e)})),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==r(t)&&t.getLine||(t=new p(t)),this.setDocument(t),this.selection=new l(this),this.$bidiHandler=new s(this),a.resetOptions(this),this.setMode(n),a._signal("session",this),this.destroyed=!1}return e.prototype.setDocument=function(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},e.prototype.getDocument=function(){return this.doc},e.prototype.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},e.prototype.$getRowCacheIndex=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>1,o=e[i];if(t>o)n=i+1;else{if(!(t<o))return i;r=i-1}}return n-1},e.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},e.prototype.onChangeFold=function(e){this.$resetRowCache(e.data.start.row)},e.prototype.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},e.prototype.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},e.fromJSON=function(t){"string"==typeof t&&(t=JSON.parse(t));var n=new m;n.$undoStack=t.history.undo,n.$redoStack=t.history.redo,n.mark=t.history.mark,n.$rev=t.history.rev;var r=new e(t.value);return t.folds.forEach((function(e){r.addFold("...",h.fromPoints(e.start,e.end))})),r.setAnnotations(t.annotations),r.setBreakpoints(t.breakpoints),r.setMode(t.mode),r.setScrollLeft(t.scrollLeft),r.setScrollTop(t.scrollTop),r.setUndoManager(n),r.selection.fromJSON(t.selection),r},e.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map((function(e){return e.range})),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},e.prototype.toString=function(){return this.doc.getValue()},e.prototype.getSelection=function(){return this.selection},e.prototype.getState=function(e){return this.bgTokenizer.getState(e)},e.prototype.getTokens=function(e){return this.bgTokenizer.getTokens(e)},e.prototype.getTokenAt=function(e,t){var n,r=this.bgTokenizer.getTokens(e),i=0;if(null==t){var o=r.length-1;i=this.getLine(e).length}else for(o=0;o<r.length&&!((i+=r[o].value.length)>=t);o++);return(n=r[o])?(n.index=o,n.start=i-n.value.length,n):null},e.prototype.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=o.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},e.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},e.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},e.prototype.getTabString=function(){return this.getUseSoftTabs()?o.stringRepeat(" ",this.getTabSize()):"\t"},e.prototype.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},e.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},e.prototype.setTabSize=function(e){this.setOption("tabSize",e)},e.prototype.getTabSize=function(){return this.$tabSize},e.prototype.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},e.prototype.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},e.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},e.prototype.setOverwrite=function(e){this.setOption("overwrite",e)},e.prototype.getOverwrite=function(){return this.$overwrite},e.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},e.prototype.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},e.prototype.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},e.prototype.getBreakpoints=function(){return this.$breakpoints},e.prototype.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},e.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},e.prototype.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},e.prototype.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},e.prototype.addMarker=function(e,t,n,r){var i=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=o,this._signal("changeFrontMarker")):(this.$backMarkers[i]=o,this._signal("changeBackMarker")),i},e.prototype.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},e.prototype.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},e.prototype.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},e.prototype.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},e.prototype.highlightLines=function(e,t,n,r){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var i=new h(e,0,t,1/0);return i.id=this.addMarker(i,n,"fullLine",r),i},e.prototype.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},e.prototype.getAnnotations=function(){return this.$annotations||[]},e.prototype.clearAnnotations=function(){this.setAnnotations([])},e.prototype.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},e.prototype.getWordRange=function(e,t){var n=this.getLine(e),r=!1;if(t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe)),r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))i=/\s/;else i=this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(i));o++}for(var s=t;s<n.length&&n.charAt(s).match(i);)s++;return new h(e,o,e,s)},e.prototype.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),r=this.getLine(n.end.row);r.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},e.prototype.setNewLineMode=function(e){this.doc.setNewLineMode(e)},e.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},e.prototype.setUseWorker=function(e){this.setOption("useWorker",e)},e.prototype.getUseWorker=function(){return this.$useWorker},e.prototype.onReloadTokenizer=function(e){this.bgTokenizer.start(e.data.first),this._signal("tokenizerUpdate",e)},e.prototype.setMode=function(e,t){if(e&&"object"===r(e)){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=e.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,a.loadModule(["mode",i],function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},e.prototype.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var r=e.getTokenizer();if(void 0!==r.on){var i=this.onReloadTokenizer.bind(this);r.on("update",i)}this.bgTokenizer.setTokenizer(r),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},e.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},e.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){a.warn("Could not load worker",e),this.$worker=null}},e.prototype.getMode=function(){return this.$mode},e.prototype.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},e.prototype.getScrollTop=function(){return this.$scrollTop},e.prototype.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},e.prototype.getScrollLeft=function(){return this.$scrollLeft},e.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},e.prototype.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},e.prototype.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,o=this.$foldData[i],s=o?o.start.row:1/0,a=t.length,u=0;u<a;u++){if(u>s){if((u=o.end.row+1)>=a)break;s=(o=this.$foldData[i++])?o.start.row:1/0}null==n[u]&&(n[u]=this.$getStringScreenWidth(t[u])[0]),n[u]>r&&(r=n[u])}this.screenWidth=r}},e.prototype.getLine=function(e){return this.doc.getLine(e)},e.prototype.getLines=function(e,t){return this.doc.getLines(e,t)},e.prototype.getLength=function(){return this.doc.getLength()},e.prototype.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},e.prototype.insert=function(e,t){return this.doc.insert(e,t)},e.prototype.remove=function(e){return this.doc.remove(e)},e.prototype.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},e.prototype.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var r=e[n];"insert"==r.action||"remove"==r.action?this.doc.revertDelta(r):r.folds&&this.addFolds(r.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},e.prototype.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var r=e[n];"insert"!=r.action&&"remove"!=r.action||this.doc.$safeApplyDelta(r)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},e.prototype.setUndoSelect=function(e){this.$undoSelect=e},e.prototype.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var r,i,o=0;o<e.length;o++){var s=e[o];s.start&&(r?n(s)?(-1==r.compare((i=s.start).row,i.column)&&r.setStart(i),1==r.compare((i=s.end).row,i.column)&&r.setEnd(i)):-1==r.compare((i=s.start).row,i.column)&&(r=h.fromPoints(s.start,s.start)):r=n(s)?h.fromPoints(s.start,s.end):h.fromPoints(s.start,s.start))}return r},e.prototype.replace=function(e,t){return this.doc.replace(e,t)},e.prototype.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),o=h.fromPoints(t,t);n||(this.remove(e),(l=(u=e.start.row-e.end.row)?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=l),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=l)),u&&o.start.row>=e.end.row&&(o.start.row+=u,o.end.row+=u));if(o.end=this.insert(o.start,r),i.length){var s=e.start,a=o.start,u=a.row-s.row,l=a.column-s.column;this.addFolds(i.map((function(e){return(e=e.clone()).start.row==s.row&&(e.start.column+=l),e.end.row==s.row&&(e.end.column+=l),e.start.row+=u,e.end.row+=u,e})))}return o},e.prototype.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},e.prototype.outdentRows=function(e){for(var t=e.collapseRows(),n=new h(0,0,0,0),r=this.getTabSize(),i=t.start.row;i<=t.end.row;++i){var o=this.getLine(i);n.start.row=i,n.end.row=i;for(var s=0;s<r&&" "==o.charAt(s);++s);s<r&&"\t"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},e.prototype.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((i=this.getRowFoldStart(e+n))<0)return 0;var r=i-e}else if(n>0){var i;if((i=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;r=i-t}else{e=this.$clipRowToDocument(e);r=(t=this.$clipRowToDocument(t))-e+1}var o=new h(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=r,e.end.row+=r,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+r,a),s.length&&this.addFolds(s),r},e.prototype.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},e.prototype.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},e.prototype.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},e.prototype.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},e.prototype.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},e.prototype.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},e.prototype.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},e.prototype.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},e.prototype.getUseWrapMode=function(){return this.$useWrapMode},e.prototype.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},e.prototype.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1&&(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},e.prototype.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},e.prototype.getWrapLimit=function(){return this.$wrapLimit},e.prototype.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},e.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},e.prototype.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,i=e.end,o=r.row,s=i.row,a=s-o,u=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var l=this.$foldData;u=this.getFoldsInRange(e),this.removeFolds(u);var c=0;if(m=this.getFoldLine(i.row)){m.addRemoveChars(i.row,i.column,r.column-i.column),m.shiftRow(-a);var h=this.getFoldLine(o);h&&h!==m&&(h.merge(m),m=h),c=l.indexOf(m)+1}for(;c<l.length;c++){(m=l[c]).start.row>=i.row&&m.shiftRow(-a)}s=o}else{var p=Array(a);p.unshift(o,0);var f=t?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,p);l=this.$foldData,c=0;if(m=this.getFoldLine(o)){var d=m.range.compareInside(r.row,r.column);0==d?(m=m.split(r.row,r.column))&&(m.shiftRow(a),m.addRemoveChars(s,0,i.column-r.column)):-1==d&&(m.addRemoveChars(o,0,i.column-r.column),m.shiftRow(a)),c=l.indexOf(m)+1}for(;c<l.length;c++){var m;(m=l[c]).start.row>=o&&m.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===n&&(u=this.getFoldsInRange(e),this.removeFolds(u),a=-a),(m=this.getFoldLine(o))&&m.addRemoveChars(o,r.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),u},e.prototype.$updateRowLengthCache=function(e,t){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},e.prototype.$updateWrapData=function(e,t){var n,r,i=this.doc.getAllLines(),o=this.getTabSize(),s=this.$wrapData,a=this.$wrapLimit,u=e;for(t=Math.min(t,i.length-1);u<=t;)(r=this.getFoldLine(u,r))?(n=[],r.walk(function(e,t,r,o){var s;if(null!=e){(s=this.$getDisplayTokens(e,n.length))[0]=b;for(var a=1;a<s.length;a++)s[a]=x}else s=this.$getDisplayTokens(i[t].substring(o,r),n.length);n=n.concat(s)}.bind(this),r.end.row,i[r.end.row].length+1),s[r.start.row]=this.$computeWrapSplits(n,a,o),u=r.end.row+1):(n=this.$getDisplayTokens(i[u]),s[u]=this.$computeWrapSplits(n,a,o),u++)},e.prototype.$computeWrapSplits=function(e,t,n){function r(t){for(var r=t-s,o=s;o<t;o++){var p=e[o];12!==p&&2!==p||(r-=1)}i.length||(h=function(){var t=0;if(0===c)return t;if(l)for(var r=0;r<e.length;r++){var i=e[r];if(i==_)t+=1;else{if(i!=S){if(i==k)continue;break}t+=n}}return u&&!1!==l&&(t+=n),Math.min(t,c)}(),i.indent=h),i.push(a+=r),s=t}if(0==e.length)return[];for(var i=[],o=e.length,s=0,a=0,u=this.$wrapAsCode,l=this.$indentedSoftWrap,c=t<=Math.max(2*n,8)||!1===l?0:Math.floor(t/2),h=0;o-s>t-h;){var p=s+t-h;if(e[p-1]>=_&&e[p]>=_)r(p);else if(e[p]!=b&&e[p]!=x){for(var f=Math.max(p-(t-(t>>2)),s-1);p>f&&e[p]<b;)p--;if(u){for(;p>f&&e[p]<b;)p--;for(;p>f&&e[p]==w;)p--}else for(;p>f&&e[p]<_;)p--;p>f?r(++p):(e[p=s+t]==v&&p--,r(p-h))}else{for(;p!=s-1&&e[p]!=b;p--);if(p>s){r(p);continue}for(p=s+t;p<e.length&&e[p]==x;p++);if(p==e.length)break;r(p)}}return i},e.prototype.$getDisplayTokens=function(e,t){var r,i=[];t=t||0;for(var o=0;o<e.length;o++){var s=e.charCodeAt(o);if(9==s){r=this.getScreenTabSize(i.length+t),i.push(S);for(var a=1;a<r;a++)i.push(k)}else 32==s?i.push(_):s>39&&s<48||s>57&&s<64?i.push(w):s>=4352&&n(s)?i.push(y,v):i.push(y)}return i},e.prototype.$getStringScreenWidth=function(e,t,r){if(0==t)return[0,0];var i,o;for(null==t&&(t=1/0),r=r||0,o=0;o<e.length&&(9==(i=e.charCodeAt(o))?r+=this.getScreenTabSize(r):i>=4352&&n(i)?r+=2:r+=1,!(r>t));o++);return[r,o]},e.prototype.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},e.prototype.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},e.prototype.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},e.prototype.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},e.prototype.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},e.prototype.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},e.prototype.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},e.prototype.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},e.prototype.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},e.prototype.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},e.prototype.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var r,i,o=0,s=0,a=0,u=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,e),h=l.length;if(h&&c>=0){a=l[c],o=this.$docRowCache[c];var p=e>l[h-1]}else p=!h;for(var f=this.getLength()-1,d=this.getNextFoldLine(o),m=d?d.start.row:1/0;a<=e&&!(a+(u=this.getRowLength(o))>e||o>=f);)a+=u,++o>m&&(m=(d=this.getNextFoldLine(o=d.end.row+1,d))?d.start.row:1/0),p&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(d&&d.start.row<=o)r=this.getFoldDisplayLine(d),o=d.start.row;else{if(a+u<=e||o>f)return{row:f,column:this.getLine(f).length};r=this.getLine(o),d=null}var g=0,y=Math.floor(e-a);if(this.$useWrapMode){var v=this.$wrapData[o];v&&(i=v[y],y>0&&v.length&&(g=v.indent,r=r.substring(s=v[y-1]||v[v.length-1])))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+y,o,y)&&(t=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(r,t-g)[1],this.$useWrapMode&&s>=i&&(s=i-1),d?d.idxToPosition(s):{row:o,column:s}},e.prototype.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);var r,i=0,o=null;(r=this.getFoldAt(e=n.row,t=n.column,1))&&(e=r.start.row,t=r.start.column);var s,a=0,u=this.$docRowCache,l=this.$getRowCacheIndex(u,e),c=u.length;if(c&&l>=0){a=u[l],i=this.$screenRowCache[l];var h=e>u[c-1]}else h=!c;for(var p=this.getNextFoldLine(a),f=p?p.start.row:1/0;a<e;){if(a>=f){if((s=p.end.row+1)>e)break;f=(p=this.getNextFoldLine(s,p))?p.start.row:1/0}else s=a+1;i+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var d="";p&&a>=f?(d=this.getFoldDisplayLine(p,e,t),o=p.start.row):(d=this.getLine(e).substring(0,t),o=e);var m=0;if(this.$useWrapMode){var g=this.$wrapData[o];if(g){for(var y=0;d.length>=g[y];)i++,y++;d=d.substring(g[y-1]||0,d.length),m=y>0?g.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(i+=this.lineWidgets[a].rowsAbove),{row:i,column:m+this.$getStringScreenWidth(d)[0]}},e.prototype.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},e.prototype.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},e.prototype.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,r=0,i=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);r<n;){var o=this.$wrapData[r];e+=o?o.length+1:1,++r>i&&(r=t.end.row+1,i=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var s=this.$foldData,a=0;a<s.length;a++)e-=(t=s[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},e.prototype.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,r){if(0===n)return[0,0];var i,o;for(n||(n=1/0),r=r||0,o=0;o<t.length&&!((r+="\t"===(i=t.charAt(o))?this.getScreenTabSize(r):e.getCharacterWidth(i))>n);o++);return[r,o]})},e.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},e}();g.$uid=0,g.prototype.$modes=a.$modes,g.prototype.getValue=g.prototype.toString,g.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},g.prototype.$overwrite=!1,g.prototype.$mode=null,g.prototype.$modeId=null,g.prototype.$scrollTop=0,g.prototype.$scrollLeft=0,g.prototype.$wrapLimit=80,g.prototype.$useWrapMode=!1,g.prototype.$wrapLimitRange={min:null,max:null},g.prototype.lineWidgets=null,g.prototype.isFullWidth=n,i.implement(g.prototype,u);var y=1,v=2,b=3,x=4,w=9,_=10,S=11,k=12;e("./edit_session/folding").Folding.call(g.prototype),e("./edit_session/bracket_match").BracketMatch.call(g.prototype),a.defineOptions(g.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=g})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t){"use strict";var n=e("./lib/lang"),r=e("./lib/oop"),i=e("./range").Range,o=function(){function e(){this.$options={}}return e.prototype.set=function(e){return r.mixin(this.$options,e),this},e.prototype.getOptions=function(){return n.copyObject(this.$options)},e.prototype.setOptions=function(e){this.$options=e},e.prototype.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach((function(e,n,o,s){return r=new i(e,n,o,s),!(n==s&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))||(r=null,!1)})),r},e.prototype.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var r=t.range,o=r?e.getLines(r.start.row,r.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var u,l=a.length,c=o.length-l;e:for(var h=a.offset||0;h<=c;h++){for(var p=0;p<l;p++)if(-1==o[h+p].search(a[p]))continue e;var f=o[h],d=o[h+l-1],m=f.length-f.match(a[0])[0].length,g=d.match(a[l-1])[0].length;u&&u.end.row===h&&u.end.column>m||(s.push(u=new i(h,m,h+l-1,g)),l>2&&(h=h+l-2))}}else for(var y=0;y<o.length;y++){var v=n.getMatchOffsets(o[y],a);for(p=0;p<v.length;p++){var b=v[p];s.push(new i(y,b.offset,y,b.offset+b.length))}}if(r){var x=r.start.column,w=r.end.column;for(y=0,p=s.length-1;y<p&&s[y].start.column<x&&0==s[y].start.row;)y++;for(var _=r.end.row-r.start.row;y<p&&s[p].end.column>w&&s[p].end.row==_;)p--;for(s=s.slice(y,p+1),y=0,p=s.length;y<p;y++)s[y].start.row+=r.start.row,s[y].end.row+=r.start.row}return s},e.prototype.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(r){var i=r.exec(e);if(!i||i[0].length!=e.length)return null;if(n.regExp||(t=t.replace(/\$/g,"$$$$")),t=e.replace(r,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];t[o]=s&&s.toLowerCase()!=s?t[o].toUpperCase():t[o].toLowerCase()}t=t.join("")}return t}},e.prototype.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var r=e.needle;if(!e.needle)return e.re=!1;e.regExp||(r=n.escapeRegExp(r));var i=e.caseSensitive?"gm":"gmi";try{new RegExp(r,"u"),e.$supportsUnicodeFlag=!0,i+="u"}catch(t){e.$supportsUnicodeFlag=!1}if(e.wholeWord&&(r=function(e,t){function r(e,n){return void 0===n&&(n=!0),(i&&t.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w")).test(e)||t.regExp?i&&t.$supportsUnicodeFlag?n?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var i=n.supportsLookbehind(),o=Array.from(e),s=o[o.length-1];return r(o[0])+e+r(s,!1)}(r,e)),e.$isMultiLine=!t&&/[\n\r]/.test(r),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(r,i);try{var o=new RegExp(r,i)}catch(e){o=!1}return e.re=o},e.prototype.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(e){return!1}return r},e.prototype.$matchIterator=function(e,t){var r=this.$assembleRegExp(t);if(!r)return!1;var i=1==t.backwards,o=0!=t.skipCurrent,s=r.unicode,a=t.range,u=t.start;u||(u=a?a[i?"end":"start"]:e.selection.getRange()),u.start&&(u=u[o!=i?"end":"start"]);var l=a?a.start.row:0,c=a?a.end.row:e.getLength()-1;if(i)var h=function(e){var n=u.row;if(!f(n,u.column,e)){for(n--;n>=l;n--)if(f(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=c,l=u.row;n>=l;n--)if(f(n,Number.MAX_VALUE,e))return}};else h=function(e){var n=u.row;if(!f(n,u.column,e)){for(n+=1;n<=c;n++)if(f(n,0,e))return;if(0!=t.wrap)for(n=l,c=u.row;n<=c;n++)if(f(n,0,e))return}};if(t.$isMultiLine)var p=r.length,f=function(t,n,o){var s=i?t-p+1:t;if(!(s<0||s+p>e.getLength())){var a=e.getLine(s),u=a.search(r[0]);if(!(!i&&u<n||-1===u)){for(var l=1;l<p;l++)if(-1==(a=e.getLine(s+l)).search(r[l]))return;var c=a.match(r[p-1])[0].length;if(!(i&&c>n))return!!o(s,u,s+p-1,c)||void 0}}};else if(i)f=function(t,i,o){var a,u=e.getLine(t),l=[],c=0;for(r.lastIndex=0;a=r.exec(u);){if(c=a.index,!(p=a[0].length)){if(c>=u.length)break;r.lastIndex=c+=n.skipEmptyMatch(u,c,s)}if(a.index+p>i)break;l.push(a.index,p)}for(var h=l.length-1;h>=0;h-=2){var p,f=l[h-1];if(o(t,f,t,f+(p=l[h])))return!0}};else f=function(t,i,o){var a,u,l=e.getLine(t);for(r.lastIndex=i;u=r.exec(l);){var c=u[0].length;if(o(t,a=u.index,t,a+c))return!0;if(!c&&(r.lastIndex=a+=n.skipEmptyMatch(l,a,s),a>=l.length))return!1}};return{forEach:h}},e}();t.Search=o})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t){"use strict";function n(e){return"object"==r(e)&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=e("../lib/keys"),a=e("../lib/useragent"),u=s.KEY_MODS,l=function(){function e(e,t){this.$init(e,t,!1)}return e.prototype.$init=function(e,t,n){this.platform=t||(a.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=n},e.prototype.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},e.prototype.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var o=r[i];if(o==e)delete r[i];else if(Array.isArray(o)){var s=o.indexOf(e);-1!=s&&(o.splice(s,1),1==o.length&&(r[i]=o[0]))}}},e.prototype.bindKey=function(e,t,n){if("object"==r(e)&&e&&(null==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var r="";if(-1!=e.indexOf(" ")){var i=e.split(/\s+/);e=i.pop(),i.forEach((function(e){var t=this.parseKeys(e);this._addCommandToBinding(r+=(r?" ":"")+(u[t.hashId]+t.key),"chainKeys")}),this),r+=" "}var o=this.parseKeys(e);this._addCommandToBinding(r+(u[o.hashId]+o.key),t,n)}),this)},e.prototype._addCommandToBinding=function(e,t,r){var i,o=this.commandKeyBinding;if(t)if(!o[e]||this.$singleCommand)o[e]=t;else{Array.isArray(o[e])?-1!=(i=o[e].indexOf(t))&&o[e].splice(i,1):o[e]=[o[e]],"number"!=typeof r&&(r=n(t));var s=o[e];for(i=0;i<s.length;i++){if(n(s[i])>r)break}s.splice(i,0,t)}else delete o[e]},e.prototype.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"===r(n)&&(n.name||(n.name=t),this.addCommand(n))}}),this)},e.prototype.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},e.prototype.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},e.prototype._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},e.prototype.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),r=s[n];if(s.FUNCTION_KEYS[r])n=s.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var i=0,o=t.length;o--;){var a=s.KEY_MODS[t[o]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[o]+" in "+e),!1;i|=a}return{key:n,hashId:i}},e.prototype.findKeyCommand=function(e,t){return this.commandKeyBinding[u[e]+t]},e.prototype.handleKeyboard=function(e,t,n,r){if(!(r<0)){var i=u[t]+n,o=this.commandKeyBinding[i];return e.$keyChain&&(e.$keyChain+=" "+i,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||r>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-i.length-1)),{command:o}):(e.$keyChain=e.$keyChain||i,{command:"null"})}},e.prototype.getStatusText=function(e,t){return t.$keyChain||""},e}(),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.$singleCommand=!0,r}return o(t,e),t}(l);c.call=function(e,t,n){l.prototype.$init.call(e,t,n,!0)},l.call=function(e,t,n){l.prototype.$init.call(e,t,n,!1)},t.HashHandler=c,t.MultiHashHandler=l})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=e("../lib/oop"),o=e("../keyboard/hash_handler").MultiHashHandler,s=e("../lib/event_emitter").EventEmitter,a=function(e){function t(t,n){var r=e.call(this,n,t)||this;return r.byName=r.commands,r.setDefaultHandler("exec",(function(e){return e.args?e.command.exec(e.editor,e.args,e.event,!1):e.command.exec(e.editor,{},e.event,!0)})),r}return r(t,e),t.prototype.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit("exec",i),this._signal("afterExec",i),!1!==i.returnValue},t.prototype.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},t.prototype.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},t.prototype.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))},t}(o);i.implement(a.prototype,s),t.CommandManager=a})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t){"use strict";function n(e,t){return{win:e,mac:t}}var r=e("../lib/lang"),i=e("../config"),o=e("../range").Range;t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:n("Ctrl-,","Command-,"),exec:function(e){i.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:n("Alt-E","F4"),exec:function(e){i.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:n("Alt-Shift-E","Shift-F4"),exec:function(e){i.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:n("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:n(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:n("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:n("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:n("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:n("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:n("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:n("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:n("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:n("Ctrl-F","Command-F"),exec:function(e){i.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:n("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:n("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:n("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:n("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:n("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:n("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:n("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:n("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:n("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:n("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:n("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:n("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:n("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:n("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:n(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:n(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:n("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:n("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:n("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:n("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:n("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:n(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:n("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:n("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(e){i.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:n("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:n("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:n("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:n("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:n("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:n("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:n("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:n(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:n("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:n(null,null),exec:function(e){e.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:n("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:n("Ctrl+F3","F3"),exec:function(e){e.openLink()}},{name:"joinlines",description:"Join lines",bindKey:n(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,u=e.session.doc.getLine(n.row),l=n.row+1;l<=i.row+1;l++){var c=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(l)));0!==c.length&&(c=" "+c),u+=c}i.row+1<e.session.doc.getLength()-1&&(u+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,i.row+2,0),u),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:n(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var s=0;s<r.length;s++)s==r.length-1&&(r[s].end.row===t&&r[s].end.column===n||i.push(new o(r[s].end.row,r[s].end.column,t,n))),0===s?0===r[s].start.row&&0===r[s].start.column||i.push(new o(0,0,r[s].start.row,r[s].start.column)):i.push(new o(r[s-1].end.row,r[s-1].end.column,r[s].start.row,r[s].start.column));e.exitMultiSelectMode(),e.clearSelection();for(s=0;s<i.length;s++)e.selection.addRange(i[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(e){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),e.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:n("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:n(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var s=1;s<9;s++)t.commands.push({name:"foldToLevel"+s,description:"Fold To Level "+s,level:s,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t){"use strict";var n=e("./lib/dom"),r=function(){function e(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return e.prototype.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},e.prototype.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},e.prototype.$onChangeEditor=function(e){this.attach(e.editor)},e.prototype.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},e.prototype.detach=function(){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var t=this.session.lineWidgets;t&&t.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},e.prototype.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var r=e.data,i=r.start.row,o=r.end.row,s="add"==e.action,a=i+1;a<o;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[i]?n[o].hidden=s:n[i]=n[o]:(n[i]==n[o]&&(n[i]=void 0),n[o].hidden=s))}},e.prototype.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,r=e.end.row-n;if(0===r);else if("remove"==e.action){var i=t.splice(n+1,r);!t[n]&&i[i.length-1]&&(t[n]=i.pop()),i.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var o=new Array(r);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},e.prototype.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},e.prototype.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},e.prototype.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=n.createElement("div"),e.el.innerHTML=e.html),e.text&&!e.el&&(e.el=n.createElement("div"),e.el.textContent=e.text),e.el&&(n.addCssClass(e.el,"ace_lineWidgetContainer"),e.className&&n.addCssClass(e.el,e.className),e.el.style.position="absolute",e.el.style.zIndex="5",t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex="3"),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var r=this.session.getFoldAt(e.row,0);if(e.$fold=r,r){var i=this.session.lineWidgets;e.row!=r.end.row||i[r.start.row]?e.hidden=!0:i[r.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},e.prototype.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},e.prototype.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],r=[];n;)r.push(n),n=n.$oldWidget;return r},e.prototype.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},e.prototype.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(n&&n.length){for(var i=1/0,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/r.characterWidth));var a=s.h/r.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<i&&(i=s.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},e.prototype.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(r){for(var i=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,r.length);i>0&&!r[i];)i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=i;s<=o;s++){var a=r[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var u=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(u+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=u-n.offset+"px";var l=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(l-=t.scrollLeft),a.el.style.left=l+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.el.style.right=a.fixedWidth?t.scrollBar.getWidth()+"px":""}}}},e}();t.LineWidgets=r})),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],(function(e,t){"use strict";var n=e("../lib/keys"),r=e("../mouse/default_gutter_handler").GutterTooltip,i=function(){function e(e){this.editor=e,this.gutterLayer=e.renderer.$gutterLayer,this.element=e.renderer.$gutter,this.lines=e.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new r(this.editor)}return e.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},e.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},e.prototype.$onGutterKeyDown=function(e){if(this.annotationTooltip.isOpen)return e.preventDefault(),void(e.keyCode===n.escape&&this.annotationTooltip.hideTooltip());if(e.target===this.element){if(e.keyCode!=n.enter)return;e.preventDefault();var t=this.editor.getCursorPosition().row;return this.editor.isRowVisible(t)||this.editor.scrollToLine(t,!0,!0),void setTimeout(function(){var e=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),t=this.$findNearestFoldWidget(e),n=this.$findNearestAnnotation(e);if(null!==t||null!==n)return null===t&&null!==n?(this.activeRowIndex=n,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):null!==t&&null===n?(this.activeRowIndex=t,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex)):Math.abs(n-e)<Math.abs(t-e)?(this.activeRowIndex=n,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):(this.activeRowIndex=t,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10)}this.$handleGutterKeyboardInteraction(e),setTimeout(function(){this.editor._signal("gutterkeydown",new o(e,this))}.bind(this),10)},e.prototype.$handleGutterKeyboardInteraction=function(e){if(e.keyCode!==n.tab){if(e.keyCode===n.escape)return e.preventDefault(),this.$blurGutter(),this.element.focus(),void(this.lane=null);if(e.keyCode!==n.up)if(e.keyCode!==n.down){if(e.keyCode===n.left)return e.preventDefault(),void this.$switchLane("annotation");if(e.keyCode===n.right)return e.preventDefault(),void this.$switchLane("fold");if(e.keyCode!==n.enter&&e.keyCode!==n.space);else switch(e.preventDefault(),this.activeLane){case"fold":if("start"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]){var t=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),e),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==t&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(t),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}if("end"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)])break;return;case"annotation":var r=this.lines.cells[this.activeRowIndex].element.childNodes[2].getBoundingClientRect(),i=this.annotationTooltip.getElement().style;i.left=r.right+"px",i.top=r.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}}else e.preventDefault()},e.prototype.$blurGutter=function(){if(null!==this.activeRowIndex)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},e.prototype.$isFoldWidgetVisible=function(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n="none"!==this.$getFoldWidget(e).style.display;return t&&n},e.prototype.$isAnnotationVisible=function(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n="none"!==this.$getAnnotation(e).style.display;return t&&n},e.prototype.$getFoldWidget=function(e){return this.lines.get(e).element.childNodes[1]},e.prototype.$getAnnotation=function(e){return this.lines.get(e).element.childNodes[2]},e.prototype.$findNearestFoldWidget=function(e){if(this.$isFoldWidgetVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(e-++t>=0&&this.$isFoldWidgetVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(e+t))return e+t}return null},e.prototype.$findNearestAnnotation=function(e){if(this.$isAnnotationVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(e-++t>=0&&this.$isAnnotationVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isAnnotationVisible(e+t))return e+t}return null},e.prototype.$focusFoldWidget=function(e){if(null!=e){var t=this.$getFoldWidget(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}},e.prototype.$focusAnnotation=function(e){if(null!=e){var t=this.$getAnnotation(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}},e.prototype.$blurFoldWidget=function(e){var t=this.$getFoldWidget(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()},e.prototype.$blurAnnotation=function(e){var t=this.$getAnnotation(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()},e.prototype.$moveFoldWidgetUp=function(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isFoldWidgetVisible(e))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=e,void this.$focusFoldWidget(this.activeRowIndex)},e.prototype.$moveFoldWidgetDown=function(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isFoldWidgetVisible(e))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=e,void this.$focusFoldWidget(this.activeRowIndex)},e.prototype.$moveAnnotationUp=function(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isAnnotationVisible(e))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,void this.$focusAnnotation(this.activeRowIndex)},e.prototype.$moveAnnotationDown=function(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isAnnotationVisible(e))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,void this.$focusAnnotation(this.activeRowIndex)},e.prototype.$switchLane=function(e){switch(e){case"annotation":if("annotation"===this.activeLane)break;var t=this.$findNearestAnnotation(this.activeRowIndex);if(null==t)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=t,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if("fold"===this.activeLane)break;var n=this.$findNearestFoldWidget(this.activeRowIndex);if(null==n)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=n,this.$focusFoldWidget(this.activeRowIndex)}},e.prototype.$rowIndexToRow=function(e){var t=this.lines.get(e);return t?t.row:null},e.prototype.$rowToRowIndex=function(e){for(var t=0;t<this.lines.getLength();t++){if(this.lines.get(t).row==e)return t}return null},e}();t.GutterKeyboardHandler=i;var o=function(){function e(e,t){this.gutterKeyboardHandler=t,this.domEvent=e}return e.prototype.getKey=function(){return n.keyCodeToString(this.domEvent.keyCode)},e.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},e.prototype.isInAnnotationLane=function(){return"annotation"===this.gutterKeyboardHandler.activeLane},e.prototype.isInFoldLane=function(){return"fold"===this.gutterKeyboardHandler.activeLane},e}();t.GutterKeyboardEvent=o})),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],(function(e,t){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=e("./lib/oop"),o=e("./lib/dom"),s=e("./lib/lang"),a=e("./lib/useragent"),u=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,h=e("./keyboard/keybinding").KeyBinding,p=e("./edit_session").EditSession,f=e("./search").Search,d=e("./range").Range,m=e("./lib/event_emitter").EventEmitter,g=e("./commands/command_manager").CommandManager,y=e("./commands/default_commands").commands,v=e("./config"),b=e("./token_iterator").TokenIterator,x=e("./line_widgets").LineWidgets,w=e("./keyboard/gutter_handler").GutterKeyboardHandler,_=e("./config").nls,S=e("./clipboard"),k=e("./lib/keys"),T=function(){function e(t,n,i){this.$toDestroy=[];var o=t.getContainerElement();this.container=o,this.renderer=t,this.id="editor"+ ++e.$uid,this.commands=new g(a.isMac?"mac":"win",y),"object"==("undefined"==typeof document?"undefined":r(document))&&(this.textInput=new u(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new c(this)),this.keyBinding=new h(this),this.$search=(new f).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(n||i&&i.session||new p("")),v.resetOptions(this),i&&this.setOptions(i),v._signal("editor",this)}return e.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},e.prototype.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},e.prototype.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),i=this.renderer.layerConfig;(r.start.row>=i.lastRow||r.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},e.prototype.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var i=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},e.prototype.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],(function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},e.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},e.prototype.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&!e.destroyed&&e.bgTokenizer.scheduleStart()}},e.prototype.getSession=function(){return this.session},e.prototype.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},e.prototype.getValue=function(){return this.session.getValue()},e.prototype.getSelection=function(){return this.selection},e.prototype.resize=function(e){this.renderer.onResize(e)},e.prototype.setTheme=function(e,t){this.renderer.setTheme(e,t)},e.prototype.getTheme=function(){return this.renderer.getTheme()},e.prototype.setStyle=function(e){this.renderer.setStyle(e)},e.prototype.unsetStyle=function(e){this.renderer.unsetStyle(e)},e.prototype.getFontSize=function(){return this.getOption("fontSize")||o.computedStyle(this.container).fontSize},e.prototype.setFontSize=function(e){this.setOption("fontSize",e)},e.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&!t.destroyed){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=e.getCursorPosition(),r=e.getKeyboardHandler(),i=r&&r.$getDirectionForHighlight&&r.$getDirectionForHighlight(e),o=t.getMatchingBracketRanges(n,i);if(!o){var s=new b(t,n.row,n.column).getCurrentToken();if(s&&/\b(?:tag-open|tag-name)/.test(s.type)){var a=t.getMatchingTags(n);a&&(o=[a.openTagName,a.closeTagName])}}if(!o&&t.$mode.getMatching&&(o=t.$mode.getMatching(e.session)),o){var u="ace_bracket";Array.isArray(o)?1==o.length&&(u="ace_error_bracket"):o=[o],2==o.length&&(0==d.comparePoints(o[0].end,o[1].start)?o=[d.fromPoints(o[0].start,o[1].end)]:0==d.comparePoints(o[0].start,o[1].end)&&(o=[d.fromPoints(o[1].start,o[0].end)])),t.$bracketHighlight={ranges:o,markerIds:o.map((function(e){return t.addMarker(e,u,"text")}))},e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}else e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}}),50)}},e.prototype.focus=function(){this.textInput.focus()},e.prototype.isFocused=function(){return this.textInput.isFocused()},e.prototype.blur=function(){this.textInput.blur()},e.prototype.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},e.prototype.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},e.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},e.prototype.onDocumentChange=function(e){this.renderer.updateLines(e.start.row,e.start.row==e.end.row?e.end.row:1/0,this.session.$useWrapMode),this._signal("change",e),this.$cursorChange()},e.prototype.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},e.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},e.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},e.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},e.prototype.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new d(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},e.prototype.onSelectionChange=function(){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var t=this.selection.getRange(),n=this.getSelectionStyle();e.$selectionMarker=e.addMarker(t,"ace_selection",n)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},e.prototype.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,r=t.end.column,i=e.getLine(t.start.row),o=i.substring(n,r);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=i.substring(n-1,r+1);if(s.test(a))return s}}},e.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},e.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},e.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},e.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},e.prototype.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},e.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},e.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},e.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},e.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},e.prototype.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var r=this.selection.getAllRanges(),i=0;i<r.length;i++){var o=r[i];i&&r[i-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var s={text:e};return this._signal("copy",s),S.lineMode=!!n&&s.text,s.text},e.prototype.onCopy=function(){this.commands.exec("copy",this)},e.prototype.onCut=function(){this.commands.exec("cut",this)},e.prototype.onPaste=function(e,t){this.commands.exec("paste",this,{text:e,event:t})},e.prototype.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t===S.lineMode,r=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?r.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){r.insert({row:e.start.row,column:0},t)}));else{var i=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges;if(i.length!=o.length||!(2!=i.length||i[0]&&i[1]))return this.commands.exec("insertstring",this,t);for(var s=o.length;s--;){var a=o[s];a.isEmpty()||r.remove(a),r.insert(a.start,i[s])}}},e.prototype.execCommand=function(e,t){return this.commands.exec(e,this,t)},e.prototype.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=r.transformAction(n.getState(i.row),"insertion",this,n,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){(s=d.fromPoints(i,i)).end.column+=e.length,this.session.remove(s)}}else{var s=this.getSelectionRange();i=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(i.row);if(i.column>a.search(/\S|$/)){var u=a.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+u)}}this.clearSelection();var l=i.column,c=n.getState(i.row),h=(a=n.getLine(i.row),r.checkOutdent(c,a,e));if(n.insert(i,e),o&&o.selection&&this.selection.setSelectionRange(2==o.selection.length?new d(i.row,l+o.selection[0],i.row,l+o.selection[1]):new d(i.row+o.selection[0],o.selection[1],i.row+o.selection[2],o.selection[3])),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var p=r.getNextLineIndent(c,a.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},p)}h&&r.autoOutdent(c,n,i.row)}},e.prototype.autoIndent=function(){for(var e=this.session,t=e.getMode(),n=this.selection.isEmpty()?[new d(0,0,e.doc.getLength()-1,0)]:this.selection.getAllRanges(),r="",i="",o="",s=e.getTabString(),a=0;a<n.length;a++)for(var u=n[a].end.row,l=n[a].start.row;l<=u;l++){l>0&&(r=e.getState(l-1),i=e.getLine(l-1),o=t.getNextLineIndent(r,i,s));var c=e.getLine(l),h=t.$getIndent(c);if(o!==h){if(h.length>0){var p=new d(l,0,l,h.length);e.remove(p)}o.length>0&&e.insert({row:l,column:0},o)}t.autoOutdent(r,e,l)}},e.prototype.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},e.prototype.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove());(!e&&this.selection.isEmpty()||this.insert(e,!0),t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},e.prototype.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},e.prototype.setOverwrite=function(e){this.session.setOverwrite(e)},e.prototype.getOverwrite=function(){return this.session.getOverwrite()},e.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},e.prototype.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},e.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},e.prototype.setDragDelay=function(e){this.setOption("dragDelay",e)},e.prototype.getDragDelay=function(){return this.getOption("dragDelay")},e.prototype.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},e.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},e.prototype.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},e.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},e.prototype.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},e.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},e.prototype.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},e.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},e.prototype.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},e.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},e.prototype.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},e.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},e.prototype.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},e.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},e.prototype.setHighlightIndentGuides=function(e){this.renderer.setHighlightIndentGuides(e)},e.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},e.prototype.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},e.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},e.prototype.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},e.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},e.prototype.setReadOnly=function(e){this.setOption("readOnly",e)},e.prototype.getReadOnly=function(){return this.getOption("readOnly")},e.prototype.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},e.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},e.prototype.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},e.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},e.prototype.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},e.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},e.prototype.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},e.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},e.prototype.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},e.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},e.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},e.prototype.setGhostText=function(e,t){this.session.widgetManager||(this.session.widgetManager=new x(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(e,t)},e.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},e.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,r,i=this.session.getLine(e.row);t<i.length?(n=i.charAt(t)+i.charAt(t-1),r=new d(e.row,t-1,e.row,t+1)):(n=i.charAt(t-1)+i.charAt(t-2),r=new d(e.row,t-2,e.row,t)),this.session.replace(r,n),this.session.selection.moveToPosition(r.end)}}},e.prototype.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},e.prototype.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},e.prototype.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){c=this.$getSelectedRows();return void e.indentRows(c.first,c.last,"\t")}}var r=e.getLine(t.start.row),i=t.start,o=e.getTabSize(),a=e.documentToScreenColumn(i.row,i.column);if(this.session.getUseSoftTabs())var u=s.stringRepeat(" ",l=o-a%o);else{for(var l=a%o;" "==r[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),u="\t"}return this.insert(u)}var c=this.$getSelectedRows();e.indentRows(c.first,c.last,"\t")},e.prototype.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},e.prototype.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},e.prototype.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var i=new d(0,0,0,0);for(r=e.first;r<=e.last;r++){var o=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=o.length,t.replace(i,n[r-e.first])}},e.prototype.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},e.prototype.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},e.prototype.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var r=this.session.getLine(e);n.lastIndex<t;){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t)return{value:i[0],start:i.index,end:i.index+i[0].length}}return null},e.prototype.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new d(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var o=this.getNumberAt(t,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,u=parseFloat(o.value);u*=Math.pow(10,a),u+=e*=s!==o.end&&n<s?Math.pow(10,o.end-n-1):Math.pow(10,o.end-n);var l=(u/=Math.pow(10,a)).toFixed(a),c=new d(t,o.start,t,o.end);this.session.replace(c,l),this.moveCursorTo(t,Math.max(o.start+1,n+l.length-o.value.length))}}else this.toggleWord()},e.prototype.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),r=this.selection.getWordRange().start.column,i=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),o=t-r-1;o<0&&(o=0);var a=0,u=0,l=this;n.match(/[A-Za-z0-9_]+/)&&i.forEach((function(t){u=a+t.length,o>=a&&o<=u&&(n=t,l.selection.clearSelection(),l.moveCursorTo(e,a+r),l.selection.selectTo(e,u+r)),a=u}));for(var c,h=this.$toggleWordPairs,p=0;p<h.length;p++)for(var f=h[p],d=0;d<=1;d++){var m=+!d,g=n.match(new RegExp("^\\s?_?("+s.escapeRegExp(f[d])+")\\s?$","i"));if(g)n.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(g[1])+")($|\\s)","g"))&&(c=n.replace(new RegExp(s.escapeRegExp(f[d]),"i"),(function(e){var t=f[m];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+f[m].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(c),c="")}},e.prototype.findLinkAt=function(e,t){var r,i,o=this.session.getLine(e).split(/((?:https?|ftp):\/\/[\S]+)/),s=t;s<0&&(s=0);var a,u=0,l=0;try{for(var c=n(o),h=c.next();!h.done;h=c.next()){var p=h.value;if(l=u+p.length,s>=u&&s<=l&&p.match(/((?:https?|ftp):\/\/[\S]+)/)){a=p.replace(/[\s:.,'";}\]]+$/,"");break}u=l}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return a},e.prototype.openLink=function(){var e=this.selection.getCursor(),t=this.findLinkAt(e.row,e.column);return t&&window.open(t,"_blank"),null!=t},e.prototype.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},e.prototype.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var o=r?n.start:n.end,s=t.insert(o,t.getTextRange(n));n.start=o,n.end=s,e.setSelectionRange(n,r)}},e.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},e.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},e.prototype.moveText=function(e,t,n){return this.session.moveText(e,t,n)},e.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},e.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},e.prototype.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var o=i.toOrientedRange();n=this.$getSelectedRows(o),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(r=0),o.moveBy(r,0),i.fromOrientedRange(o)}else{var s=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,u=0,l=s.length,c=0;c<l;c++){var h=c;s[c].moveBy(a,0);for(var p=(n=this.$getSelectedRows(s[c])).first,f=n.last;++c<l;){u&&s[c].moveBy(u,0);var d=this.$getSelectedRows(s[c]);if(t&&d.first!=f)break;if(!t&&d.first>f+1)break;f=d.last}for(c--,a=this.session.$moveLines(p,f,t?0:e),t&&-1==e&&(h=c+1);h<=c;)s[h].moveBy(a,0),h++;t||(a=0),u+=a}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},e.prototype.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},e.prototype.onCompositionStart=function(e){this.renderer.showComposition(e)},e.prototype.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},e.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},e.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},e.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},e.prototype.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},e.prototype.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},e.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},e.prototype.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(i,0)})):!1===t&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,i*r.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},e.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},e.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},e.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},e.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},e.prototype.scrollPageDown=function(){this.$moveByPage(1)},e.prototype.scrollPageUp=function(){this.$moveByPage(-1)},e.prototype.scrollToRow=function(e){this.renderer.scrollToRow(e)},e.prototype.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},e.prototype.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},e.prototype.getCursorPosition=function(){return this.selection.getCursor()},e.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},e.prototype.getSelectionRange=function(){return this.selection.getRange()},e.prototype.selectAll=function(){this.selection.selectAll()},e.prototype.clearSelection=function(){this.selection.clearSelection()},e.prototype.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},e.prototype.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},e.prototype.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new b(this.session,n.row,n.column),i=r.getCurrentToken(),o=0;i&&-1!==i.type.indexOf("tag-name")&&(i=r.stepBackward());var s=i||r.stepForward();if(s){var a,u,l=!1,c={},h=n.column-s.start,p={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(s.value.match(/[{}()\[\]]/g)){for(;h<s.value.length&&!l;h++)if(p[s.value[h]])switch(u=p[s.value[h]]+"."+s.type.replace("rparen","lparen"),isNaN(c[u])&&(c[u]=0),s.value[h]){case"(":case"[":case"{":c[u]++;break;case")":case"]":case"}":c[u]--,-1===c[u]&&(a="bracket",l=!0)}}else-1!==s.type.indexOf("tag-name")&&(isNaN(c[s.value])&&(c[s.value]=0),"<"===i.value&&o>1?c[s.value]++:"</"===i.value&&c[s.value]--,-1===c[s.value]&&(a="tag",l=!0));l||(i=s,o++,s=r.stepForward(),h=0)}while(s&&!l);if(a){var f,m;if("bracket"===a)(f=this.session.getBracketRange(n))||(m=(f=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+h-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+h-1)).start,(t||m.row===n.row&&Math.abs(m.column-n.column)<2)&&(f=this.session.getBracketRange(m)));else if("tag"===a){if(!s||-1===s.type.indexOf("tag-name"))return;if(0===(f=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2)).compare(n.row,n.column)){var g=this.session.getMatchingTags(n);g&&(g.openTag.contains(n.row,n.column)?m=(f=g.closeTag).start:(f=g.openTag,m=g.closeTag.start.row===n.row&&g.closeTag.start.column===n.column?f.end:f.start))}m=m||f.start}(m=f&&f.cursor||m)&&(e?f&&t?this.selection.setRange(f):f&&f.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(m.row,m.column):this.selection.moveTo(m.row,m.column))}}},e.prototype.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},e.prototype.navigateTo=function(e,t){this.selection.moveTo(e,t)},e.prototype.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},e.prototype.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},e.prototype.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},e.prototype.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},e.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},e.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},e.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},e.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},e.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},e.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},e.prototype.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),r):r},e.prototype.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&r++;return this.selection.setSelectionRange(i),r},e.prototype.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},e.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},e.prototype.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==r(e)&&i.mixin(t,e);var o=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(o)||this.$search.$options.needle)||(o=this.session.getWordRange(o.start.row,o.start.column),e=this.session.getTextRange(o)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:o});var s=this.$search.find(this.session);return t.preventScroll?s:s?(this.revealRange(s,n),s):(t.backwards?o.start=o.end:o.end=o.start,void this.selection.setRange(o))},e.prototype.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},e.prototype.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},e.prototype.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},e.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},e.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},e.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},e.prototype.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var o=this.on("changeSelection",(function(){r=!0})),s=this.renderer.on("beforeRender",(function(){r&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;null!=(r=o.top>=0&&a+t.top<0||!(o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight)&&null)&&(i.style.top=a+"px",i.style.left=o.left+"px",i.style.height=s.lineHeight+"px",i.scrollIntoView(r)),r=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},e.prototype.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,o.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},e.prototype.prompt=function(e,t,n){var r=this;v.loadModule("ace/ext/prompt",(function(i){i.prompt(r,e,t,n)}))},e}();T.$uid=0,T.prototype.curOp=null,T.prototype.prevOp={},T.prototype.$mergeableCommands=["backspace","del","insertstring"],T.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],i.implement(T.prototype,m),v.defineOptions(T.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?A.attach(this):A.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?A.attach(this):A.detach(this)}},placeholder:{set:function(){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),o.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),o.addCssClass(this.container,"ace_hasPlaceholder");var t=o.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(e){var t,n={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(e){e.blur(),e.renderer.scroller.focus()},readOnly:!0},r=function(e){if(e.target==this.renderer.scroller&&e.keyCode===k.enter){e.preventDefault();var t=this.getCursorPosition().row;this.isRowVisible(t)||this.scrollToLine(t,!0,!0),this.focus()}};e?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(a.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",_("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",_("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",r.bind(this)),this.commands.addCommand(n),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",_("editor")),this.renderer.$gutter.setAttribute("aria-label",_("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),t||(t=new w(this)),t.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",r.bind(this)),this.commands.removeCommand(n),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),t&&t.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var A={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"Â·":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=T})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t){"use strict";var n=e("../lib/dom"),r=function(){function e(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return e.prototype.moveContainer=function(e){n.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},e.prototype.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},e.prototype.computeLineTop=function(e,t,n){var r=Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-r*this.canvasHeight},e.prototype.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},e.prototype.getLength=function(){return this.cells.length},e.prototype.get=function(e){return this.cells[e]},e.prototype.shift=function(){this.$cacheCell(this.cells.shift())},e.prototype.pop=function(){this.$cacheCell(this.cells.pop())},e.prototype.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=n.createFragment(this.element),r=0;r<e.length;r++)t.appendChild(e[r].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},e.prototype.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=n.createFragment(this.element),r=0;r<e.length;r++)t.appendChild(e[r].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},e.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},e.prototype.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},e.prototype.createCell=function(e,t,r,i){var o=this.cellCache.pop();if(!o){var s=n.createElement("div");i&&i(s),this.element.appendChild(s),o={element:s,text:"",row:e}}return o.row=e,o},e}();t.Lines=r})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],(function(e,t){"use strict";function n(e){var t=document.createTextNode("");e.appendChild(t);var n=r.createElement("span");e.appendChild(n);var i=r.createElement("span");e.appendChild(i);var o=r.createElement("span");return i.appendChild(o),e}var r=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,a=e("./lines").Lines,u=e("../config").nls,l=function(){function e(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1}return e.prototype.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},e.prototype.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},e.prototype.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},e.prototype.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[],type:[]});var s=n.text,a=n.type;s=s?o.escapeHTML(s):n.html||"",-1===i.text.indexOf(s)&&(i.text.push(s),i.type.push(a));var u=n.className;u?i.className=u:"error"==a?i.className=" ace_error":"warning"==a&&" ace_error"!=i.className?i.className=" ace_warning":"info"!=a||i.className||(i.className=" ace_info")}},e.prototype.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}}},e.prototype.update=function(e){this.config=e;var t=this.session,r=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=i,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var o=t.getNextFoldLine(r),s=o?o.start.row:1/0,a=null,u=-1,l=r;;){if(l>s&&(s=(o=t.getNextFoldLine(l=o.end.row+1,o))?o.start.row:1/0),l>i){for(;this.$lines.getLength()>u+1;)this.$lines.pop();break}(a=this.$lines.get(++u))?a.row=l:(a=this.$lines.createCell(l,e,this.session,n),this.$lines.push(a)),this.$renderCell(a,e,o,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},e.prototype.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,r=t.$firstLineNumber,i=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(i=t.getLength()+r-1);var o=n?n.getWidth(t,i,e):i.toString().length*e.characterWidth,s=this.$padding||this.$computePadding();(o+=s.left+s.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},e.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},e.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var r=t[n];if(r.row>=this.$cursorRow){if(r.row>this.$cursorRow){var i=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&i&&i.start.row==t[n-1].row))break;r=t[n-1]}r.element.className="ace_gutter-active-line "+r.element.className,this.$cursorCell=r;break}}}}},e.prototype.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),r=this.oldLastRow;if(this.oldLastRow=n,!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(r>n)for(i=this.session.getFoldedRowCount(n+1,r);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>r&&this.$lines.push(this.$renderLines(e,r+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},e.prototype.$renderLines=function(e,t,r){for(var i=[],o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;o>a&&(a=(s=this.session.getNextFoldLine(o=s.end.row+1,s))?s.start.row:1/0),!(o>r);){var u=this.$lines.createCell(o,e,this.session,n);this.$renderCell(u,e,s,o),i.push(u),o++}return i},e.prototype.$renderCell=function(e,t,n,i){var o=e.element,s=this.session,a=o.childNodes[0],l=o.childNodes[1],c=o.childNodes[2],h=c.firstChild,p=s.$firstLineNumber,f=s.$breakpoints,d=s.$decorations,m=s.gutterRenderer||this.$renderer,g=this.$showFoldWidgets&&s.foldWidgets,y=n?n.start.row:Number.MAX_VALUE,v=t.lineHeight+"px",b=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",x=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",w=(m?m.getText(s,i):i+p).toString();if(this.$highlightGutterLine&&(i==this.$cursorRow||n&&i<this.$cursorRow&&i>=y&&this.$cursorRow<=n.end.row)&&(b+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),f[i]&&(b+=f[i]),d[i]&&(b+=d[i]),this.$annotations[i]&&i!==y&&(b+=this.$annotations[i].className),g){var _=g[i];null==_&&(_=g[i]=s.getFoldWidget(i))}if(_){var S="ace_fold-widget ace_"+_,k="start"==_&&i==y&&i<n.end.row;if(k){S+=" ace_closed";for(var T="",A=!1,E=i+1;E<=n.end.row;E++)if(this.$annotations[E]){if(" ace_error"===this.$annotations[E].className){A=!0,T=" ace_error_fold";break}" ace_warning"!==this.$annotations[E].className||(A=!0,T=" ace_warning_fold")}b+=T}else S+=" ace_open";l.className!=S&&(l.className=S),r.setStyle(l.style,"height",v),r.setStyle(l.style,"display","inline-block"),l.setAttribute("role","button"),l.setAttribute("tabindex","-1");var C=s.getFoldWidgetRange(i);l.setAttribute("aria-label",C?u("Toggle code folding, rows $0 through $1",[C.start.row+1,C.end.row+1]):n?u("Toggle code folding, rows $0 through $1",[n.start.row+1,n.end.row+1]):u("Toggle code folding, row $0",[i+1])),k?(l.setAttribute("aria-expanded","false"),l.setAttribute("title",u("Unfold code"))):(l.setAttribute("aria-expanded","true"),l.setAttribute("title",u("Fold code")))}else l&&(r.setStyle(l.style,"display","none"),l.setAttribute("tabindex","0"),l.removeAttribute("role"),l.removeAttribute("aria-label"));return A&&this.$showFoldedAnnotations?(c.className="ace_gutter_annotation",h.className=x,h.className+=T,r.setStyle(h.style,"height",v),r.setStyle(c.style,"display","block"),r.setStyle(c.style,"height",v),c.setAttribute("aria-label",u("Read annotations row $0",[w])),c.setAttribute("tabindex","-1"),c.setAttribute("role","button")):this.$annotations[i]?(c.className="ace_gutter_annotation",h.className=x,this.$useSvgGutterIcons?h.className+=this.$annotations[i].className:o.classList.add(this.$annotations[i].className.replace(" ","")),r.setStyle(h.style,"height",v),r.setStyle(c.style,"display","block"),r.setStyle(c.style,"height",v),c.setAttribute("aria-label",u("Read annotations row $0",[w])),c.setAttribute("tabindex","-1"),c.setAttribute("role","button")):(r.setStyle(c.style,"display","none"),c.removeAttribute("aria-label"),c.removeAttribute("role"),c.setAttribute("tabindex","0")),w!==a.data&&(a.data=w),o.className!=b&&(o.className=b),r.setStyle(e.element.style,"height",this.$lines.computeLineHeight(i,t,s)+"px"),r.setStyle(e.element.style,"top",this.$lines.computeLineTop(i,t,s)+"px"),e.text=w,e.element.setAttribute("aria-hidden","none"===c.style.display&&"none"===l.style.display),e},e.prototype.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},e.prototype.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},e.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},e.prototype.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},e.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},e.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},e.prototype.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0},e}();l.prototype.$fixedWidth=!1,l.prototype.$highlightGutterLine=!0,l.prototype.$renderer="",l.prototype.$showLineNumbers=!0,l.prototype.$showFoldWidgets=!0,i.implement(l.prototype,s),t.Gutter=l})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t){"use strict";var n=e("../range").Range,r=e("../lib/dom"),i=function(){function e(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)}return e.prototype.setPadding=function(e){this.$padding=e},e.prototype.setSession=function(e){this.session=e},e.prototype.setMarkers=function(e){this.markers=e},e.prototype.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},e.prototype.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var r=this.markers[n];if(r.range){var i=r.range.clipRows(e.firstRow,e.lastRow);if(!i.isEmpty())if(i=i.toScreenRange(this.session),r.renderer){var o=this.$getTop(i.start.row,e);r.renderer(t,i,this.$padding+i.start.column*e.characterWidth,o,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,i,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?"text"==r.type?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.drawSingleLineMarker(t,i,r.clazz+" ace_start ace_br15",e)}else r.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},e.prototype.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},e.prototype.drawTextMarker=function(e,t,r,i,o){for(var s=this.session,a=t.start.row,u=t.end.row,l=a,c=0,h=0,p=s.getScreenLastRowColumn(l),f=new n(l,t.start.column,l,h);l<=u;l++)f.start.row=f.end.row=l,f.start.column=l==a?t.start.column:s.getRowWrapIndent(l),f.end.column=p,c=h,h=p,p=l+1<u?s.getScreenLastRowColumn(l+1):l==u?0:t.end.column,this.drawSingleLineMarker(e,f,r+(l==a?" ace_start":"")+" ace_br"+((l==a||l==a+1&&t.start.column?1:0)|(c<h?2:0)|(h>p?4:0)|(l==u?8:0)),i,l==u?0:1,o)},e.prototype.drawMultiLineMarker=function(e,t,n,r,i){var o,s=this.$padding,a=r.lineHeight,u=this.$getTop(t.start.row,r),l=s+t.start.column*r.characterWidth;(i=i||"",this.session.$bidiHandler.isBidiRow(t.start.row))?((o=t.clone()).end.row=o.start.row,o.end.column=this.session.getLine(o.start.row).length,this.drawBidiSingleLineMarker(e,o,n+" ace_br1 ace_start",r,null,i)):this.elt(n+" ace_br1 ace_start","height:"+a+"px;right:0;top:"+u+"px;left:"+l+"px;"+(i||""));this.session.$bidiHandler.isBidiRow(t.end.row)?((o=t.clone()).start.row=o.end.row,o.start.column=0,this.drawBidiSingleLineMarker(e,o,n+" ace_br12",r,null,i)):(u=this.$getTop(t.end.row,r),this.elt(n+" ace_br12","height:"+a+"px;width:"+t.end.column*r.characterWidth+"px;top:"+u+"px;left:"+s+"px;"+(i||"")));if(!((a=(t.end.row-t.start.row-1)*r.lineHeight)<=0)){u=this.$getTop(t.start.row+1,r);var c=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(c?" ace_br"+c:""),"height:"+a+"px;right:0;top:"+u+"px;left:"+s+"px;"+(i||""))}},e.prototype.drawSingleLineMarker=function(e,t,n,r,i,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,r,i,o);var s=r.lineHeight,a=(t.end.column+(i||0)-t.start.column)*r.characterWidth,u=this.$getTop(t.start.row,r);this.elt(n,"height:"+s+"px;width:"+a+"px;top:"+u+"px;left:"+(this.$padding+t.start.column*r.characterWidth)+"px;"+(o||""))},e.prototype.drawBidiSingleLineMarker=function(e,t,n,r,i,o){var s=r.lineHeight,a=this.$getTop(t.start.row,r),u=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+s+"px;width:"+(e.width+(i||0))+"px;top:"+a+"px;left:"+(u+e.left)+"px;"+(o||""))}),this)},e.prototype.drawFullLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),s=r.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,r)-o),this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(i||""))},e.prototype.drawScreenLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r);this.elt(n,"height:"+r.lineHeight+"px;top:"+o+"px;left:0;right:0;"+(i||""))},e}();i.prototype.$padding=0,t.Marker=i})),ace.define("ace/layer/text_util",["require","exports","module"],(function(e,t){var n=new Set(["text","rparen","lparen"]);t.isTextToken=function(e){return n.has(e)}})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],(function(e,t){"use strict";var n=e("../lib/oop"),r=e("../lib/dom"),i=e("../lib/lang"),o=e("./lines").Lines,s=e("../lib/event_emitter").EventEmitter,a=e("../config").nls,u=e("./text_util").isTextToken,l=function(){function e(e){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)}return e.prototype.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},e.prototype.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},e.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},e.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},e.prototype.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},e.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},e.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},e.prototype.setSession=function(e){this.session=e,e&&this.$computeTabString()},e.prototype.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},e.prototype.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},e.prototype.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides!==e&&(this.$highlightIndentGuides=e,e)},e.prototype.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++){if(this.showTabs)(r=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",r.textContent=i.stringRepeat(this.TAB_CHAR,n),t.push(r);else t.push(this.dom.createTextNode(i.stringRepeat(" ",n),this.element))}if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r,o="ace_indent-guide",s=this.showSpaces?" ace_invisible ace_invisible_space":"",a=i.stringRepeat(this.showSpaces?this.SPACE_CHAR:" ",this.tabSize),u=this.showTabs?" ace_invisible ace_invisible_tab":"",l=this.showTabs?i.stringRepeat(this.TAB_CHAR,this.tabSize):a;(r=this.dom.createElement("span")).className=o+s,r.textContent=a,this.$tabStrings[" "]=r,(r=this.dom.createElement("span")).className=o+u,r.textContent=l,this.$tabStrings["\t"]=r}},e.prototype.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;a<r;a++){if(u=this.session.getFoldLine(a)){if(u.containsRow(r)){r=u.start.row;break}a=u.end.row}s++}for(var u,l=!1,c=(u=this.session.getNextFoldLine(a=r))?u.start.row:1/0;a>c&&(c=(u=this.session.getNextFoldLine(a=u.end.row+1,u))?u.start.row:1/0),!(a>i);){var h=o[s++];if(h){this.dom.removeChildren(h),this.$renderLine(h,a,a==c&&u),l&&(h.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var p=e.lineHeight*this.session.getRowLength(a)+"px";h.style.height!=p&&(l=!0,h.style.height=p)}a++}if(l)for(;s<this.$lines.cells.length;){var f=this.$lines.cells[s++];f.element.style.top=this.$lines.computeLineTop(f.row,e,this.session)+"px"}},e.prototype.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow;if(!t||(t?t.lastRow:-1)<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(t.lastRow>e.lastRow)for(r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},e.prototype.$renderLinesFragment=function(e,t,n){for(var i=[],o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;o>a&&(a=(s=this.session.getNextFoldLine(o=s.end.row+1,s))?s.start.row:1/0),!(o>n);){var u=this.$lines.createCell(o,e,this.session),l=u.element;this.dom.removeChildren(l),r.setStyle(l.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),r.setStyle(l.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(l,o,o==a&&s),l.className=this.$useLineGroups()?"ace_line_group":"ace_line",i.push(u),o++}return i},e.prototype.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,r=this.$lines;r.getLength();)r.pop();r.push(this.$renderLinesFragment(e,t,n))},e.prototype.$renderToken=function(e,t,n,r){for(var o,s=this,l=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,c=this.dom.createFragment(this.element),h=0;o=l.exec(r);){var p=o[1],f=o[2],d=o[3],m=o[4],g=o[5];if(s.showSpaces||!f){var y=h!=o.index?r.slice(h,o.index):"";if(h=o.index+o[0].length,y&&c.appendChild(this.dom.createTextNode(y,this.element)),p){var v=s.session.getScreenTabSize(t+o.index);c.appendChild(s.$tabStrings[v].cloneNode(!0)),t+=v-1}else if(f){if(s.showSpaces)(x=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",x.textContent=i.stringRepeat(s.SPACE_CHAR,f.length),c.appendChild(x);else c.appendChild(this.dom.createTextNode(f,this.element))}else if(d){(x=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",x.textContent=i.stringRepeat(s.SPACE_CHAR,d.length),c.appendChild(x)}else if(m){t+=1,(x=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",x.className=s.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",x.textContent=s.showSpaces?s.SPACE_CHAR:m,c.appendChild(x)}else if(g){t+=1,(x=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",x.className="ace_cjk",x.textContent=g,c.appendChild(x)}}}if(c.appendChild(this.dom.createTextNode(h?r.slice(h):r,this.element)),u(n.type))e.appendChild(c);else{var b="ace_"+n.type.replace(/\./g," ace_"),x=this.dom.createElement("span");"fold"==n.type&&(x.style.width=n.value.length*this.config.characterWidth+"px",x.setAttribute("title",a("Unfold code"))),x.className=b,x.appendChild(c),e.appendChild(x)}return t+r.length},e.prototype.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);if(r<=0||r>=n)return t;if(" "==t[0]){for(var i=(r-=r%this.tabSize)/this.tabSize,o=0;o<i;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(r)}if("\t"==t[0]){for(o=0;o<r;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(r)}return this.$highlightIndentGuide(),t},e.prototype.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var t=this.session.selection.getCursor(),n=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,r=Math.floor(n/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:r,start:t.row},this.session.$bracketHighlight)for(var i=this.session.$bracketHighlight.ranges,o=0;o<i.length;o++)if(t.row!==i[o].start.row){this.$highlightIndentGuideMarker.end=i[o].start.row,this.$highlightIndentGuideMarker.dir=t.row>i[o].start.row?-1:1;break}if(!this.$highlightIndentGuideMarker.end&&""!==e[t.row]&&t.column===e[t.row].length){this.$highlightIndentGuideMarker.dir=1;for(o=t.row+1;o<e.length;o++){var s=e[o],a=/^\s*/.exec(s)[0].length;if(""!==s&&(this.$highlightIndentGuideMarker.end=o,a<=n))break}}this.$renderHighlightIndentGuide()}}},e.prototype.$clearActiveIndentGuide=function(){for(var e=this.$lines.cells,t=0;t<e.length;t++){var n=e[t].element.childNodes;if(n.length>0)for(var r=0;r<n.length;r++)if(n[r].classList&&n[r].classList.contains("ace_indent-guide-active")){n[r].classList.remove("ace_indent-guide-active");break}}},e.prototype.$setIndentGuideActive=function(e,t){if(""!==this.session.doc.getLine(e.row)){var n=e.element.childNodes;if(n){var r=n[t-1];r&&r.classList&&r.classList.contains("ace_indent-guide")&&r.classList.add("ace_indent-guide-active")}}},e.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var t=this.$highlightIndentGuideMarker.indentLevel;if(0!==t)if(1===this.$highlightIndentGuideMarker.dir)for(var n=0;n<e.length;n++){var r=e[n];if(this.$highlightIndentGuideMarker.end&&r.row>=this.$highlightIndentGuideMarker.start+1){if(r.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(r,t)}}else for(n=e.length-1;n>=0;n--){r=e[n];if(this.$highlightIndentGuideMarker.end&&r.row<this.$highlightIndentGuideMarker.start){if(r.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(r,t)}}}},e.prototype.$createLineElement=function(){var e=this.dom.createElement("div");return e.className="ace_line",e.style.height=this.config.lineHeight+"px",e},e.prototype.$renderWrappedLine=function(e,t,n){var r=0,o=0,s=n[0],a=0,u=this.$createLineElement();e.appendChild(u);for(var l=0;l<t.length;l++){var c=t[l],h=c.value;if(0==l&&this.displayIndentGuides){if(r=h.length,!(h=this.renderIndentGuide(u,h,s)))continue;r-=h.length}if(r+h.length<s)a=this.$renderToken(u,a,c,h),r+=h.length;else{for(;r+h.length>=s;)a=this.$renderToken(u,a,c,h.substring(0,s-r)),h=h.substring(s-r),r=s,u=this.$createLineElement(),e.appendChild(u),u.appendChild(this.dom.createTextNode(i.stringRepeat("Â ",n.indent),this.element)),a=0,s=n[++o]||Number.MAX_VALUE;0!=h.length&&(r+=h.length,a=this.$renderToken(u,a,c,h))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(u,a,null,"",!0)},e.prototype.$renderSimpleLine=function(e,t){for(var n=0,r=0;r<t.length;r++){var i=t[r],o=i.value;if(0!=r||!this.displayIndentGuides||(o=this.renderIndentGuide(e,o))){if(n+o.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,i,o);n=this.$renderToken(e,n,i,o)}}},e.prototype.$renderOverflowMessage=function(e,t,n,r,i){n&&this.$renderToken(e,t,n,r.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=i?"<hide>":"<click to see more...>",e.appendChild(o)},e.prototype.$renderLine=function(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var r=this.$getFoldLineTokens(t,n);else r=this.session.getTokens(t);var i=e;if(r.length){var o=this.session.getRowSplitData(t);if(o&&o.length){this.$renderWrappedLine(e,r,o);i=e.lastChild}else{i=e;this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i)),this.$renderSimpleLine(i,r)}}else this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i));if(this.showEOL&&i){n&&(t=n.end.row);var s=this.dom.createElement("span");s.className="ace_invisible ace_invisible_eol",s.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,i.appendChild(s)}},e.prototype.$getFoldLineTokens=function(e,t){var n=this.session,r=[],i=n.getTokens(e);return t.walk((function(e,t,o,s,a){null!=e?r.push({type:"fold",value:e}):(a&&(i=n.getTokens(t)),i.length&&function(e,t,n){for(var i=0,o=0;o+e[i].value.length<t;)if(o+=e[i].value.length,++i==e.length)return;for(o!=t&&((s=e[i].value.substring(t-o)).length>n-t&&(s=s.substring(0,n-t)),r.push({type:e[i].type,value:s}),o=t+s.length,i+=1);o<n&&i<e.length;){var s;r.push((s=e[i].value).length+o>n?{type:e[i].type,value:s.substring(0,n-o)}:e[i]),o+=s.length,i+=1}}(i,s,o))}),t.end.row,this.session.getLine(t.end.row).length),r},e.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},e}();l.prototype.EOF_CHAR="Â¶",l.prototype.EOL_CHAR_LF="Â¬",l.prototype.EOL_CHAR_CRLF="Â¤",l.prototype.EOL_CHAR=l.prototype.EOL_CHAR_LF,l.prototype.TAB_CHAR="â€”",l.prototype.SPACE_CHAR="Â·",l.prototype.$padding=0,l.prototype.MAX_LINE_LENGTH=1e4,l.prototype.showInvisibles=!1,l.prototype.showSpaces=!1,l.prototype.showTabs=!1,l.prototype.showEOL=!1,l.prototype.displayIndentGuides=!0,l.prototype.$highlightIndentGuides=!0,l.prototype.$tabStrings=[],l.prototype.destroy={},l.prototype.onChangeTabSize=l.prototype.$computeTabString,n.implement(l.prototype,s),t.Text=l})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t){"use strict";var n=e("../lib/dom"),r=function(){function e(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),n.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return e.prototype.$updateOpacity=function(e){for(var t=this.cursors,r=t.length;r--;)n.setStyle(t[r].style,"opacity",e?"":"0")},e.prototype.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&n.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},e.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,n.removeCssClass(this.element,"ace_animate-blinking")},e.prototype.setPadding=function(e){this.$padding=e},e.prototype.setSession=function(e){this.session=e},e.prototype.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},e.prototype.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},e.prototype.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,n.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},e.prototype.addCursor=function(){var e=n.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},e.prototype.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},e.prototype.hideCursor=function(){this.isVisible=!1,n.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},e.prototype.showCursor=function(){this.isVisible=!0,n.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},e.prototype.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,n.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&n.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),n.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},e.prototype.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},e.prototype.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},e.prototype.update=function(e){this.config=e;var t=this.session.$selectionMarkers,r=0,i=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);r=0;for(var o=t.length;r<o;r++){var s=this.getPixelPosition(t[r].cursor,!0);if(!((s.top>e.height+e.offset||s.top<0)&&r>1)){var a=this.cursors[i++]||this.addCursor(),u=a.style;this.drawCursor?this.drawCursor(a,s,e,t[r],this.session):this.isCursorInView(s,e)?(n.setStyle(u,"display","block"),n.translate(a,s.left,s.top),n.setStyle(u,"width",Math.round(e.characterWidth)+"px"),n.setStyle(u,"height",e.lineHeight+"px")):n.setStyle(u,"display","none")}}for(;this.cursors.length>i;)this.removeCursor();var l=this.session.getOverwrite();this.$setOverwrite(l),this.$pixelPos=s,this.restartTimer()},e.prototype.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?n.addCssClass(this.element,"ace_overwrite-cursors"):n.removeCssClass(this.element,"ace_overwrite-cursors"))},e.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},e}();r.prototype.$padding=0,r.prototype.drawCursor=null,t.Cursor=r})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=e("./lib/oop"),o=e("./lib/dom"),s=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter,u=32768,l=function(){function e(e,t){this.element=o.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+t,this.inner=o.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="Â ",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)}return e.prototype.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1},e}();i.implement(l.prototype,a);var c=function(e){function t(t,n){var r=e.call(this,t,"-v")||this;return r.scrollTop=0,r.scrollHeight=0,n.$scrollbarWidth=r.width=o.scrollbarWidth(t.ownerDocument),r.inner.style.width=r.element.style.width=(r.width||15)+5+"px",r.$minWidth=0,r}return r(t,e),t.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(e){this.element.style.height=e+"px"},t.prototype.setScrollHeight=function(e){this.scrollHeight=e,e>u?(this.coeff=u/e,e=u):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},t.prototype.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)},t}(l);c.prototype.setInnerHeight=c.prototype.setScrollHeight;var h=function(e){function t(t,n){var r=e.call(this,t,"-h")||this;return r.scrollLeft=0,r.height=n.$scrollbarWidth,r.inner.style.height=r.element.style.height=(r.height||15)+5+"px",r}return r(t,e),t.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.setWidth=function(e){this.element.style.width=e+"px"},t.prototype.setInnerWidth=function(e){this.inner.style.width=e+"px"},t.prototype.setScrollWidth=function(e){this.inner.style.width=e+"px"},t.prototype.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)},t}(l);t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=h,t.VScrollBar=c,t.HScrollBar=h})),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=e("./lib/oop"),o=e("./lib/dom"),s=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter;o.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);var u=function(){function e(e,t){this.element=o.createElement("div"),this.element.className="ace_sb"+t,this.inner=o.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return e.prototype.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1},e}();i.implement(u.prototype,a);var l=function(e){function t(t,n){var r=e.call(this,t,"-v")||this;return r.scrollTop=0,r.scrollHeight=0,r.parent=t,r.width=r.VScrollWidth,r.renderer=n,r.inner.style.width=r.element.style.width=(r.width||15)+"px",r.$minWidth=0,r}return r(t,e),t.prototype.onMouseDown=function(e,t){if("mousedown"===e&&0===s.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,r=t.clientY,i=t.clientY,o=this.thumbTop;s.capture(this.inner,(function(e){r=e.clientY}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==r){var e=n.scrollTopFromThumbTop(o+r-i);e!==n.scrollTop&&n._emit("scroll",{data:e})}}),20);return s.preventDefault(t)}var u=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(u)}),s.preventDefault(t)}},t.prototype.getHeight=function(){return this.height},t.prototype.scrollTopFromThumbTop=function(e){var t=e*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(t>>=0)<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(e){this.height=Math.max(0,e),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},t.prototype.setScrollHeight=function(e,t){(this.pageHeight!==e||t)&&(this.pageHeight=e,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},t.prototype.setScrollTop=function(e){this.scrollTop=e,e<0&&(e=0),this.thumbTop=e*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},t}(u);l.prototype.setInnerHeight=l.prototype.setScrollHeight;var c=function(e){function t(t,n){var r=e.call(this,t,"-h")||this;return r.scrollLeft=0,r.scrollWidth=0,r.height=r.HScrollHeight,r.inner.style.height=r.element.style.height=(r.height||12)+"px",r.renderer=n,r}return r(t,e),t.prototype.onMouseDown=function(e,t){if("mousedown"===e&&0===s.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,r=t.clientX,i=t.clientX,o=this.thumbLeft;s.capture(this.inner,(function(e){r=e.clientX}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==r){var e=n.scrollLeftFromThumbLeft(o+r-i);e!==n.scrollLeft&&n._emit("scroll",{data:e})}}),20);return s.preventDefault(t)}var u=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(u)}),s.preventDefault(t)}},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.scrollLeftFromThumbLeft=function(e){var t=e*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(t>>=0)<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t},t.prototype.setWidth=function(e){this.width=Math.max(0,e),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},t.prototype.setScrollWidth=function(e,t){(this.pageWidth!==e||t)&&(this.pageWidth=e,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},t.prototype.setScrollLeft=function(e){this.scrollLeft=e,e<0&&(e=0),this.thumbLeft=e*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},t}(u);c.prototype.setInnerWidth=c.prototype.setScrollWidth,t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t){"use strict";var n=e("./lib/event"),r=function(){function e(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var r=this;this._flush=function(){r.pending=!1;var e=r.changes;if(e&&(n.blockIdle(100),r.changes=0,r.onRender(e)),r.changes){if(r.$recursionLimit--<0)return;r.schedule()}else r.$recursionLimit=2}}return e.prototype.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(n.nextFrame(this._flush),this.pending=!0)},e.prototype.clear=function(){var e=this.changes;return this.changes=0,e},e}();t.RenderLoop=r})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t){var n=e("../lib/oop"),r=e("../lib/dom"),i=e("../lib/lang"),o=e("../lib/event"),s=e("../lib/useragent"),a=e("../lib/event_emitter").EventEmitter,u=512,l="function"==typeof ResizeObserver,c=200,h=function(){function e(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=i.stringRepeat("X",u),this.$characterSize={width:0,height:0},l?this.$addObserver():this.checkForSizeChanges()}return e.prototype.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",s.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},e.prototype.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},e.prototype.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},e.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=o.onIdle((function t(){e.checkForSizeChanges(),o.onIdle(t,500)}),500)},e.prototype.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},e.prototype.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/u};return 0===t.width||0===t.height?null:t},e.prototype.$measureCharWidth=function(e){return this.$main.textContent=i.stringRepeat(e,u),this.$main.getBoundingClientRect().width/u},e.prototype.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},e.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},e.prototype.$getZoom=function(e){return e&&e.parentElement?(window.getComputedStyle(e).zoom||1)*this.$getZoom(e.parentElement):1},e.prototype.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=r.buildDom([e(0,0),e(c,0),e(0,c),e(c,c)],this.el)},e.prototype.transformCoordinates=function(e,t){function n(e,t,n){var r=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/r,(+e[1]*n[0]-e[0]*n[1])/r]}function r(e,t){return[e[0]-t[0],e[1]-t[1]]}function i(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function s(e){var t=e.getBoundingClientRect();return[t.left,t.top]}e&&(e=o(1/this.$getZoom(this.el),e));this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),u=s(this.els[1]),l=s(this.els[2]),h=s(this.els[3]),p=n(r(h,u),r(h,l),r(i(u,l),i(h,a))),f=o(1+p[0],r(u,a)),d=o(1+p[1],r(l,a));if(t){var m=t,g=p[0]*m[0]/c+p[1]*m[1]/c+1,y=i(o(m[0],f),o(m[1],d));return i(o(1/g/c,y),a)}var v=r(e,a),b=n(r(f,o(p[0],v)),r(d,o(p[1],v)),v);return o(c,b)},e}();h.prototype.$characterSize={width:0,height:0},n.implement(h.prototype,a),t.FontMetrics=h})),ace.define("ace/css/editor-css",["require","exports","module"],(function(e,t,n){n.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n    overflow: auto;\n    max-width: min(60em, 66vw);\n    overscroll-behavior: contain;\n}\n.ace_tooltip pre {\n    white-space: pre-wrap;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n    white-space: pre;\n}\n\n.ace_screenreader-only {\n    position:absolute;\n    left:-10000px;\n    top:auto;\n    width:1px;\n    height:1px;\n    overflow:hidden;\n}'})),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],(function(e,t){"use strict";var n=e("../lib/dom"),r=e("../lib/oop"),i=e("../lib/event_emitter").EventEmitter,o=function(){function e(e,t){this.canvas=n.createElement("canvas"),this.renderer=t,this.pixelRatio=1,this.maxHeight=t.layerConfig.maxHeight,this.lineHeight=t.layerConfig.lineHeight,this.canvasHeight=e.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=e.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},e.element.appendChild(this.canvas)}return e.prototype.$updateDecorators=function(e){var t=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;e&&(this.maxHeight=e.maxHeight,this.lineHeight=e.lineHeight,this.canvasHeight=e.height,this.heightRatio=(e.lastRow+1)*this.lineHeight<this.canvasHeight?1:this.canvasHeight/this.maxHeight);var n=this.canvas.getContext("2d"),r=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),r){var i={info:1,warning:2,error:3};r.forEach((function(e){e.priority=i[e.type]||null})),r=r.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));for(var o=this.renderer.session.$foldData,s=0;s<r.length;s++){var a=r[s].row,u=this.compensateFoldRows(a,o),l=Math.round((a-u)*this.lineHeight*this.heightRatio),c=Math.round((a-u)*this.lineHeight*this.heightRatio),h=Math.round(((a-u)*this.lineHeight+this.lineHeight)*this.heightRatio);if(h-c<this.minDecorationHeight){var p=(c+h)/2|0;p<this.halfMinDecorationHeight?p=this.halfMinDecorationHeight:p+this.halfMinDecorationHeight>this.canvasHeight&&(p=this.canvasHeight-this.halfMinDecorationHeight),c=Math.round(p-this.halfMinDecorationHeight),h=Math.round(p+this.halfMinDecorationHeight)}n.fillStyle=t[r[s].type]||null,n.fillRect(0,l,this.canvasWidth,h-c)}}var f=this.renderer.session.selection.getCursor();if(f){u=this.compensateFoldRows(f.row,o),l=Math.round((f.row-u)*this.lineHeight*this.heightRatio);n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,l,this.canvasWidth,2)}},e.prototype.compensateFoldRows=function(e,t){var n=0;if(t&&t.length>0)for(var r=0;r<t.length;r++)e>t[r].start.row&&e<t[r].end.row?n+=e-t[r].start.row:e>=t[r].end.row&&(n+=t[r].end.row-t[r].start.row);return n},e}();r.implement(o.prototype,i),t.Decorator=o})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],(function(e,t){"use strict";var n=e("./lib/oop"),r=e("./lib/dom"),i=e("./lib/lang"),o=e("./config"),s=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,u=e("./layer/text").Text,l=e("./layer/cursor").Cursor,c=e("./scrollbar").HScrollBar,h=e("./scrollbar").VScrollBar,p=e("./scrollbar_custom").HScrollBar,f=e("./scrollbar_custom").VScrollBar,d=e("./renderloop").RenderLoop,m=e("./layer/font_metrics").FontMetrics,g=e("./lib/event_emitter").EventEmitter,y=e("./css/editor-css"),v=e("./layer/decorators").Decorator,b=e("./lib/useragent");r.importCssString(y,"ace_editor.css",!1);var x=function(){function e(e,t){var n=this;this.container=e||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==o.get("useStrictCSP")&&o.set("useStrictCSP",!1),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var i=this.$textLayer=new u(this.content);this.canvas=i.element,this.$markerFront=new a(this.content),this.$cursorLayer=new l(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new m(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!b.isIOS,this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),o.resetOptions(this),o._signal("renderer",this)}return e.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},e.prototype.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},e.prototype.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},e.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},e.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},e.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},e.prototype.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},e.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},e.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},e.prototype.onResize=function(e,t,n,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var o=this.$updateCachedSize(e,t,n,r);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},e.prototype.$updateCachedSize=function(e,t,n,i){var o=0,s=this.$size,a={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};if((i-=this.$extraHeight||0)&&(e||s.height!=i)&&(s.height=i,o|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(s.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(e||s.width!=n)){o|=this.CHANGE_SIZE,s.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,r.setStyle(this.scrollBarH.element.style,"left",t+"px"),r.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),s.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px");var u=this.scrollBarV.getWidth()+"px";r.setStyle(this.scrollBarH.element.style,"right",u),r.setStyle(this.scroller.style,"right",u),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(s.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return s.$dirty=!n||!i,o&&this._signal("resize",a),o},e.prototype.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},e.prototype.adjustWrapLimit=function(){var e=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},e.prototype.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},e.prototype.getAnimatedScroll=function(){return this.$animatedScroll},e.prototype.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},e.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},e.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},e.prototype.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},e.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},e.prototype.setHighlightIndentGuides=function(e){this.setOption("highlightIndentGuides",e)},e.prototype.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},e.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},e.prototype.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},e.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},e.prototype.getShowGutter=function(){return this.getOption("showGutter")},e.prototype.setShowGutter=function(e){return this.setOption("showGutter",e)},e.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},e.prototype.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},e.prototype.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},e.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},e.prototype.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},e.prototype.getContainerElement=function(){return this.container},e.prototype.getMouseEventTarget=function(){return this.scroller},e.prototype.getTextAreaContainer=function(){return this.container},e.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var i=this.layerConfig,o=n.top,s=n.left,a=t&&t.useTextareaForIME||b.isMobile?this.lineHeight:1;if((o-=i.offset)<0||o>i.height-a)r.translate(this.textarea,0,0);else{var u=1,l=this.$size.height-a;if(t)if(t.useTextareaForIME)u=this.characterWidth*this.session.$getStringScreenWidth(this.textarea.value)[0];else o+=this.lineHeight+2;else o+=this.lineHeight;(s-=this.scrollLeft)>this.$size.scrollerWidth-u&&(s=this.$size.scrollerWidth-u),s+=this.gutterWidth+this.margin.left,r.setStyle(e,"height",a+"px"),r.setStyle(e,"width",u+"px"),r.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-u),Math.min(o,l))}}}else r.translate(this.textarea,-100,0)}},e.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},e.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},e.prototype.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},e.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},e.prototype.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},e.prototype.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},e.prototype.setMargin=function(e,t,n,r){var i=this.margin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},e.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},e.prototype.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},e.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},e.prototype.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},e.prototype.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(e-=(t-this.lineHeight)*this.$scrollPastEnd)-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},e.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},e.prototype.freeze=function(){this.$frozen=!0},e.prototype.unfreeze=function(){this.$frozen=!1},e.prototype.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-n.offset);var o=n.minHeight+"px";r.setStyle(this.content.style,"width",n.width+2*this.$padding+"px"),r.setStyle(this.content.style,"height",o)}if(e&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_LINES?((this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)}else this.$changes|=e},e.prototype.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var i=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,i,n),this.desiredHeight=n,this._signal("autosize")}},e.prototype.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength()*this.lineHeight,i=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-i-2*this.$padding<0),s=this.$horizScroll!==o;s&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var u=t.scrollerHeight+this.lineHeight,l=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=l;var c=this.scrollMargin;this.session.setScrollTop(Math.max(-c.top,Math.min(this.scrollTop,r-t.scrollerHeight+c.bottom))),this.session.setScrollLeft(Math.max(-c.left,Math.min(this.scrollLeft,i+2*this.$padding-t.scrollerWidth+c.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-r+l<0||this.scrollTop>c.top),p=a!==h;p&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var f,d,m=this.scrollTop%this.lineHeight,g=Math.ceil(u/this.lineHeight)-1,y=Math.max(0,Math.round((this.scrollTop-m)/this.lineHeight)),v=y+g,b=this.lineHeight;y=e.screenToDocumentRow(y,0);var x=e.getFoldLine(y);x&&(y=x.start.row),f=e.documentToScreenRow(y,0),d=e.getRowLength(y)*b,v=Math.min(e.screenToDocumentRow(v,0),e.getLength()-1),u=t.scrollerHeight+e.getRowLength(v)*b+d,m=this.scrollTop-f*b;var w=0;return(this.layerConfig.width!=i||s)&&(w=this.CHANGE_H_SCROLL),(s||p)&&(w|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),p&&(i=this.$getLongestLine())),this.layerConfig={width:i,padding:this.$padding,firstRow:y,firstRowScreen:f,lastRow:v,lineHeight:b,characterWidth:this.characterWidth,minHeight:u,maxHeight:r,offset:m,gutterOffset:b?Math.max(0,Math.ceil((m+t.height-t.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(i-this.$padding),w},e.prototype.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},e.prototype.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},e.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},e.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},e.prototype.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},e.prototype.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},e.prototype.updateBreakpoints=function(e){this._rows=e,this.$loop.schedule(this.CHANGE_GUTTER)},e.prototype.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},e.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},e.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},e.prototype.showCursor=function(){this.$cursorLayer.showCursor()},e.prototype.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},e.prototype.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),i=r.left,o=r.top,s=n&&n.top||0,a=n&&n.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var u=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;u+s>o?(t&&u+s>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):u+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&u+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+a-this.$size.scrollerHeight));var l=this.scrollLeft,c=2*this.layerConfig.characterWidth;i-c<l?((i-=c)<this.$padding+c&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):l+this.$size.scrollerWidth<(i+=c)+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):l<=this.$padding&&i-l<this.characterWidth&&this.session.setScrollLeft(0)}},e.prototype.getScrollTop=function(){return this.session.getScrollTop()},e.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},e.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},e.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},e.prototype.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},e.prototype.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e).top-(this.$size.scrollerHeight-this.lineHeight)*(t||0);return this.session.setScrollTop(n),n},e.prototype.$calcSteps=function(e,t){var n,r=0,i=this.STEPS,o=[];for(r=0;r<i;++r)o.push((n=e,(t-e)*(Math.pow(r/this.STEPS-1,3)+1)+n));return o},e.prototype.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(i-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(i),!1!==n&&this.animateScrolling(o,r)},e.prototype.animateScrolling=function(e,t){function n(){i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,i.$stopAnimation=!1,t&&t()}var r=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=r){if(this.$scrollAnimation){var o=this.$scrollAnimation.steps;if(o.length&&(e=o[0])==r)return}var s=i.$calcSteps(e,r);this.$scrollAnimation={from:e,to:r,steps:s},clearInterval(this.$timer),i.session.setScrollTop(s.shift()),i.session.$scrollTop=r,this.$timer=setInterval((function(){if(!i.$stopAnimation)return i.session?void(s.length?(i.session.setScrollTop(s.shift()),i.session.$scrollTop=r):null!=r?(i.session.$scrollTop=-1,i.session.setScrollTop(r),r=null):n()):clearInterval(i.$timer);n()}),10)}}},e.prototype.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},e.prototype.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},e.prototype.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)},e.prototype.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},e.prototype.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},e.prototype.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,o=i/this.characterWidth,s=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:s,column:a,side:o-a>0?1:-1,offsetX:i}},e.prototype.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,o=i/this.characterWidth,s=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),i)},e.prototype.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,e)?this.session.$bidiHandler.getPosLeft(r.column):Math.round(r.column*this.characterWidth));return{pageX:n.left+i-this.scrollLeft,pageY:n.top+r.row*this.lineHeight-this.scrollTop}},e.prototype.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},e.prototype.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},e.prototype.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},e.prototype.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},e.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},e.prototype.setGhostText=function(e,t){var n=this.session.selection.cursor,r=t||{row:n.row,column:n.column};this.removeGhostText();var i=e.split("\n");if(this.addToken(i[0],"ghost_text",r.row,r.column),this.$ghostText={text:e,position:{row:r.row,column:r.column}},i.length>1){this.$ghostTextWidget={text:i.slice(1).join("\n"),row:r.row,column:r.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var o=this.$cursorLayer.getPixelPosition(r,!0),s=this.container.getBoundingClientRect().height,a=i.length*this.lineHeight;if(a<s-o.top)return;this.scrollBy(0,a<s?(i.length-1)*this.lineHeight:o.top)}},e.prototype.removeGhostText=function(){if(this.$ghostText){var e=this.$ghostText.position;this.removeExtraToken(e.row,e.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},e.prototype.addToken=function(e,t,n,r){var i=this.session;i.bgTokenizer.lines[n]=null;var o={type:t,value:e},s=i.getTokens(n);if(null!=r&&s.length)for(var a=0,u=0;u<s.length;u++){var l=s[u];if(r<=(a+=l.value.length)){var c=l.value.length-(a-r),h=l.value.slice(0,c),p=l.value.slice(c);s.splice(u,1,{type:l.type,value:h},o,{type:l.type,value:p});break}}else s.push(o);this.updateLines(n,n)},e.prototype.removeExtraToken=function(e){this.session.bgTokenizer.lines[e]=null,this.updateLines(e,e)},e.prototype.setTheme=function(e,t){function n(n){if(i.$themeId!=e)return t&&t();if(!n||!n.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");n.$id&&(i.$themeId=n.$id),r.importCssString(n.cssText,n.cssClass,i.container),i.theme&&r.removeCssClass(i.container,i.theme.cssClass);var o="padding"in n?n.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&o!=i.$padding&&i.setPadding(o),i.$theme=n.cssClass,i.theme=n,r.addCssClass(i.container,n.cssClass),r.setCssClass(i.container,"ace_dark",n.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:n}),t&&t()}var i=this;(this.$themeId=e,i._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)?n(e):o.loadModule(["theme",e||this.$options.theme.initialValue],n)},e.prototype.getTheme=function(){return this.$themeId},e.prototype.setStyle=function(e,t){r.setCssClass(this.container,e,!1!==t)},e.prototype.unsetStyle=function(e){r.removeCssClass(this.container,e)},e.prototype.setCursorStyle=function(e){r.setStyle(this.scroller.style,"cursor",e)},e.prototype.setMouseCursor=function(e){r.setStyle(this.scroller.style,"cursor",e)},e.prototype.attachToShadowRoot=function(){r.importCssString(y,"ace_editor.css",this.container)},e.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},e.prototype.$updateCustomScrollbar=function(e){var t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===e?(this.scrollBarV=new f(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})),this.$scrollDecorator=new v(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new h(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})))},e.prototype.$addResizeObserver=function(){if(window.ResizeObserver&&!this.$resizeObserver){var e=this;this.$resizeTimer=i.delayedCall((function(){e.destroyed||e.onResize()}),50),this.$resizeObserver=new window.ResizeObserver((function(t){var n=t[0].contentRect.height;Math.abs(e.$size.width-t[0].contentRect.width)>1||Math.abs(e.$size.height-n)>1?e.$resizeTimer.delay():e.$resizeTimer.cancel()})),this.$resizeObserver.observe(this.container)}},e}();x.prototype.CHANGE_CURSOR=1,x.prototype.CHANGE_MARKER=2,x.prototype.CHANGE_GUTTER=4,x.prototype.CHANGE_SCROLL=8,x.prototype.CHANGE_LINES=16,x.prototype.CHANGE_TEXT=32,x.prototype.CHANGE_SIZE=64,x.prototype.CHANGE_MARKER_BACK=128,x.prototype.CHANGE_MARKER_FRONT=256,x.prototype.CHANGE_FULL=512,x.prototype.CHANGE_H_SCROLL=1024,x.prototype.$changes=0,x.prototype.$padding=null,x.prototype.$frozen=!1,x.prototype.STEPS=8,n.implement(x.prototype,g),o.defineOptions(x.prototype,"renderer",{useResizeObserver:{set:function(e){!e&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):e&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(e){this.$gutterLayer.$useSvgGutterIcons=e},initialValue:!1},showFoldedAnnotations:{set:function(e){this.$gutterLayer.$showFoldedAnnotations=e},initialValue:!1},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(e){1==this.$textLayer.setHighlightIndentGuides(e)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){this.$scrollPastEnd!=(e=+e||0)&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(e){this.$updateCustomScrollbar(e)},initialValue:!1},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!b.isMobile&&!b.isIE}}),t.VirtualRenderer=x})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t){"use strict";function n(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+i.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var r=e("../lib/oop"),i=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,s=e("../config"),a=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,o),this.$createWorkerFromOldConfig=function(t,r,i,o,a){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)o=o||s.moduleUrl(r,"worker");else{var u=this.$normalizePath;o=o||u(e.toUrl("ace/worker/worker.js",null,"_"));var l={};t.forEach((function(t){l[t]=u(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=n(o),a&&this.send("importScripts",a),this.$worker.postMessage({init:!0,tlns:l,module:r,classname:i}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(e){e.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker&&this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener,!0)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(e.start,"insert"==e.action?e.lines:e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(a.prototype);t.UIWorkerClient=function(e,t,n){var r=null,i=!1,u=Object.create(o),l=[],c=new a({messageBuffer:l,terminate:function(){},postMessage:function(e){l.push(e),r&&(i?setTimeout(h):h())}});c.setEmitSync=function(e){i=e};var h=function(){var e=l.shift();e.command?r[e.command].apply(r,e.args):e.event&&u._signal(e.event,e.data)};return u.postMessage=function(e){c.onMessage({data:e})},u.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},u.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],(function(e){for(r=new e[n](u);l.length;)h()})),c},t.WorkerClient=a,t.createWorker=n})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t){"use strict";var n=e("./range").Range,r=e("./lib/event_emitter").EventEmitter,i=e("./lib/oop"),o=function(){function e(e,t,n,r,i,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=r,this.$onCursorChange=function(){setTimeout((function(){s.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)}return e.prototype.setup=function(){var e=this,t=this.doc,r=this.session;this.selectionBefore=r.selection.toJSON(),r.selection.inMultiSelectMode&&r.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=r.addMarker(new n(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)})),r.setUndoSelect(!1)},e.prototype.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(r){r.markerId=e.addMarker(new n(r.row,r.column,r.row,r.column+t.length),t.othersClass,null,!1)}))}},e.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},e.prototype.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var r="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),i&&(this.length+=r),i&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;s>=0;s--){this.doc.insertMergedLines(u={row:(a=this.others[s]).row,column:a.column+o},e.lines)}else if("remove"===e.action)for(s=this.others.length-1;s>=0;s--){var a,u;this.doc.remove(new n((u={row:(a=this.others[s]).row,column:a.column+o}).row,u.column,u.row,u.column-r))}this.$updating=!1,this.updateMarkers()}},e.prototype.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},e.prototype.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,r=function(r,i){t.removeMarker(r.markerId),r.markerId=t.addMarker(new n(r.row,r.column,r.row,r.column+e.length),i,null,!1)};r(this.pos,this.mainClass);for(var i=this.others.length;i--;)r(this.others[i],this.othersClass)}},e.prototype.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},e.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},e.prototype.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},e}();i.implement(o.prototype,r),t.PlaceHolder=o})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t){function n(e,t){return e.row==t.row&&e.column==t.column}var r=e("../lib/event"),i=e("../lib/useragent");t.onMouseDown=function(e){var t=e.domEvent,o=t.altKey,s=t.shiftKey,a=t.ctrlKey,u=e.getAccelKey(),l=e.getButton();if(a&&i.isMac&&(l=t.button),e.editor.inMultiSelectMode&&2==l)e.editor.textInput.onContextMenu(e.domEvent);else if(a||o||u){if(0===l){var c,h=e.editor,p=h.selection,f=h.inMultiSelectMode,d=e.getDocumentPosition(),m=p.getCursor(),g=e.inSelection()||p.isEmpty()&&n(d,m),y=e.x,v=e.y,b=h.session,x=h.renderer.pixelToScreenCoordinates(y,v),w=x;if(h.$mouseHandler.$enableJumpToDef)a&&o||u&&o?c=s?"block":"add":o&&h.$blockSelectEnabled&&(c="block");else if(u&&!o){if(c="add",!f&&s)return}else o&&h.$blockSelectEnabled&&(c="block");if(c&&i.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==c){if(!f&&g)return;if(!f){var _=p.toOrientedRange();h.addSelectionMarker(_)}var S=p.rangeList.rangeAtPoint(d);h.inVirtualSelectionMode=!0,s&&(S=null,h.removeSelectionMarker(_=p.ranges[0]||_)),h.once("mouseup",(function(){var e=p.toOrientedRange();S&&e.isEmpty()&&n(S.cursor,e.cursor)?p.substractPoint(e.cursor):(s?p.substractPoint(_.cursor):_&&(h.removeSelectionMarker(_),p.addRange(_)),p.addRange(e)),h.inVirtualSelectionMode=!1}))}else if("block"==c){var k;e.stop(),h.inVirtualSelectionMode=!0;var T=[],A=function(){var e=h.renderer.pixelToScreenCoordinates(y,v),t=b.screenToDocumentPosition(e.row,e.column,e.offsetX);n(w,e)&&n(t,p.lead)||(w=e,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(T),T=p.rectangularRangeBlock(w,x),h.$mouseHandler.$clickSelection&&1==T.length&&T[0].isEmpty()&&(T[0]=h.$mouseHandler.$clickSelection.clone()),T.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};f&&!u?p.toSingleRange():!f&&u&&(k=p.toOrientedRange(),h.addSelectionMarker(k)),s?x=b.documentToScreenPosition(p.lead):p.moveToPosition(d),w={row:-1,column:-1};var E=A;r.capture(h.container,(function(e){y=e.clientX,v=e.clientY}),(function(){A(),clearInterval(C),h.removeSelectionMarkers(T),T.length||(T=[p.toOrientedRange()]),k&&(h.removeSelectionMarker(k),p.toSingleRange(k));for(var e=0;e<T.length;e++)p.addRange(T[e]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null}));var C=setInterval((function(){E()}),20);return e.preventDefault()}}}else 0===l&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t){function n(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",s),e.commands.addCommands(l.defaultCommands),function(e){function t(){r&&(e.renderer.setMouseCursor(""),r=!1)}if(!e.textInput)return;var n=e.textInput.getElement(),r=!1;a.addListener(n,"keydown",(function(n){e.$blockSelectEnabled&&(18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey))?r||(e.renderer.setMouseCursor("crosshair"),r=!0):r&&t()}),e),a.addListener(n,"keyup",t,e),a.addListener(n,"blur",t,e)}(e))}var r=e("./range_list").RangeList,i=e("./range").Range,o=e("./selection").Selection,s=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),u=e("./lib/lang"),l=e("./commands/multi_select_commands");t.commands=l.defaultCommands.concat(l.multiSelectCommands);var c=new(0,e("./search").Search),h=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(h.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new r,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var r=e[n],o=r.start.row,s=r.end.row;if(o===s)t.push(r.clone());else{for(t.push(new i(o,r.start.column,o,this.session.getLine(o).length));++o<s;)t.push(this.getLineRange(o,!0));t.push(new i(s,0,s,r.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}this.toSingleRange();for(n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(r,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],o=e.column<t.column;if(o)var s=e.column,a=t.column,u=e.offsetX,l=t.offsetX;else s=t.column,a=e.column,u=t.offsetX,l=e.offsetX;var c,h,p,f=e.row<t.row;if(f)var d=e.row,m=t.row;else d=t.row,m=e.row;s<0&&(s=0),d<0&&(d=0),d==m&&(n=!0);for(var g=d;g<=m;g++){var y=i.fromPoints(this.session.screenToDocumentPosition(g,s,u),this.session.screenToDocumentPosition(g,a,l));if(y.isEmpty()){if(c&&((h=y.end).row==(p=c).row&&h.column==p.column))break;c=y.end}y.cursor=o?y.start:y.end,r.push(y)}if(f&&r.reverse(),!n){for(var v=r.length-1;r[v].isEmpty()&&v>0;)v--;if(v>0)for(var b=0;r[b].isEmpty();)b++;for(var x=v;x>=b;x--)r[x].isEmpty()&&r.splice(x,1)}return r}}.call(o.prototype);var p=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var r=e[n];if(r.marker){this.session.removeMarker(r.marker);var i=t.indexOf(r);-1!=i&&t.splice(i,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(l.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(l.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});else{var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var r,i=1==n||n&&n.$byLines,s=this.session,a=this.selection,u=(n&&n.keepOrder?a:a.rangeList).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var l=a._eventRegistry;a._eventRegistry={};var c=new o(s);this.inVirtualSelectionMode=!0;for(var h=u.length;h--;){if(i)for(;h>0&&u[h].start.row==u[h-1].end.row;)h--;c.fromOrientedRange(u[h]),c.index=h,this.selection=s.selection=c;var p=e.exec?e.exec(this,t||{}):e(this,t||{});r||void 0===p||(r=p),c.toOrientedRange(u[h])}c.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=l,a.mergeOverlappingRanges(),a.ranges[0]&&a.fromOrientedRange(a.ranges[0]);var f=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),f&&f.from==f.to&&this.renderer.animateScrolling(f.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();(e=n.join(i)).length==(n.length-1)*i.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,null==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;var o=this.multiSelect;n||o.toSingleRange(i[0]);for(var s=i.length;s--;)o.addRange(i[s],!0);return r&&o.rangeList.rangeAtPoint(r.start)&&o.addRange(r,!0),i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var s,a=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())l=a;else var u=this.session.documentToScreenPosition(r?n.end:n.start),l=this.session.screenToDocumentPosition(u.row+e,u.column);r?(s=i.fromPoints(a,l)).cursor=s.start:(s=i.fromPoints(l,a)).cursor=s.end;if(s.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var c=n.cursor}else this.selection.addRange(n);this.selection.addRange(s),c&&this.selection.substractPoint(c)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,r=n.ranges,i=r.length;i--;){if((a=r[i]).isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}}n.mergeOverlappingRanges();var s=[];for(i=r.length;i--;){s.unshift(t.getTextRange(a=r[i]))}e<0?s.unshift(s.pop()):s.push(s.shift());for(i=r.length;i--;){var a,u=(a=r[i]).clone();t.replace(a,s[i]),a.start.row=u.start.row,a.start.column=u.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var r=this.session,i=r.multiSelect.toOrientedRange();if(!i.isEmpty()||((i=r.getWordRange(i.start.row,i.start.column)).cursor=-1==e?i.start:i.end,this.multiSelect.addRange(i),!n)){var o=r.getTextRange(i),s=function(e,t,n){return c.$options.wrap=!0,c.$options.needle=t,c.$options.backwards=-1==n,c.find(e)}(r,o,e);s&&(s.cursor=-1==e?s.start:s.end,this.session.unfold(s),this.multiSelect.addRange(s),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(i.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,o=n.filter((function(e){if(e.cursor.row==r)return!0;r=e.cursor.row}));if(n.length&&o.length!=n.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var s=0,a=1/0,l=n.map((function(t){var n=t.cursor,r=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==r&&(r=0),n.column>s&&(s=n.column),r<a&&(a=r),r}));n.forEach((function(t,n){var r=t.cursor,o=s-r.column,c=l[n]-a;o>c?e.insert(r,u.stringRepeat(" ",o-c)):e.remove(new i(r.row,r.column,r.row,r.column-o+c)),t.start.column=t.end.column=s,t.start.row=t.end.row=r.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),h=c.start.row,p=c.end.row,f=h==p;if(f){var d,m=this.session.getLength();do{d=this.session.getLine(p)}while(/[=:]/.test(d)&&++p<m);do{d=this.session.getLine(h)}while(/[=:]/.test(d)&&--h>0);h<0&&(h=0),p>=m&&(p=m-1)}var g=this.session.removeFullLines(h,p);g=this.$reAlignText(g,f),this.session.insert({row:h,column:0},g.join("\n")+"\n"),f||(c.start.column=0,c.end.column=g[g.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){function n(e){return u.stringRepeat(" ",e)}function r(e){return e[2]?n(i)+e[2]+n(o-e[2].length+s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var i,o,s,a=!0,l=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==i?(i=t[1].length,o=t[2].length,s=t[3].length,t):(i+o+s!=t[1].length+t[2].length+t[3].length&&(l=!1),i!=t[1].length&&(a=!1),i>t[1].length&&(i=t[1].length),o<t[2].length&&(o=t[2].length),s>t[3].length&&(s=t[3].length),t):[e]})).map(t?r:a?l?function(e){return e[2]?n(i+o-e[2].length)+e[2]+n(s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:r:function(e){return e[2]?n(i)+e[2]+n(s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]})}}).call(p.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=n,e("./config").defineOptions(p.prototype,"editor",{enableMultiselect:{set:function(e){n(this),e?this.on("mousedown",s):this.off("mousedown",s)},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t){"use strict";var n=e("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(){return null},this.indentationBlock=function(e,t,r){var i=/\S/,o=e.getLine(t),s=o.search(i);if(-1!=s){for(var a=r||o.length,u=e.getLength(),l=t,c=t;++t<u;){var h=e.getLine(t).search(i);if(-1!=h){if(h<=s){var p=e.getTokenAt(t,0);if(!p||"string"!==p.type)break}c=t}}if(c>l){var f=e.getLine(c).length;return new n(l,a,c,f)}}},this.openingBracketBlock=function(e,t,r,i,o){var s={row:r,column:i+1},a=e.$findClosingBracket(t,s,o);if(a){var u=e.foldWidgets[a.row];return null==u&&(u=e.getFoldWidget(a.row)),"start"==u&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),n.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,r,i){var o={row:r,column:i},s=e.$findOpeningBracket(t,o);if(s)return s.column++,o.column--,n.fromPoints(s,o)}}).call(r.prototype)})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],(function(e,t){"use strict";var n=e("../line_widgets").LineWidgets,r=e("../lib/dom"),i=e("../range").Range,o=e("../config").nls;t.showErrorMarker=function(e,t){var s=e.session;s.widgetManager||(s.widgetManager=new n(s),s.widgetManager.attach(e));var a=e.getCursorPosition(),u=a.row,l=s.widgetManager.getWidgetsAtRow(u).filter((function(e){return"errorMarker"==e.type}))[0];l?l.destroy():u-=t;var c,h=function(e,t,n){var r=e.getAnnotations().sort(i.comparePoints);if(r.length){var o=function(e,t,n){for(var r=0,i=e.length-1;r<=i;){var o=r+i>>1,s=n(t,e[o]);if(s>0)r=o+1;else{if(!(s<0))return o;i=o-1}}return-(r+1)}(r,{row:t,column:-1},i.comparePoints);o<0&&(o=-o-1),o>=r.length?o=n>0?0:r.length-1:0===o&&n<0&&(o=r.length-1);var s=r[o];if(s&&n){if(s.row===t){do{s=r[o+=n]}while(s&&s.row===t);if(!s)return r.slice()}var a=[];t=s.row;do{a[n<0?"unshift":"push"](s),s=r[o+=n]}while(s&&s.row==t);return a.length&&a}}}(s,u,t);if(h){var p=h[0];a.column=(p.pos&&"number"!=typeof p.column?p.pos.sc:p.column)||0,a.row=p.row,c=e.renderer.$gutterLayer.$annotations[a.row]}else{if(l)return;c={text:[o("Looks good!")],className:"ace_ok"}}e.session.unfold(a.row),e.selection.moveToPosition(a);var f={row:a.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},d=f.el.appendChild(r.createElement("div")),m=f.el.appendChild(r.createElement("div"));m.className="error_widget_arrow "+c.className;var g=e.renderer.$cursorLayer.getPixelPosition(a).left;m.style.left=g+e.renderer.gutterWidth-5+"px",f.el.className="error_widget_wrapper",d.className="error_widget "+c.className,d.innerHTML=c.text.join("<br>"),d.appendChild(r.createElement("div"));var y=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return f.destroy(),{command:"null"}};f.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(y),s.widgetManager.removeLineWidget(f),e.off("changeSelection",f.destroy),e.off("changeSession",f.destroy),e.off("mouseup",f.destroy),e.off("change",f.destroy))},e.keyBinding.addKeyboardHandler(y),e.on("changeSelection",f.destroy),e.on("changeSession",f.destroy),e.on("mouseup",f.destroy),e.on("change",f.destroy),e.session.widgetManager.addLineWidget(f),f.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:f.el.offsetHeight})},r.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],(function(e,t){"use strict";e("./loader_build")(t);var n=e("./lib/dom"),r=e("./range").Range,i=e("./editor").Editor,o=e("./edit_session").EditSession,s=e("./undomanager").UndoManager,a=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.edit=function(e,r){if("string"==typeof e){var o=e;if(!(e=document.getElementById(o)))throw new Error("ace.edit can't find div #"+o)}if(e&&e.env&&e.env.editor instanceof i)return e.env.editor;var s="";if(e&&/input|textarea/i.test(e.tagName)){var u=e;s=u.value,e=n.createElement("pre"),u.parentNode.replaceChild(e,u)}else e&&(s=e.textContent,e.innerHTML="");var l=t.createEditSession(s),c=new i(new a(e),l,r),h={document:l,editor:c,onResize:c.resize.bind(c,null)};return u&&(h.textarea=u),c.on("destroy",(function(){h.editor.container.env=null})),c.container.env=c.env=h,c},t.createEditSession=function(e,t){var n=new o(e,t);return n.setUndoManager(new s),n},t.Range=r,t.Editor=i,t.EditSession=o,t.UndoManager=s,t.VirtualRenderer=a,t.version=t.config.version})),ace.require(["ace/ace"],(function(n){n&&(n.config.init(!0),n.define=ace.define);var i=function(){return this}();for(var o in i||"undefined"==typeof window||(i=window),i||"undefined"==typeof self||(i=self),i.ace||(i.ace=n),n)n.hasOwnProperty(o)&&(i.ace[o]=n[o]);i.ace.default=i.ace,"object"==r(e)&&"object"==r(t)&&e&&(e.exports=i.ace)}))}).call(this,n("RoC8")(e))},eoLT:function(e,t,n){(function(e){function n(){if(void 0!==o)return o;if(e.XMLHttpRequest){o=new e.XMLHttpRequest;try{o.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){o=null}}else o=null;return o}function r(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function i(e){return"function"==typeof e}t.fetch=i(e.fetch)&&i(e.ReadableStream),t.writableStream=i(e.WritableStream),t.abortController=i(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var o,s=void 0!==e.ArrayBuffer,a=s&&i(e.ArrayBuffer.prototype.slice);t.arraybuffer=t.fetch||s&&r("arraybuffer"),t.msstream=!t.fetch&&a&&r("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&s&&r("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!n()&&i(n().overrideMimeType),t.vbArray=i(e.VBArray),o=null}).call(this,n("pCvA"))},f2gj:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.gpuRuntimeTranspile=void 0;var u=n("XwI5"),l=n("my7b"),c=n("Lq4A"),h=n("bIKd"),p=0,f=function(){function e(e,t){var n=this;this.transform=function(){var e=n.gpuTranspile,t=[];return u.simple(n.program,{ForStatement:function(n){var r=e(n);r>0&&n.loc&&t.push([n.loc.start.line,r])}},u.make({ForStatement:function(){}})),t},this.gpuTranspile=function(e){if(n.state=0,n.counters=[],n.end=[],n.checkOuterLoops(e),0===n.counters.length||new Set(n.counters).size!==n.counters.length)return 0;var t=new h.default(n.program,n.innerBody,n.counters);if(0===t.state)return 0;n.state=t.state,n.outputArray=t.outputArray,n.localVar=t.localVar,n.getOuterVariables(),n.getTargetBody(e);var r=[];for(var i in n.outerVariables)if(n.outerVariables.hasOwnProperty(i)){var o=n.outerVariables[i];r.push([l.literal(i),JSON.parse(JSON.stringify(o))])}var s=t.getArrayName,a=n.localVar;u.ancestor(n.targetBody,{AssignmentExpression:function(e,t){if("Identifier"!==e.left.type&&"MemberExpression"===e.left.type){var n=s(e.left);if(!a.has(n.name))l.mutateToReturnStatement(t[t.length-2],e.right)}}});for(var c=[],f=0;f<n.state;f++)c.push(l.identifier(n.counters[f]));var d=l.blockArrowFunction(n.counters.map((function(e){return l.identifier(e)})),n.targetBody),m=l.callExpression(n.globalIds.__createKernelSource,[l.arrayExpression(n.end),l.arrayExpression(r.map(l.arrayExpression)),l.arrayExpression(Array.from(a.values()).map((function(e){return l.literal(e)}))),n.outputArray,d,l.literal(p++)],e.loc);return l.mutateToExpressionStatement(e,m),n.state},this.checkOuterLoops=function(e){for(var t=e;"ForStatement"===t.type;){var r=new c.default(t);if(!r.ok)break;if(n.innerBody=t.body,n.counters.push(r.counter),n.end.push(r.end),"BlockStatement"!==n.innerBody.type)break;if(n.innerBody.body.length>1||0===n.innerBody.body.length)break;t=n.innerBody.body[0]}},this.program=e,this.globalIds={__createKernelSource:t}}var t,n,r;return t=e,(n=[{key:"getTargetBody",value:function(e){var t=this.state;for(this.targetBody=e;t>1;)this.targetBody=this.targetBody.body.body[0],t--;this.targetBody=this.targetBody.body}},{key:"getOuterVariables",value:function(){var e=this.localVar,t=this.counters,n=this.outputArray.name,r={};u.simple(this.innerBody,{Identifier:function(i){e.has(i.name)||t.includes(i.name)||i.name===n||i.name.startsWith("math_")||(r[i.name]=i)}}),this.outerVariables=r}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.gpuRuntimeTranspile=function(e,t){var n=e.params.map((function(e){return e.name})),i=e.body;u.simple(i,{CallExpression:function(e){if("Identifier"===e.callee.type){var t=e.callee.name.split("_")[1],n=e.arguments;l.mutateToCallExpression(e,l.memberExpression(l.identifier("Math"),t),n)}}});var o=new Set([].concat(r(n),["Math"]));u.simple(i,{Identifier:function(e){o.has(e.name)||t.has(e.name)||l.mutateToMemberExpression(e,l.memberExpression(l.identifier("this"),"constants"),l.identifier(e.name))}});var s=["x"];2===n.length&&(s=["y","x"]),3===n.length&&(s=["z","y","x"]);var a=n.slice();return u.simple(i,{Identifier:function(e){for(var t=-1,n=0;n<a.length;n+=1)if(e.name===a[n]){t=n;break}if(-1!==t){var r=s[t];l.mutateToMemberExpression(e,l.memberExpression(l.identifier("this"),"thread"),l.identifier(r))}}}),i},t.default=f},f9Fa:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:String(t)}function p(e,t){return m.parse(e,E(t))}var f;Object.defineProperty(t,"__esModule",{value:!0}),t.typedParse=t.looseParse=t.parseForNames=t.tokenize=t.parse=t.parseAt=t.TrailingCommaError=t.MissingSemicolonError=t.FatalSyntaxError=t.DisallowedConstructError=void 0;var d=n("Xy3c"),m=n("4N5z"),g=n("XwI5"),y=n("Otp2"),v=n("QyX9"),b=n("zZ3m"),x=n("36Vq"),w=n("0ZcR"),_=n("g7l+"),S=function(){function e(e){this.node=e,this.type=v.ErrorType.SYNTAX,this.severity=v.ErrorSeverity.ERROR,this.nodeType=this.formatNodeType(this.node.type)}return c(e,[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"".concat(this.nodeType," are not allowed")}},{key:"elaborate",value:function(){return b.stripIndent(f||(e=["\n      You are trying to use ",", which is not allowed (yet).\n    "],t||(t=e.slice(0)),f=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))),this.nodeType);var e,t}},{key:"formatNodeType",value:function(e){switch(e){case"ThisExpression":return"'this' expressions";case"Property":return"Properties";default:return e.split(/(?=[A-Z])/).map((function(e,t){return 0===t?e:e.toLowerCase()})).join(" ")+"s"}}}]),e}();t.DisallowedConstructError=S;var k=function(){function e(e,t){this.location=e,this.message=t,this.type=v.ErrorType.SYNTAX,this.severity=v.ErrorSeverity.ERROR}return c(e,[{key:"explain",value:function(){return this.message}},{key:"elaborate",value:function(){return"There is a syntax error in your program"}}]),e}();t.FatalSyntaxError=k;var T=function(){function e(e){this.location=e,this.type=v.ErrorType.SYNTAX,this.severity=v.ErrorSeverity.ERROR}return c(e,[{key:"explain",value:function(){return"Missing semicolon at the end of statement"}},{key:"elaborate",value:function(){return"Every statement must be terminated by a semicolon."}}]),e}();t.MissingSemicolonError=T;var A=function(){function e(e){this.location=e}return c(e,[{key:"explain",value:function(){return"Trailing comma"}},{key:"elaborate",value:function(){return"Please remove the trailing comma"}}]),e}();t.TrailingCommaError=A,t.parseAt=function(e,t){var n;try{n=d.parseExpressionAt(e,t,y.ACORN_PARSE_OPTIONS)}catch(e){return}return n},t.parse=function(e,t){var n;try{n=d.parse(e,E(t)),g.ancestor(n,O,void 0,t)}catch(e){if(!(e instanceof SyntaxError))throw e;var r=e.loc;t.errors.push(new k({start:{line:r.line,column:r.column},end:{line:r.line,column:r.column+1}},e.toString()))}var i=t.errors.find((function(e){return e.severity===v.ErrorSeverity.ERROR}));return n&&!i?n:void 0},t.tokenize=function(e,t){return o(d.tokenizer(e,E(t)))};var E=function(e){return{sourceType:"module",ecmaVersion:6,locations:!0,onInsertedSemicolon:function(t,n){e.errors.push(new T({end:{line:n.line,column:n.column+1},start:n}))},onTrailingComma:function(t,n){e.errors.push(new A({end:{line:n.line,column:n.column+1},start:n}))}}};t.parseForNames=function(e){var t,n=[],r={sourceType:"module",ecmaVersion:6,locations:!0,onComment:n};try{t=d.parse(e,r)}catch(i){n=[],t=m.parse(e,r)}return[t,n]},t.looseParse=p,t.typedParse=function(e,t){var n=p(e,t);return void 0===n?null:_.validateAndAnnotate(n,t)};var C,L,I,R,M=function(e){return Array.from(e).reduce((function(e,t){var n=i(t,2);return r(e,function(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n[0],n[1]))}),{})},O=(C=w.default,L=x.default,I=new Map,R=new Set,Object.entries(C).map((function(e){I.set(e[0],(function(e,t){R.has(e)||(R.add(e),t.chapter<C[e.type]&&t.errors.push(new S(e)))}))})),L.forEach((function(e){Object.entries(e.checkers).forEach((function(t){var n=t[0],r=t[1],i=I.get(n);I.set(n,(function(t,n,o){i(t,n,o),function(t,n,i){void 0!==e.disableOn&&n.chapter>=e.disableOn||r(t,i).forEach((function(e){return n.errors.push(e)}))}(t,n,o)}))}))})),M(I))},"g+31":function(e,t,n){"use strict";(function(t,r){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}function o(){}function s(e,t){g=g||n("A/eZ");var r=t instanceof g;this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var o=e.highWaterMark,s=e.writableHighWaterMark;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(m.nextTick(i,r),m.nextTick(d,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),d(e,t))}(e,n,r,t,i);else{var o=p(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||h(e,n),r?y(c,e,n,o,i):c(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function a(e){if(g=g||n("A/eZ"),!(b.call(a,this)||this instanceof g))return new a(e);this._writableState=new s(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),w.call(this)}function u(e,t,n,r,i,o){if(!n){var s=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=_.from(t,n)),t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else l(e,t,!1,a,r,i,o);return u}function l(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function c(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),d(e,t)}function h(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=new Array(t.bufferedRequestCount),o=t.corkedRequestsFree;o.entry=n;for(var s=0,a=!0;n;)r[s]=n,n.isBuf||(a=!1),n=n.next,s+=1;r.allBuffers=a,l(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk;if(l(e,t,!1,t.objectMode?1:u.length,u,n.encoding,n.callback),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function p(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function f(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),d(e,t)}))}function d(e,t){var n=p(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,m.nextTick(f,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}var m=n("upWy");e.exports=a;var g,y=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?setImmediate:m.nextTick;a.WritableState=s;var v=Object.create(n("nrnY"));v.inherits=n("wfEq");var b,x={deprecate:n("ct8n")},w=n("n428"),_=n("XKyj").Buffer,S=r.Uint8Array||function(){},k=n("xTpk");v.inherits(a,w),s.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(s.prototype,"buffer",{get:x.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(a,Symbol.hasInstance,{value:function(e){return!!b.call(this,e)||this===a&&(e&&e._writableState instanceof s)}})):b=function(e){return e instanceof this},a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},a.prototype.write=function(e,t,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(_.isBuffer(r=e)||r instanceof S);return a&&!_.isBuffer(e)&&(e=function(e){return _.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=o),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),m.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),m.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,s=u(this,i,a,e,t,n)),s},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||h(this,e))},a.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),a.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},a.prototype._writev=null,a.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,d(e,t),n&&(t.finished?m.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(a.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),a.prototype.destroy=k.destroy,a.prototype._undestroy=k.undestroy,a.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n("5IsQ"),n("pCvA"))},g0lB:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return"number"==typeof e}function o(e){return"function"==typeof e}function s(){return(new Date).getTime()}Object.defineProperty(t,"__esModule",{value:!0}),t.get_time=t.char_at=t.parse_int=t.array_length=t.is_array=t.has_own_property=t.is_NaN=t.is_function=t.is_object=t.is_boolean=t.is_string=t.is_undefined=t.is_number=t.timed=t.error_message=t.rawDisplay=void 0;var a=n("GFFv");t.rawDisplay=function(e,t){return console.log((void 0===t?"":t+" ")+e.toString()),e},t.error_message=function(e){var t=(void 0===(arguments.length<=1?void 0:arguments[1])?"":(arguments.length<=1?void 0:arguments[1])+" ")+a.stringify(e);throw new Error(t)},t.timed=function(e,t,n,r){return function(){var e=s(),i=t.apply(void 0,arguments),o=s()-e;return r("Duration: "+Math.round(o)+"ms","",n),i}},t.is_number=i,t.is_undefined=function(e){return void 0===e},t.is_string=function(e){return"string"==typeof e},t.is_boolean=function(e){return"boolean"==typeof e},t.is_object=function(e){return"object"===r(e)||o(e)},t.is_function=o,t.is_NaN=function(e){return i(e)&&isNaN(e)},t.has_own_property=function(e,t){return e.hasOwnProperty(t)},t.is_array=function(e){return e instanceof Array},t.array_length=function(e){return e.length},t.parse_int=function(e,t){if("string"==typeof e&&"number"==typeof t&&Number.isInteger(t)&&2<=t&&t<=36)return parseInt(e,t);throw new Error("parse_int expects two arguments a string s, and a positive integer i between 2 and 36, inclusive.")},t.char_at=function(e,t){if("string"!=typeof e)throw new Error("char_at expects the first argument to be a string.");if("number"!=typeof t||!Number.isInteger(t)||t<0)throw new Error("char_at expects the second argument to be a nonnegative integer.");return e[t]},t.get_time=s},g4mi:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}var s;Object.defineProperty(t,"__esModule",{value:!0}),t.BracesAroundIfElseError=void 0;var a=n("j0Aj"),u=n("QyX9"),l=n("zZ3m"),c=function(){function e(e,t){this.node=e,this.branch=t,this.type=u.ErrorType.SYNTAX,this.severity=u.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"consequent"===this.branch?'Missing curly braces around "if" block.':'Missing curly braces around "else" block.'}},{key:"elaborate",value:function(){var e,t,n,r,i;return"consequent"===this.branch?(e="if",t="if (".concat(a.generate(this.node.test),")"),n=this.node.consequent):(e=t="else",n=this.node.alternate),l.stripIndent(s||(r=["\n      "," block need to be enclosed with a pair of curly braces.\n\n      "," {\n        ",'\n      }\n\n      An exception is when you have an "if" followed by "else if", in this case\n      "else if" block does not need to be surrounded by curly braces.\n\n      if (someCondition) {\n        // ...\n      } else /* notice missing { here */ if (someCondition) {\n        // ...\n      } else {\n        // ...\n      }\n\n      Rationale: Readability in dense packed code.\n\n      In the snippet below, for instance, with poor indentation it is easy to\n      mistaken hello() and world() to belong to the same branch of logic.\n\n      if (someCondition) {\n        2;\n      } else\n        hello();\n      world();\n\n    '],i||(i=r.slice(0)),s=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}}))),e,t,a.generate(n))}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.BracesAroundIfElseError=c,t.default={name:"braces-around-if-else",checkers:{IfStatement:function(e){var t=[];(e.consequent&&"BlockStatement"!==e.consequent.type&&t.push(new c(e,"consequent")),e.alternate)&&("BlockStatement"!==e.alternate.type&&"IfStatement"!==e.alternate.type&&t.push(new c(e,"alternate")));return t}}}},"g7l+":function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.validateAndAnnotate=void 0;var s=n("XwI5"),a=n("JFiO"),u=n("X0TW"),l=n("my7b"),c=function(e){this.isConstant=e,this.accessedBeforeDeclaration=!1};t.validateAndAnnotate=function(e,t){function n(e){var t,n=new Map,r=i(e.body);try{for(r.s();!(t=r.n()).done;){var o=t.value;"VariableDeclaration"===o.type?n.set(l.getVariableDecarationName(o),new c("const"===o.kind)):"FunctionDeclaration"===o.type&&n.set(o.id.name,new c(!0))}}catch(e){r.e(e)}finally{r.f()}f.set(e,!1),p.set(e,n)}function o(e){p.set(e,new Map(e.params.map((function(e){return[e.name,new c(!1)]})))),f.set(e,!1)}function h(e,n){for(var r=e.name,i=n[n.length-2],o=n.length-1;o>=0;o--){var s=n[o],l=p.get(s);if(null==l?void 0:l.has(r)){l.get(r).accessedBeforeDeclaration=!0,"AssignmentExpression"===i.type&&i.left===e&&(l.get(r).isConstant&&t.errors.push(new a.ConstAssignment(i,r)),"ForStatement"===s.type&&s.init!==i&&s.update!==i&&t.errors.push(new u.NoAssignmentToForVariable(i)));break}}}var p=new Map,f=new Map;s.ancestor(e,{Program:n,BlockStatement:n,FunctionDeclaration:o,ArrowFunctionExpression:o,ForStatement:function(e){var t=e.init;"VariableDeclaration"===t.type&&(p.set(e,new Map([[l.getVariableDecarationName(t),new c("const"===t.kind)]])),f.set(e,!1))}});var d=r(r({},s.base),{VariableDeclarator:function(e,t,n){e.init&&n(e.init,t,"Expression")}});return s.ancestor(e,{VariableDeclaration:function(e,t){var n=t[t.length-2],r=l.getVariableDecarationName(e),i=p.get(n).get(r).accessedBeforeDeclaration;e.typability=i?"Untypable":"NotYetTyped"},Identifier:h,FunctionDeclaration:function(e,t){e.typability=f.get(t[t.length-2])?"Untypable":"NotYetTyped"},Pattern:function(e,t){"Identifier"===e.type?h(e,t):"MemberExpression"===e.type&&"Identifier"===e.object.type&&h(e.object,t)},CallExpression:function(e,t){for(var n=t.length-1;n>=0;n--){var r=t[n];if(f.has(r)){f.set(r,!0);break}}}},d),e}},hBZP:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(){n.init.call(this)}function r(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+t(e))}function i(e){return void 0===e._maxListeners?n.defaultMaxListeners:e._maxListeners}function o(e,t,n,o){var s,a,u,l;if(r(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),u=a[t]),void 0===u)u=a[t]=n,++e._eventsCount;else if("function"==typeof u?u=a[t]=o?[n,u]:[u,n]:o?u.unshift(n):u.push(n),(s=i(e))>0&&u.length>s&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=u.length,l=c,console&&console.warn&&console.warn(l)}return e}function s(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function a(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=s.bind(r);return i.listener=n,r.wrapFn=i,i}function u(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):c(i,i.length)}function l(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function c(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function h(e,n,r,i){if("function"==typeof e.on)i.once?e.once(n,r):e.on(n,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+t(e));e.addEventListener(n,(function t(o){i.once&&e.removeEventListener(n,t),r(o)}))}}var p,f="object"===("undefined"==typeof Reflect?"undefined":t(Reflect))?Reflect:null,d=f&&"function"==typeof f.apply?f.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};p=f&&"function"==typeof f.ownKeys?f.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var m=Number.isNaN||function(e){return e!=e};e.exports=n,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}h(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&h(e,"error",t,n)}(e,i,{once:!0})}))},n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var g=10;Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(e){if("number"!=typeof e||e<0||m(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");g=e}}),n.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||m(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},n.prototype.getMaxListeners=function(){return i(this)},n.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)d(a,this,t);else{var u=a.length,l=c(a,u);for(n=0;n<u;++n)d(l[n],this,t)}return!0},n.prototype.on=n.prototype.addListener=function(e,t){return o(this,e,t,!1)},n.prototype.prependListener=function(e,t){return o(this,e,t,!0)},n.prototype.once=function(e,t){return r(t),this.on(e,a(this,e,t)),this},n.prototype.prependOnceListener=function(e,t){return r(t),this.prependListener(e,a(this,e,t)),this},n.prototype.off=n.prototype.removeListener=function(e,t){var n,i,o,s,a;if(r(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){a=n[s].listener,o=s;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},n.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},n.prototype.listeners=function(e){return u(this,e,!0)},n.prototype.rawListeners=function(e){return u(this,e,!1)},n.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):l.call(e,t)},n.prototype.listenerCount=l,n.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]}},hosL:function(e,t,n){"use strict";function r(e,t){for(var n in t)e[n]=t[n];return e}function i(e){var t=e.parentNode;t&&t.removeChild(e)}function o(e,t,n){var r,i,o,a={};for(o in t)"key"==o?r=t[o]:"ref"==o?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?N.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return s(e,a,r,i,null)}function s(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++P:i,__i:-1,__u:0};return null==i&&null!=D.vnode&&D.vnode(o),o}function a(){return{current:null}}function u(e){return e.children}function l(e,t){this.props=e,this.context=t}function c(e,t){if(null==t)return e.__?c(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?c(e):null}function h(e,t,n){var i,o=e.__v,s=o.__e,a=e.__P;if(a)return(i=r({},o)).__v=o.__v+1,D.vnode&&D.vnode(i),k(a,i,o,e.__n,void 0!==a.ownerSVGElement,32&o.__u?[s]:null,t,null==s?c(o):s,!!(32&o.__u),n),i.__v=o.__v,i.__.__k[i.__i]=i,i.__d=void 0,i.__e!=s&&p(i),i}function p(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return p(e)}}function f(e){(!e.__d&&(e.__d=!0)&&$.push(e)&&!d.__r++||V!==D.debounceRendering)&&((V=D.debounceRendering)||B)(d)}function d(){var e,t,n,r=[],i=[];for($.sort(z);e=$.shift();)e.__d&&(n=$.length,t=h(e,r,i)||t,0===n||$.length>n?(T(r,t,i),i.length=r.length=0,t=void 0,$.sort(z)):t&&D.__c&&D.__c(t,G));t&&T(r,t,i),d.__r=0}function m(e,t,n,r,i,o,s,a,u,l,c){var h,p,f,d,m,v=r&&r.__k||G,b=t.length;for(n.__d=u,g(n,t,v),u=n.__d,h=0;h<b;h++)null!=(f=n.__k[h])&&"boolean"!=typeof f&&"function"!=typeof f&&(p=-1===f.__i?U:v[f.__i]||U,f.__i=h,k(e,f,p,i,o,s,a,u,l,c),d=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&E(p.ref,null,f),c.push(f.ref,f.__c||d,f)),null==m&&null!=d&&(m=d),65536&f.__u||p.__k===f.__k?u=y(f,u,e):"function"==typeof f.type&&void 0!==f.__d?u=f.__d:d&&(u=d.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=u,n.__e=m}function g(e,t,n){var r,i,o,a,l,h=t.length,p=n.length,f=p,d=0;for(e.__k=[],r=0;r<h;r++)a=r+d,null!=(i=e.__k[r]=null==(i=t[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?s(null,i,null,null,null):H(i)?s(u,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?s(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,l=b(i,n,a,f),i.__i=l,o=null,-1!==l&&(f--,(o=n[l])&&(o.__u|=131072)),null==o||null===o.__v?(-1==l&&d--,"function"!=typeof i.type&&(i.__u|=65536)):l!==a&&(l===a+1?d++:l>a?f>h-a?d+=l-a:d--:l<a?l==a-1&&(d=l-a):d=0,l!==r+d&&(i.__u|=65536))):(o=n[a])&&null==o.key&&o.__e&&0==(131072&o.__u)&&(o.__e==e.__d&&(e.__d=c(o)),C(o,o,!1),n[a]=null,f--);if(f)for(r=0;r<p;r++)null!=(o=n[r])&&0==(131072&o.__u)&&(o.__e==e.__d&&(e.__d=c(o)),C(o,o))}function y(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=y(r[i],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function v(e,t){return t=t||[],null==e||"boolean"==typeof e||(H(e)?e.some((function(e){v(e,t)})):t.push(e)),t}function b(e,t,n,r){var i=e.key,o=e.type,s=n-1,a=n+1,u=t[n];if(null===u||u&&i==u.key&&o===u.type&&0==(131072&u.__u))return n;if(r>(null!=u&&0==(131072&u.__u)?1:0))for(;s>=0||a<t.length;){if(s>=0){if((u=t[s])&&0==(131072&u.__u)&&i==u.key&&o===u.type)return s;s--}if(a<t.length){if((u=t[a])&&0==(131072&u.__u)&&i==u.key&&o===u.type)return a;a++}}return-1}function x(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||W.test(t)?n:n+"px"}function w(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||x(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||x(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?S:_,o)):e.removeEventListener(t,o?S:_,o);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function _(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(D.event?D.event(e):e)}}function S(e){if(this.l)return this.l[e.type+!0](D.event?D.event(e):e)}function k(e,t,n,i,o,s,a,c,h,p){var f,d,g,y,v,b,x,w,_,S,k,T,E,C,I,R=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(h=!!(32&n.__u),s=[c=t.__e=n.__e]),(f=D.__b)&&f(t);e:if("function"==typeof R)try{if(w=t.props,_=(f=R.contextType)&&i[f.__c],S=f?_?_.props.value:f.__:i,n.__c?x=(d=t.__c=n.__c).__=d.__E:("prototype"in R&&R.prototype.render?t.__c=d=new R(w,S):(t.__c=d=new l(w,S),d.constructor=R,d.render=L),_&&_.sub(d),d.props=w,d.state||(d.state={}),d.context=S,d.__n=i,g=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=R.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=r({},d.__s)),r(d.__s,R.getDerivedStateFromProps(w,d.__s))),y=d.props,v=d.state,d.__v=t,g)null==R.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==R.getDerivedStateFromProps&&w!==y&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(w,S),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(w,d.__s,S)||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=w,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[],d.__h.length&&a.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(w,d.__s,S),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(y,v,b)}))}if(d.context=S,d.props=w,d.__P=e,d.__e=!1,T=D.__r,E=0,"prototype"in R&&R.prototype.render){for(d.state=d.__s,d.__d=!1,T&&T(t),f=d.render(d.props,d.state,d.context),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[]}else do{d.__d=!1,T&&T(t),f=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++E<25);d.state=d.__s,null!=d.getChildContext&&(i=r(r({},i),d.getChildContext())),g||null==d.getSnapshotBeforeUpdate||(b=d.getSnapshotBeforeUpdate(y,v)),m(e,H(I=null!=f&&f.type===u&&null==f.key?f.props.children:f)?I:[I],t,n,i,o,s,a,c,h,p),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),x&&(d.__E=d.__=null)}catch(e){t.__v=null,h||null!=s?(t.__e=c,t.__u|=h?160:32,s[s.indexOf(c)]=null):(t.__e=n.__e,t.__k=n.__k),D.__e(e,t,n)}else null==s&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=A(n.__e,t,n,i,o,s,a,h,p);(f=D.diffed)&&f(t)}function T(e,t,n){for(var r=0;r<n.length;r++)E(n[r],n[++r],n[++r]);D.__c&&D.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){D.__e(e,t.__v)}}))}function A(e,t,n,r,o,s,a,u,l){var h,p,f,d,g,y,v,b=n.props,x=t.props,_=t.type;if("svg"===_&&(o=!0),null!=s)for(h=0;h<s.length;h++)if((g=s[h])&&"setAttribute"in g==!!_&&(_?g.localName===_:3===g.nodeType)){e=g,s[h]=null;break}if(null==e){if(null===_)return document.createTextNode(x);e=o?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,x.is&&x),s=null,u=!1}if(null===_)b===x||u&&e.data===x||(e.data=x);else{if(s=s&&N.call(e.childNodes),b=n.props||U,!u&&null!=s)for(b={},h=0;h<e.attributes.length;h++)b[(g=e.attributes[h]).name]=g.value;for(h in b)g=b[h],"children"==h||("dangerouslySetInnerHTML"==h?f=g:"key"===h||h in x||w(e,h,null,g,o));for(h in x)g=x[h],"children"==h?d=g:"dangerouslySetInnerHTML"==h?p=g:"value"==h?y=g:"checked"==h?v=g:"key"===h||u&&"function"!=typeof g||b[h]===g||w(e,h,g,b[h],o);if(p)u||f&&(p.__html===f.__html||p.__html===e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(f&&(e.innerHTML=""),m(e,H(d)?d:[d],t,n,r,o&&"foreignObject"!==_,s,a,s?s[0]:n.__k&&c(n,0),u,l),null!=s)for(h=s.length;h--;)null!=s[h]&&i(s[h]);u||(h="value",void 0!==y&&(y!==e[h]||"progress"===_&&!y||"option"===_&&y!==b[h])&&w(e,h,y,b[h],!1),h="checked",void 0!==v&&v!==e[h]&&w(e,h,v,b[h],!1))}return e}function E(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){D.__e(e,n)}}function C(e,t,n){var r,o;if(D.unmount&&D.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||E(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){D.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&C(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||i(e.__e),e.__=e.__e=e.__d=void 0}function L(e,t,n){return this.constructor(e,n)}function I(e,t,n){var r,i,s,a;D.__&&D.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,s=[],a=[],k(t,e=(!r&&n||t).__k=o(u,null,[e]),i||U,U,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?N.call(t.childNodes):null,s,!r&&n?n:i?i.__e:t.firstChild,r,a),e.__d=void 0,T(s,e,a)}function R(e,t){I(e,t,R)}function M(e,t,n){var i,o,a,u,l=r({},e.props);for(a in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)"key"==a?i=t[a]:"ref"==a?o=t[a]:l[a]=void 0===t[a]&&void 0!==u?u[a]:t[a];return arguments.length>2&&(l.children=arguments.length>3?N.call(arguments,2):n),s(e.type,l,i||e.key,o||e.ref,null)}function O(e,t){var n={__c:t="__cC"+j++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,f(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}n.r(t),n.d(t,"Component",(function(){return l})),n.d(t,"Fragment",(function(){return u})),n.d(t,"cloneElement",(function(){return M})),n.d(t,"createContext",(function(){return O})),n.d(t,"createElement",(function(){return o})),n.d(t,"createRef",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"hydrate",(function(){return R})),n.d(t,"isValidElement",(function(){return F})),n.d(t,"options",(function(){return D})),n.d(t,"render",(function(){return I})),n.d(t,"toChildArray",(function(){return v}));var N,D,P,F,$,V,B,z,j,U={},G=[],W=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,H=Array.isArray;N=G.slice,D={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},P=0,F=function(e){return null!=e&&null==e.constructor},l.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=r({},this.state),"function"==typeof e&&(e=e(r({},n),this.props)),e&&r(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),f(this))},l.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),f(this))},l.prototype.render=u,$=[],B="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z=function(e,t){return e.__v.__b-t.__v.__b},d.__r=0,j=0},ig9r:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MultipleDeclarationsError=void 0;var s=n("j0Aj"),a=n("QyX9"),u=function(){function e(e){this.node=e,this.type=a.ErrorType.SYNTAX,this.severity=a.ErrorSeverity.ERROR,this.fixs=e.declarations.map((function(e){return{type:"VariableDeclaration",kind:"let",loc:e.loc,declarations:[e]}}))}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"Multiple declaration in a single statement."}},{key:"elaborate",value:function(){return"Split the variable declaration into multiple lines as follows\n\n"+this.fixs.map((function(e){return"\t"+s.generate(e)})).join("\n")+"\n"}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.MultipleDeclarationsError=u,t.default={name:"single-variable-declaration",checkers:{VariableDeclaration:function(e){return e.declarations.length>1?[new u(e)]:[]}}}},j0Aj:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function s(e,t){var n=e.generator;if(e.write("("),null!=t&&t.length>0){n[t[0].type](t[0],e);for(var r=t.length,i=1;i<r;i++){var o=t[i];e.write(", "),n[o.type](o,e)}}e.write(")")}function a(e,t,n,r){var i=e.expressionsPrecedence[t.type];if(i===w)return!0;var o=e.expressionsPrecedence[n.type];return i!==o?!r&&15===i&&14===o&&"**"===n.operator||i<o:(13===i||14===i)&&("**"===t.operator&&"**"===n.operator?!r:r?x[t.operator]<=x[n.operator]:x[t.operator]<x[n.operator])}function u(e,t,n,r){var i=e.generator;a(e,t,n,r)?(e.write("("),i[t.type](t,e),e.write(")")):i[t.type](t,e)}function l(e,t,n,r){var i=t.split("\n"),o=i.length-1;if(e.write(i[0].trim()),o>0){e.write(r);for(var s=1;s<o;s++)e.write(n+i[s].trim()+r);e.write(n+i[o].trim())}}function c(e,t,n,r){for(var i=t.length,o=0;o<i;o++){var s=t[o];e.write(n),"L"===s.type[0]?e.write("// "+s.value.trim()+"\n",s):(e.write("/*"),l(e,s.value,n,r),e.write("*/"+r))}}function h(e,t){var n=e.generator,r=t.declarations;e.write(t.kind+" ");var i=r.length;if(i>0){n.VariableDeclarator(r[0],e);for(var o=1;o<i;o++)e.write(", "),n.VariableDeclarator(r[o],e)}}function p(e,t){var n=new A(t);return n.generator[e.type](e,n),n.output}n.r(t),n.d(t,"NEEDS_PARENTHESES",(function(){return w})),n.d(t,"EXPRESSIONS_PRECEDENCE",(function(){return _})),n.d(t,"GENERATOR",(function(){return S})),n.d(t,"baseGenerator",(function(){return T})),n.d(t,"generate",(function(){return p}));var f=JSON.stringify;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var d,m,g,y,v,b,x={"||":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},w=17,_={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:w,ClassExpression:w,FunctionExpression:w,ObjectExpression:w,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1},S={Program:function(e,t){var n=t.indent.repeat(t.indentLevel),r=t.lineEnd,i=t.writeComments;i&&null!=e.comments&&c(t,e.comments,n,r);for(var o=e.body,s=o.length,a=0;a<s;a++){var u=o[a];i&&null!=u.comments&&c(t,u.comments,n,r),t.write(n),this[u.type](u,t),t.write(r)}i&&null!=e.trailingComments&&c(t,e.trailingComments,n,r)},BlockStatement:b=function(e,t){var n=t.indent.repeat(t.indentLevel++),r=t.lineEnd,i=t.writeComments,o=n+t.indent;t.write("{");var s=e.body;if(null!=s&&s.length>0){t.write(r),i&&null!=e.comments&&c(t,e.comments,o,r);for(var a=s.length,u=0;u<a;u++){var l=s[u];i&&null!=l.comments&&c(t,l.comments,o,r),t.write(o),this[l.type](l,t),t.write(r)}t.write(n)}else i&&null!=e.comments&&(t.write(r),c(t,e.comments,o,r),t.write(n));i&&null!=e.trailingComments&&c(t,e.trailingComments,o,r),t.write("}"),t.indentLevel--},ClassBody:b,EmptyStatement:function(e,t){t.write(";")},ExpressionStatement:function(e,t){var n=t.expressionsPrecedence[e.expression.type];n===w||3===n&&"O"===e.expression.left.type[0]?(t.write("("),this[e.expression.type](e.expression,t),t.write(")")):this[e.expression.type](e.expression,t),t.write(";")},IfStatement:function(e,t){t.write("if ("),this[e.test.type](e.test,t),t.write(") "),this[e.consequent.type](e.consequent,t),null!=e.alternate&&(t.write(" else "),this[e.alternate.type](e.alternate,t))},LabeledStatement:function(e,t){this[e.label.type](e.label,t),t.write(": "),this[e.body.type](e.body,t)},BreakStatement:function(e,t){t.write("break"),null!=e.label&&(t.write(" "),this[e.label.type](e.label,t)),t.write(";")},ContinueStatement:function(e,t){t.write("continue"),null!=e.label&&(t.write(" "),this[e.label.type](e.label,t)),t.write(";")},WithStatement:function(e,t){t.write("with ("),this[e.object.type](e.object,t),t.write(") "),this[e.body.type](e.body,t)},SwitchStatement:function(e,t){var n=t.indent.repeat(t.indentLevel++),r=t.lineEnd,i=t.writeComments;t.indentLevel++;var o=n+t.indent,s=o+t.indent;t.write("switch ("),this[e.discriminant.type](e.discriminant,t),t.write(") {"+r);for(var a=e.cases,u=a.length,l=0;l<u;l++){var h=a[l];i&&null!=h.comments&&c(t,h.comments,o,r),h.test?(t.write(o+"case "),this[h.test.type](h.test,t),t.write(":"+r)):t.write(o+"default:"+r);for(var p=h.consequent,f=p.length,d=0;d<f;d++){var m=p[d];i&&null!=m.comments&&c(t,m.comments,s,r),t.write(s),this[m.type](m,t),t.write(r)}}t.indentLevel-=2,t.write(n+"}")},ReturnStatement:function(e,t){t.write("return"),e.argument&&(t.write(" "),this[e.argument.type](e.argument,t)),t.write(";")},ThrowStatement:function(e,t){t.write("throw "),this[e.argument.type](e.argument,t),t.write(";")},TryStatement:function(e,t){if(t.write("try "),this[e.block.type](e.block,t),e.handler){var n=e.handler;null==n.param?t.write(" catch "):(t.write(" catch ("),this[n.param.type](n.param,t),t.write(") ")),this[n.body.type](n.body,t)}e.finalizer&&(t.write(" finally "),this[e.finalizer.type](e.finalizer,t))},WhileStatement:function(e,t){t.write("while ("),this[e.test.type](e.test,t),t.write(") "),this[e.body.type](e.body,t)},DoWhileStatement:function(e,t){t.write("do "),this[e.body.type](e.body,t),t.write(" while ("),this[e.test.type](e.test,t),t.write(");")},ForStatement:function(e,t){if(t.write("for ("),null!=e.init){var n=e.init;"V"===n.type[0]?h(t,n):this[n.type](n,t)}t.write("; "),e.test&&this[e.test.type](e.test,t),t.write("; "),e.update&&this[e.update.type](e.update,t),t.write(") "),this[e.body.type](e.body,t)},ForInStatement:d=function(e,t){t.write("for ".concat(e.await?"await ":"","("));var n=e.left;"V"===n.type[0]?h(t,n):this[n.type](n,t),t.write("I"===e.type[3]?" in ":" of "),this[e.right.type](e.right,t),t.write(") "),this[e.body.type](e.body,t)},ForOfStatement:d,DebuggerStatement:function(e,t){t.write("debugger;",e)},FunctionDeclaration:m=function(e,t){t.write((e.async?"async ":"")+(e.generator?"function* ":"function ")+(e.id?e.id.name:""),e),s(t,e.params),t.write(" "),this[e.body.type](e.body,t)},FunctionExpression:m,VariableDeclaration:function(e,t){h(t,e),t.write(";")},VariableDeclarator:function(e,t){this[e.id.type](e.id,t),null!=e.init&&(t.write(" = "),this[e.init.type](e.init,t))},ClassDeclaration:function(e,t){if(t.write("class "+(e.id?"".concat(e.id.name," "):""),e),e.superClass){t.write("extends ");var n=e.superClass,r=n.type,i=t.expressionsPrecedence[r];"C"===r[0]&&"l"===r[1]&&"E"===r[5]||!(i===w||i<t.expressionsPrecedence.ClassExpression)?this[n.type](n,t):(t.write("("),this[e.superClass.type](n,t),t.write(")")),t.write(" ")}this.ClassBody(e.body,t)},ImportDeclaration:function(e,t){t.write("import ");var n=e.specifiers,r=n.length,i=0;if(r>0){for(;i<r;){i>0&&t.write(", ");var o=n[i],s=o.type[6];if("D"===s)t.write(o.local.name,o),i++;else{if("N"!==s)break;t.write("* as "+o.local.name,o),i++}}if(i<r){for(t.write("{");;){var a=n[i],u=a.imported.name;if(t.write(u,a),u!==a.local.name&&t.write(" as "+a.local.name),!(++i<r))break;t.write(", ")}t.write("}")}t.write(" from ")}this.Literal(e.source,t),t.write(";")},ImportExpression:function(e,t){t.write("import("),this[e.source.type](e.source,t),t.write(")")},ExportDefaultDeclaration:function(e,t){t.write("export default "),this[e.declaration.type](e.declaration,t),null!=t.expressionsPrecedence[e.declaration.type]&&"F"!==e.declaration.type[0]&&t.write(";")},ExportNamedDeclaration:function(e,t){if(t.write("export "),e.declaration)this[e.declaration.type](e.declaration,t);else{t.write("{");var n=e.specifiers,r=n.length;if(r>0)for(var i=0;;){var o=n[i],s=o.local.name;if(t.write(s,o),s!==o.exported.name&&t.write(" as "+o.exported.name),!(++i<r))break;t.write(", ")}t.write("}"),e.source&&(t.write(" from "),this.Literal(e.source,t)),t.write(";")}},ExportAllDeclaration:function(e,t){t.write(null!=e.exported?"export * as "+e.exported.name+" from ":"export * from "),this.Literal(e.source,t),t.write(";")},MethodDefinition:function(e,t){e.static&&t.write("static ");var n=e.kind[0];"g"!==n&&"s"!==n||t.write(e.kind+" "),e.value.async&&t.write("async "),e.value.generator&&t.write("*"),e.computed?(t.write("["),this[e.key.type](e.key,t),t.write("]")):this[e.key.type](e.key,t),s(t,e.value.params),t.write(" "),this[e.value.body.type](e.value.body,t)},ClassExpression:function(e,t){this.ClassDeclaration(e,t)},ArrowFunctionExpression:function(e,t){t.write(e.async?"async ":"",e);var n=e.params;null!=n&&(1===n.length&&"I"===n[0].type[0]?t.write(n[0].name,n[0]):s(t,e.params)),t.write(" => "),"O"===e.body.type[0]?(t.write("("),this.ObjectExpression(e.body,t),t.write(")")):this[e.body.type](e.body,t)},ThisExpression:function(e,t){t.write("this",e)},Super:function(e,t){t.write("super",e)},RestElement:g=function(e,t){t.write("..."),this[e.argument.type](e.argument,t)},SpreadElement:g,YieldExpression:function(e,t){t.write(e.delegate?"yield*":"yield"),e.argument&&(t.write(" "),this[e.argument.type](e.argument,t))},AwaitExpression:function(e,t){t.write("await ",e),u(t,e.argument,e)},TemplateLiteral:function(e,t){var n=e.quasis,r=e.expressions;t.write("`");for(var i=r.length,o=0;o<i;o++){var s=r[o],a=n[o];t.write(a.value.raw,a),t.write("${"),this[s.type](s,t),t.write("}")}var u=n[n.length-1];t.write(u.value.raw,u),t.write("`")},TemplateElement:function(e,t){t.write(e.value.raw,e)},TaggedTemplateExpression:function(e,t){this[e.tag.type](e.tag,t),this[e.quasi.type](e.quasi,t)},ArrayExpression:v=function(e,t){if(t.write("["),e.elements.length>0)for(var n=e.elements,r=n.length,i=0;;){var o=n[i];if(null!=o&&this[o.type](o,t),!(++i<r)){null==o&&t.write(", ");break}t.write(", ")}t.write("]")},ArrayPattern:v,ObjectExpression:function(e,t){var n=t.indent.repeat(t.indentLevel++),r=t.lineEnd,i=t.writeComments,o=n+t.indent;if(t.write("{"),e.properties.length>0){t.write(r),i&&null!=e.comments&&c(t,e.comments,o,r);for(var s=","+r,a=e.properties,u=a.length,l=0;;){var h=a[l];if(i&&null!=h.comments&&c(t,h.comments,o,r),t.write(o),this[h.type](h,t),!(++l<u))break;t.write(s)}t.write(r),i&&null!=e.trailingComments&&c(t,e.trailingComments,o,r),t.write(n+"}")}else i?null!=e.comments?(t.write(r),c(t,e.comments,o,r),null!=e.trailingComments&&c(t,e.trailingComments,o,r),t.write(n+"}")):null!=e.trailingComments?(t.write(r),c(t,e.trailingComments,o,r),t.write(n+"}")):t.write("}"):t.write("}");t.indentLevel--},Property:function(e,t){e.method||"i"!==e.kind[0]?this.MethodDefinition(e,t):(e.shorthand||(e.computed?(t.write("["),this[e.key.type](e.key,t),t.write("]")):this[e.key.type](e.key,t),t.write(": ")),this[e.value.type](e.value,t))},ObjectPattern:function(e,t){if(t.write("{"),e.properties.length>0)for(var n=e.properties,r=n.length,i=0;this[n[i].type](n[i],t),++i<r;)t.write(", ");t.write("}")},SequenceExpression:function(e,t){s(t,e.expressions)},UnaryExpression:function(e,t){if(e.prefix){var n=e.operator,r=e.argument,i=e.argument.type;t.write(n);var o=a(t,r,e);o||!(n.length>1)&&("U"!==i[0]||"n"!==i[1]&&"p"!==i[1]||!r.prefix||r.operator[0]!==n||"+"!==n&&"-"!==n)||t.write(" "),o?(t.write(n.length>1?" (":"("),this[i](r,t),t.write(")")):this[i](r,t)}else this[e.argument.type](e.argument,t),t.write(e.operator)},UpdateExpression:function(e,t){e.prefix?(t.write(e.operator),this[e.argument.type](e.argument,t)):(this[e.argument.type](e.argument,t),t.write(e.operator))},AssignmentExpression:function(e,t){this[e.left.type](e.left,t),t.write(" "+e.operator+" "),this[e.right.type](e.right,t)},AssignmentPattern:function(e,t){this[e.left.type](e.left,t),t.write(" = "),this[e.right.type](e.right,t)},BinaryExpression:y=function(e,t){var n="in"===e.operator;n&&t.write("("),u(t,e.left,e,!1),t.write(" "+e.operator+" "),u(t,e.right,e,!0),n&&t.write(")")},LogicalExpression:y,ConditionalExpression:function(e,t){var n=e.test,r=t.expressionsPrecedence[n.type];r===w||r<=t.expressionsPrecedence.ConditionalExpression?(t.write("("),this[n.type](n,t),t.write(")")):this[n.type](n,t),t.write(" ? "),this[e.consequent.type](e.consequent,t),t.write(" : "),this[e.alternate.type](e.alternate,t)},NewExpression:function(e,t){t.write("new ");var n=t.expressionsPrecedence[e.callee.type];n===w||n<t.expressionsPrecedence.CallExpression||function(e){for(var t=e;null!=t;){var n=t.type;if("C"===n[0]&&"a"===n[1])return!0;if("M"!==n[0]||"e"!==n[1]||"m"!==n[2])return!1;t=t.object}}(e.callee)?(t.write("("),this[e.callee.type](e.callee,t),t.write(")")):this[e.callee.type](e.callee,t),s(t,e.arguments)},CallExpression:function(e,t){var n=t.expressionsPrecedence[e.callee.type];n===w||n<t.expressionsPrecedence.CallExpression?(t.write("("),this[e.callee.type](e.callee,t),t.write(")")):this[e.callee.type](e.callee,t),e.optional&&t.write("?."),s(t,e.arguments)},ChainExpression:function(e,t){this[e.expression.type](e.expression,t)},MemberExpression:function(e,t){var n=t.expressionsPrecedence[e.object.type];n===w||n<t.expressionsPrecedence.MemberExpression?(t.write("("),this[e.object.type](e.object,t),t.write(")")):this[e.object.type](e.object,t),e.computed?(e.optional&&t.write("?."),t.write("["),this[e.property.type](e.property,t),t.write("]")):(t.write(e.optional?"?.":"."),this[e.property.type](e.property,t))},MetaProperty:function(e,t){t.write(e.meta.name+"."+e.property.name,e)},Identifier:function(e,t){t.write(e.name,e)},Literal:function(e,t){null!=e.raw?t.write(e.raw,e):null!=e.regex?this.RegExpLiteral(e,t):t.write(null!=e.bigint?e.bigint+"n":f(e.value),e)},RegExpLiteral:function(e,t){var n=e.regex;t.write("/".concat(n.pattern,"/").concat(n.flags),e)}},k={},T=S,A=function(){function e(e){var t=null==e?k:e;this.output="",null!=t.output?(this.output=t.output,this.write=this.writeToStream):this.output="",this.generator=null!=t.generator?t.generator:S,this.expressionsPrecedence=null!=t.expressionsPrecedence?t.expressionsPrecedence:_,this.indent=null!=t.indent?t.indent:"  ",this.lineEnd=null!=t.lineEnd?t.lineEnd:"\n",this.indentLevel=null!=t.startingIndentLevel?t.startingIndentLevel:0,this.writeComments=!!t.comments&&t.comments,null!=t.sourceMap&&(this.write=null==t.output?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=t.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split("\n").length-1,this.mapping={original:null,generated:this,name:void 0,source:t.sourceMap.file||t.sourceMap._file})}var t,n,r;return t=e,(n=[{key:"write",value:function(e){this.output+=e}},{key:"writeToStream",value:function(e){this.output.write(e)}},{key:"writeAndMap",value:function(e,t){this.output+=e,this.map(e,t)}},{key:"writeToStreamAndMap",value:function(e,t){this.output.write(e),this.map(e,t)}},{key:"map",value:function(e,t){if(null!=t){var n=t.type;if("L"===n[0]&&"n"===n[2])return this.column=0,void this.line++;if(null!=t.loc){var r=this.mapping;r.original=t.loc.start,r.name=t.name,this.sourceMap.addMapping(r)}if("T"===n[0]&&"E"===n[8]||"L"===n[0]&&"i"===n[1]&&"string"==typeof t.value){for(var i=e.length,o=this.column,s=this.line,a=0;a<i;a++)"\n"===e[a]?(o=0,s++):o++;return this.column=o,void(this.line=s)}}var u=e.length,l=this.lineEnd;u>0&&(this.lineEndSize>0&&(1===l.length?e[u-1]===l:e.endsWith(l))?(this.line+=this.lineEndSize,this.column=0):this.column+=u)}},{key:"toString",value:function(){return this.output}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},jahb:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lazyListPrelude=void 0,t.lazyListPrelude='\n\n/**\n * recurses down the list and checks that it ends with the empty list null\n * @param {value} xs - given candidate\n * @returns {boolean} indicating whether {xs} is a list\n */\n\nfunction is_list(xs) {\n  return is_null(xs) || (is_pair(xs) && is_list(tail(xs)));\n}\n\n// equal computes the structural equality\n// over its arguments\n\nfunction equal(xs, ys) {\n    return is_pair(xs)\n        ? (is_pair(ys) &&\n           equal(head(xs), head(ys)) &&\n           equal(tail(xs), tail(ys)))\n        : is_null(xs)\n        ? is_null(ys)\n        : is_number(xs)\n        ? (is_number(ys) && xs === ys)\n        : is_string(xs)\n        ? (is_string(ys) && xs === ys)\n        :  xs === ys;\n}\n\n// returns the length of a given argument list\n// assumes that the argument is a list\n\nfunction length(xs) {\n  return is_null(xs) ? 0 : 1 + length(tail(xs));\n}\n\n// map applies first arg f, assumed to be a unary function,\n// to the elements of the second argument, assumed to be a list.\n// f is applied element-by-element:\n// map(f, list(1, 2)) results in list(f(1), f(2))\n\nfunction map(f, xs) {\n  return is_null(xs) ? null : pair(f(head(xs)), map(f, tail(xs)));\n}\n\n// build_list takes a nonnegative integer n as first argument,\n// and a function fun as second argument.\n// build_list returns a list of n elements, that results from\n// applying fun to the numbers from 0 to n-1.\n\nfunction build_list(fun, n) {\n  function build(i, fun, already_built) {\n    return i < 0 ? already_built : build(i - 1, fun, pair(fun(i), already_built));\n  }\n  return build(n - 1, fun, null);\n}\n\n// for_each applies first arg fun, assumed to be a unary function,\n// to the elements of the second argument, assumed to be a list.\n// fun is applied element-by-element:\n// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).\n// for_each returns true.\n\nfunction for_each(fun, xs) {\n  if (is_null(xs)) {\n    return true;\n  } else {\n    fun(head(xs));\n    return for_each(fun, tail(xs));\n  }\n}\n\n// list_to_string returns a string that represents the argument list.\n// It applies itself recursively on the elements of the given list.\n// When it encounters a non-list, it applies to_string to it.\n\nfunction list_to_string(xs) {\n    return is_null(xs)\n        ? "null"\n        : is_pair(xs)\n            ? "[" + list_to_string(head(xs)) + "," +\n                list_to_string(tail(xs)) + "]"\n            : stringify(xs);\n}\n\n// reverse reverses the argument, assumed to be a list\n\nfunction reverse(xs) {\n  function rev(original, reversed) {\n    return is_null(original) ? reversed : rev(tail(original), pair(head(original), reversed));\n  }\n  return rev(xs, null);\n}\n\n// append first argument, assumed to be a list, to the second argument.\n// In the result null at the end of the first argument list\n// is replaced by the second argument, regardless what the second\n// argument consists of.\n\nfunction append(xs, ys) {\n  return is_null(xs) ? ys : pair(head(xs), append(tail(xs), ys));\n}\n\n// member looks for a given first-argument element in the\n// second argument, assumed to be a list. It returns the first\n// postfix sublist that starts with the given element. It returns null if the\n// element does not occur in the list\n\nfunction member(v, xs) {\n  return is_null(xs) ? null : v === head(xs) ? xs : member(v, tail(xs));\n}\n\n// removes the first occurrence of a given first-argument element\n// in second-argument, assmed to be a list. Returns the original\n// list if there is no occurrence.\n\nfunction remove(v, xs) {\n  return is_null(xs) ? null : v === head(xs) ? tail(xs) : pair(head(xs), remove(v, tail(xs)));\n}\n\n// Similar to remove, but removes all instances of v\n// instead of just the first\n\nfunction remove_all(v, xs) {\n  return is_null(xs)\n    ? null\n    : v === head(xs)\n    ? remove_all(v, tail(xs))\n    : pair(head(xs), remove_all(v, tail(xs)));\n}\n\n// filter returns the sublist of elements of the second argument\n// (assumed to be a list), for which the given predicate function\n// returns true.\n\nfunction filter(pred, xs) {\n  return is_null(xs)\n    ? xs\n    : pred(head(xs))\n    ? pair(head(xs), filter(pred, tail(xs)))\n    : filter(pred, tail(xs));\n}\n\n// enumerates numbers starting from start, assumed to be a number,\n// using a step size of 1, until the number exceeds end, assumed\n// to be a number\n\nfunction enum_list(start, end) {\n  const newStart = start + 1;\n  return start > end ? null : pair(start, enum_list(newStart, end));\n}\n\n// Returns the item in xs (assumed to be a list) at index n,\n// assumed to be a nonnegative integer.\n// Note: the first item is at position 0\n\nfunction list_ref(xs, n) {\n  const rest = tail(xs);\n  return n === 0 ? head(xs) : list_ref(rest, n - 1);\n}\n\n// accumulate applies an operation op (assumed to be a binary function)\n// to elements of sequence (assumed to be a list) in a right-to-left order.\n// first apply op to the last element and initial, resulting in r1, then to\n// the  second-last element and r1, resulting in r2, etc, and finally\n// to the first element and r_n-1, where n is the length of the\n// list.\n// accumulate(op, zero, list(1, 2, 3)) results in\n// op(1, op(2, op(3, zero)))\n\nfunction accumulate(f, initial, xs) {\n  return is_null(xs) ? initial : f(head(xs), accumulate(f, initial, tail(xs)));\n}\n'},kMiM:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:String(t)}var u;Object.defineProperty(t,"__esModule",{value:!0}),t.NoImplicitDeclareUndefinedError=void 0;var l=n("QyX9"),c=n("zZ3m"),h=function(){function e(e){this.node=e,this.type=l.ErrorType.SYNTAX,this.severity=l.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"Missing value in variable declaration."}},{key:"elaborate",value:function(){return c.stripIndent(u||(e=["\n      A variable declaration assigns a value to a name.\n      For instance, to assign 20 to ",", you can write:\n\n        let "," = 20;\n\n        "," + ","; // 40\n    "],t||(t=e.slice(0)),u=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))),this.node.name,this.node.name,this.node.name,this.node.name);var e,t}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.NoImplicitDeclareUndefinedError=h,t.default={name:"no-implicit-declare-undefined",checkers:{VariableDeclaration:function(e){var t,n=[],i=r(e.declarations);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.init||n.push(new h(o.id))}}catch(e){i.e(e)}finally{i.f()}return n}}}},kah5:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},l8WD:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function s(e,t){this.props=e,this.context=t}function a(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:o(this.props,e)}function r(t){return this.shouldComponentUpdate=n,Object(N.createElement)(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}function u(e){function t(t){var n=i({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=F,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}function l(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=i({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return l(e,t,n)}))),e}function c(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return c(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function h(){this.__u=0,this.t=null,this.__b=null}function p(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function f(e){function t(t){if(n||(n=e()).then((function(e){r=e.default||e}),(function(e){i=e})),i)throw i;if(!r)throw n;return Object(N.createElement)(r,t)}var n,r,i;return t.displayName="Lazy",t.__f=!0,t}function d(){this.u=null,this.o=null}function m(e){return this.getChildContext=function(){return e.context},e.children}function g(e){var t=this,n=e.i;t.componentWillUnmount=function(){Object(N.render)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Object(N.render)(Object(N.createElement)(m,{context:t.context},e.__v),t.l)}function y(e,t){var n=Object(N.createElement)(g,{__v:e,i:t});return n.containerInfo=t,n}function v(e,t,n){return null==t.__k&&(t.textContent=""),Object(N.render)(e,t),"function"==typeof n&&n(),e?e.__c:null}function b(e,t,n){return Object(N.hydrate)(e,t),"function"==typeof n&&n(),e?e.__c:null}function x(){}function w(){return this.cancelBubble}function _(){return this.defaultPrevented}function S(e){return N.createElement.bind(null,e)}function k(e){return!!e&&e.$$typeof===U}function T(e){return k(e)&&e.type===N.Fragment}function A(e){return k(e)?N.cloneElement.apply(null,arguments):e}function E(e){return!!e.__k&&(Object(N.render)(null,e),!0)}function C(e){return e&&(e.base||1===e.nodeType&&e)||null}function L(e){e()}function I(e){return e}function R(){return[!1,L]}function M(e,t){var n=t(),r=Object(D.l)({h:{__:n,v:t}}),i=r[0].h,o=r[1];return Object(D.h)((function(){i.__=n,i.v=t,O(i)&&o({h:i})}),[e,n,t]),Object(D.d)((function(){return O(i)&&o({h:i}),e((function(){O(i)&&o({h:i})}))}),[e]),n}function O(e){var t,n,r=e.v,i=e.__;try{var o=r();return!((t=i)===(n=o)&&(0!==t||1/t==1/n)||t!=t&&n!=n)}catch(e){return!0}}n.r(t),n.d(t,"Children",(function(){return V})),n.d(t,"PureComponent",(function(){return s})),n.d(t,"StrictMode",(function(){return oe})),n.d(t,"Suspense",(function(){return h})),n.d(t,"SuspenseList",(function(){return d})),n.d(t,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return te})),n.d(t,"cloneElement",(function(){return A})),n.d(t,"createFactory",(function(){return S})),n.d(t,"createPortal",(function(){return y})),n.d(t,"default",(function(){return ue})),n.d(t,"findDOMNode",(function(){return C})),n.d(t,"flushSync",(function(){return ie})),n.d(t,"forwardRef",(function(){return u})),n.d(t,"hydrate",(function(){return b})),n.d(t,"isElement",(function(){return ae})),n.d(t,"isFragment",(function(){return T})),n.d(t,"isValidElement",(function(){return k})),n.d(t,"lazy",(function(){return f})),n.d(t,"memo",(function(){return a})),n.d(t,"render",(function(){return v})),n.d(t,"startTransition",(function(){return L})),n.d(t,"unmountComponentAtNode",(function(){return E})),n.d(t,"unstable_batchedUpdates",(function(){return re})),n.d(t,"useDeferredValue",(function(){return I})),n.d(t,"useInsertionEffect",(function(){return se})),n.d(t,"useSyncExternalStore",(function(){return M})),n.d(t,"useTransition",(function(){return R})),n.d(t,"version",(function(){return ne}));var N=n("hosL");n.d(t,"Component",(function(){return N.Component})),n.d(t,"Fragment",(function(){return N.Fragment})),n.d(t,"createContext",(function(){return N.createContext})),n.d(t,"createElement",(function(){return N.createElement})),n.d(t,"createRef",(function(){return N.createRef}));var D=n("QRet");n.d(t,"useCallback",(function(){return D.a})),n.d(t,"useContext",(function(){return D.b})),n.d(t,"useDebugValue",(function(){return D.c})),n.d(t,"useEffect",(function(){return D.d})),n.d(t,"useErrorBoundary",(function(){return D.e})),n.d(t,"useId",(function(){return D.f})),n.d(t,"useImperativeHandle",(function(){return D.g})),n.d(t,"useLayoutEffect",(function(){return D.h})),n.d(t,"useMemo",(function(){return D.i})),n.d(t,"useReducer",(function(){return D.j})),n.d(t,"useRef",(function(){return D.k})),n.d(t,"useState",(function(){return D.l})),(s.prototype=new N.Component).isPureReactComponent=!0,s.prototype.shouldComponentUpdate=function(e,t){return o(this.props,e)||o(this.state,t)};var P=N.options.__b;N.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),P&&P(e)};var F="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,$=function(e,t){return null==e?null:Object(N.toChildArray)(Object(N.toChildArray)(e).map(t))},V={map:$,forEach:$,count:function(e){return e?Object(N.toChildArray)(e).length:0},only:function(e){var t=Object(N.toChildArray)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:N.toChildArray},B=N.options.__e;N.options.__e=function(e,t,n,r){if(e.then)for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);B(e,t,n,r)};var z=N.options.unmount;N.options.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),z&&z(e)},(h.prototype=new N.Component).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=p(r.__v),o=!1,s=function(){o||(o=!0,n.__R=null,i?i(a):a())};n.__R=s;var a=function(){if(!--r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=c(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(s,s)},h.prototype.componentWillUnmount=function(){this.t=[]},h.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=l(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&Object(N.createElement)(N.Fragment,null,e.fallback);return i&&(i.__u&=-33),[Object(N.createElement)(N.Fragment,null,t.__a?null:e.children),i]};var j=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(d.prototype=new N.Component).__a=function(e){var t=this,n=p(t.__v),r=t.o.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),j(t,e,r)):i()};n?n(o):o()}},d.prototype.render=function(e){this.u=null,this.o=new Map;var t=Object(N.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},d.prototype.componentDidUpdate=d.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){j(e,n,t)}))};var U="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,W=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,H=/[A-Z0-9]/g,K="undefined"!=typeof document,q=function(e){return("undefined"!=typeof Symbol&&"symbol"==r(Symbol())?/fil|che|rad/:/fil|che|ra/).test(e)};N.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(N.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var X=N.options.event;N.options.event=function(e){return X&&(e=X(e)),e.persist=x,e.isPropagationStopped=w,e.isDefaultPrevented=_,e.nativeEvent=e};var Y,Q={enumerable:!1,configurable:!0,get:function(){return this.class}},Z=N.options.vnode;N.options.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,r={};for(var i in t){var o=t[i];if(!("value"===i&&"defaultValue"in t&&null==o||K&&"children"===i&&"noscript"===n||"class"===i||"className"===i)){var s=i.toLowerCase();"defaultValue"===i&&"value"in t&&null==t.value?i="value":"download"===i&&!0===o?o="":"translate"===s&&"no"===o?o=!1:"ondoubleclick"===s?i="ondblclick":"onchange"!==s||"input"!==n&&"textarea"!==n||q(t.type)?"onfocus"===s?i="onfocusin":"onblur"===s?i="onfocusout":W.test(i)?i=s:-1===n.indexOf("-")&&G.test(i)?i=i.replace(H,"-$&").toLowerCase():null===o&&(o=void 0):s=i="oninput","oninput"===s&&r[i=s]&&(i="oninputCapture"),r[i]=o}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=Object(N.toChildArray)(t.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=Object(N.toChildArray)(t.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",Q)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.$$typeof=U,Z&&Z(e)};var J=N.options.__r;N.options.__r=function(e){J&&J(e),Y=e.__c};var ee=N.options.diffed;N.options.diffed=function(e){ee&&ee(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),Y=null};var te={ReactCurrentDispatcher:{current:{readContext:function(e){return Y.__n[e.__c].props.value}}}},ne="17.0.2",re=function(e,t){return e(t)},ie=function(e,t){return e(t)},oe=N.Fragment,se=D.h,ae=k,ue={useState:D.l,useId:D.f,useReducer:D.j,useEffect:D.d,useLayoutEffect:D.h,useInsertionEffect:se,useTransition:R,useDeferredValue:I,useSyncExternalStore:M,startTransition:L,useRef:D.k,useImperativeHandle:D.g,useMemo:D.i,useCallback:D.a,useContext:D.b,useDebugValue:D.c,version:"17.0.2",Children:V,render:v,hydrate:b,unmountComponentAtNode:E,createPortal:y,createElement:N.createElement,createContext:N.createContext,createFactory:S,cloneElement:A,createRef:N.createRef,Fragment:N.Fragment,isValidElement:k,isElement:k,isFragment:T,findDOMNode:C,Component:N.Component,PureComponent:s,memo:a,forwardRef:u,flushSync:ie,unstable_batchedUpdates:re,StrictMode:oe,Suspense:h,SuspenseList:d,lazy:f,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:te}},lVFF:function(){},lWdj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diff=t.split=void 0;var r=n("K573"),i=n("5afc");t.diff=i.default;var o=n("NpYg");t.split=o.default,t.default=r.default},lXuL:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NoUnspecifiedOperatorError=void 0;var s=n("QyX9"),a=function(){function e(e){this.node=e,this.type=s.ErrorType.SYNTAX,this.severity=s.ErrorSeverity.ERROR,this.unspecifiedOperator=e.operator}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"Operator '".concat(this.unspecifiedOperator,"' is not allowed.")}},{key:"elaborate",value:function(){return""}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.NoUnspecifiedOperatorError=a,t.default={name:"no-unspecified-operator",checkers:{BinaryExpression:function(e){return["+","-","*","/","%","===","!==","<",">","<=",">=","&&","||"].includes(e.operator)?[]:[new a(e)]},UnaryExpression:function(e){return["-","!"].includes(e.operator)?[]:[new a(e)]}}}},mbKv:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}var s;Object.defineProperty(t,"__esModule",{value:!0}),t.NoImplicitReturnUndefinedError=void 0;var a=n("QyX9"),u=n("zZ3m"),l=function(){function e(e){this.node=e,this.type=a.ErrorType.SYNTAX,this.severity=a.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"Missing value in return statement."}},{key:"elaborate",value:function(){return u.stripIndent(s||(e=["\n      This return statement is missing a value.\n      For instance, to return the value 42, you can write\n\n        return 42;\n    "],t||(t=e.slice(0)),s=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))));var e,t}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.NoImplicitReturnUndefinedError=l,t.default={name:"no-implicit-return-undefined",checkers:{ReturnStatement:function(e){return e.argument?[]:[new l(e)]}}}},mpBs:function(e,t){function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}function r(){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},r.apply(this,arguments)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:String(t)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=h();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var g,y,v;v=function(){return function e(t,n,r){function i(s){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){return i(t[s][1][e]||e)}),u,u.exports,e,t,n,r)}return n[s].exports}for(var o=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){var r,i;r=this,i=function(e){"use strict";function t(e,t){for(var n=65536,r=0;r<t.length;r+=2){if((n+=t[r])>e)return!1;if((n+=t[r+1])>=e)return!0}}function n(e,n){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&R.test(String.fromCharCode(e)):!1!==n&&t(e,O)))}function r(e,n){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&M.test(String.fromCharCode(e)):!1!==n&&(t(e,O)||t(e,N)))))}function i(e,t){return new D(e,{beforeExpr:!0,binop:t})}function o(e,t){return void 0===t&&(t={}),t.keyword=e,$[e]=new D(e,t)}function s(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}function a(e,t){return W.call(e,t)}function u(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}function l(e,t){for(var n=1,r=0;;){z.lastIndex=r;var i=z.exec(e);if(!(i&&i.index<t))return new q(n,t-r);++n,r=i.index+i[0].length}}function c(e){var t={};for(var n in Y)t[n]=e&&a(e,n)?e[n]:Y[n];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),K(t.onToken)){var r=t.onToken;t.onToken=function(e){return r.push(e)}}return K(t.onComment)&&(t.onComment=function(e,t){return function(n,r,i,o,s,a){var u={type:n?"Block":"Line",value:r,start:i,end:o};e.locations&&(u.loc=new X(this,s,a)),e.ranges&&(u.range=[i,o]),t.push(u)}}(t,t.onComment)),t}function h(e,t){return 2|(e?4:0)|(t?8:0)}function p(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}function f(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}function d(e){var t=Te[e]={binary:u(xe[e]+" "+we),nonBinary:{General_Category:u(we),Script:u(ke[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}function m(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function g(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function y(e){return e>=65&&e<=90||e>=97&&e<=122}function v(e){return y(e)||95===e}function b(e){return v(e)||x(e)}function x(e){return e>=48&&e<=57}function w(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function _(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function S(e){return e>=48&&e<=55}function k(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}var T={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},A="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",E={5:A,"5module":A+" export import",6:A+" const class extends export import super"},C=/^in(stanceof)?$/,L="ÂªÂµÂºÃ€-Ã–Ã˜-Ã¶Ã¸-ËË†-Ë‘Ë -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½Í¿Î†Îˆ-ÎŠÎŒÎŽ-Î¡Î£-ÏµÏ·-ÒÒŠ-Ô¯Ô±-Õ–Õ™Õ -Öˆ×-×ª×¯-×²Ø -ÙŠÙ®Ù¯Ù±-Û“Û•Û¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ’-Ü¯Ý-Þ¥Þ±ßŠ-ßªß´ßµßºà €-à •à šà ¤à ¨à¡€-à¡˜à¡ -à¡ªà¢ -à¢´à¢¶-à¢½à¤„-à¤¹à¤½à¥à¥˜-à¥¡à¥±-à¦€à¦…-à¦Œà¦à¦à¦“-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§Žà§œà§à§Ÿ-à§¡à§°à§±à§¼à¨…-à¨Šà¨à¨à¨“-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©™-à©œà©žà©²-à©´àª…-àªàª-àª‘àª“-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à«¹à¬…-à¬Œà¬à¬à¬“-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­œà­à­Ÿ-à­¡à­±à®ƒà®…-à®Šà®Ž-à®à®’-à®•à®™à®šà®œà®žà®Ÿà®£à®¤à®¨-à®ªà®®-à®¹à¯à°…-à°Œà°Ž-à°à°’-à°¨à°ª-à°¹à°½à±˜-à±šà± à±¡à²€à²…-à²Œà²Ž-à²à²’-à²¨à²ª-à²³à²µ-à²¹à²½à³žà³ à³¡à³±à³²à´…-à´Œà´Ž-à´à´’-à´ºà´½àµŽàµ”-àµ–àµŸ-àµ¡àµº-àµ¿à¶…-à¶–à¶š-à¶±à¶³-à¶»à¶½à·€-à·†à¸-à¸°à¸²à¸³à¹€-à¹†àºàº‚àº„àº†-àºŠàºŒ-àº£àº¥àº§-àº°àº²àº³àº½à»€-à»„à»†à»œ-à»Ÿà¼€à½€-à½‡à½‰-à½¬à¾ˆ-à¾Œá€€-á€ªá€¿á-á•áš-áá¡á¥á¦á®-á°áµ-á‚á‚Žá‚ -áƒ…áƒ‡áƒáƒ-áƒºáƒ¼-á‰ˆá‰Š-á‰á‰-á‰–á‰˜á‰š-á‰á‰ -áŠˆáŠŠ-áŠáŠ-áŠ°áŠ²-áŠµáŠ¸-áŠ¾á‹€á‹‚-á‹…á‹ˆ-á‹–á‹˜-áŒáŒ’-áŒ•áŒ˜-ášáŽ€-áŽáŽ -áµá¸-á½á-á™¬á™¯-á™¿áš-áššáš -á›ªá›®-á›¸áœ€-áœŒáœŽ-áœ‘áœ -áœ±á€-á‘á -á¬á®-á°áž€-áž³áŸ—áŸœá  -á¡¸á¢€-á¢¨á¢ªá¢°-á£µá¤€-á¤žá¥-á¥­á¥°-á¥´á¦€-á¦«á¦°-á§‰á¨€-á¨–á¨ -á©”áª§á¬…-á¬³á­…-á­‹á®ƒ-á® á®®á®¯á®º-á¯¥á°€-á°£á±-á±á±š-á±½á²€-á²ˆá²-á²ºá²½-á²¿á³©-á³¬á³®-á³³á³µá³¶á³ºá´€-á¶¿á¸€-á¼•á¼˜-á¼á¼ -á½…á½ˆ-á½á½-á½—á½™á½›á½á½Ÿ-á½½á¾€-á¾´á¾¶-á¾¼á¾¾á¿‚-á¿„á¿†-á¿Œá¿-á¿“á¿–-á¿›á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â‚-â‚œâ„‚â„‡â„Š-â„“â„•â„˜-â„â„¤â„¦â„¨â„ª-â„¹â„¼-â„¿â……-â…‰â…Žâ… -â†ˆâ°€-â°®â°°-â±žâ± -â³¤â³«-â³®â³²â³³â´€-â´¥â´§â´­â´°-âµ§âµ¯â¶€-â¶–â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·€-â·†â·ˆ-â·Žâ·-â·–â·˜-â·žã€…-ã€‡ã€¡-ã€©ã€±-ã€µã€¸-ã€¼ã-ã‚–ã‚›-ã‚Ÿã‚¡-ãƒºãƒ¼-ãƒ¿ã„…-ã„¯ã„±-ã†Žã† -ã†ºã‡°-ã‡¿ã€-ä¶µä¸€-é¿¯ê€€-ê’Œê“-ê“½ê”€-ê˜Œê˜-ê˜Ÿê˜ªê˜«ê™€-ê™®ê™¿-êšêš -ê›¯êœ—-êœŸêœ¢-êžˆêž‹-êž¿êŸ‚-êŸ†êŸ·-ê ê ƒ-ê …ê ‡-ê Šê Œ-ê ¢ê¡€-ê¡³ê¢‚-ê¢³ê£²-ê£·ê£»ê£½ê£¾ê¤Š-ê¤¥ê¤°-ê¥†ê¥ -ê¥¼ê¦„-ê¦²ê§ê§ -ê§¤ê§¦-ê§¯ê§º-ê§¾ê¨€-ê¨¨ê©€-ê©‚ê©„-ê©‹ê© -ê©¶ê©ºê©¾-êª¯êª±êªµêª¶êª¹-êª½ê«€ê«‚ê«›-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬†ê¬‰-ê¬Žê¬‘-ê¬–ê¬ -ê¬¦ê¬¨-ê¬®ê¬°-ê­šê­œ-ê­§ê­°-ê¯¢ê°€-íž£íž°-íŸ†íŸ‹-íŸ»ï¤€-ï©­ï©°-ï«™ï¬€-ï¬†ï¬“-ï¬—ï¬ï¬Ÿ-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­€ï­ï­ƒï­„ï­†-ï®±ï¯“-ï´½ïµ-ï¶ï¶’-ï·‡ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½šï½¦-ï¾¾ï¿‚-ï¿‡ï¿Š-ï¿ï¿’-ï¿—ï¿š-ï¿œ",I="â€Œâ€Â·Ì€-Í¯Î‡Òƒ-Ò‡Ö‘-Ö½Ö¿××‚×„×…×‡Ø-ØšÙ‹-Ù©Ù°Û–-ÛœÛŸ-Û¤Û§Û¨Ûª-Û­Û°-Û¹Ü‘Ü°-ÝŠÞ¦-Þ°ß€-ß‰ß«-ß³ß½à –-à ™à ›-à £à ¥-à §à ©-à ­à¡™-à¡›à£“-à£¡à££-à¤ƒà¤º-à¤¼à¤¾-à¥à¥‘-à¥—à¥¢à¥£à¥¦-à¥¯à¦-à¦ƒà¦¼à¦¾-à§„à§‡à§ˆà§‹-à§à§—à§¢à§£à§¦-à§¯à§¾à¨-à¨ƒà¨¼à¨¾-à©‚à©‡à©ˆà©‹-à©à©‘à©¦-à©±à©µàª-àªƒàª¼àª¾-à«…à«‡-à«‰à«‹-à«à«¢à«£à«¦-à«¯à«º-à«¿à¬-à¬ƒà¬¼à¬¾-à­„à­‡à­ˆà­‹-à­à­–à­—à­¢à­£à­¦-à­¯à®‚à®¾-à¯‚à¯†-à¯ˆà¯Š-à¯à¯—à¯¦-à¯¯à°€-à°„à°¾-à±„à±†-à±ˆà±Š-à±à±•à±–à±¢à±£à±¦-à±¯à²-à²ƒà²¼à²¾-à³„à³†-à³ˆà³Š-à³à³•à³–à³¢à³£à³¦-à³¯à´€-à´ƒà´»à´¼à´¾-àµ„àµ†-àµˆàµŠ-àµàµ—àµ¢àµ£àµ¦-àµ¯à¶‚à¶ƒà·Šà·-à·”à·–à·˜-à·Ÿà·¦-à·¯à·²à·³à¸±à¸´-à¸ºà¹‡-à¹Žà¹-à¹™àº±àº´-àº¼à»ˆ-à»à»-à»™à¼˜à¼™à¼ -à¼©à¼µà¼·à¼¹à¼¾à¼¿à½±-à¾„à¾†à¾‡à¾-à¾—à¾™-à¾¼à¿†á€«-á€¾á€-á‰á–-á™áž-á á¢-á¤á§-á­á±-á´á‚‚-á‚á‚-á‚á-áŸá©-á±áœ’-áœ”áœ²-áœ´á’á“á²á³áž´-áŸ“áŸáŸ -áŸ©á ‹-á á -á ™á¢©á¤ -á¤«á¤°-á¤»á¥†-á¥á§-á§šá¨—-á¨›á©•-á©žá© -á©¼á©¿-áª‰áª-áª™áª°-áª½á¬€-á¬„á¬´-á­„á­-á­™á­«-á­³á®€-á®‚á®¡-á®­á®°-á®¹á¯¦-á¯³á°¤-á°·á±€-á±‰á±-á±™á³-á³’á³”-á³¨á³­á³´á³·-á³¹á·€-á·¹á·»-á·¿â€¿â€â”âƒ-âƒœâƒ¡âƒ¥-âƒ°â³¯-â³±âµ¿â· -â·¿ã€ª-ã€¯ã‚™ã‚šê˜ -ê˜©ê™¯ê™´-ê™½êšžêšŸê›°ê›±ê ‚ê †ê ‹ê £-ê §ê¢€ê¢ê¢´-ê£…ê£-ê£™ê£ -ê£±ê£¿-ê¤‰ê¤¦-ê¤­ê¥‡-ê¥“ê¦€-ê¦ƒê¦³-ê§€ê§-ê§™ê§¥ê§°-ê§¹ê¨©-ê¨¶ê©ƒê©Œê©ê©-ê©™ê©»-ê©½êª°êª²-êª´êª·êª¸êª¾êª¿ê«ê««-ê«¯ê«µê«¶ê¯£-ê¯ªê¯¬ê¯­ê¯°-ê¯¹ï¬žï¸€-ï¸ï¸ -ï¸¯ï¸³ï¸´ï¹-ï¹ï¼-ï¼™ï¼¿",R=new RegExp("["+L+"]"),M=new RegExp("["+L+I+"]");L=I=null;var O=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],N=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239],D=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null},P={beforeExpr:!0},F={startsExpr:!0},$={},V={num:new D("num",F),regexp:new D("regexp",F),string:new D("string",F),name:new D("name",F),eof:new D("eof"),bracketL:new D("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new D("]"),braceL:new D("{",{beforeExpr:!0,startsExpr:!0}),braceR:new D("}"),parenL:new D("(",{beforeExpr:!0,startsExpr:!0}),parenR:new D(")"),comma:new D(",",P),semi:new D(";",P),colon:new D(":",P),dot:new D("."),question:new D("?",P),arrow:new D("=>",P),template:new D("template"),invalidTemplate:new D("invalidTemplate"),ellipsis:new D("...",P),backQuote:new D("`",F),dollarBraceL:new D("${",{beforeExpr:!0,startsExpr:!0}),eq:new D("=",{beforeExpr:!0,isAssign:!0}),assign:new D("_=",{beforeExpr:!0,isAssign:!0}),incDec:new D("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new D("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:i("||",1),logicalAND:i("&&",2),bitwiseOR:i("|",3),bitwiseXOR:i("^",4),bitwiseAND:i("&",5),equality:i("==/!=/===/!==",6),relational:i("</>/<=/>=",7),bitShift:i("<</>>/>>>",8),plusMin:new D("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:i("%",10),star:i("*",10),slash:i("/",10),starstar:new D("**",{beforeExpr:!0}),_break:o("break"),_case:o("case",P),_catch:o("catch"),_continue:o("continue"),_debugger:o("debugger"),_default:o("default",P),_do:o("do",{isLoop:!0,beforeExpr:!0}),_else:o("else",P),_finally:o("finally"),_for:o("for",{isLoop:!0}),_function:o("function",F),_if:o("if"),_return:o("return",P),_switch:o("switch"),_throw:o("throw",P),_try:o("try"),_var:o("var"),_const:o("const"),_while:o("while",{isLoop:!0}),_with:o("with"),_new:o("new",{beforeExpr:!0,startsExpr:!0}),_this:o("this",F),_super:o("super",F),_class:o("class",F),_extends:o("extends",P),_export:o("export"),_import:o("import",F),_null:o("null",F),_true:o("true",F),_false:o("false",F),_in:o("in",{beforeExpr:!0,binop:7}),_instanceof:o("instanceof",{beforeExpr:!0,binop:7}),_typeof:o("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:o("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:o("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},B=/\r\n?|\n|\u2028|\u2029/,z=new RegExp(B.source,"g"),j=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,U=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,G=Object.prototype,W=G.hasOwnProperty,H=G.toString,K=Array.isArray||function(e){return"[object Array]"===H.call(e)},q=function(e,t){this.line=e,this.column=t};q.prototype.offset=function(e){return new q(this.line,this.column+e)};var X=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)},Y={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Q=function(e,t,n){this.options=e=c(e),this.sourceFile=e.sourceFile,this.keywords=u(E[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var r="";if(!0!==e.allowReserved){for(var i=e.ecmaVersion;!(r=T[i]);i--);"module"===e.sourceType&&(r+=" await")}this.reservedWords=u(r);var o=(r?r+" ":"")+T.strict;this.reservedWordsStrict=u(o),this.reservedWordsStrictBind=u(o+" "+T.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(B).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=V.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null},Z={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};Q.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},Z.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},Z.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0},Z.inAsync.get=function(){return(4&this.currentVarScope().flags)>0},Z.allowSuper.get=function(){return(64&this.currentThisScope().flags)>0},Z.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},Z.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Q.prototype.inNonArrowFunction=function(){return(2&this.currentThisScope().flags)>0},Q.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},Q.parse=function(e,t){return new this(t,e).parse()},Q.parseExpressionAt=function(e,t,n){var r=new this(n,e,t);return r.nextToken(),r.parseExpression()},Q.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(Q.prototype,Z);var J=Q.prototype,ee=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;J.strictDirective=function(e){for(;;){U.lastIndex=e,e+=U.exec(this.input)[0].length;var t=ee.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2]))return!0;U.lastIndex=e+=t[0].length,e+=U.exec(this.input)[0].length,";"===this.input[e]&&e++}},J.eat=function(e){return this.type===e&&(this.next(),!0)},J.isContextual=function(e){return this.type===V.name&&this.value===e&&!this.containsEsc},J.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},J.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},J.canInsertSemicolon=function(){return this.type===V.eof||this.type===V.braceR||B.test(this.input.slice(this.lastTokEnd,this.start))},J.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},J.semicolon=function(){this.eat(V.semi)||this.insertSemicolon()||this.unexpected()},J.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},J.expect=function(e){this.eat(e)||this.unexpected()},J.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},J.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},J.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},J.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},J.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var te=Q.prototype;te.parseTopLevel=function(e){var t={};for(e.body||(e.body=[]);this.type!==V.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var o=i[r];this.raiseRecoverable(this.undefinedExports[o].start,"Export '"+o+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var ne={kind:"loop"},re={kind:"switch"};te.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;U.lastIndex=this.pos;var t=U.exec(this.input),i=this.pos+t[0].length,o=this.input.charCodeAt(i);if(91===o)return!0;if(e)return!1;if(123===o)return!0;if(n(o,!0)){for(var s=i+1;r(this.input.charCodeAt(s),!0);)++s;var a=this.input.slice(i,s);if(!C.test(a))return!0}return!1},te.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;U.lastIndex=this.pos;var e=U.exec(this.input),t=this.pos+e[0].length;return!(B.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!==this.input.length&&r(this.input.charAt(t+8)))},te.parseStatement=function(e,t,n){var r,i=this.type,o=this.startNode();switch(this.isLet(e)&&(i=V._var,r="let"),i){case V._break:case V._continue:return this.parseBreakContinueStatement(o,i.keyword);case V._debugger:return this.parseDebuggerStatement(o);case V._do:return this.parseDoStatement(o);case V._for:return this.parseForStatement(o);case V._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!e);case V._class:return e&&this.unexpected(),this.parseClass(o,!0);case V._if:return this.parseIfStatement(o);case V._return:return this.parseReturnStatement(o);case V._switch:return this.parseSwitchStatement(o);case V._throw:return this.parseThrowStatement(o);case V._try:return this.parseTryStatement(o);case V._const:case V._var:return r=r||this.value,e&&"var"!==r&&this.unexpected(),this.parseVarStatement(o,r);case V._while:return this.parseWhileStatement(o);case V._with:return this.parseWithStatement(o);case V.braceL:return this.parseBlock(!0,o);case V.semi:return this.parseEmptyStatement(o);case V._export:case V._import:if(this.options.ecmaVersion>10&&i===V._import){U.lastIndex=this.pos;var s=U.exec(this.input);if(40===this.input.charCodeAt(this.pos+s[0].length))return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===V._import?this.parseImport(o):this.parseExport(o,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!e);var a=this.value,u=this.parseExpression();return i===V.name&&"Identifier"===u.type&&this.eat(V.colon)?this.parseLabeledStatement(o,a,u,e):this.parseExpressionStatement(o,u)}},te.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(V.semi)||this.insertSemicolon()?e.label=null:this.type!==V.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(e.label&&n)break}}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},te.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},te.parseDoStatement=function(e){return this.next(),this.labels.push(ne),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(V._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(V.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},te.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(ne),this.enterScope(0),this.expect(V.parenL),this.type===V.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===V._var||this.type===V._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===V._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===r.declarations.length?(this.options.ecmaVersion>=9&&(this.type===V._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var o=new p,s=this.parseExpression(!0,o);return this.type===V._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===V._in?t>-1&&this.unexpected(t):e.await=t>-1),this.toAssignable(s,!1,o),this.checkLVal(s),this.parseForIn(e,s)):(this.checkExpressionErrors(o,!0),t>-1&&this.unexpected(t),this.parseFor(e,s))},te.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,oe|(n?0:se),!1,t)},te.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(V._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},te.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(V.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},te.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(V.braceL),this.labels.push(re),this.enterScope(0);for(var n=!1;this.type!==V.braceR;)if(this.type===V._case||this.type===V._default){var r=this.type===V._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(V.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},te.parseThrowStatement=function(e){return this.next(),B.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var ie=[];te.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===V._catch){var t=this.startNode();if(this.next(),this.eat(V.parenL)){t.param=this.parseBindingAtom();var n="Identifier"===t.param.type;this.enterScope(n?32:0),this.checkLVal(t.param,n?4:2),this.expect(V.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(V._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},te.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},te.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(ne),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},te.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},te.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},te.parseLabeledStatement=function(e,t,n,r){for(var i=0,o=this.labels;i<o.length;i+=1)o[i].name===t&&this.raise(n.start,"Label '"+t+"' is already declared");for(var s=this.type.isLoop?"loop":this.type===V._switch?"switch":null,a=this.labels.length-1;a>=0;a--){var u=this.labels[a];if(u.statementStart!==e.start)break;u.statementStart=this.start,u.kind=s}return this.labels.push({name:t,kind:s,statementStart:this.start}),e.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},te.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},te.parseBlock=function(e,t){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(V.braceL),e&&this.enterScope(0);!this.eat(V.braceR);){var n=this.parseStatement(null);t.body.push(n)}return e&&this.exitScope(),this.finishNode(t,"BlockStatement")},te.parseFor=function(e,t){return e.init=t,this.expect(V.semi),e.test=this.type===V.semi?null:this.parseExpression(),this.expect(V.semi),e.update=this.type===V.parenR?null:this.parseExpression(),this.expect(V.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},te.parseForIn=function(e,t){var n=this.type===V._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)?this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===t.type&&this.raise(t.start,"Invalid left-hand side in for-loop"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(V.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},te.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(V.eq)?r.init=this.parseMaybeAssign(t):"const"!==n||this.type===V._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===r.id.type||t&&(this.type===V._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(V.comma))break}return e},te.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"var"===t?1:2,!1)};var oe=1,se=2;te.parseFunction=function(e,t,n,r){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===V.star&&t&se&&this.unexpected(),e.generator=this.eat(V.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&oe&&(e.id=4&t&&this.type!==V.name?null:this.parseIdent(),!e.id||t&se||this.checkLVal(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var i=this.yieldPos,o=this.awaitPos,s=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(h(e.async,e.generator)),t&oe||(e.id=this.type===V.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1),this.yieldPos=i,this.awaitPos=o,this.awaitIdentPos=s,this.finishNode(e,t&oe?"FunctionDeclaration":"FunctionExpression")},te.parseFunctionParams=function(e){this.expect(V.parenL),e.params=this.parseBindingList(V.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},te.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.startNode(),i=!1;for(r.body=[],this.expect(V.braceL);!this.eat(V.braceR);){var o=this.parseClassElement(null!==e.superClass);o&&(r.body.push(o),"MethodDefinition"===o.type&&"constructor"===o.kind&&(i&&this.raise(o.start,"Duplicate constructor in the same class"),i=!0))}return e.body=this.finishNode(r,"ClassBody"),this.strict=n,this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},te.parseClassElement=function(e){var t=this;if(this.eat(V.semi))return null;var n=this.startNode(),r=function(e,r){void 0===r&&(r=!1);var i=t.start,o=t.startLoc;return!(!t.eatContextual(e)||(t.type===V.parenL||r&&t.canInsertSemicolon())&&(n.key&&t.unexpected(),n.computed=!1,n.key=t.startNodeAt(i,o),n.key.name=e,t.finishNode(n.key,"Identifier"),1))};n.kind="method",n.static=r("static");var i=this.eat(V.star),o=!1;i||(this.options.ecmaVersion>=8&&r("async",!0)?(o=!0,i=this.options.ecmaVersion>=9&&this.eat(V.star)):r("get")?n.kind="get":r("set")&&(n.kind="set")),n.key||this.parsePropertyName(n);var s=n.key,a=!1;return n.computed||n.static||!("Identifier"===s.type&&"constructor"===s.name||"Literal"===s.type&&"constructor"===s.value)?n.static&&"Identifier"===s.type&&"prototype"===s.name&&this.raise(s.start,"Classes may not have a static property named prototype"):("method"!==n.kind&&this.raise(s.start,"Constructor can't have get/set modifier"),i&&this.raise(s.start,"Constructor can't be a generator"),o&&this.raise(s.start,"Constructor can't be an async method"),n.kind="constructor",a=e),this.parseClassMethod(n,i,o,a),"get"===n.kind&&0!==n.value.params.length&&this.raiseRecoverable(n.value.start,"getter should have no params"),"set"===n.kind&&1!==n.value.params.length&&this.raiseRecoverable(n.value.start,"setter should have exactly one param"),"set"===n.kind&&"RestElement"===n.value.params[0].type&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params"),n},te.parseClassMethod=function(e,t,n,r){return e.value=this.parseMethod(t,n,r),this.finishNode(e,"MethodDefinition")},te.parseClassId=function(e,t){this.type===V.name?(e.id=this.parseIdent(),t&&this.checkLVal(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},te.parseClassSuper=function(e){e.superClass=this.eat(V._extends)?this.parseExprSubscripts():null},te.parseExport=function(e,t){if(this.next(),this.eat(V.star))return this.expectContextual("from"),this.type!==V.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(V._default)){var n;if(this.checkExport(t,"default",this.lastTokStart),this.type===V._function||(n=this.isAsyncFunction())){var r=this.startNode();this.next(),n&&this.next(),e.declaration=this.parseFunction(r,4|oe,!1,n)}else if(this.type===V._class){var i=this.startNode();e.declaration=this.parseClass(i,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==V.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var o=0,s=e.specifiers;o<s.length;o+=1){var a=s[o];this.checkUnreserved(a.local),this.checkLocalExport(a.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},te.checkExport=function(e,t,n){e&&(a(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},te.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===n)for(var r=0,i=t.properties;r<i.length;r+=1)this.checkPatternExport(e,i[r]);else if("ArrayPattern"===n)for(var o=0,s=t.elements;o<s.length;o+=1){var a=s[o];a&&this.checkPatternExport(e,a)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(e,t.expression)},te.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1)this.checkPatternExport(e,r[n].id)},te.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},te.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(V.braceL);!this.eat(V.braceR);){if(n)n=!1;else if(this.expect(V.comma),this.afterTrailingComma(V.braceR))break;var r=this.startNode();r.local=this.parseIdent(!0),r.exported=this.eatContextual("as")?this.parseIdent(!0):r.local,this.checkExport(e,r.exported.name,r.exported.start),t.push(this.finishNode(r,"ExportSpecifier"))}return t},te.parseImport=function(e){return this.next(),this.type===V.string?(e.specifiers=ie,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===V.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},te.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===V.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,2),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(V.comma))return e}if(this.type===V.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLVal(r.local,2),e.push(this.finishNode(r,"ImportNamespaceSpecifier")),e}for(this.expect(V.braceL);!this.eat(V.braceR);){if(t)t=!1;else if(this.expect(V.comma),this.afterTrailingComma(V.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLVal(i.local,2),e.push(this.finishNode(i,"ImportSpecifier"))}return e},te.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},te.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var ae=Q.prototype;ae.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var o=i[r];this.toAssignable(o,t),"RestElement"!==o.type||"ArrayPattern"!==o.argument.type&&"ObjectPattern"!==o.argument.type||this.raise(o.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},ae.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var o=e[n-1];6===this.options.ecmaVersion&&t&&o&&"RestElement"===o.type&&"Identifier"!==o.argument.type&&this.unexpected(o.argument.start)}return e},ae.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},ae.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==V.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},ae.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case V.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(V.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case V.braceL:return this.parseObj(!0)}return this.parseIdent()},ae.parseBindingList=function(e,t,n){for(var r=[],i=!0;!this.eat(e);)if(i?i=!1:this.expect(V.comma),t&&this.type===V.comma)r.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===V.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),r.push(o),this.type===V.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var s=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(s),r.push(s)}return r},ae.parseBindingListItem=function(e){return e},ae.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(V.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},ae.checkLVal=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"Identifier":2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&(a(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),0!==t&&5!==t&&this.declareName(e.name,t,e.start);break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1)this.checkLVal(i[r],t,n);break;case"Property":this.checkLVal(e.value,t,n);break;case"ArrayPattern":for(var o=0,s=e.elements;o<s.length;o+=1){var u=s[o];u&&this.checkLVal(u,t,n)}break;case"AssignmentPattern":this.checkLVal(e.left,t,n);break;case"RestElement":this.checkLVal(e.argument,t,n);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,n);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var ue=Q.prototype;ue.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r,i=e.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var o=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===o&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);else{var s=t[r="$"+r];s?("init"===o?this.strict&&s.init||s.get||s.set:s.init||s[o])&&this.raiseRecoverable(i.start,"Redefinition of property"):s=t[r]={init:!1,get:!1,set:!1},s[o]=!0}}},ue.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===V.comma){var o=this.startNodeAt(n,r);for(o.expressions=[i];this.eat(V.comma);)o.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(o,"SequenceExpression")}return i},ue.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,o=-1;t?(i=t.parenthesizedAssign,o=t.trailingComma,t.parenthesizedAssign=t.trailingComma=-1):(t=new p,r=!0);var s=this.start,a=this.startLoc;this.type!==V.parenL&&this.type!==V.name||(this.potentialArrowAt=this.start);var u=this.parseMaybeConditional(e,t);if(n&&(u=n.call(this,u,s,a)),this.type.isAssign){var l=this.startNodeAt(s,a);return l.operator=this.value,l.left=this.type===V.eq?this.toAssignable(u,!1,t):u,r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.left.start&&(t.shorthandAssign=-1),this.checkLVal(u),this.next(),l.right=this.parseMaybeAssign(e),this.finishNode(l,"AssignmentExpression")}return r&&this.checkExpressionErrors(t,!0),i>-1&&(t.parenthesizedAssign=i),o>-1&&(t.trailingComma=o),u},ue.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(V.question)){var o=this.startNodeAt(n,r);return o.test=i,o.consequent=this.parseMaybeAssign(),this.expect(V.colon),o.alternate=this.parseMaybeAssign(e),this.finishNode(o,"ConditionalExpression")}return i},ue.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)||i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,e)},ue.parseExprOp=function(e,t,n,r,i){var o=this.type.binop;if(null!=o&&(!i||this.type!==V._in)&&o>r){var s=this.type===V.logicalOR||this.type===V.logicalAND,a=this.value;this.next();var u=this.start,l=this.startLoc,c=this.parseExprOp(this.parseMaybeUnary(null,!1),u,l,o,i),h=this.buildBinary(t,n,e,c,a,s);return this.parseExprOp(h,t,n,r,i)}return e},ue.buildBinary=function(e,t,n,r,i,o){var s=this.startNodeAt(e,t);return s.left=n,s.operator=i,s.right=r,this.finishNode(s,o?"LogicalExpression":"BinaryExpression")},ue.parseMaybeUnary=function(e,t){var n,r=this.start,i=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))n=this.parseAwait(),t=!0;else if(this.type.prefix){var o=this.startNode(),s=this.type===V.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),s?this.checkLVal(o.argument):this.strict&&"delete"===o.operator&&"Identifier"===o.argument.type?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):t=!0,n=this.finishNode(o,s?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var a=this.startNodeAt(r,i);a.operator=this.value,a.prefix=!1,a.argument=n,this.checkLVal(n),this.next(),n=this.finishNode(a,"UpdateExpression")}}return!t&&this.eat(V.starstar)?this.buildBinary(r,i,n,this.parseMaybeUnary(null,!1),"**",!1):n},ue.parseExprSubscripts=function(e){var t=this.start,n=this.startLoc,r=this.parseExprAtom(e);if("ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return r;var i=this.parseSubscripts(r,t,n);return e&&"MemberExpression"===i.type&&(e.parenthesizedAssign>=i.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=i.start&&(e.parenthesizedBind=-1)),i},ue.parseSubscripts=function(e,t,n,r){for(var i=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(e.start,e.end);;){var o=this.parseSubscript(e,t,n,r,i);if(o===e||"ArrowFunctionExpression"===o.type)return o;e=o}},ue.parseSubscript=function(e,t,n,r,i){var o=this.eat(V.bracketL);if(o||this.eat(V.dot)){var s=this.startNodeAt(t,n);s.object=e,s.property=o?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),s.computed=!!o,o&&this.expect(V.bracketR),e=this.finishNode(s,"MemberExpression")}else if(!r&&this.eat(V.parenL)){var a=new p,u=this.yieldPos,l=this.awaitPos,c=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var h=this.parseExprList(V.parenR,this.options.ecmaVersion>=8,!1,a);if(i&&!this.canInsertSemicolon()&&this.eat(V.arrow))return this.checkPatternErrors(a,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=u,this.awaitPos=l,this.awaitIdentPos=c,this.parseArrowExpression(this.startNodeAt(t,n),h,!0);this.checkExpressionErrors(a,!0),this.yieldPos=u||this.yieldPos,this.awaitPos=l||this.awaitPos,this.awaitIdentPos=c||this.awaitIdentPos;var f=this.startNodeAt(t,n);f.callee=e,f.arguments=h,e=this.finishNode(f,"CallExpression")}else if(this.type===V.backQuote){var d=this.startNodeAt(t,n);d.tag=e,d.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(d,"TaggedTemplateExpression")}return e},ue.parseExprAtom=function(e){this.type===V.slash&&this.readRegexp();var t,n=this.potentialArrowAt===this.start;switch(this.type){case V._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),t=this.startNode(),this.next(),this.type!==V.parenL||this.allowDirectSuper||this.raise(t.start,"super() call outside constructor of a subclass"),this.type!==V.dot&&this.type!==V.bracketL&&this.type!==V.parenL&&this.unexpected(),this.finishNode(t,"Super");case V._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case V.name:var r=this.start,i=this.startLoc,o=this.containsEsc,s=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&"async"===s.name&&!this.canInsertSemicolon()&&this.eat(V._function))return this.parseFunction(this.startNodeAt(r,i),0,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(V.arrow))return this.parseArrowExpression(this.startNodeAt(r,i),[s],!1);if(this.options.ecmaVersion>=8&&"async"===s.name&&this.type===V.name&&!o)return s=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(V.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,i),[s],!0)}return s;case V.regexp:var a=this.value;return(t=this.parseLiteral(a.value)).regex={pattern:a.pattern,flags:a.flags},t;case V.num:case V.string:return this.parseLiteral(this.value);case V._null:case V._true:case V._false:return(t=this.startNode()).value=this.type===V._null?null:this.type===V._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case V.parenL:var u=this.start,l=this.parseParenAndDistinguishExpression(n);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(l)&&(e.parenthesizedAssign=u),e.parenthesizedBind<0&&(e.parenthesizedBind=u)),l;case V.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(V.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case V.braceL:return this.parseObj(!1,e);case V._function:return t=this.startNode(),this.next(),this.parseFunction(t,0);case V._class:return this.parseClass(this.startNode(),!1);case V._new:return this.parseNew();case V.backQuote:return this.parseTemplate();case V._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},ue.parseExprImport=function(){var e=this.startNode();if(this.next(),this.type===V.parenL)return this.parseDynamicImport(e);this.unexpected()},ue.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(V.parenR)){var t=this.start;this.eat(V.comma)&&this.eat(V.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},ue.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1)),this.next(),this.finishNode(t,"Literal")},ue.parseParenExpression=function(){this.expect(V.parenL);var e=this.parseExpression();return this.expect(V.parenR),e},ue.parseParenAndDistinguishExpression=function(e){var t,n=this.start,r=this.startLoc,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o,s=this.start,a=this.startLoc,u=[],l=!0,c=!1,h=new p,f=this.yieldPos,d=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==V.parenR;){if(l?l=!1:this.expect(V.comma),i&&this.afterTrailingComma(V.parenR,!0)){c=!0;break}if(this.type===V.ellipsis){o=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===V.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}u.push(this.parseMaybeAssign(!1,h,this.parseParenItem))}var m=this.start,g=this.startLoc;if(this.expect(V.parenR),e&&!this.canInsertSemicolon()&&this.eat(V.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=d,this.parseParenArrowList(n,r,u);u.length&&!c||this.unexpected(this.lastTokStart),o&&this.unexpected(o),this.checkExpressionErrors(h,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=d||this.awaitPos,u.length>1?((t=this.startNodeAt(s,a)).expressions=u,this.finishNodeAt(t,"SequenceExpression",m,g)):t=u[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(n,r);return y.expression=t,this.finishNode(y,"ParenthesizedExpression")}return t},ue.parseParenItem=function(e){return e},ue.parseParenArrowList=function(e,t,n){return this.parseArrowExpression(this.startNodeAt(e,t),n)};var le=[];ue.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(V.dot)){e.meta=t;var n=this.containsEsc;return e.property=this.parseIdent(!0),("target"!==e.property.name||n)&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(e.start,"new.target can only be used in functions"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc,o=this.type===V._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),r,i,!0),o&&"ImportExpression"===e.callee.type&&this.raise(r,"Cannot use new with import()"),e.arguments=this.eat(V.parenL)?this.parseExprList(V.parenR,this.options.ecmaVersion>=8,!1):le,this.finishNode(e,"NewExpression")},ue.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===V.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===V.backQuote,this.finishNode(n,"TemplateElement")},ue.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===V.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(V.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(V.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},ue.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===V.name||this.type===V.num||this.type===V.string||this.type===V.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===V.star)&&!B.test(this.input.slice(this.lastTokEnd,this.start))},ue.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(V.braceR);){if(r)r=!1;else if(this.expect(V.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(V.braceR))break;var o=this.parseProperty(e,t);e||this.checkPropClash(o,i,t),n.properties.push(o)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},ue.parseProperty=function(e,t){var n,r,i,o,s=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(V.ellipsis))return e?(s.argument=this.parseIdent(!1),this.type===V.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(s,"RestElement")):(this.type===V.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),s.argument=this.parseMaybeAssign(!1,t),this.type===V.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(s,"SpreadElement"));this.options.ecmaVersion>=6&&(s.method=!1,s.shorthand=!1,(e||t)&&(i=this.start,o=this.startLoc),e||(n=this.eat(V.star)));var a=this.containsEsc;return this.parsePropertyName(s),!e&&!a&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(s)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(V.star),this.parsePropertyName(s,t)):r=!1,this.parsePropertyValue(s,e,n,r,i,o,t,a),this.finishNode(s,"Property")},ue.parsePropertyValue=function(e,t,n,r,i,o,s,a){if((n||r)&&this.type===V.colon&&this.unexpected(),this.eat(V.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,s),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===V.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r);else if(t||a||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===V.comma||this.type===V.braceR)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,o,e.key):this.type===V.eq&&s?(s.shorthandAssign<0&&(s.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,o,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else if((n||r)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1),e.value.params.length!==("get"===e.kind?0:1)){var u=e.value.start;this.raiseRecoverable(u,"get"===e.kind?"getter should have no params":"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},ue.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(V.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(V.bracketR),e.key;e.computed=!1}return e.key=this.type===V.num||this.type===V.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},ue.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},ue.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,o=this.awaitPos,s=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|h(t,r.generator)|(n?128:0)),this.expect(V.parenL),r.params=this.parseBindingList(V.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0),this.yieldPos=i,this.awaitPos=o,this.awaitIdentPos=s,this.finishNode(r,"FunctionExpression")},ue.parseArrowExpression=function(e,t,n){var r=this.yieldPos,i=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(16|h(n,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1),this.yieldPos=r,this.awaitPos=i,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")},ue.parseFunctionBody=function(e,t,n){var r=this.strict,i=!1;if(t&&this.type!==V.braceL)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);r&&!o||(i=this.strictDirective(this.end))&&o&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var s=this.labels;this.labels=[],i&&(this.strict=!0),this.checkParams(e,!r&&!i&&!t&&!n&&this.isSimpleParamList(e.params)),e.body=this.parseBlock(!1),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=s}this.exitScope(),this.strict&&e.id&&this.checkLVal(e.id,5),this.strict=r},ue.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1)if("Identifier"!==n[t].type)return!1;return!0},ue.checkParams=function(e,t){for(var n={},r=0,i=e.params;r<i.length;r+=1)this.checkLVal(i[r],1,t?null:n)},ue.parseExprList=function(e,t,n,r){for(var i=[],o=!0;!this.eat(e);){if(o)o=!1;else if(this.expect(V.comma),t&&this.afterTrailingComma(e))break;var s=void 0;n&&this.type===V.comma?s=null:this.type===V.ellipsis?(s=this.parseSpread(r),r&&this.type===V.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):s=this.parseMaybeAssign(!1,r),i.push(s)}return i},ue.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;this.inGenerator&&"yield"===r&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))},ue.parseIdent=function(e){var t=this.startNode();return this.type===V.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,"class"!==t.name&&"function"!==t.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),"await"!==t.name||this.awaitIdentPos||(this.awaitIdentPos=t.start)),t},ue.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===V.semi||this.canInsertSemicolon()||this.type!==V.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(V.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},ue.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!1),this.finishNode(e,"AwaitExpression")};var ce=Q.prototype;ce.raise=function(e,t){var n=l(this.input,e),r=new SyntaxError(t+=" ("+n.line+":"+n.column+")");throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},ce.raiseRecoverable=ce.raise,ce.curPosition=function(){if(this.options.locations)return new q(this.curLine,this.pos-this.lineStart)};var he=Q.prototype,pe=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[]};he.enterScope=function(e){this.scopeStack.push(new pe(e))},he.exitScope=function(){this.scopeStack.pop()},he.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},he.declareName=function(e,t,n){var r=!1;if(2===t){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&1&i.flags&&delete this.undefinedExports[e]}else if(4===t)this.currentScope().lexical.push(e);else if(3===t){var o=this.currentScope();r=this.treatFunctionsAsVar?o.lexical.indexOf(e)>-1:o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var s=this.scopeStack.length-1;s>=0;--s){var a=this.scopeStack[s];if(a.lexical.indexOf(e)>-1&&!(32&a.flags&&a.lexical[0]===e)||!this.treatFunctionsAsVarInScope(a)&&a.functions.indexOf(e)>-1){r=!0;break}if(a.var.push(e),this.inModule&&1&a.flags&&delete this.undefinedExports[e],3&a.flags)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},he.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},he.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},he.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(3&t.flags)return t}},he.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(3&t.flags&&!(16&t.flags))return t}};var fe=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new X(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},de=Q.prototype;de.startNode=function(){return new fe(this,this.start,this.startLoc)},de.startNodeAt=function(e,t){return new fe(this,e,t)},de.finishNode=function(e,t){return f.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},de.finishNodeAt=function(e,t,n,r){return f.call(this,e,t,n,r)};var me=function(e,t,n,r,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!i},ge={b_stat:new me("{",!1),b_expr:new me("{",!0),b_tmpl:new me("${",!1),p_stat:new me("(",!1),p_expr:new me("(",!0),q_tmpl:new me("`",!0,!0,(function(e){return e.tryReadTemplateToken()})),f_stat:new me("function",!1),f_expr:new me("function",!0),f_expr_gen:new me("function",!0,!1,null,!0),f_gen:new me("function",!1,!1,null,!0)},ye=Q.prototype;ye.initialContext=function(){return[ge.b_stat]},ye.braceIsBlock=function(e){var t=this.curContext();return t===ge.f_expr||t===ge.f_stat||(e!==V.colon||t!==ge.b_stat&&t!==ge.b_expr?e===V._return||e===V.name&&this.exprAllowed?B.test(this.input.slice(this.lastTokEnd,this.start)):e===V._else||e===V.semi||e===V.eof||e===V.parenR||e===V.arrow||(e===V.braceL?t===ge.b_stat:e!==V._var&&e!==V._const&&e!==V.name&&!this.exprAllowed):!t.isExpr)},ye.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},ye.updateContext=function(e){var t,n=this.type;n.keyword&&e===V.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},V.parenR.updateContext=V.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===ge.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},V.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?ge.b_stat:ge.b_expr),this.exprAllowed=!0},V.dollarBraceL.updateContext=function(){this.context.push(ge.b_tmpl),this.exprAllowed=!0},V.parenL.updateContext=function(e){this.context.push(e===V._if||e===V._for||e===V._with||e===V._while?ge.p_stat:ge.p_expr),this.exprAllowed=!0},V.incDec.updateContext=function(){},V._function.updateContext=V._class.updateContext=function(e){!e.beforeExpr||e===V.semi||e===V._else||e===V._return&&B.test(this.input.slice(this.lastTokEnd,this.start))||(e===V.colon||e===V.braceL)&&this.curContext()===ge.b_stat?this.context.push(ge.f_stat):this.context.push(ge.f_expr),this.exprAllowed=!1},V.backQuote.updateContext=function(){this.curContext()===ge.q_tmpl?this.context.pop():this.context.push(ge.q_tmpl),this.exprAllowed=!1},V.star.updateContext=function(e){if(e===V._function){var t=this.context.length-1;this.context[t]=this.context[t]===ge.f_expr?ge.f_expr_gen:ge.f_gen}this.exprAllowed=!0},V.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==V.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var ve="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",be=ve+" Extended_Pictographic",xe={9:ve,10:be,11:be},we="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",_e="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Se=_e+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ke={9:_e,10:Se,11:Se+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho"},Te={};d(9),d(10),d(11);var Ae=Q.prototype,Ee=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.unicodeProperties=Te[e.options.ecmaVersion>=11?11:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Ee.prototype.reset=function(e,t,n){var r=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchN=r&&this.parser.options.ecmaVersion>=9},Ee.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},Ee.prototype.at=function(e){var t=this.source,n=t.length;if(e>=n)return-1;var r=t.charCodeAt(e);if(!this.switchU||r<=55295||r>=57344||e+1>=n)return r;var i=t.charCodeAt(e+1);return i>=56320&&i<=57343?(r<<10)+i-56613888:r},Ee.prototype.nextIndex=function(e){var t=this.source,n=t.length;if(e>=n)return n;var r,i=t.charCodeAt(e);return!this.switchU||i<=55295||i>=57344||e+1>=n||(r=t.charCodeAt(e+1))<56320||r>57343?e+1:e+2},Ee.prototype.current=function(){return this.at(this.pos)},Ee.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},Ee.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},Ee.prototype.eat=function(e){return this.current()===e&&(this.advance(),!0)},Ae.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=0;r<n.length;r++){var i=n.charAt(r);-1===t.indexOf(i)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(i,r+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},Ae.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},Ae.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1)-1===e.groupNames.indexOf(n[t])&&e.raise("Invalid named capture referenced")},Ae.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},Ae.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},Ae.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},Ae.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},Ae.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},Ae.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},Ae.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return-1!==i&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},Ae.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},Ae.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},Ae.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},Ae.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},Ae.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},Ae.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},Ae.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!g(t)&&(e.lastIntValue=t,e.advance(),!0)},Ae.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!g(n);)e.advance();return e.pos!==t},Ae.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t||(e.advance(),0))},Ae.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},Ae.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},Ae.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=m(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=m(e.lastIntValue);return!0}return!1},Ae.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,r=e.current();return e.advance(),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(r=e.lastIntValue),function(e){return n(e,!0)||36===e||95===e}(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},Ae.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=e.current();return e.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(n=e.lastIntValue),function(e){return r(e,!0)||36===e||95===e||8204===e||8205===e}(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)},Ae.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},Ae.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},Ae.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},Ae.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},Ae.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},Ae.regexp_eatZero=function(e){return 48===e.current()&&!x(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},Ae.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},Ae.regexp_eatControlLetter=function(e){var t=e.current();return!!y(t)&&(e.lastIntValue=t%32,e.advance(),!0)},Ae.regexp_eatRegExpUnicodeEscapeSequence=function(e){var t,n=e.pos;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var r=e.lastIntValue;if(e.switchU&&r>=55296&&r<=56319){var i=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=1024*(r-55296)+(o-56320)+65536,!0}e.pos=i,e.lastIntValue=r}return!0}if(e.switchU&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&(t=e.lastIntValue)>=0&&t<=1114111)return!0;e.switchU&&e.raise("Invalid unicode escape"),e.pos=n}return!1},Ae.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t||(e.lastIntValue=t,e.advance(),0))},Ae.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},Ae.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(function(e){return 100===e||68===e||115===e||83===e||119===e||87===e}(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},Ae.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e))return this.regexp_validateUnicodePropertyNameAndValue(e,n,e.lastStringValue),!0}return e.pos=t,!!this.regexp_eatLoneUnicodePropertyNameOrValue(e)&&(this.regexp_validateUnicodePropertyNameOrValue(e,e.lastStringValue),!0)},Ae.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){a(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},Ae.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},Ae.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";v(t=e.current());)e.lastStringValue+=m(t),e.advance();return""!==e.lastStringValue},Ae.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";b(t=e.current());)e.lastStringValue+=m(t),e.advance();return""!==e.lastStringValue},Ae.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},Ae.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},Ae.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},Ae.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||S(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return 93!==r&&(e.lastIntValue=r,e.advance(),!0)},Ae.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},Ae.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!x(t)&&95!==t||(e.lastIntValue=t%32,e.advance(),0))},Ae.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},Ae.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;x(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},Ae.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;w(n=e.current());)e.lastIntValue=16*e.lastIntValue+_(n),e.advance();return e.pos!==t},Ae.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;e.lastIntValue=t<=3&&this.regexp_eatOctalDigit(e)?64*t+8*n+e.lastIntValue:8*t+n}else e.lastIntValue=t;return!0}return!1},Ae.regexp_eatOctalDigit=function(e){var t=e.current();return S(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},Ae.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!w(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+_(i),e.advance()}return!0};var Ce=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new X(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},Le=Q.prototype;Le.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ce(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Le.getToken=function(){return this.next(),new Ce(this)},"undefined"!=typeof Symbol&&(Le[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===V.eof,value:t}}}}),Le.curContext=function(){return this.context[this.context.length-1]},Le.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(V.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},Le.readToken=function(e){return n(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},Le.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);return e<=55295||e>=57344?e:(e<<10)+this.input.charCodeAt(this.pos+1)-56613888},Le.skipBlockComment=function(){var e,t=this.options.onComment&&this.curPosition(),n=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(-1===r&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(z.lastIndex=n;(e=z.exec(this.input))&&e.index<this.pos;)++this.curLine,this.lineStart=e.index+e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(n+2,r),n,this.pos,t,this.curPosition())},Le.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!s(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},Le.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&j.test(String.fromCharCode(e))))break e;++this.pos}}},Le.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},Le.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(V.ellipsis)):(++this.pos,this.finishToken(V.dot))},Le.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(V.assign,2):this.finishOp(V.slash,1)},Le.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?V.star:V.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,r=V.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(V.assign,n+1):this.finishOp(r,n)},Le.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.finishOp(124===e?V.logicalOR:V.logicalAND,2):61===t?this.finishOp(V.assign,2):this.finishOp(124===e?V.bitwiseOR:V.bitwiseAND,1)},Le.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(V.assign,2):this.finishOp(V.bitwiseXOR,1)},Le.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!B.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(V.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(V.assign,2):this.finishOp(V.plusMin,1)},Le.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(V.assign,n+1):this.finishOp(V.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(V.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Le.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(V.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(V.arrow)):this.finishOp(61===e?V.eq:V.prefix,1)},Le.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(V.parenL);case 41:return++this.pos,this.finishToken(V.parenR);case 59:return++this.pos,this.finishToken(V.semi);case 44:return++this.pos,this.finishToken(V.comma);case 91:return++this.pos,this.finishToken(V.bracketL);case 93:return++this.pos,this.finishToken(V.bracketR);case 123:return++this.pos,this.finishToken(V.braceL);case 125:return++this.pos,this.finishToken(V.braceR);case 58:return++this.pos,this.finishToken(V.colon);case 63:return++this.pos,this.finishToken(V.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(V.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 126:return this.finishOp(V.prefix,1)}this.raise(this.pos,"Unexpected character '"+k(e)+"'")},Le.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},Le.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(B.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var o=this.pos,s=this.readWord1();this.containsEsc&&this.unexpected(o);var a=this.regexpState||(this.regexpState=new Ee(this));a.reset(n,i,s),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,s)}catch(e){}return this.finishToken(V.regexp,{pattern:i,flags:s,value:u})},Le.readInt=function(e,t){for(var n=this.pos,r=0,i=0,o=null==t?1/0:t;i<o;++i){var s=this.input.charCodeAt(this.pos),a=void 0;if((a=s>=97?s-97+10:s>=65?s-65+10:s>=48&&s<=57?s-48:1/0)>=e)break;++this.pos,r=r*e+a}return this.pos===n||null!=t&&this.pos-n!==t?null:r},Le.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var r=this.readInt(e);return null==r&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(r="undefined"!=typeof BigInt?BigInt(this.input.slice(t,this.pos)):null,++this.pos):n(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(V.num,r)},Le.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10)||this.raise(t,"Invalid number");var r=this.pos-t>=2&&48===this.input.charCodeAt(t);r&&this.strict&&this.raise(t,"Invalid number");var i=this.input.charCodeAt(this.pos);if(!r&&!e&&this.options.ecmaVersion>=11&&110===i){var o=this.input.slice(t,this.pos),s="undefined"!=typeof BigInt?BigInt(o):null;return++this.pos,n(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(V.num,s)}r&&/[89]/.test(this.input.slice(t,this.pos))&&(r=!1),46!==i||r||(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),69!==i&&101!==i||r||(43!==(i=this.input.charCodeAt(++this.pos))&&45!==i||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),n(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=this.input.slice(t,this.pos),u=r?parseInt(a,8):parseFloat(a);return this.finishToken(V.num,u)},Le.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},Le.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):(s(r,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(V.string,t)};var Ie={};Le.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==Ie)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Le.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Ie;this.raise(e,t)},Le.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==V.template&&this.type!==V.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(V.template,e)):36===n?(this.pos+=2,this.finishToken(V.dollarBraceL)):(++this.pos,this.finishToken(V.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(s(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},Le.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(V.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Le.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return k(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(e)return this.invalidStringToken(this.pos-1,"Invalid escape sequence in template string"),null;default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(n,8);return r>255&&(n=n.slice(0,-1),r=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),"0"===n&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return s(t)?"":String.fromCharCode(t)}},Le.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},Le.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(r(s,o))this.pos+=s<=65535?1:2;else{if(92!==s)break;this.containsEsc=!0,e+=this.input.slice(i,this.pos);var a=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var u=this.readCodePoint();(t?n:r)(u,o)||this.invalidStringToken(a,"Invalid Unicode escape"),e+=k(u),i=this.pos}t=!1}return e+this.input.slice(i,this.pos)},Le.readWord=function(){var e=this.readWord1(),t=V.name;return this.keywords.test(e)&&(t=$[e]),this.finishToken(t,e)};var Re="7.1.0";Q.acorn={Parser:Q,version:Re,defaultOptions:Y,Position:q,SourceLocation:X,getLineInfo:l,Node:fe,TokenType:D,tokTypes:V,keywordTypes:$,TokContext:me,tokContexts:ge,isIdentifierChar:r,isIdentifierStart:n,Token:Ce,isNewLine:s,lineBreak:B,lineBreakG:z,nonASCIIwhitespace:j},e.Node=fe,e.Parser=Q,e.Position=q,e.SourceLocation=X,e.TokContext=me,e.Token=Ce,e.TokenType=D,e.defaultOptions=Y,e.getLineInfo=l,e.isIdentifierChar=r,e.isIdentifierStart=n,e.isNewLine=s,e.keywordTypes=$,e.lineBreak=B,e.lineBreakG=z,e.nonASCIIwhitespace=j,e.parse=function(e,t){return Q.parse(e,t)},e.parseExpressionAt=function(e,t,n){return Q.parseExpressionAt(e,t,n)},e.tokContexts=ge,e.tokTypes=V,e.tokenizer=function(e,t){return Q.tokenizer(e,t)},e.version=Re,Object.defineProperty(e,"__esModule",{value:!0})},"object"===m(n)&&void 0!==t?i(n):i((r=r||self).acorn={})},{}],2:[function(){},{}],3:[function(e,t){function n(e){function t(){return S.join("\n")}function n(){for(;S.length>0;)S.pop()}function s(e,t){T[e]=t}function a(e){var t=I[e];return t?v+"."+t:e}function u(e){M=" ".repeat(e)}function l(e,t){var n="".concat(v,"Variable").concat(L.length);return S.push("".concat(M,"const ").concat(n," = ").concat(t,";")),L.push(e),n}function c(e){S.push("".concat(M,"// ").concat(e))}function h(){S.push("".concat(M,"(() => {\n").concat(M,"const error = ").concat(v,".getError();\n").concat(M,"if (error !== ").concat(v,".NONE) {\n").concat(M,"  const names = Object.getOwnPropertyNames(gl);\n").concat(M,"  for (let i = 0; i < names.length; i++) {\n").concat(M,"    const name = names[i];\n").concat(M,"    if (").concat(v,"[name] === error) {\n").concat(M,"      throw new Error('").concat(v," threw ' + name);\n").concat(M,"    }\n").concat(M,"  }\n").concat(M,"}\n").concat(M,"})();"))}function p(e,t){return"".concat(v,".").concat(e,"(").concat(i(t,{contextName:v,contextVariables:L,getEntity:a,addVariable:l,variables:T,onUnrecognizedArgumentLookup:E}),")")}function f(e){var t=L.indexOf(e);return-1!==t?"".concat(v,"Variable").concat(t):null}var d,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=g.contextName,v=void 0===y?"gl":y,b=g.throwGetError,x=g.useTrackablePrimitives,w=g.readPixelsFile,_=g.recording,S=void 0===_?[]:_,k=g.variables,T=void 0===k?{}:k,A=g.onReadPixels,E=g.onUnrecognizedArgumentLookup,C=new Proxy(e,{get:function(g,y){switch(y){case"addComment":return c;case"checkThrowError":return h;case"getReadPixelsVariableName":return d;case"insertVariable":return s;case"reset":return n;case"setIndent":return u;case"toString":return t;case"getContextVariableName":return f}return"function"==typeof e[y]?function(){switch(y){case"getError":return S.push(b?"".concat(M,"if (").concat(v,".getError() !== ").concat(v,".NONE) throw new Error('error');"):"".concat(M).concat(v,".getError();")),e.getError();case"getExtension":var t="".concat(v,"Variables").concat(L.length);S.push("".concat(M,"const ").concat(t," = ").concat(v,".getExtension('").concat(arguments[0],"');"));var n=e.getExtension(arguments[0]);if(n&&"object"===m(n)){var s=r(n,{getEntity:a,useTrackablePrimitives:x,recording:S,contextName:t,contextVariables:L,variables:T,indent:M,onUnrecognizedArgumentLookup:E});return L.push(s),s}return L.push(null),n;case"readPixels":var u,c=L.indexOf(arguments[6]);if(-1===c){var h=function(e){if(T)for(var t in T)if(T[t]===e)return t;return null}(arguments[6]);h?(u=h,S.push("".concat(M).concat(h))):(u="".concat(v,"Variable").concat(L.length),L.push(arguments[6]),S.push("".concat(M,"const ").concat(u," = new ").concat(arguments[6].constructor.name,"(").concat(arguments[6].length,");")))}else u="".concat(v,"Variable").concat(c);d=u;var f=[arguments[0],arguments[1],arguments[2],arguments[3],a(arguments[4]),a(arguments[5]),u];return S.push("".concat(M).concat(v,".readPixels(").concat(f.join(", "),");")),w&&(g=arguments[2],_=arguments[3],k="".concat(v,"Variable").concat(L.length),C="imageDatum".concat(R),S.push("".concat(M,"let ").concat(C,' = ["P3\\n# ').concat(w,'.ppm\\n", ').concat(g,", ' ', ").concat(_,', "\\n255\\n"].join("");')),S.push("".concat(M,"for (let i = 0; i < ").concat(C,".length; i += 4) {")),S.push("".concat(M,"  ").concat(C," += ").concat(k,"[i] + ' ' + ").concat(k,"[i + 1] + ' ' + ").concat(k,"[i + 2] + ' ';")),S.push("".concat(M,"}")),S.push("".concat(M,'if (typeof require !== "undefined") {')),S.push("".concat(M,"  require('fs').writeFileSync('./").concat(w,".ppm', ").concat(C,");")),S.push("".concat(M,"}")),R++),A&&A(u,f),e.readPixels.apply(e,arguments);case"drawBuffers":return S.push("".concat(M).concat(v,".drawBuffers([").concat(i(arguments[0],{contextName:v,contextVariables:L,getEntity:a,addVariable:l,variables:T,onUnrecognizedArgumentLookup:E}),"]);")),e.drawBuffers(arguments[0])}var g,_,k,C,I=e[y].apply(e,arguments);switch(m(I)){case"undefined":return void S.push("".concat(M).concat(p(y,arguments),";"));case"number":case"boolean":if(x&&-1===L.indexOf(o(I))){S.push("".concat(M,"const ").concat(v,"Variable").concat(L.length," = ").concat(p(y,arguments),";")),L.push(I=o(I));break}default:S.push(null===I?"".concat(p(y,arguments),";"):"".concat(M,"const ").concat(v,"Variable").concat(L.length," = ").concat(p(y,arguments),";")),L.push(I)}return I}:(I[e[y]]=y,e[y])}}),L=[],I={},R=0,M="";return C}function r(e,t){function n(e){return u.hasOwnProperty(e)?"".concat(l,".").concat(u[e]):h(e)}function r(e,t){return"".concat(l,".").concat(e,"(").concat(i(t,{contextName:l,contextVariables:c,getEntity:n,addVariable:s,variables:d,onUnrecognizedArgumentLookup:y}),")")}function s(e,t){var n="".concat(l,"Variable").concat(c.length);return c.push(e),f.push("".concat(g,"const ").concat(n," = ").concat(t,";")),n}var a=new Proxy(e,{get:function(t,a){return"function"==typeof t[a]?function(){if("drawBuffersWEBGL"===a)return f.push("".concat(g).concat(l,".drawBuffersWEBGL([").concat(i(arguments[0],{contextName:l,contextVariables:c,getEntity:n,addVariable:s,variables:d,onUnrecognizedArgumentLookup:y}),"]);")),e.drawBuffersWEBGL(arguments[0]);var t=e[a].apply(e,arguments);switch(m(t)){case"undefined":return void f.push("".concat(g).concat(r(a,arguments),";"));case"number":case"boolean":p&&-1===c.indexOf(o(t))?(f.push("".concat(g,"const ").concat(l,"Variable").concat(c.length," = ").concat(r(a,arguments),";")),c.push(t=o(t))):(f.push("".concat(g,"const ").concat(l,"Variable").concat(c.length," = ").concat(r(a,arguments),";")),c.push(t));break;default:f.push(null===t?"".concat(r(a,arguments),";"):"".concat(g,"const ").concat(l,"Variable").concat(c.length," = ").concat(r(a,arguments),";")),c.push(t)}return t}:(u[e[a]]=a,e[a])}}),u={},l=t.contextName,c=t.contextVariables,h=t.getEntity,p=t.useTrackablePrimitives,f=t.recording,d=t.variables,g=t.indent,y=t.onUnrecognizedArgumentLookup;return a}function i(e,t){var n=t.variables,r=t.onUnrecognizedArgumentLookup;return Array.from(e).map((function(e){var i=function(e){if(n)for(var t in n)if(n.hasOwnProperty(t)&&n[t]===e)return t;return r?r(e):null}(e);return i||function(e,t){var n=t.contextName,r=t.contextVariables,i=t.getEntity,o=t.addVariable,s=t.onUnrecognizedArgumentLookup;if(void 0===e)return"undefined";if(null===e)return"null";var a=r.indexOf(e);if(a>-1)return"".concat(n,"Variable").concat(a);switch(e.constructor.name){case"String":var u=/\n/.test(e),l=/'/.test(e),c=/"/.test(e);return u?"`"+e+"`":l&&!c?'"'+e+'"':"'"+e+"'";case"Number":case"Boolean":return i(e);case"Array":return o(e,"new ".concat(e.constructor.name,"([").concat(Array.from(e).join(","),"])"));case"Float32Array":case"Uint8Array":case"Uint16Array":case"Int32Array":return o(e,"new ".concat(e.constructor.name,"(").concat(JSON.stringify(Array.from(e)),")"));default:if(s){var h=s(e);if(h)return h}throw new Error("unrecognized argument type ".concat(e.constructor.name))}}(e,t)})).join(", ")}function o(e){return new e.constructor(e)}void 0!==t&&(t.exports={glWiretap:n,glExtensionWiretap:r}),"undefined"!=typeof window&&(n.glExtensionWiretap=r,window.glWiretap=n)},{}],4:[function(e,t){function n(e){for(var t=new Array(e.length),n=0;n<e.length;n++){var r=e[n];t[n]=r.toArray?r.toArray():r}return t}function r(){for(var e=n(arguments),t=new Float32Array(this.output.x),r=0;r<this.output.x;r++)this.thread.x=r,this.thread.y=0,this.thread.z=0,t[r]=this._fn.apply(this,e);return t}function i(){for(var e=n(arguments),t=new Array(this.output.y),r=0;r<this.output.y;r++){for(var i=new Float32Array(this.output.x),o=0;o<this.output.x;o++)this.thread.x=o,this.thread.y=r,this.thread.z=0,i[o]=this._fn.apply(this,e);t[r]=i}return t}function o(){for(var e=n(arguments),t=0;t<this.output.y;t++)for(var r=0;r<this.output.x;r++)this.thread.x=r,this.thread.y=t,this.thread.z=0,this._fn.apply(this,e)}function s(){for(var e=n(arguments),t=new Array(this.output.z),r=0;r<this.output.z;r++){for(var i=new Array(this.output.y),o=0;o<this.output.y;o++){for(var s=new Float32Array(this.output.x),a=0;a<this.output.x;a++)this.thread.x=a,this.thread.y=o,this.thread.z=r,s[a]=this._fn.apply(this,e);i[o]=s}t[r]=i}return t}function a(e){e.setOutput=function(t){e.output=l(t),e.graphical&&u(e)},e.toJSON=function(){throw new Error("Not usable with gpuMock")},e.setConstants=function(t){return e.constants=t,e},e.setGraphical=function(t){return e.graphical=t,e},e.setCanvas=function(t){return e.canvas=t,e},e.setContext=function(t){return e.context=t,e},e.destroy=function(){},e.validateSettings=function(){},e.graphical&&e.output&&u(e),e.exec=function(){var t=arguments;return new Promise((function(n,r){try{n(e.apply(e,t))}catch(e){r(e)}}))},e.getPixels=function(t){var n=e.output;return t?function(e,t,n){for(var r=n/2|0,i=4*t,o=new Uint8ClampedArray(4*t),s=e.slice(0),a=0;a<r;++a){var u=a*i,l=(n-a-1)*i;o.set(s.subarray(u,u+i)),s.copyWithin(u,l,l+i),s.set(o,l)}return s}(e._imageData.data,n.x,n.y):e._imageData.data.slice(0)},e.color=function(t,n,r,i){void 0===i&&(i=1),t=Math.floor(255*t),n=Math.floor(255*n),r=Math.floor(255*r),i=Math.floor(255*i);var o=e.thread.x+(e.output.y-e.thread.y-1)*e.output.x;e._colorData[4*o+0]=t,e._colorData[4*o+1]=n,e._colorData[4*o+2]=r,e._colorData[4*o+3]=i};for(var t=function(){return e},n=["setWarnVarUsage","setArgumentTypes","setTactic","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setPrecision","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","addSubKernel"],r=0;r<n.length;r++)e[n[r]]=t;return e}function u(e){var t=e.output,n=t.x,r=t.y;if(e.context&&e.context.createImageData){var i=new Uint8ClampedArray(n*r*4);e._imageData=e.context.createImageData(n,r),e._colorData=i}else{var o=new Uint8ClampedArray(n*r*4);e._imageData={data:o},e._colorData=o}}function l(e){var t=null;if(e.length)if(3===e.length){var n=f(e,3);t={x:n[0],y:n[1],z:n[2]}}else if(2===e.length){var r=f(e,2);t={x:r[0],y:r[1]}}else t={x:f(e,1)[0]};else t=e;return t}t.exports={gpuMock:function(e){function t(){return t.output.z?s.apply(t,arguments):t.output.y?t.graphical?o.apply(t,arguments):i.apply(t,arguments):r.apply(t,arguments)}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=n.output?l(n.output):null;return t._fn=e,t.constants=n.constants||null,t.context=n.context||null,t.canvas=n.canvas||null,t.graphical=n.graphical||!1,t._imageData=null,t._colorData=null,t.output=u,t.thread={x:0,y:0,z:0},a(t)}}},{}],5:[function(e,t){var n=e("./utils").utils;t.exports={alias:function(e,t){var r=t.toString();return new Function("return function ".concat(e," (").concat(n.getArgumentNamesFromString(r).join(", "),") {\n  ").concat(n.getFunctionBodyFromString(r),"\n}"))()}}},{"./utils":114}],6:[function(e,t){var n=function(e){function t(){return n.apply(this,arguments)}a(t,e);var n=l(t);return o(t,[{key:"astFunction",value:function(e,t){if(!this.isRootKernel){t.push("function"),t.push(" "),t.push(this.name),t.push("(");for(var n=0;n<this.argumentNames.length;++n){var r=this.argumentNames[n];n>0&&t.push(", "),t.push("user_"),t.push(r)}t.push(") {\n")}for(var i=0;i<e.body.body.length;++i)this.astGeneric(e.body.body[i],t),t.push("\n");return this.isRootKernel||t.push("}\n"),t}},{key:"astReturnStatement",value:function(e,t){var n=this.returnType||this.getType(e.argument);return this.returnType||(this.returnType=n),this.isRootKernel?(t.push(this.leadingReturnStatement),this.astGeneric(e.argument,t),t.push(";\n"),t.push(this.followingReturnStatement),t.push("continue;\n")):this.isSubKernel?(t.push("subKernelResult_".concat(this.name," = ")),this.astGeneric(e.argument,t),t.push(";"),t.push("return subKernelResult_".concat(this.name,";"))):(t.push("return "),this.astGeneric(e.argument,t),t.push(";")),t}},{key:"astLiteral",value:function(e,t){if(isNaN(e.value))throw this.astErrorOutput("Non-numeric literal not supported : "+e.value,e);return t.push(e.value),t}},{key:"astBinaryExpression",value:function(e,t){return t.push("("),this.astGeneric(e.left,t),t.push(e.operator),this.astGeneric(e.right,t),t.push(")"),t}},{key:"astIdentifierExpression",value:function(e,t){if("Identifier"!==e.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",e);return"Infinity"===e.name?t.push("Infinity"):this.constants&&this.constants.hasOwnProperty(e.name)?t.push("constants_"+e.name):t.push("user_"+e.name),t}},{key:"astForStatement",value:function(e,t){if("ForStatement"!==e.type)throw this.astErrorOutput("Invalid for statement",e);var n=[],r=[],i=[],o=[],s=null;if(e.init){this.pushState("in-for-loop-init"),this.astGeneric(e.init,n);for(var a=0;a<n.length;a++)n[a].includes&&n[a].includes(",")&&(s=!1);this.popState("in-for-loop-init")}else s=!1;if(e.test?this.astGeneric(e.test,r):s=!1,e.update?this.astGeneric(e.update,i):s=!1,e.body&&(this.pushState("loop-body"),this.astGeneric(e.body,o),this.popState("loop-body")),null===s&&(s=this.isSafe(e.init)&&this.isSafe(e.test)),s)t.push("for (".concat(n.join(""),";").concat(r.join(""),";").concat(i.join(""),"){\n")),t.push(o.join("")),t.push("}\n");else{var u=this.getInternalVariableName("safeI");n.length>0&&t.push(n.join(""),";\n"),t.push("for (let ".concat(u,"=0;").concat(u,"<LOOP_MAX;").concat(u,"++){\n")),r.length>0&&t.push("if (!".concat(r.join(""),") break;\n")),t.push(o.join("")),t.push("\n".concat(i.join(""),";")),t.push("}\n")}return t}},{key:"astWhileStatement",value:function(e,t){if("WhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);return t.push("for (let i = 0; i < LOOP_MAX; i++) {"),t.push("if ("),this.astGeneric(e.test,t),t.push(") {\n"),this.astGeneric(e.body,t),t.push("} else {\n"),t.push("break;\n"),t.push("}\n"),t.push("}\n"),t}},{key:"astDoWhileStatement",value:function(e,t){if("DoWhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);return t.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(e.body,t),t.push("if (!"),this.astGeneric(e.test,t),t.push(") {\n"),t.push("break;\n"),t.push("}\n"),t.push("}\n"),t}},{key:"astAssignmentExpression",value:function(e,t){var n=this.getDeclaration(e.left);if(n&&!n.assignable)throw this.astErrorOutput("Variable ".concat(e.left.name," is not assignable here"),e);return this.astGeneric(e.left,t),t.push(e.operator),this.astGeneric(e.right,t),t}},{key:"astBlockStatement",value:function(e,t){if(this.isState("loop-body")){this.pushState("block-body");for(var n=0;n<e.body.length;n++)this.astGeneric(e.body[n],t);this.popState("block-body")}else{t.push("{\n");for(var r=0;r<e.body.length;r++)this.astGeneric(e.body[r],t);t.push("}\n")}return t}},{key:"astVariableDeclaration",value:function(e,t){t.push("".concat(e.kind," "));for(var n=e.declarations,r=0;r<n.length;r++){r>0&&t.push(",");var i=n[r],o=this.getDeclaration(i.id);o.valueType||(o.valueType=this.getType(i.init)),this.astGeneric(i,t)}return this.isState("in-for-loop-init")||t.push(";"),t}},{key:"astIfStatement",value:function(e,t){return t.push("if ("),this.astGeneric(e.test,t),t.push(")"),"BlockStatement"===e.consequent.type?this.astGeneric(e.consequent,t):(t.push(" {\n"),this.astGeneric(e.consequent,t),t.push("\n}\n")),e.alternate&&(t.push("else "),"BlockStatement"===e.alternate.type||"IfStatement"===e.alternate.type?this.astGeneric(e.alternate,t):(t.push(" {\n"),this.astGeneric(e.alternate,t),t.push("\n}\n"))),t}},{key:"astSwitchStatement",value:function(e,t){var n=e.discriminant,r=e.cases;t.push("switch ("),this.astGeneric(n,t),t.push(") {\n");for(var i=0;i<r.length;i++)null!==r[i].test?(t.push("case "),this.astGeneric(r[i].test,t),t.push(":\n"),r[i].consequent&&r[i].consequent.length>0&&(this.astGeneric(r[i].consequent,t),t.push("break;\n"))):(t.push("default:\n"),this.astGeneric(r[i].consequent,t),r[i].consequent&&r[i].consequent.length>0&&t.push("break;\n"));t.push("\n}")}},{key:"astThisExpression",value:function(e,t){return t.push("_this"),t}},{key:"astMemberExpression",value:function(e,t){var n=this.getMemberExpressionDetails(e),r=n.type,i=n.property,o=n.xProperty,s=n.yProperty,a=n.zProperty,u=n.name,l=n.origin;switch(n.signature){case"this.thread.value":return t.push("_this.thread.".concat(u)),t;case"this.output.value":switch(u){case"x":t.push("outputX");break;case"y":t.push("outputY");break;case"z":t.push("outputZ");break;default:throw this.astErrorOutput("Unexpected expression",e)}return t;case"value":default:throw this.astErrorOutput("Unexpected expression",e);case"value[]":case"value[][]":case"value[][][]":case"value.value":if("Math"===l)return t.push(Math[u]),t;switch(i){case"r":return t.push("user_".concat(u,"[0]")),t;case"g":return t.push("user_".concat(u,"[1]")),t;case"b":return t.push("user_".concat(u,"[2]")),t;case"a":return t.push("user_".concat(u,"[3]")),t}break;case"this.constants.value":case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":break;case"fn()[]":return this.astGeneric(e.object,t),t.push("["),this.astGeneric(e.property,t),t.push("]"),t;case"fn()[][]":return this.astGeneric(e.object.object,t),t.push("["),this.astGeneric(e.object.property,t),t.push("]"),t.push("["),this.astGeneric(e.property,t),t.push("]"),t}if(!e.computed)switch(r){case"Number":case"Integer":case"Float":case"Boolean":return t.push("".concat(l,"_").concat(u)),t}var c,h,p="".concat(l,"_").concat(u);return c="constants"===l?(h="Input"===this.constantTypes[u])?this.constants[u].size:null:(h=this.isInput(u))?this.argumentSizes[this.argumentNames.indexOf(u)]:null,t.push("".concat(p)),a&&s?h?(t.push("[("),this.astGeneric(a,t),t.push("*".concat(this.dynamicArguments?"(outputY * outputX)":c[1]*c[0],")+(")),this.astGeneric(s,t),t.push("*".concat(this.dynamicArguments?"outputX":c[0],")+")),this.astGeneric(o,t),t.push("]")):(t.push("["),this.astGeneric(a,t),t.push("]"),t.push("["),this.astGeneric(s,t),t.push("]"),t.push("["),this.astGeneric(o,t),t.push("]")):s?h?(t.push("[("),this.astGeneric(s,t),t.push("*".concat(this.dynamicArguments?"outputX":c[0],")+")),this.astGeneric(o,t),t.push("]")):(t.push("["),this.astGeneric(s,t),t.push("]"),t.push("["),this.astGeneric(o,t),t.push("]")):void 0!==o&&(t.push("["),this.astGeneric(o,t),t.push("]")),t}},{key:"astCallExpression",value:function(e,t){if("CallExpression"!==e.type)throw this.astErrorOutput("Unknown CallExpression",e);var n=this.astMemberExpressionUnroll(e.callee);this.calledFunctions.indexOf(n)<0&&this.calledFunctions.push(n),this.isAstMathFunction(e),this.onFunctionCall&&this.onFunctionCall(this.name,n,e.arguments),t.push(n),t.push("(");for(var r=this.lookupFunctionArgumentTypes(n)||[],i=0;i<e.arguments.length;++i){var o=e.arguments[i],s=this.getType(o);r[i]||this.triggerImplyArgumentType(n,i,s,this),i>0&&t.push(", "),this.astGeneric(o,t)}return t.push(")"),t}},{key:"astArrayExpression",value:function(e,t){for(var n=this.getType(e),r=e.elements.length,i=[],o=0;o<r;++o){var s=[];this.astGeneric(e.elements[o],s),i.push(s.join(""))}switch(n){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":t.push("[".concat(i.join(", "),"]"));break;default:t.push("new Float32Array([".concat(i.join(", "),"])"))}return t}},{key:"astDebuggerStatement",value:function(e,t){return t.push("debugger;"),t}}]),t}(e("../function-node").FunctionNode);t.exports={CPUFunctionNode:n}},{"../function-node":10}],7:[function(e,t){var n=e("../../utils").utils;t.exports={cpuKernelString:function(e){var t=[],r=[],i=[],o=!/^function/.test(e.color.toString());if(t.push("  const { context, canvas, constants: incomingConstants } = settings;","  const output = new Int32Array(".concat(JSON.stringify(Array.from(e.output)),");"),"  const _constantTypes = ".concat(JSON.stringify(e.constantTypes),";"),"  const _constants = ".concat(function(e,t){var n=[];for(var r in t)if(t.hasOwnProperty(r)){var i=e[r];switch(t[r]){case"Number":case"Integer":case"Float":case"Boolean":n.push("".concat(r,":").concat(i));break;case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":n.push("".concat(r,":new ").concat(i.constructor.name,"(").concat(JSON.stringify(Array.from(i)),")"))}}return"{ ".concat(n.join()," }")}(e.constants,e.constantTypes),";")),r.push("    constants: _constants,","    context,","    output,","    thread: {x: 0, y: 0, z: 0},"),e.graphical){t.push("  const _imageData = context.createImageData(".concat(e.output[0],", ").concat(e.output[1],");")),t.push("  const _colorData = new Uint8ClampedArray(".concat(e.output[0]," * ").concat(e.output[1]," * 4);"));var s=n.flattenFunctionToString((o?"function ":"")+e.color.toString(),{thisLookup:function(t){switch(t){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(e[t])},findDependency:function(){return null}}),a=n.flattenFunctionToString((o?"function ":"")+e.getPixels.toString(),{thisLookup:function(t){switch(t){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(e[t])},findDependency:function(){return null}});r.push("    _imageData,","    _colorData,","    color: ".concat(s,",")),i.push("  kernel.getPixels = ".concat(a,";"))}for(var u=[],l=Object.keys(e.constantTypes),c=0;c<l.length;c++)u.push(e.constantTypes[l]);if(-1!==e.argumentTypes.indexOf("HTMLImageArray")||-1!==u.indexOf("HTMLImageArray")){var h=n.flattenFunctionToString((o?"function ":"")+e._imageTo3DArray.toString(),{doNotDefine:["canvas"],findDependency:function(t,n){return"this"===t?(o?"function ":"")+e[n].toString():null},thisLookup:function(e){switch(e){case"canvas":return;case"context":return"context"}}});i.push(h),r.push("    _mediaTo2DArray,"),r.push("    _imageTo3DArray,")}else if(-1!==e.argumentTypes.indexOf("HTMLImage")||-1!==u.indexOf("HTMLImage")){var p=n.flattenFunctionToString((o?"function ":"")+e._mediaTo2DArray.toString(),{findDependency:function(){return null},thisLookup:function(e){switch(e){case"canvas":return"settings.canvas";case"context":return"settings.context"}throw new Error("unhandled thisLookup")}});i.push(p),r.push("    _mediaTo2DArray,")}return"function(settings) {\n".concat(t.join("\n"),"\n  for (const p in _constantTypes) {\n    if (!_constantTypes.hasOwnProperty(p)) continue;\n    const type = _constantTypes[p];\n    switch (type) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n      case 'Boolean':\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        if (incomingConstants.hasOwnProperty(p)) {\n          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');\n        }\n        continue;\n    }\n    if (!incomingConstants.hasOwnProperty(p)) {\n      throw new Error('constant ' + p + ' not found');\n    }\n    _constants[p] = incomingConstants[p];\n  }\n  const kernel = (function() {\n").concat(e._kernelString,"\n  })\n    .apply({ ").concat(r.join("\n")," });\n  ").concat(i.join("\n"),"\n  return kernel;\n}")}}},{"../../utils":114}],8:[function(e,t){var n=e("../kernel").Kernel,i=e("../function-builder").FunctionBuilder,s=e("./function-node").CPUFunctionNode,u=e("../../utils").utils,c=e("./kernel-string").cpuKernelString,h=function(e){function t(e,t){var r;return(r=n.call(this,e,t)).mergeSettings(e.settings||t),r._imageData=null,r._colorData=null,r._kernelString=null,r._prependedString=[],r.thread={x:0,y:0,z:0},r.translatedSources=null,r}a(t,e);var n=l(t);return o(t,[{key:"initCanvas",value:function(){return"undefined"!=typeof document?document.createElement("canvas"):"undefined"!=typeof OffscreenCanvas?new OffscreenCanvas(0,0):void 0}},{key:"initContext",value:function(){return this.canvas?this.canvas.getContext("2d"):null}},{key:"initPlugins",value:function(){return[]}},{key:"validateSettings",value:function(e){if(!this.output||0===this.output.length){if(1!==e.length)throw new Error("Auto output only supported for kernels with only one input");var t=u.getVariableType(e[0],this.strictIntegers);if("Array"===t)this.output=u.getDimensions(t);else{if("NumberTexture"!==t&&"ArrayTexture(4)"!==t)throw new Error("Auto output not supported for input type: "+t);this.output=e[0].output}}if(this.graphical&&2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");this.checkOutput()}},{key:"translateSource",value:function(){if(this.leadingReturnStatement=this.output.length>1?"resultX[x] = ":"result[x] = ",this.subKernels){for(var e=[],t=0;t<this.subKernels.length;t++){var n=this.subKernels[t].name;e.push(this.output.length>1?"resultX_".concat(n,"[x] = subKernelResult_").concat(n,";\n"):"result_".concat(n,"[x] = subKernelResult_").concat(n,";\n"))}this.followingReturnStatement=e.join("")}var r=i.fromKernel(this,s);this.translatedSources=r.getPrototypes("kernel"),this.graphical||this.returnType||(this.returnType=r.getKernelResultType())}},{key:"build",value:function(){if(!this.built){if(this.setupConstants(),this.setupArguments(arguments),this.validateSettings(arguments),this.translateSource(),this.graphical){var e=this.canvas,t=this.output;if(!e)throw new Error("no canvas available for using graphical output");var n=t[0],r=t[1]||1;e.width=n,e.height=r,this._imageData=this.context.createImageData(n,r),this._colorData=new Uint8ClampedArray(n*r*4)}var i=this.getKernelString();this.kernelString=i,this.debug&&(console.log("Function output:"),console.log(i));try{this.run=new Function([],i).bind(this)()}catch(e){console.error("An error occurred compiling the javascript: ",e)}this.buildSignature(arguments),this.built=!0}}},{key:"color",value:function(e,t,n,r){void 0===r&&(r=1),e=Math.floor(255*e),t=Math.floor(255*t),n=Math.floor(255*n),r=Math.floor(255*r);var i=this.thread.x+(this.output[1]-this.thread.y-1)*this.output[0];this._colorData[4*i+0]=e,this._colorData[4*i+1]=t,this._colorData[4*i+2]=n,this._colorData[4*i+3]=r}},{key:"getKernelString",value:function(){if(null!==this._kernelString)return this._kernelString;var e=null,t=this.translatedSources;return t.length>1?t=t.filter((function(t){return/^function/.test(t)?t:(e=t,!1)})):e=t.shift(),this._kernelString="  const LOOP_MAX = ".concat(this._getLoopMaxString(),";\n  ").concat(this.injectedNative||"","\n  const _this = this;\n  ").concat(this._resultKernelHeader(),"\n  ").concat(this._processConstants(),"\n  return (").concat(this.argumentNames.map((function(e){return"user_"+e})).join(", "),") => {\n    ").concat(this._prependedString.join(""),"\n    ").concat(this._earlyThrows(),"\n    ").concat(this._processArguments(),"\n    ").concat(this.graphical?this._graphicalKernelBody(e):this._resultKernelBody(e),"\n    ").concat(t.length>0?t.join("\n"):"","\n  };")}},{key:"toString",value:function(){return c(this)}},{key:"_getLoopMaxString",value:function(){return this.loopMaxIterations?" ".concat(parseInt(this.loopMaxIterations),";"):" 1000;"}},{key:"_processConstants",value:function(){if(!this.constants)return"";var e=[];for(var t in this.constants)switch(this.constantTypes[t]){case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":e.push("    const constants_".concat(t," = this._mediaTo2DArray(this.constants.").concat(t,");\n"));break;case"HTMLImageArray":e.push("    const constants_".concat(t," = this._imageTo3DArray(this.constants.").concat(t,");\n"));break;case"Input":e.push("    const constants_".concat(t," = this.constants.").concat(t,".value;\n"));break;default:e.push("    const constants_".concat(t," = this.constants.").concat(t,";\n"))}return e.join("")}},{key:"_earlyThrows",value:function(){var e=this;if(this.graphical)return"";if(this.immutable)return"";if(!this.pipeline)return"";for(var t=[],n=0;n<this.argumentTypes.length;n++)"Array"===this.argumentTypes[n]&&t.push(this.argumentNames[n]);if(0===t.length)return"";for(var r=[],i=function(n){var i=t[n],o=e._mapSubKernels((function(e){return"user_".concat(i," === result_").concat(e.name)})).join(" || ");r.push("user_".concat(i," === result").concat(o?" || ".concat(o):""))},o=0;o<t.length;o++)i(o);return"if (".concat(r.join(" || "),") throw new Error('Source and destination arrays are the same.  Use immutable = true');")}},{key:"_processArguments",value:function(){for(var e=[],t=0;t<this.argumentTypes.length;t++){var n="user_".concat(this.argumentNames[t]);switch(this.argumentTypes[t]){case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":e.push("    ".concat(n," = this._mediaTo2DArray(").concat(n,");\n"));break;case"HTMLImageArray":e.push("    ".concat(n," = this._imageTo3DArray(").concat(n,");\n"));break;case"Input":e.push("    ".concat(n," = ").concat(n,".value;\n"));break;case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"NumberTexture":case"MemoryOptimizedNumberTexture":e.push("\n    if (".concat(n,".toArray) {\n      if (!_this.textureCache) {\n        _this.textureCache = [];\n        _this.arrayCache = [];\n      }\n      const textureIndex = _this.textureCache.indexOf(").concat(n,");\n      if (textureIndex !== -1) {\n        ").concat(n," = _this.arrayCache[textureIndex];\n      } else {\n        _this.textureCache.push(").concat(n,");\n        ").concat(n," = ").concat(n,".toArray();\n        _this.arrayCache.push(").concat(n,");\n      }\n    }"))}}return e.join("")}},{key:"_mediaTo2DArray",value:function(e){var t=this.canvas,n=e.width>0?e.width:e.videoWidth,r=e.height>0?e.height:e.videoHeight;t.width<n&&(t.width=n),t.height<r&&(t.height=r);var i=this.context;i.drawImage(e,0,0,n,r);for(var o=i.getImageData(0,0,n,r).data,s=new Array(r),a=0,u=r-1;u>=0;u--)for(var l=s[u]=new Array(n),c=0;c<n;c++){var h=new Float32Array(4);h[0]=o[a++]/255,h[1]=o[a++]/255,h[2]=o[a++]/255,h[3]=o[a++]/255,l[c]=h}return s}},{key:"getPixels",value:function(e){var t=f(this.output,2);return e?u.flipPixels(this._imageData.data,t[0],t[1]):this._imageData.data.slice(0)}},{key:"_imageTo3DArray",value:function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=this._mediaTo2DArray(e[n]);return t}},{key:"_resultKernelHeader",value:function(){if(this.graphical)return"";if(this.immutable)return"";if(!this.pipeline)return"";switch(this.output.length){case 1:return this._mutableKernel1DResults();case 2:return this._mutableKernel2DResults();case 3:return this._mutableKernel3DResults()}}},{key:"_resultKernelBody",value:function(e){switch(this.output.length){case 1:return(!this.immutable&&this.pipeline?this._resultMutableKernel1DLoop(e):this._resultImmutableKernel1DLoop(e))+this._kernelOutput();case 2:return(!this.immutable&&this.pipeline?this._resultMutableKernel2DLoop(e):this._resultImmutableKernel2DLoop(e))+this._kernelOutput();case 3:return(!this.immutable&&this.pipeline?this._resultMutableKernel3DLoop(e):this._resultImmutableKernel3DLoop(e))+this._kernelOutput();default:throw new Error("unsupported size kernel")}}},{key:"_graphicalKernelBody",value:function(e){if(2===this.output.length)return this._graphicalKernel2DLoop(e)+this._graphicalOutput();throw new Error("unsupported size kernel")}},{key:"_graphicalOutput",value:function(){return"\n    this._imageData.data.set(this._colorData);\n    this.context.putImageData(this._imageData, 0, 0);\n    return;"}},{key:"_getKernelResultTypeConstructorString",value:function(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return"Float32Array";case"Array(2)":case"Array(3)":case"Array(4)":return"Array";default:if(this.graphical)return"Float32Array";throw new Error("unhandled returnType ".concat(this.returnType))}}},{key:"_resultImmutableKernel1DLoop",value:function(e){var t=this._getKernelResultTypeConstructorString();return"  const outputX = _this.output[0];\n    const result = new ".concat(t,"(outputX);\n    ").concat(this._mapSubKernels((function(e){return"const result_".concat(e.name," = new ").concat(t,"(outputX);\n")})).join("    "),"\n    ").concat(this._mapSubKernels((function(e){return"let subKernelResult_".concat(e.name,";\n")})).join("    "),"\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ").concat(e,"\n    }")}},{key:"_mutableKernel1DResults",value:function(){var e=this._getKernelResultTypeConstructorString();return"  const outputX = _this.output[0];\n    const result = new ".concat(e,"(outputX);\n    ").concat(this._mapSubKernels((function(t){return"const result_".concat(t.name," = new ").concat(e,"(outputX);\n")})).join("    "),"\n    ").concat(this._mapSubKernels((function(e){return"let subKernelResult_".concat(e.name,";\n")})).join("    "))}},{key:"_resultMutableKernel1DLoop",value:function(e){return"  const outputX = _this.output[0];\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ".concat(e,"\n    }")}},{key:"_resultImmutableKernel2DLoop",value:function(e){var t=this._getKernelResultTypeConstructorString();return"  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ".concat(this._mapSubKernels((function(e){return"const result_".concat(e.name," = new Array(outputY);\n")})).join("    "),"\n    ").concat(this._mapSubKernels((function(e){return"let subKernelResult_".concat(e.name,";\n")})).join("    "),"\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y] = new ").concat(t,"(outputX);\n      ").concat(this._mapSubKernels((function(e){return"const resultX_".concat(e.name," = result_").concat(e.name,"[y] = new ").concat(t,"(outputX);\n")})).join(""),"\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ").concat(e,"\n      }\n    }")}},{key:"_mutableKernel2DResults",value:function(){var e=this._getKernelResultTypeConstructorString();return"  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ".concat(this._mapSubKernels((function(e){return"const result_".concat(e.name," = new Array(outputY);\n")})).join("    "),"\n    ").concat(this._mapSubKernels((function(e){return"let subKernelResult_".concat(e.name,";\n")})).join("    "),"\n    for (let y = 0; y < outputY; y++) {\n      const resultX = result[y] = new ").concat(e,"(outputX);\n      ").concat(this._mapSubKernels((function(t){return"const resultX_".concat(t.name," = result_").concat(t.name,"[y] = new ").concat(e,"(outputX);\n")})).join(""),"\n    }")}},{key:"_resultMutableKernel2DLoop",value:function(e){var t=this._getKernelResultTypeConstructorString();return"  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y];\n      ".concat(this._mapSubKernels((function(e){return"const resultX_".concat(e.name," = result_").concat(e.name,"[y] = new ").concat(t,"(outputX);\n")})).join(""),"\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ").concat(e,"\n      }\n    }")}},{key:"_graphicalKernel2DLoop",value:function(e){return"  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ".concat(e,"\n      }\n    }")}},{key:"_resultImmutableKernel3DLoop",value:function(e){var t=this._getKernelResultTypeConstructorString();return"  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ".concat(this._mapSubKernels((function(e){return"const result_".concat(e.name," = new Array(outputZ);\n")})).join("    "),"\n    ").concat(this._mapSubKernels((function(e){return"let subKernelResult_".concat(e.name,";\n")})).join("    "),"\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z] = new Array(outputY);\n      ").concat(this._mapSubKernels((function(e){return"const resultY_".concat(e.name," = result_").concat(e.name,"[z] = new Array(outputY);\n")})).join("      "),"\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y] = new ").concat(t,"(outputX);\n        ").concat(this._mapSubKernels((function(e){return"const resultX_".concat(e.name," = resultY_").concat(e.name,"[y] = new ").concat(t,"(outputX);\n")})).join("        "),"\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ").concat(e,"\n        }\n      }\n    }")}},{key:"_mutableKernel3DResults",value:function(){var e=this._getKernelResultTypeConstructorString();return"  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ".concat(this._mapSubKernels((function(e){return"const result_".concat(e.name," = new Array(outputZ);\n")})).join("    "),"\n    ").concat(this._mapSubKernels((function(e){return"let subKernelResult_".concat(e.name,";\n")})).join("    "),"\n    for (let z = 0; z < outputZ; z++) {\n      const resultY = result[z] = new Array(outputY);\n      ").concat(this._mapSubKernels((function(e){return"const resultY_".concat(e.name," = result_").concat(e.name,"[z] = new Array(outputY);\n")})).join("      "),"\n      for (let y = 0; y < outputY; y++) {\n        const resultX = resultY[y] = new ").concat(e,"(outputX);\n        ").concat(this._mapSubKernels((function(t){return"const resultX_".concat(t.name," = resultY_").concat(t.name,"[y] = new ").concat(e,"(outputX);\n")})).join("        "),"\n      }\n    }")}},{key:"_resultMutableKernel3DLoop",value:function(e){return"  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z];\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y];\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ".concat(e,"\n        }\n      }\n    }")}},{key:"_kernelOutput",value:function(){return this.subKernels?"\n    return {\n      result: result,\n      ".concat(this.subKernels.map((function(e){return"".concat(e.property,": result_").concat(e.name)})).join(",\n      "),"\n    };"):"\n    return result;"}},{key:"_mapSubKernels",value:function(e){return null===this.subKernels?[""]:this.subKernels.map(e)}},{key:"destroy",value:function(e){e&&delete this.canvas}},{key:"toJSON",value:function(){var e=r(p(t.prototype),"toJSON",this).call(this);return e.functionNodes=i.fromKernel(this,s).toJSON(),e}},{key:"setOutput",value:function(e){r(p(t.prototype),"setOutput",this).call(this,e);var n=f(this.output,2),i=n[0],o=n[1];this.graphical&&(this._imageData=this.context.createImageData(i,o),this._colorData=new Uint8ClampedArray(i*o*4))}},{key:"prependString",value:function(e){if(this._kernelString)throw new Error("Kernel already built");this._prependedString.push(e)}},{key:"hasPrependString",value:function(e){return this._prependedString.indexOf(e)>-1}}],[{key:"getFeatures",value:function(){return this.features}},{key:"features",get:function(){return Object.freeze({kernelMap:!0,isIntegerDivisionAccurate:!0})}},{key:"isSupported",get:function(){return!0}},{key:"isContextMatch",value:function(){return!1}},{key:"mode",get:function(){return"cpu"}},{key:"nativeFunctionArguments",value:function(){return null}},{key:"nativeFunctionReturnType",value:function(){throw new Error("Looking up native function return type not supported on ".concat(this.name))}},{key:"combineKernels",value:function(e){return e}},{key:"getSignature",value:function(e,t){return"cpu"+(t.length>0?":"+t.join(","):"")}},{key:"destroyContext",value:function(){}}]),t}(n);t.exports={CPUKernel:h}},{"../../utils":114,"../function-builder":9,"../kernel":36,"./function-node":6,"./kernel-string":7}],9:[function(e,t){t.exports={FunctionBuilder:function(){function e(e){if(this.kernel=(e=e||{}).kernel,this.rootNode=e.rootNode,this.functionNodes=e.functionNodes||[],this.subKernelNodes=e.subKernelNodes||[],this.nativeFunctions=e.nativeFunctions||[],this.functionMap={},this.nativeFunctionNames=[],this.lookupChain=[],this.functionNodeDependencies={},this.functionCalls={},this.rootNode&&(this.functionMap.kernel=this.rootNode),this.functionNodes)for(var t=0;t<this.functionNodes.length;t++)this.functionMap[this.functionNodes[t].name]=this.functionNodes[t];if(this.subKernelNodes)for(var n=0;n<this.subKernelNodes.length;n++)this.functionMap[this.subKernelNodes[n].name]=this.subKernelNodes[n];if(this.nativeFunctions)for(var r=0;r<this.nativeFunctions.length;r++)this.nativeFunctionNames.push(this.nativeFunctions[r].name)}return o(e,[{key:"addFunctionNode",value:function(e){if(!e.name)throw new Error("functionNode.name needs set");this.functionMap[e.name]=e,e.isRootKernel&&(this.rootNode=e)}},{key:"traceFunctionCalls",value:function(e,t){if(t=t||[],this.nativeFunctionNames.indexOf(e=e||"kernel")>-1){var n=t.indexOf(e);if(-1===n)t.push(e);else{var r=t.splice(n,1)[0];t.push(r)}return t}var i=this.functionMap[e];if(i){var o=t.indexOf(e);if(-1===o){t.push(e),i.toString();for(var s=0;s<i.calledFunctions.length;++s)this.traceFunctionCalls(i.calledFunctions[s],t)}else{var a=t.splice(o,1)[0];t.push(a)}}return t}},{key:"getPrototypeString",value:function(e){return this.getPrototypes(e).join("\n")}},{key:"getPrototypes",value:function(e){return this.rootNode&&this.rootNode.toString(),this.getPrototypesFromFunctionNames(e?this.traceFunctionCalls(e,[]).reverse():Object.keys(this.functionMap))}},{key:"getStringFromFunctionNames",value:function(e){for(var t=[],n=0;n<e.length;++n)this.functionMap[e[n]]&&t.push(this.functionMap[e[n]].toString());return t.join("\n")}},{key:"getPrototypesFromFunctionNames",value:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i=this.nativeFunctionNames.indexOf(r);if(i>-1)t.push(this.nativeFunctions[i].source);else{var o=this.functionMap[r];o&&t.push(o.toString())}}return t}},{key:"toJSON",value:function(){var e=this;return this.traceFunctionCalls(this.rootNode.name).reverse().map((function(t){var n=e.nativeFunctions.indexOf(t);if(n>-1)return{name:t,source:e.nativeFunctions[n].source};if(e.functionMap[t])return e.functionMap[t].toJSON();throw new Error("function ".concat(t," not found"))}))}},{key:"fromJSON",value:function(e,t){this.functionMap={};for(var n=0;n<e.length;n++){var r=e[n];this.functionMap[r.settings.name]=new t(r.ast,r.settings)}return this}},{key:"getString",value:function(e){return this.getStringFromFunctionNames(e?this.traceFunctionCalls(e).reverse():Object.keys(this.functionMap))}},{key:"lookupReturnType",value:function(e,t,n){if("CallExpression"!==t.type)throw new Error('expected ast type of "CallExpression", but is '.concat(t.type));if(this._isNativeFunction(e))return this._lookupNativeFunctionReturnType(e);if(this._isFunction(e)){var r=this._getFunction(e);if(r.returnType)return r.returnType;for(var i=0;i<this.lookupChain.length;i++)if(this.lookupChain[i].ast===t){if(0===r.argumentTypes.length&&t.arguments.length>0){for(var o=t.arguments,s=0;s<o.length;s++)this.lookupChain.push({name:n.name,ast:o[i],requestingNode:n}),r.argumentTypes[s]=n.getType(o[s]),this.lookupChain.pop();return r.returnType=r.getType(r.getJsAST())}throw new Error("circlical logic detected!")}this.lookupChain.push({name:n.name,ast:t,requestingNode:n});var a=r.getType(r.getJsAST());return this.lookupChain.pop(),r.returnType=a}return null}},{key:"_getFunction",value:function(e){return this._isFunction(e)||new Error("Function ".concat(e," not found")),this.functionMap[e]}},{key:"_isFunction",value:function(e){return Boolean(this.functionMap[e])}},{key:"_getNativeFunction",value:function(e){for(var t=0;t<this.nativeFunctions.length;t++)if(this.nativeFunctions[t].name===e)return this.nativeFunctions[t];return null}},{key:"_isNativeFunction",value:function(e){return Boolean(this._getNativeFunction(e))}},{key:"_lookupNativeFunctionReturnType",value:function(e){var t=this._getNativeFunction(e);if(t)return t.returnType;throw new Error("Native function ".concat(e," not found"))}},{key:"lookupFunctionArgumentTypes",value:function(e){return this._isNativeFunction(e)?this._getNativeFunction(e).argumentTypes:this._isFunction(e)?this._getFunction(e).argumentTypes:null}},{key:"lookupFunctionArgumentName",value:function(e,t){return this._getFunction(e).argumentNames[t]}},{key:"lookupFunctionArgumentBitRatio",value:function(e,t){if(!this._isFunction(e))throw new Error("function not found");if(this.rootNode.name===e){var n=this.rootNode.argumentNames.indexOf(t);if(-1!==n)return this.rootNode.argumentBitRatios[n]}var r=this._getFunction(e),i=r.argumentNames.indexOf(t);if(-1===i)throw new Error("argument not found");var o=r.argumentBitRatios[i];if("number"!=typeof o)throw new Error("argument bit ratio not found");return o}},{key:"needsArgumentType",value:function(e,t){return!!this._isFunction(e)&&!this._getFunction(e).argumentTypes[t]}},{key:"assignArgumentType",value:function(e,t,n){if(this._isFunction(e)){var r=this._getFunction(e);r.argumentTypes[t]||(r.argumentTypes[t]=n)}}},{key:"assignArgumentBitRatio",value:function(e,t,n){var r=this._getFunction(e);if(this._isNativeFunction(n))return null;var i=this._getFunction(n),o=r.argumentNames.indexOf(t);if(-1===o)throw new Error("Argument ".concat(t," not found in arguments from function ").concat(e));var s=r.argumentBitRatios[o];if("number"!=typeof s)throw new Error("Bit ratio for argument ".concat(t," not found in function ").concat(e));i.argumentBitRatios||(i.argumentBitRatios=new Array(i.argumentNames.length));var a=i.argumentBitRatios[o];if("number"==typeof a){if(a!==s)throw new Error("Incompatible bit ratio found at function ".concat(e," at argument ").concat(t));return a}return i.argumentBitRatios[o]=s,s}},{key:"trackFunctionCall",value:function(e,t,n){this.functionNodeDependencies[e]||(this.functionNodeDependencies[e]=new Set,this.functionCalls[e]=[]),this.functionNodeDependencies[e].add(t),this.functionCalls[e].push(n)}},{key:"getKernelResultType",value:function(){return this.rootNode.returnType||this.rootNode.getType(this.rootNode.ast)}},{key:"getSubKernelResultType",value:function(e){for(var t=this.subKernelNodes[e],n=!1,r=0;r<this.rootNode.functionCalls.length;r++)this.rootNode.functionCalls[r].ast.callee.name===t.name&&(n=!0);if(!n)throw new Error("SubKernel ".concat(t.name," never called by kernel"));return t.returnType||t.getType(t.getJsAST())}},{key:"getReturnTypes",value:function(){for(var e=function(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.rootNode.name,this.rootNode.getType(this.rootNode.ast)),t=this.traceFunctionCalls(this.rootNode.name),n=0;n<t.length;n++){var r=t[n],i=this.functionMap[r];e[r]=i.getType(i.ast)}return e}}],[{key:"fromKernel",value:function(t,r,i){for(var o=t.kernelArguments,s=t.kernelConstants,a=t.argumentNames,u=t.argumentSizes,l=t.argumentBitRatios,c=t.constants,h=t.constantBitRatios,p=t.debug,f=t.loopMaxIterations,d=t.nativeFunctions,g=t.output,y=t.optimizeFloatMemory,v=t.precision,b=t.plugins,x=t.source,w=t.subKernels,_=t.functions,S=t.leadingReturnStatement,k=t.followingReturnStatement,T=t.dynamicArguments,A=t.dynamicOutput,E=new Array(o.length),C={},L=0;L<o.length;L++)E[L]=o[L].type;for(var I=0;I<s.length;I++){var R=s[I];C[R.name]=R.type}var M=function(e,t){return K.needsArgumentType(e,t)},O=function(e,t,n){K.assignArgumentType(e,t,n)},N=function(e,t,n){return K.lookupReturnType(e,t,n)},D=function(e){return K.lookupFunctionArgumentTypes(e)},P=function(e,t){return K.lookupFunctionArgumentName(e,t)},F=function(e,t){return K.lookupFunctionArgumentBitRatio(e,t)},$=function(e,t,n,r){K.assignArgumentType(e,t,n,r)},V=function(e,t,n,r){K.assignArgumentBitRatio(e,t,n,r)},B=function(e,t,n){K.trackFunctionCall(e,t,n)},z=function(e,t){for(var i=[],o=0;o<e.params.length;o++)i.push(e.params[o].name);var s=new r(t,n({},j,{returnType:null,ast:e,name:e.id.name,argumentNames:i,lookupReturnType:N,lookupFunctionArgumentTypes:D,lookupFunctionArgumentName:P,lookupFunctionArgumentBitRatio:F,needsArgumentType:M,assignArgumentType:O,triggerImplyArgumentType:$,triggerImplyArgumentBitRatio:V,onFunctionCall:B}));s.traceFunctionAST(e),K.addFunctionNode(s)},j=n({isRootKernel:!1,onNestedFunction:z,lookupReturnType:N,lookupFunctionArgumentTypes:D,lookupFunctionArgumentName:P,lookupFunctionArgumentBitRatio:F,needsArgumentType:M,assignArgumentType:O,triggerImplyArgumentType:$,triggerImplyArgumentBitRatio:V,onFunctionCall:B,optimizeFloatMemory:y,precision:v,constants:c,constantTypes:C,constantBitRatios:h,debug:p,loopMaxIterations:f,output:g,plugins:b,dynamicArguments:T,dynamicOutput:A},i||{}),U=n({},j,{isRootKernel:!0,name:"kernel",argumentNames:a,argumentTypes:E,argumentSizes:u,argumentBitRatios:l,leadingReturnStatement:S,followingReturnStatement:k});if("object"===m(x)&&x.functionNodes)return(new e).fromJSON(x.functionNodes,r);var G=new r(x,U),W=null;_&&(W=_.map((function(e){return new r(e.source,{returnType:e.returnType,argumentTypes:e.argumentTypes,output:g,plugins:b,constants:c,constantTypes:C,constantBitRatios:h,optimizeFloatMemory:y,precision:v,lookupReturnType:N,lookupFunctionArgumentTypes:D,lookupFunctionArgumentName:P,lookupFunctionArgumentBitRatio:F,needsArgumentType:M,assignArgumentType:O,triggerImplyArgumentType:$,triggerImplyArgumentBitRatio:V,onFunctionCall:B,onNestedFunction:z})})));var H=null;w&&(H=w.map((function(e){return new r(e.source,n({},j,{name:e.name,isSubKernel:!0,isRootKernel:!1}))})));var K=new e({kernel:t,rootNode:G,functionNodes:W,nativeFunctions:d,subKernelNodes:H});return K}}]),e}()}},{}],10:[function(e,t){var n=e("acorn"),r=e("../utils").utils,i=e("./function-tracer").FunctionTracer,s=function(){function e(e,t){if(!e&&!t.ast)throw new Error("source parameter is missing");if(t=t||{},this.source=e,this.ast=null,this.name="string"==typeof e?t.isRootKernel?"kernel":t.name||r.getFunctionNameFromString(e):null,this.calledFunctions=[],this.constants={},this.constantTypes={},this.constantBitRatios={},this.isRootKernel=!1,this.isSubKernel=!1,this.debug=null,this.functions=null,this.identifiers=null,this.contexts=null,this.functionCalls=null,this.states=[],this.needsArgumentType=null,this.assignArgumentType=null,this.lookupReturnType=null,this.lookupFunctionArgumentTypes=null,this.lookupFunctionArgumentBitRatio=null,this.triggerImplyArgumentType=null,this.triggerImplyArgumentBitRatio=null,this.onNestedFunction=null,this.onFunctionCall=null,this.optimizeFloatMemory=null,this.precision=null,this.loopMaxIterations=null,this.argumentNames="string"==typeof this.source?r.getArgumentNamesFromString(this.source):null,this.argumentTypes=[],this.argumentSizes=[],this.argumentBitRatios=null,this.returnType=null,this.output=[],this.plugins=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.dynamicOutput=null,this.dynamicArguments=null,this.strictTypingChecking=!1,this.fixIntegerDivisionAccuracy=null,t)for(var n in t)t.hasOwnProperty(n)&&this.hasOwnProperty(n)&&(this[n]=t[n]);this.literalTypes={},this.validate(),this._string=null,this._internalVariableNames={}}return o(e,[{key:"validate",value:function(){if("string"!=typeof this.source&&!this.ast)throw new Error("this.source not a string");if(!this.ast&&!r.isFunctionString(this.source))throw new Error("this.source not a function string");if(!this.name)throw new Error("this.name could not be set");if(this.argumentTypes.length>0&&this.argumentTypes.length!==this.argumentNames.length)throw new Error("argumentTypes count of ".concat(this.argumentTypes.length," exceeds ").concat(this.argumentNames.length));if(this.output.length<1)throw new Error("this.output is not big enough")}},{key:"isIdentifierConstant",value:function(e){return!!this.constants&&this.constants.hasOwnProperty(e)}},{key:"isInput",value:function(e){return"Input"===this.argumentTypes[this.argumentNames.indexOf(e)]}},{key:"pushState",value:function(e){this.states.push(e)}},{key:"popState",value:function(e){if(this.state!==e)throw new Error("Cannot popState ".concat(e," when in ").concat(this.state));this.states.pop()}},{key:"isState",value:function(e){return this.state===e}},{key:"state",get:function(){return this.states[this.states.length-1]}},{key:"astMemberExpressionUnroll",value:function(e){if("Identifier"===e.type)return e.name;if("ThisExpression"===e.type)return"this";if("MemberExpression"===e.type&&e.object&&e.property)return e.object.hasOwnProperty("name")&&"Math"!==e.object.name?this.astMemberExpressionUnroll(e.property):this.astMemberExpressionUnroll(e.object)+"."+this.astMemberExpressionUnroll(e.property);if(e.hasOwnProperty("expressions")){var t=e.expressions[0];if("Literal"===t.type&&0===t.value&&2===e.expressions.length)return this.astMemberExpressionUnroll(e.expressions[1])}throw this.astErrorOutput("Unknown astMemberExpressionUnroll",e)}},{key:"getJsAST",value:function(e){if(this.ast)return this.ast;if("object"===m(this.source))return this.traceFunctionAST(this.source),this.ast=this.source;if(null===(e=e||n))throw new Error("Missing JS to AST parser");var t=Object.freeze(e.parse("const parser_".concat(this.name," = ").concat(this.source,";"),{locations:!0})),r=t.body[0].declarations[0].init;if(this.traceFunctionAST(r),!t)throw new Error("Failed to parse JS code");return this.ast=r}},{key:"traceFunctionAST",value:function(e){var t=new i(e),n=t.declarations,r=t.functions,o=t.identifiers,s=t.functionCalls;this.contexts=t.contexts,this.identifiers=o,this.functionCalls=s,this.functions=r;for(var a=0;a<n.length;a++){var u=n[a],l=u.inForLoopInit,c=u.inForLoopTest,h=u.ast.init,p=this.getDependencies(h),f=null;if(l&&c)f="Integer";else if(h){var d=this.getType(h);switch(d){case"Integer":case"Float":case"Number":f="MemberExpression"===h.type?d:"Number";break;case"LiteralInteger":f="Number";break;default:f=d}}u.valueType=f,u.dependencies=p,u.isSafe=this.isSafeDependencies(p)}for(var m=0;m<r.length;m++)this.onNestedFunction(r[m],this.source)}},{key:"getDeclaration",value:function(e){for(var t=0;t<this.identifiers.length;t++){var n=this.identifiers[t];if(e===n.ast)return n.declaration}return null}},{key:"getVariableType",value:function(e){if("Identifier"!==e.type)throw new Error("ast of ".concat(e.type,' not "Identifier"'));var t=null,n=this.argumentNames.indexOf(e.name);if(-1===n){var r=this.getDeclaration(e);if(r)return r.valueType}else{var i=this.argumentTypes[n];i&&(t=i)}if(!t&&this.strictTypingChecking)throw new Error("Declaration of ".concat(name," not found"));return t}},{key:"getLookupType",value:function(e){if(!a.hasOwnProperty(e))throw new Error("unknown typeLookupMap ".concat(e));return a[e]}},{key:"getConstantType",value:function(e){if(this.constantTypes[e]){var t=this.constantTypes[e];return"Float"===t?"Number":t}throw new Error('Type for constant "'.concat(e,'" not declared'))}},{key:"toString",value:function(){return this._string?this._string:this._string=this.astGeneric(this.getJsAST(),[]).join("").trim()}},{key:"toJSON",value:function(){return{ast:this.ast,settings:{source:this.source,name:this.name,constants:this.constants,constantTypes:this.constantTypes,isRootKernel:this.isRootKernel,isSubKernel:this.isSubKernel,debug:this.debug,output:this.output,loopMaxIterations:this.loopMaxIterations,argumentNames:this.argumentNames,argumentTypes:this.argumentTypes,argumentSizes:this.argumentSizes,returnType:this.returnType,leadingReturnStatement:this.leadingReturnStatement,followingReturnStatement:this.followingReturnStatement}}}},{key:"getType",value:function(e){if(Array.isArray(e))return this.getType(e[e.length-1]);switch(e.type){case"BlockStatement":return this.getType(e.body);case"ArrayExpression":switch(this.getType(e.elements[0])){case"Array(2)":case"Array(3)":case"Array(4)":return"Matrix(".concat(e.elements.length,")")}return"Array(".concat(e.elements.length,")");case"Literal":var t=this.astKey(e);return this.literalTypes[t]?this.literalTypes[t]:Number.isInteger(e.value)?"LiteralInteger":!0===e.value||!1===e.value?"Boolean":"Number";case"AssignmentExpression":return this.getType(e.left);case"CallExpression":if(this.isAstMathFunction(e))return"Number";if(!e.callee||!e.callee.name){if("SequenceExpression"===e.callee.type&&e.callee.expressions[e.callee.expressions.length-1].property.name){var n=e.callee.expressions[e.callee.expressions.length-1].property.name;return this.inferArgumentTypesIfNeeded(n,e.arguments),this.lookupReturnType(n,e,this)}if("this.color"===this.getVariableSignature(e.callee,!0))return null;if("MemberExpression"===e.callee.type&&e.callee.object&&e.callee.property&&e.callee.property.name&&e.arguments){var r=e.callee.property.name;return this.inferArgumentTypesIfNeeded(r,e.arguments),this.lookupReturnType(r,e,this)}throw this.astErrorOutput("Unknown call expression",e)}if(e.callee&&e.callee.name){var i=e.callee.name;return this.inferArgumentTypesIfNeeded(i,e.arguments),this.lookupReturnType(i,e,this)}throw this.astErrorOutput('Unhandled getType Type "'.concat(e.type,'"'),e);case"LogicalExpression":return"Boolean";case"BinaryExpression":switch(e.operator){case"%":case"/":if(this.fixIntegerDivisionAccuracy)return"Number";break;case">":case"<":return"Boolean";case"&":case"|":case"^":case"<<":case">>":case">>>":return"Integer"}var o=this.getType(e.left);if(this.isState("skip-literal-correction"))return o;if("LiteralInteger"===o){var s=this.getType(e.right);return"LiteralInteger"===s?e.left.value%1==0?"Integer":"Float":s}return a[o]||o;case"UpdateExpression":case"ReturnStatement":return this.getType(e.argument);case"UnaryExpression":return"~"===e.operator?"Integer":this.getType(e.argument);case"VariableDeclaration":for(var u,l=e.declarations,c=0;c<l.length;c++)u=this.getType(l[c]);if(!u)throw this.astErrorOutput("Unable to find type for declaration",e);return u;case"VariableDeclarator":var h=this.getDeclaration(e.id);if(!h)throw this.astErrorOutput("Unable to find declarator",e);if(!h.valueType)throw this.astErrorOutput("Unable to find declarator valueType",e);return h.valueType;case"Identifier":if("Infinity"===e.name)return"Number";if(this.isAstVariable(e)&&"value"===this.getVariableSignature(e))return this.getCheckVariableType(e);var p=this.findIdentifierOrigin(e);return p&&p.init?this.getType(p.init):null;case"MemberExpression":if(this.isAstMathFunction(e)){switch(e.property.name){case"ceil":case"floor":case"round":return"Integer"}return"Number"}if(this.isAstVariable(e)){switch(this.getVariableSignature(e)){case"value[]":return this.getLookupType(this.getCheckVariableType(e.object));case"value[][]":return this.getLookupType(this.getCheckVariableType(e.object.object));case"value[][][]":return this.getLookupType(this.getCheckVariableType(e.object.object.object));case"value[][][][]":return this.getLookupType(this.getCheckVariableType(e.object.object.object.object));case"value.thread.value":case"this.thread.value":return"Integer";case"this.output.value":return this.dynamicOutput?"Integer":"LiteralInteger";case"this.constants.value":return this.getConstantType(e.property.name);case"this.constants.value[]":return this.getLookupType(this.getConstantType(e.object.property.name));case"this.constants.value[][]":return this.getLookupType(this.getConstantType(e.object.object.property.name));case"this.constants.value[][][]":return this.getLookupType(this.getConstantType(e.object.object.object.property.name));case"this.constants.value[][][][]":return this.getLookupType(this.getConstantType(e.object.object.object.object.property.name));case"fn()[]":case"fn()[][]":case"fn()[][][]":return this.getLookupType(this.getType(e.object));case"value.value":if(this.isAstMathVariable(e))return"Number";switch(e.property.name){case"r":case"g":case"b":case"a":return this.getLookupType(this.getCheckVariableType(e.object))}case"[][]":return"Number"}throw this.astErrorOutput("Unhandled getType MemberExpression",e)}throw this.astErrorOutput("Unhandled getType MemberExpression",e);case"ConditionalExpression":case"IfStatement":return this.getType(e.consequent);case"FunctionDeclaration":case"FunctionExpression":var f=this.findLastReturn(e.body);return f?this.getType(f):null;case"SequenceExpression":return this.getType(e.expressions[e.expressions.length-1]);default:throw this.astErrorOutput('Unhandled getType Type "'.concat(e.type,'"'),e)}}},{key:"getCheckVariableType",value:function(e){var t=this.getVariableType(e);if(!t)throw this.astErrorOutput("".concat(e.type," is not defined"),e);return t}},{key:"inferArgumentTypesIfNeeded",value:function(e,t){for(var n=0;n<t.length;n++)if(this.needsArgumentType(e,n)){var r=this.getType(t[n]);if(!r)throw this.astErrorOutput("Unable to infer argument ".concat(n),t[n]);this.assignArgumentType(e,n,r)}}},{key:"isAstMathVariable",value:function(e){return"MemberExpression"===e.type&&e.object&&"Identifier"===e.object.type&&"Math"===e.object.name&&e.property&&"Identifier"===e.property.type&&["E","PI","SQRT2","SQRT1_2","LN2","LN10","LOG2E","LOG10E"].indexOf(e.property.name)>-1}},{key:"isAstMathFunction",value:function(e){return"CallExpression"===e.type&&e.callee&&"MemberExpression"===e.callee.type&&e.callee.object&&"Identifier"===e.callee.object.type&&"Math"===e.callee.object.name&&e.callee.property&&"Identifier"===e.callee.property.type&&["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","expm1","exp","floor","fround","imul","log","log2","log10","log1p","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc"].indexOf(e.callee.property.name)>-1}},{key:"isAstVariable",value:function(e){return"Identifier"===e.type||"MemberExpression"===e.type}},{key:"isSafe",value:function(e){return this.isSafeDependencies(this.getDependencies(e))}},{key:"isSafeDependencies",value:function(e){return!e||!e.every||e.every((function(e){return e.isSafe}))}},{key:"getDependencies",value:function(e,t,n){if(t||(t=[]),!e)return null;if(Array.isArray(e)){for(var r=0;r<e.length;r++)this.getDependencies(e[r],t,n);return t}switch(e.type){case"AssignmentExpression":return this.getDependencies(e.left,t,n),this.getDependencies(e.right,t,n),t;case"ConditionalExpression":return this.getDependencies(e.test,t,n),this.getDependencies(e.alternate,t,n),this.getDependencies(e.consequent,t,n),t;case"Literal":t.push({origin:"literal",value:e.value,isSafe:!0!==n&&e.value>-1/0&&e.value<1/0&&!isNaN(e.value)});break;case"VariableDeclarator":return this.getDependencies(e.init,t,n);case"Identifier":var i=this.getDeclaration(e);if(i)t.push({name:e.name,origin:"declaration",isSafe:!n&&this.isSafeDependencies(i.dependencies)});else if(this.argumentNames.indexOf(e.name)>-1)t.push({name:e.name,origin:"argument",isSafe:!1});else if(this.strictTypingChecking)throw new Error('Cannot find identifier origin "'.concat(e.name,'"'));break;case"FunctionDeclaration":return this.getDependencies(e.body.body[e.body.body.length-1],t,n);case"ReturnStatement":return this.getDependencies(e.argument,t);case"BinaryExpression":case"LogicalExpression":return this.getDependencies(e.left,t,n="/"===e.operator||"*"===e.operator),this.getDependencies(e.right,t,n),t;case"UnaryExpression":case"UpdateExpression":return this.getDependencies(e.argument,t,n);case"VariableDeclaration":return this.getDependencies(e.declarations,t,n);case"ArrayExpression":return t.push({origin:"declaration",isSafe:!0}),t;case"CallExpression":return t.push({origin:"function",isSafe:!0}),t;case"MemberExpression":var o=this.getMemberExpressionDetails(e);switch(o.signature){case"value[]":this.getDependencies(e.object,t,n);break;case"value[][]":this.getDependencies(e.object.object,t,n);break;case"value[][][]":this.getDependencies(e.object.object.object,t,n);break;case"this.output.value":this.dynamicOutput&&t.push({name:o.name,origin:"output",isSafe:!1})}if(o)return o.property&&this.getDependencies(o.property,t,n),o.xProperty&&this.getDependencies(o.xProperty,t,n),o.yProperty&&this.getDependencies(o.yProperty,t,n),o.zProperty&&this.getDependencies(o.zProperty,t,n),t;case"SequenceExpression":return this.getDependencies(e.expressions,t,n);default:throw this.astErrorOutput("Unhandled type ".concat(e.type," in getDependencies"),e)}return t}},{key:"getVariableSignature",value:function(e,t){if(!this.isAstVariable(e))throw new Error('ast of type "'.concat(e.type,'" is not a variable signature'));if("Identifier"===e.type)return"value";for(var n=[];e;)e.computed?n.push("[]"):n.unshift("ThisExpression"===e.type?"this":e.property&&e.property.name?"x"===e.property.name||"y"===e.property.name||"z"===e.property.name?t?"."+e.property.name:".value":"constants"===e.property.name||"thread"===e.property.name||"output"===e.property.name||t?"."+e.property.name:".value":e.name?t?e.name:"value":e.callee&&e.callee.name?t?e.callee.name+"()":"fn()":e.elements?"[]":"unknown"),e=e.object;var r=n.join("");return t||["value","value[]","value[][]","value[][][]","value[][][][]","value.value","value.thread.value","this.thread.value","this.output.value","this.constants.value","this.constants.value[]","this.constants.value[][]","this.constants.value[][][]","this.constants.value[][][][]","fn()[]","fn()[][]","fn()[][][]","[][]"].indexOf(r)>-1?r:null}},{key:"build",value:function(){return this.toString().length>0}},{key:"astGeneric",value:function(e,t){if(null===e)throw this.astErrorOutput("NULL ast",e);if(Array.isArray(e)){for(var n=0;n<e.length;n++)this.astGeneric(e[n],t);return t}switch(e.type){case"FunctionDeclaration":return this.astFunctionDeclaration(e,t);case"FunctionExpression":return this.astFunctionExpression(e,t);case"ReturnStatement":return this.astReturnStatement(e,t);case"Literal":return this.astLiteral(e,t);case"BinaryExpression":return this.astBinaryExpression(e,t);case"Identifier":return this.astIdentifierExpression(e,t);case"AssignmentExpression":return this.astAssignmentExpression(e,t);case"ExpressionStatement":return this.astExpressionStatement(e,t);case"EmptyStatement":return this.astEmptyStatement(e,t);case"BlockStatement":return this.astBlockStatement(e,t);case"IfStatement":return this.astIfStatement(e,t);case"SwitchStatement":return this.astSwitchStatement(e,t);case"BreakStatement":return this.astBreakStatement(e,t);case"ContinueStatement":return this.astContinueStatement(e,t);case"ForStatement":return this.astForStatement(e,t);case"WhileStatement":return this.astWhileStatement(e,t);case"DoWhileStatement":return this.astDoWhileStatement(e,t);case"VariableDeclaration":return this.astVariableDeclaration(e,t);case"VariableDeclarator":return this.astVariableDeclarator(e,t);case"ThisExpression":return this.astThisExpression(e,t);case"SequenceExpression":return this.astSequenceExpression(e,t);case"UnaryExpression":return this.astUnaryExpression(e,t);case"UpdateExpression":return this.astUpdateExpression(e,t);case"LogicalExpression":return this.astLogicalExpression(e,t);case"MemberExpression":return this.astMemberExpression(e,t);case"CallExpression":return this.astCallExpression(e,t);case"ArrayExpression":return this.astArrayExpression(e,t);case"DebuggerStatement":return this.astDebuggerStatement(e,t);case"ConditionalExpression":return this.astConditionalExpression(e,t)}throw this.astErrorOutput("Unknown ast type : "+e.type,e)}},{key:"astErrorOutput",value:function(e,t){if("string"!=typeof this.source)return new Error(e);var n=r.getAstString(this.source,t),i=this.source.substr(t.start).split(/\n/),o=i.length>0?i[i.length-1]:0;return new Error("".concat(e," on line ").concat(i.length,", position ").concat(o.length,":\n ").concat(n))}},{key:"astDebuggerStatement",value:function(e,t){return t}},{key:"astConditionalExpression",value:function(e,t){if("ConditionalExpression"!==e.type)throw this.astErrorOutput("Not a conditional expression",e);return t.push("("),this.astGeneric(e.test,t),t.push("?"),this.astGeneric(e.consequent,t),t.push(":"),this.astGeneric(e.alternate,t),t.push(")"),t}},{key:"astFunction",value:function(){throw new Error('"astFunction" not defined on '.concat(this.constructor.name))}},{key:"astFunctionDeclaration",value:function(e,t){return this.isChildFunction(e)?t:this.astFunction(e,t)}},{key:"astFunctionExpression",value:function(e,t){return this.isChildFunction(e)?t:this.astFunction(e,t)}},{key:"isChildFunction",value:function(e){for(var t=0;t<this.functions.length;t++)if(this.functions[t]===e)return!0;return!1}},{key:"astReturnStatement",value:function(e,t){return t}},{key:"astLiteral",value:function(e,t){return this.literalTypes[this.astKey(e)]="Number",t}},{key:"astBinaryExpression",value:function(e,t){return t}},{key:"astIdentifierExpression",value:function(e,t){return t}},{key:"astAssignmentExpression",value:function(e,t){return t}},{key:"astExpressionStatement",value:function(e,t){return this.astGeneric(e.expression,t),t.push(";"),t}},{key:"astEmptyStatement",value:function(e,t){return t}},{key:"astBlockStatement",value:function(e,t){return t}},{key:"astIfStatement",value:function(e,t){return t}},{key:"astSwitchStatement",value:function(e,t){return t}},{key:"astBreakStatement",value:function(e,t){return t.push("break;"),t}},{key:"astContinueStatement",value:function(e,t){return t.push("continue;\n"),t}},{key:"astForStatement",value:function(e,t){return t}},{key:"astWhileStatement",value:function(e,t){return t}},{key:"astDoWhileStatement",value:function(e,t){return t}},{key:"astVariableDeclarator",value:function(e,t){return this.astGeneric(e.id,t),null!==e.init&&(t.push("="),this.astGeneric(e.init,t)),t}},{key:"astThisExpression",value:function(e,t){return t}},{key:"astSequenceExpression",value:function(e,t){for(var n=e.expressions,r=[],i=0;i<n.length;i++){var o=[];this.astGeneric(n[i],o),r.push(o.join(""))}return r.length>1?t.push("(",r.join(","),")"):t.push(r[0]),t}},{key:"astUnaryExpression",value:function(e,t){return this.checkAndUpconvertBitwiseUnary(e,t)||(e.prefix?(t.push(e.operator),this.astGeneric(e.argument,t)):(this.astGeneric(e.argument,t),t.push(e.operator))),t}},{key:"checkAndUpconvertBitwiseUnary",value:function(){}},{key:"astUpdateExpression",value:function(e,t){return e.prefix?(t.push(e.operator),this.astGeneric(e.argument,t)):(this.astGeneric(e.argument,t),t.push(e.operator)),t}},{key:"astLogicalExpression",value:function(e,t){return t.push("("),this.astGeneric(e.left,t),t.push(e.operator),this.astGeneric(e.right,t),t.push(")"),t}},{key:"astMemberExpression",value:function(e,t){return t}},{key:"astCallExpression",value:function(e,t){return t}},{key:"astArrayExpression",value:function(e,t){return t}},{key:"getMemberExpressionDetails",value:function(e){if("MemberExpression"!==e.type)throw this.astErrorOutput("Expression ".concat(e.type," not a MemberExpression"),e);var t=null,n=null,r=this.getVariableSignature(e);switch(r){case"value":return null;case"value.thread.value":case"this.thread.value":case"this.output.value":return{signature:r,type:"Integer",name:e.property.name};case"value[]":if("string"!=typeof e.object.name)throw this.astErrorOutput("Unexpected expression",e);return{name:t=e.object.name,origin:"user",signature:r,type:this.getVariableType(e.object),xProperty:e.property};case"value[][]":if("string"!=typeof e.object.object.name)throw this.astErrorOutput("Unexpected expression",e);return{name:t=e.object.object.name,origin:"user",signature:r,type:this.getVariableType(e.object.object),yProperty:e.object.property,xProperty:e.property};case"value[][][]":if("string"!=typeof e.object.object.object.name)throw this.astErrorOutput("Unexpected expression",e);return{name:t=e.object.object.object.name,origin:"user",signature:r,type:this.getVariableType(e.object.object.object),zProperty:e.object.object.property,yProperty:e.object.property,xProperty:e.property};case"value[][][][]":if("string"!=typeof e.object.object.object.object.name)throw this.astErrorOutput("Unexpected expression",e);return{name:t=e.object.object.object.object.name,origin:"user",signature:r,type:this.getVariableType(e.object.object.object.object),zProperty:e.object.object.property,yProperty:e.object.property,xProperty:e.property};case"value.value":if("string"!=typeof e.property.name)throw this.astErrorOutput("Unexpected expression",e);if(this.isAstMathVariable(e))return{name:t=e.property.name,origin:"Math",type:"Number",signature:r};switch(e.property.name){case"r":case"g":case"b":case"a":return{name:t=e.object.name,property:e.property.name,origin:"user",signature:r,type:"Number"};default:throw this.astErrorOutput("Unexpected expression",e)}case"this.constants.value":if("string"!=typeof e.property.name)throw this.astErrorOutput("Unexpected expression",e);if(!(n=this.getConstantType(t=e.property.name)))throw this.astErrorOutput("Constant has no type",e);return{name:t,type:n,origin:"constants",signature:r};case"this.constants.value[]":if("string"!=typeof e.object.property.name)throw this.astErrorOutput("Unexpected expression",e);if(!(n=this.getConstantType(t=e.object.property.name)))throw this.astErrorOutput("Constant has no type",e);return{name:t,type:n,origin:"constants",signature:r,xProperty:e.property};case"this.constants.value[][]":if("string"!=typeof e.object.object.property.name)throw this.astErrorOutput("Unexpected expression",e);if(!(n=this.getConstantType(t=e.object.object.property.name)))throw this.astErrorOutput("Constant has no type",e);return{name:t,type:n,origin:"constants",signature:r,yProperty:e.object.property,xProperty:e.property};case"this.constants.value[][][]":if("string"!=typeof e.object.object.object.property.name)throw this.astErrorOutput("Unexpected expression",e);if(!(n=this.getConstantType(t=e.object.object.object.property.name)))throw this.astErrorOutput("Constant has no type",e);return{name:t,type:n,origin:"constants",signature:r,zProperty:e.object.object.property,yProperty:e.object.property,xProperty:e.property};case"fn()[]":case"fn()[][]":case"[][]":return{signature:r,property:e.property};default:throw this.astErrorOutput("Unexpected expression",e)}}},{key:"findIdentifierOrigin",value:function(e){for(var t=[this.ast];t.length>0;){var n=t[0];if("VariableDeclarator"===n.type&&n.id&&n.id.name&&n.id.name===e.name)return n;if(t.shift(),n.argument)t.push(n.argument);else if(n.body)t.push(n.body);else if(n.declarations)t.push(n.declarations);else if(Array.isArray(n))for(var r=0;r<n.length;r++)t.push(n[r])}return null}},{key:"findLastReturn",value:function(e){for(var t=[e||this.ast];t.length>0;){var n=t.pop();if("ReturnStatement"===n.type)return n;if("FunctionDeclaration"!==n.type)if(n.argument)t.push(n.argument);else if(n.body)t.push(n.body);else if(n.declarations)t.push(n.declarations);else if(Array.isArray(n))for(var r=0;r<n.length;r++)t.push(n[r]);else n.consequent?t.push(n.consequent):n.cases&&t.push(n.cases)}return null}},{key:"getInternalVariableName",value:function(e){return this._internalVariableNames.hasOwnProperty(e)||(this._internalVariableNames[e]=0),this._internalVariableNames[e]++,1===this._internalVariableNames[e]?e:e+this._internalVariableNames[e]}},{key:"astKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";if(!e.start||!e.end)throw new Error("AST start and end needed");return"".concat(e.start).concat(t).concat(e.end)}}]),e}(),a={Number:"Number",Float:"Float",Integer:"Integer",Array:"Number","Array(2)":"Number","Array(3)":"Number","Array(4)":"Number","Matrix(2)":"Number","Matrix(3)":"Number","Matrix(4)":"Number",Array2D:"Number",Array3D:"Number",Input:"Number",HTMLCanvas:"Array(4)",HTMLImage:"Array(4)",HTMLVideo:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number",MemoryOptimizedNumberTexture:"Number","Array1D(2)":"Array(2)","Array1D(3)":"Array(3)","Array1D(4)":"Array(4)","Array2D(2)":"Array(2)","Array2D(3)":"Array(3)","Array2D(4)":"Array(4)","Array3D(2)":"Array(2)","Array3D(3)":"Array(3)","Array3D(4)":"Array(4)","ArrayTexture(1)":"Number","ArrayTexture(2)":"Array(2)","ArrayTexture(3)":"Array(3)","ArrayTexture(4)":"Array(4)"};t.exports={FunctionNode:s}},{"../utils":114,"./function-tracer":11,acorn:1}],11:[function(e,t){function r(e){return e.length>0?e[e.length-1]:null}var i=e("../utils").utils,s="trackIdentifiers",a="memberExpression",u="inForLoopInit";t.exports={FunctionTracer:function(){function e(e){this.runningContexts=[],this.functionContexts=[],this.contexts=[],this.functionCalls=[],this.declarations=[],this.identifiers=[],this.functions=[],this.returnStatements=[],this.trackedIdentifiers=null,this.states=[],this.newFunctionContext(),this.scan(e)}return o(e,[{key:"isState",value:function(e){return this.states[this.states.length-1]===e}},{key:"hasState",value:function(e){return this.states.indexOf(e)>-1}},{key:"pushState",value:function(e){this.states.push(e)}},{key:"popState",value:function(e){if(!this.isState(e))throw new Error('Cannot pop the non-active state "'.concat(e,'"'));this.states.pop()}},{key:"currentFunctionContext",get:function(){return r(this.functionContexts)}},{key:"currentContext",get:function(){return r(this.runningContexts)}},{key:"newFunctionContext",value:function(){var e={"@contextType":"function"};this.contexts.push(e),this.functionContexts.push(e)}},{key:"newContext",value:function(e){var t=n({"@contextType":"const/let"},this.currentContext);this.contexts.push(t),this.runningContexts.push(t),e();var r=this.currentFunctionContext;for(var i in r)r.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=r[i]);return this.runningContexts.pop(),t}},{key:"useFunctionContext",value:function(e){var t=r(this.functionContexts);this.runningContexts.push(t),e(),this.runningContexts.pop()}},{key:"getIdentifiers",value:function(e){var t=this.trackedIdentifiers=[];return this.pushState(s),e(),this.trackedIdentifiers=null,this.popState(s),t}},{key:"getDeclaration",value:function(e){var t=this.currentContext,n=this.currentFunctionContext,r=this.runningContexts,i=t[e]||n[e]||null;if(!i&&t===n&&r.length>0){var o=r[r.length-2];if(o[e])return o[e]}return i}},{key:"scan",value:function(e){var t=this;if(e)if(Array.isArray(e))for(var n=0;n<e.length;n++)this.scan(e[n]);else switch(e.type){case"Program":this.useFunctionContext((function(){t.scan(e.body)}));break;case"BlockStatement":this.newContext((function(){t.scan(e.body)}));break;case"AssignmentExpression":case"LogicalExpression":case"BinaryExpression":this.scan(e.left),this.scan(e.right);break;case"UpdateExpression":if("++"===e.operator){var r=this.getDeclaration(e.argument.name);r&&(r.suggestedType="Integer")}this.scan(e.argument);break;case"UnaryExpression":this.scan(e.argument);break;case"VariableDeclaration":"var"===e.kind?this.useFunctionContext((function(){e.declarations=i.normalizeDeclarations(e),t.scan(e.declarations)})):(e.declarations=i.normalizeDeclarations(e),this.scan(e.declarations));break;case"VariableDeclarator":var o=this.currentContext,l=this.hasState(u),c={ast:e,context:o,name:e.id.name,origin:"declaration",inForLoopInit:l,inForLoopTest:null,assignable:o===this.currentFunctionContext||!l&&!o.hasOwnProperty(e.id.name),suggestedType:null,valueType:null,dependencies:null,isSafe:null};o[e.id.name]||(o[e.id.name]=c),this.declarations.push(c),this.scan(e.id),this.scan(e.init);break;case"FunctionExpression":case"FunctionDeclaration":0===this.runningContexts.length?this.scan(e.body):this.functions.push(e);break;case"IfStatement":this.scan(e.test),this.scan(e.consequent),e.alternate&&this.scan(e.alternate);break;case"ForStatement":var h,p=this.newContext((function(){t.pushState(u),t.scan(e.init),t.popState(u),h=t.getIdentifiers((function(){t.scan(e.test)})),t.scan(e.update),t.newContext((function(){t.scan(e.body)}))}));if(h)for(var f in p)"@contextType"!==f&&h.indexOf(f)>-1&&(p[f].inForLoopTest=!0);break;case"DoWhileStatement":case"WhileStatement":this.newContext((function(){t.scan(e.body),t.scan(e.test)}));break;case"Identifier":this.isState(s)&&this.trackedIdentifiers.push(e.name),this.identifiers.push({context:this.currentContext,declaration:this.getDeclaration(e.name),ast:e});break;case"ReturnStatement":this.returnStatements.push(e),this.scan(e.argument);break;case"MemberExpression":this.pushState(a),this.scan(e.object),this.scan(e.property),this.popState(a);break;case"ExpressionStatement":this.scan(e.expression);break;case"SequenceExpression":this.scan(e.expressions);break;case"CallExpression":this.functionCalls.push({context:this.currentContext,ast:e}),this.scan(e.arguments);break;case"ArrayExpression":this.scan(e.elements);break;case"ConditionalExpression":this.scan(e.test),this.scan(e.alternate),this.scan(e.consequent);break;case"SwitchStatement":this.scan(e.discriminant),this.scan(e.cases);break;case"SwitchCase":this.scan(e.test),this.scan(e.consequent);break;case"ThisExpression":case"Literal":case"DebuggerStatement":case"EmptyStatement":case"BreakStatement":case"ContinueStatement":break;default:throw new Error('unhandled type "'.concat(e.type,'"'))}}}]),e}()}},{"../utils":114}],12:[function(e,t){function n(e){return e.toString().replace("=>","").replace(/^function /,"").replace(/utils[.]/g,"/*utils.*/")}function r(e,t){var n="single"===t.precision?e:"new Float32Array(".concat(e,".buffer)");return t.output[2]?"renderOutput(".concat(n,", ").concat(t.output[0],", ").concat(t.output[1],", ").concat(t.output[2],")"):t.output[1]?"renderOutput(".concat(n,", ").concat(t.output[0],", ").concat(t.output[1],")"):"renderOutput(".concat(n,", ").concat(t.output[0],")")}function i(e,t,n){var r=e.toArray.toString(),i=!/^function/.test(r),o=a.flattenFunctionToString("".concat(i?"function ":"").concat(r),{findDependency:function(t,n){if("utils"===t)return"const ".concat(n," = ").concat(a[n].toString(),";");if("this"===t)return"framebuffer"===n?"":"".concat(i?"function ":"").concat(e[n].toString());throw new Error("unhandled fromObject")},thisLookup:function(n,r){if("texture"===n)return t;if("context"===n)return r?null:"gl";if(e.hasOwnProperty(n))return JSON.stringify(e[n]);throw new Error("unhandled thisLookup ".concat(n))}});return"() => {\n  function framebuffer() { return ".concat(n,"; };\n  ").concat(o,"\n  return toArray();\n  }")}function o(e,t,n,r){if(null===e)return null;if(null===t)return null;switch(m(e)){case"boolean":case"number":return null}if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)for(var i=0;i<t.length;i++){var o=t[i];if(("HTMLImageArray"===o.type||!o)&&o.uploadValue===e){var s=n[i].indexOf(e);if(-1!==s){var a="uploadValue_".concat(o.name,"[").concat(s,"]");return r.insertVariable(a,e),a}}}for(var u=0;u<t.length;u++){var l=t[u];if(e===l.uploadValue){var c="uploadValue_".concat(l.name);return r.insertVariable(c,l),c}}return null}var s=e("gl-wiretap").glWiretap,a=e("../../utils").utils;t.exports={glKernelString:function(e,t,u,l,c){u.built||u.build.apply(u,t),t=t?Array.from(t).map((function(e){switch(m(e)){case"boolean":return new Boolean(e);case"number":return new Number(e);default:return e}})):null;var h=[],p=s(u.context,{useTrackablePrimitives:!0,onReadPixels:function(e){if(v.subKernels){if(f){var t=v.subKernels[d++].property;h.push("    result".concat(isNaN(t)?"."+t:"[".concat(t,"]")," = ").concat(r(e,v),";"))}else h.push("    const result = { result: ".concat(r(e,v)," };")),f=!0;d===v.subKernels.length&&h.push("    return result;")}else h.push(e?"    return ".concat(r(e,v),";"):"    return null;")},onUnrecognizedArgumentLookup:function(e){var t=o(e,v.kernelArguments,[],p);if(t)return t;var n=o(e,v.kernelConstants,g?Object.keys(g).map((function(e){return g[e]})):[],p);return n||null}}),f=!1,d=0,g=u.constants,y=u.kernelConstants,v=new e(u.source,{canvas:u.canvas,context:p,checkContext:!1,output:u.output,pipeline:u.pipeline,graphical:u.graphical,loopMaxIterations:u.loopMaxIterations,constants:g,optimizeFloatMemory:u.optimizeFloatMemory,precision:u.precision,fixIntegerDivisionAccuracy:u.fixIntegerDivisionAccuracy,functions:u.functions,nativeFunctions:u.nativeFunctions,subKernels:u.subKernels,immutable:u.immutable,argumentTypes:u.argumentTypes,constantTypes:u.constantTypes,tactic:u.tactic}),b=[];if(p.setIndent(2),v.build.apply(v,t),b.push(p.toString()),p.reset(),v.kernelArguments.forEach((function(e,n){switch(e.type){case"Integer":case"Boolean":case"Number":case"Float":case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":case"Input":p.insertVariable("uploadValue_".concat(e.name),e.uploadValue);break;case"HTMLImageArray":for(var r=0;r<t[n].length;r++){var i=t[n];p.insertVariable("uploadValue_".concat(e.name,"[").concat(r,"]"),i[r])}break;case"MemoryOptimizedNumberTexture":case"NumberTexture":case"Array1D(2)":case"Array1D(3)":case"Array1D(4)":case"Array2D(2)":case"Array2D(3)":case"Array2D(4)":case"Array3D(2)":case"Array3D(3)":case"Array3D(4)":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":p.insertVariable("uploadValue_".concat(e.name),t[n].texture);break;default:throw new Error("unhandled kernelArgumentType insertion for glWiretap of type ".concat(e.type))}})),b.push("/** start of injected functions **/"),b.push("function ".concat(n(a.flattenTo))),b.push("function ".concat(n(a.flatten2dArrayTo))),b.push("function ".concat(n(a.flatten3dArrayTo))),b.push("function ".concat(n(a.flatten4dArrayTo))),b.push("function ".concat(n(a.isArray))),v.renderOutput!==v.renderTexture&&v.formatValues&&b.push("  const renderOutput = function ".concat(n(v.formatValues),";")),b.push("/** end of injected functions **/"),b.push("  const innerKernel = function (".concat(v.kernelArguments.map((function(e){return e.varName})).join(", "),") {")),p.setIndent(4),v.run.apply(v,t),v.renderKernels?v.renderKernels():v.renderOutput&&v.renderOutput(),b.push("    /** start setup uploads for kernel values **/"),v.kernelArguments.forEach((function(e){b.push("    "+e.getStringValueHandler().split("\n").join("\n    "))})),b.push("    /** end setup uploads for kernel values **/"),b.push(p.toString()),v.renderOutput===v.renderTexture){p.reset();var x=p.getContextVariableName(v.framebuffer);if(v.renderKernels){var w=v.renderKernels(),_=p.getContextVariableName(v.texture.texture);b.push("    return {\n      result: {\n        texture: ".concat(_,",\n        type: '").concat(w.result.type,"',\n        toArray: ").concat(i(w.result,_,x),"\n      },"));for(var S=v.subKernels,k=v.mappedTextures,T=0;T<S.length;T++){var A=S[T],E=w[A.property],C=p.getContextVariableName(k[T].texture);b.push("\n      ".concat(A.property,": {\n        texture: ").concat(C,",\n        type: '").concat(E.type,"',\n        toArray: ").concat(i(E,C,x),"\n      },"))}b.push("    };")}else{var L=v.renderOutput(),I=p.getContextVariableName(v.texture.texture);b.push("    return {\n        texture: ".concat(I,",\n        type: '").concat(L.type,"',\n        toArray: ").concat(i(L,I,x),"\n      };"))}}b.push("    ".concat(c?"\n"+c+"    ":"")),b.push(h.join("\n")),b.push("  };"),v.graphical&&(b.push(function(e){var t=e.getPixels.toString(),n=!/^function/.test(t);return a.flattenFunctionToString("".concat(n?"function ":"").concat(t),{findDependency:function(e,t){return"utils"===e?"const ".concat(t," = ").concat(a[t].toString(),";"):null},thisLookup:function(t){if("context"===t)return null;if(e.hasOwnProperty(t))return JSON.stringify(e[t]);throw new Error("unhandled thisLookup ".concat(t))}})}(v)),b.push("  innerKernel.getPixels = getPixels;")),b.push("  return innerKernel;");var R=[];return y.forEach((function(e){R.push("".concat(e.getStringValueHandler()))})),"function kernel(settings) {\n  const { context, constants } = settings;\n  ".concat(R.join(""),"\n  ").concat(l||"","\n").concat(b.join("\n"),"\n}")}}},{"../../utils":114,"gl-wiretap":3}],13:[function(e,t){var n=e("../kernel").Kernel,r=e("../../utils").utils,i=e("./texture/array-2-float").GLTextureArray2Float,s=e("./texture/array-2-float-2d").GLTextureArray2Float2D,u=e("./texture/array-2-float-3d").GLTextureArray2Float3D,c=e("./texture/array-3-float").GLTextureArray3Float,h=e("./texture/array-3-float-2d").GLTextureArray3Float2D,p=e("./texture/array-3-float-3d").GLTextureArray3Float3D,d=e("./texture/array-4-float").GLTextureArray4Float,m=e("./texture/array-4-float-2d").GLTextureArray4Float2D,g=e("./texture/array-4-float-3d").GLTextureArray4Float3D,y=e("./texture/float").GLTextureFloat,v=e("./texture/float-2d").GLTextureFloat2D,b=e("./texture/float-3d").GLTextureFloat3D,x=e("./texture/memory-optimized").GLTextureMemoryOptimized,w=e("./texture/memory-optimized-2d").GLTextureMemoryOptimized2D,_=e("./texture/memory-optimized-3d").GLTextureMemoryOptimized3D,S=e("./texture/unsigned").GLTextureUnsigned,k=e("./texture/unsigned-2d").GLTextureUnsigned2D,T=e("./texture/unsigned-3d").GLTextureUnsigned3D,A=e("./texture/graphical").GLTextureGraphical,E=function(e){function t(e,t){var r;return(r=n.call(this,e,t)).transferValues=null,r.formatValues=null,r.TextureConstructor=null,r.renderOutput=null,r.renderRawOutput=null,r.texSize=null,r.translatedSource=null,r.compiledFragmentShader=null,r.compiledVertexShader=null,r.switchingKernels=null,r._textureSwitched=null,r._mappedTextureSwitched=null,r}a(t,e);var n=l(t);return o(t,[{key:"setFixIntegerDivisionAccuracy",value:function(e){return this.fixIntegerDivisionAccuracy=e,this}},{key:"setPrecision",value:function(e){return this.precision=e,this}},{key:"setFloatTextures",value:function(e){return r.warnDeprecated("method","setFloatTextures","setOptimizeFloatMemory"),this.floatTextures=e,this}},{key:"checkTextureSize",value:function(){var e=this.constructor.features;if(this.texSize[0]>e.maxTextureSize||this.texSize[1]>e.maxTextureSize)throw new Error("Texture size [".concat(this.texSize[0],",").concat(this.texSize[1],"] generated by kernel is larger than supported size [").concat(e.maxTextureSize,",").concat(e.maxTextureSize,"]"))}},{key:"translateSource",value:function(){throw new Error('"translateSource" not defined on '.concat(this.constructor.name))}},{key:"pickRenderStrategy",value:function(e){if(this.graphical)return this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=function(e){return e},this.TextureConstructor=A,null;if("unsigned"===this.precision)if(this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=this.readPackedPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,null!==this.subKernels&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=T,null):this.output[1]>0?(this.TextureConstructor=k,null):(this.TextureConstructor=S,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(e)}else switch(null!==this.subKernels&&(this.renderKernels=this.renderKernelsToArrays),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.renderOutput=this.renderValues,this.output[2]>0?(this.TextureConstructor=T,this.formatValues=r.erect3DPackedFloat,null):this.output[1]>0?(this.TextureConstructor=k,this.formatValues=r.erect2DPackedFloat,null):(this.TextureConstructor=S,this.formatValues=r.erectPackedFloat,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(e)}else{if("single"!==this.precision)throw new Error('unhandled precision of "'.concat(this.precision,'"'));if(this.renderRawOutput=this.readFloatPixelsToFloat32Array,this.transferValues=this.readFloatPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,null!==this.subKernels&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.optimizeFloatMemory?this.output[2]>0?(this.TextureConstructor=_,null):this.output[1]>0?(this.TextureConstructor=w,null):(this.TextureConstructor=x,null):this.output[2]>0?(this.TextureConstructor=b,null):this.output[1]>0?(this.TextureConstructor=v,null):(this.TextureConstructor=y,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=u,null):this.output[1]>0?(this.TextureConstructor=s,null):(this.TextureConstructor=i,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=p,null):this.output[1]>0?(this.TextureConstructor=h,null):(this.TextureConstructor=c,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=g,null):this.output[1]>0?(this.TextureConstructor=m,null):(this.TextureConstructor=d,null)}if(this.renderOutput=this.renderValues,null!==this.subKernels&&(this.renderKernels=this.renderKernelsToArrays),this.optimizeFloatMemory)switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=_,this.formatValues=r.erectMemoryOptimized3DFloat,null):this.output[1]>0?(this.TextureConstructor=w,this.formatValues=r.erectMemoryOptimized2DFloat,null):(this.TextureConstructor=x,this.formatValues=r.erectMemoryOptimizedFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=u,this.formatValues=r.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=s,this.formatValues=r.erect2DArray2,null):(this.TextureConstructor=i,this.formatValues=r.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=p,this.formatValues=r.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=h,this.formatValues=r.erect2DArray3,null):(this.TextureConstructor=c,this.formatValues=r.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=g,this.formatValues=r.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=m,this.formatValues=r.erect2DArray4,null):(this.TextureConstructor=d,this.formatValues=r.erectArray4,null)}else switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=b,this.formatValues=r.erect3DFloat,null):this.output[1]>0?(this.TextureConstructor=v,this.formatValues=r.erect2DFloat,null):(this.TextureConstructor=y,this.formatValues=r.erectFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=u,this.formatValues=r.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=s,this.formatValues=r.erect2DArray2,null):(this.TextureConstructor=i,this.formatValues=r.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=p,this.formatValues=r.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=h,this.formatValues=r.erect2DArray3,null):(this.TextureConstructor=c,this.formatValues=r.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=g,this.formatValues=r.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=m,this.formatValues=r.erect2DArray4,null):(this.TextureConstructor=d,this.formatValues=r.erectArray4,null)}}throw new Error('unhandled return type "'.concat(this.returnType,'"'))}},{key:"getKernelString",value:function(){throw new Error("abstract method call")}},{key:"getMainResultTexture",value:function(){switch(this.returnType){case"LiteralInteger":case"Float":case"Integer":case"Number":return this.getMainResultNumberTexture();case"Array(2)":return this.getMainResultArray2Texture();case"Array(3)":return this.getMainResultArray3Texture();case"Array(4)":return this.getMainResultArray4Texture();default:throw new Error("unhandled returnType type ".concat(this.returnType))}}},{key:"getMainResultKernelNumberTexture",value:function(){throw new Error("abstract method call")}},{key:"getMainResultSubKernelNumberTexture",value:function(){throw new Error("abstract method call")}},{key:"getMainResultKernelArray2Texture",value:function(){throw new Error("abstract method call")}},{key:"getMainResultSubKernelArray2Texture",value:function(){throw new Error("abstract method call")}},{key:"getMainResultKernelArray3Texture",value:function(){throw new Error("abstract method call")}},{key:"getMainResultSubKernelArray3Texture",value:function(){throw new Error("abstract method call")}},{key:"getMainResultKernelArray4Texture",value:function(){throw new Error("abstract method call")}},{key:"getMainResultSubKernelArray4Texture",value:function(){throw new Error("abstract method call")}},{key:"getMainResultGraphical",value:function(){throw new Error("abstract method call")}},{key:"getMainResultMemoryOptimizedFloats",value:function(){throw new Error("abstract method call")}},{key:"getMainResultPackedPixels",value:function(){throw new Error("abstract method call")}},{key:"getMainResultString",value:function(){return this.graphical?this.getMainResultGraphical():"single"===this.precision?this.optimizeFloatMemory?this.getMainResultMemoryOptimizedFloats():this.getMainResultTexture():this.getMainResultPackedPixels()}},{key:"getMainResultNumberTexture",value:function(){return r.linesToString(this.getMainResultKernelNumberTexture())+r.linesToString(this.getMainResultSubKernelNumberTexture())}},{key:"getMainResultArray2Texture",value:function(){return r.linesToString(this.getMainResultKernelArray2Texture())+r.linesToString(this.getMainResultSubKernelArray2Texture())}},{key:"getMainResultArray3Texture",value:function(){return r.linesToString(this.getMainResultKernelArray3Texture())+r.linesToString(this.getMainResultSubKernelArray3Texture())}},{key:"getMainResultArray4Texture",value:function(){return r.linesToString(this.getMainResultKernelArray4Texture())+r.linesToString(this.getMainResultSubKernelArray4Texture())}},{key:"getFloatTacticDeclaration",value:function(){var e=this.getVariablePrecisionString(this.texSize,this.tactic);return"precision ".concat(e," float;\n")}},{key:"getIntTacticDeclaration",value:function(){return"precision ".concat(this.getVariablePrecisionString(this.texSize,this.tactic,!0)," int;\n")}},{key:"getSampler2DTacticDeclaration",value:function(){return"precision ".concat(this.getVariablePrecisionString(this.texSize,this.tactic)," sampler2D;\n")}},{key:"getSampler2DArrayTacticDeclaration",value:function(){return"precision ".concat(this.getVariablePrecisionString(this.texSize,this.tactic)," sampler2DArray;\n")}},{key:"renderTexture",value:function(){return this.immutable?this.texture.clone():this.texture}},{key:"readPackedPixelsToUint8Array",value:function(){if("unsigned"!==this.precision)throw new Error('Requires this.precision to be "unsigned"');var e=this.texSize,t=this.context,n=new Uint8Array(e[0]*e[1]*4);return t.readPixels(0,0,e[0],e[1],t.RGBA,t.UNSIGNED_BYTE,n),n}},{key:"readPackedPixelsToFloat32Array",value:function(){return new Float32Array(this.readPackedPixelsToUint8Array().buffer)}},{key:"readFloatPixelsToFloat32Array",value:function(){if("single"!==this.precision)throw new Error('Requires this.precision to be "single"');var e=this.texSize,t=this.context,n=e[0],r=e[1],i=new Float32Array(n*r*4);return t.readPixels(0,0,n,r,t.RGBA,t.FLOAT,i),i}},{key:"getPixels",value:function(e){var t=this.context,n=f(this.output,2),i=n[0],o=n[1],s=new Uint8Array(i*o*4);return t.readPixels(0,0,i,o,t.RGBA,t.UNSIGNED_BYTE,s),new Uint8ClampedArray((e?s:r.flipPixels(s,i,o)).buffer)}},{key:"renderKernelsToArrays",value:function(){for(var e={result:this.renderOutput()},t=0;t<this.subKernels.length;t++)e[this.subKernels[t].property]=this.mappedTextures[t].toArray();return e}},{key:"renderKernelsToTextures",value:function(){var e={result:this.renderOutput()};if(this.immutable)for(var t=0;t<this.subKernels.length;t++)e[this.subKernels[t].property]=this.mappedTextures[t].clone();else for(var n=0;n<this.subKernels.length;n++)e[this.subKernels[n].property]=this.mappedTextures[n];return e}},{key:"resetSwitchingKernels",value:function(){var e=this.switchingKernels;return this.switchingKernels=null,e}},{key:"setOutput",value:function(e){var t=this.toKernelOutput(e);if(this.program){if(!this.dynamicOutput)throw new Error("Resizing a kernel with dynamicOutput: false is not possible");var n=[t[0],t[1]||1,t[2]||1],i=r.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},n),o=this.texSize;if(o){var s=this.getVariablePrecisionString(o,this.tactic),a=this.getVariablePrecisionString(i,this.tactic);if(s!==a)return this.debug&&console.warn("Precision requirement changed, asking GPU instance to recompile"),void this.switchKernels({type:"outputPrecisionMismatch",precision:a,needed:e})}this.output=t,this.threadDim=n,this.texSize=i;var u=this.context;if(u.bindFramebuffer(u.FRAMEBUFFER,this.framebuffer),this.updateMaxTexSize(),this.framebuffer.width=this.texSize[0],this.framebuffer.height=this.texSize[1],u.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),this.canvas.width=this.maxTexSize[0],this.canvas.height=this.maxTexSize[1],this.texture&&this.texture.delete(),this.texture=null,this._setupOutputTexture(),this.mappedTextures&&this.mappedTextures.length>0){for(var l=0;l<this.mappedTextures.length;l++)this.mappedTextures[l].delete();this.mappedTextures=null,this._setupSubOutputTextures()}}else this.output=t;return this}},{key:"renderValues",value:function(){return this.formatValues(this.transferValues(),this.output[0],this.output[1],this.output[2])}},{key:"switchKernels",value:function(e){this.switchingKernels?this.switchingKernels.push(e):this.switchingKernels=[e]}},{key:"getVariablePrecisionString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.texSize,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tactic,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t){if(!this.constructor.features.isSpeedTacticSupported)return"highp";var r=this.constructor.features[n?"lowIntPrecision":"lowFloatPrecision"],i=this.constructor.features[n?"mediumIntPrecision":"mediumFloatPrecision"],o=this.constructor.features[n?"highIntPrecision":"highFloatPrecision"],s=Math.log2(e[0]*e[1]);if(s<=r.rangeMax)return"lowp";if(s<=i.rangeMax)return"mediump";if(s<=o.rangeMax)return"highp";throw new Error("The required size exceeds that of the ability of your system")}switch(t){case"speed":return"lowp";case"balanced":return"mediump";case"precision":return"highp";default:throw new Error('Unknown tactic "'.concat(t,'" use "speed", "balanced", "precision", or empty for auto'))}}},{key:"updateTextureArgumentRefs",value:function(e,t){if(this.immutable)if(this.texture.texture===t.texture){var n=e.prevArg;n&&(1===n.texture._refs&&(this.texture.delete(),this.texture=n.clone(),this._textureSwitched=!0),n.delete()),e.prevArg=t.clone()}else if(this.mappedTextures&&this.mappedTextures.length>0)for(var r=this.mappedTextures,i=0;i<r.length;i++){var o=r[i];if(o.texture===t.texture){var s=e.prevArg;return s&&(1===s.texture._refs&&(o.delete(),r[i]=s.clone(),this._mappedTextureSwitched[i]=!0),s.delete()),void(e.prevArg=t.clone())}}}},{key:"onActivate",value:function(e){if(this._textureSwitched=!0,this.texture=e.texture,this.mappedTextures){for(var t=0;t<this.mappedTextures.length;t++)this._mappedTextureSwitched[t]=!0;this.mappedTextures=e.mappedTextures}}},{key:"initCanvas",value:function(){}}],[{key:"mode",get:function(){return"gpu"}},{key:"getIsFloatRead",value:function(){var e=new this("function kernelFunction() {\n      return 1;\n    }",{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[1],precision:"single",returnType:"Number",tactic:"speed"});e.build(),e.run();var t=e.renderOutput();return e.destroy(!0),1===t[0]}},{key:"getIsIntegerDivisionAccurate",value:function(){var e=new this(function(e,t){return e[this.thread.x]/t[this.thread.x]}.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[2],returnType:"Number",precision:"unsigned",tactic:"speed"}),t=[[6,6030401],[3,3991]];e.build.apply(e,t),e.run.apply(e,t);var n=e.renderOutput();return e.destroy(!0),2===n[0]&&1511===n[1]}},{key:"getIsSpeedTacticSupported",value:function(){var e=new this(function(e){return e[this.thread.x]}.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[4],returnType:"Number",precision:"unsigned",tactic:"speed"}),t=[[0,1,2,3]];e.build.apply(e,t),e.run.apply(e,t);var n=e.renderOutput();return e.destroy(!0),0===Math.round(n[0])&&1===Math.round(n[1])&&2===Math.round(n[2])&&3===Math.round(n[3])}},{key:"testCanvas",get:function(){throw new Error('"testCanvas" not defined on '.concat(this.name))}},{key:"testContext",get:function(){throw new Error('"testContext" not defined on '.concat(this.name))}},{key:"getFeatures",value:function(){var e=this.testContext,t=this.getIsDrawBuffers();return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),isTextureFloat:this.getIsTextureFloat(),isDrawBuffers:t,kernelMap:t,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT),lowFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT),mediumIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT),mediumFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT),highIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT),highFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT)})}},{key:"setupFeatureChecks",value:function(){throw new Error('"setupFeatureChecks" not defined on '.concat(this.name))}},{key:"getSignature",value:function(e,t){return e.getVariablePrecisionString()+(t.length>0?":"+t.join(","):"")}},{key:"nativeFunctionArguments",value:function(e){for(var t=[],n=[],r=[],i=/^[a-zA-Z_]/,o=/[a-zA-Z_0-9]/,s=0,a=null,u=null;s<e.length;){var l=e[s],c=e[s+1],h=r.length>0?r[r.length-1]:null;if("FUNCTION_ARGUMENTS"!==h||"/"!==l||"*"!==c)if("MULTI_LINE_COMMENT"!==h||"*"!==l||"/"!==c)if("FUNCTION_ARGUMENTS"!==h||"/"!==l||"/"!==c)if("COMMENT"!==h||"\n"!==l)if(null!==h||"("!==l){if("FUNCTION_ARGUMENTS"===h){if(")"===l){r.pop();break}if("f"===l&&"l"===c&&"o"===e[s+2]&&"a"===e[s+3]&&"t"===e[s+4]&&" "===e[s+5]){r.push("DECLARE_VARIABLE"),u="float",a="",s+=6;continue}if("i"===l&&"n"===c&&"t"===e[s+2]&&" "===e[s+3]){r.push("DECLARE_VARIABLE"),u="int",a="",s+=4;continue}if("v"===l&&"e"===c&&"c"===e[s+2]&&"2"===e[s+3]&&" "===e[s+4]){r.push("DECLARE_VARIABLE"),u="vec2",a="",s+=5;continue}if("v"===l&&"e"===c&&"c"===e[s+2]&&"3"===e[s+3]&&" "===e[s+4]){r.push("DECLARE_VARIABLE"),u="vec3",a="",s+=5;continue}if("v"===l&&"e"===c&&"c"===e[s+2]&&"4"===e[s+3]&&" "===e[s+4]){r.push("DECLARE_VARIABLE"),u="vec4",a="",s+=5;continue}}else if("DECLARE_VARIABLE"===h){if(""===a){if(" "===l){s++;continue}if(!i.test(l))throw new Error("variable name is not expected string")}a+=l,o.test(c)||(r.pop(),n.push(a),t.push(C[u]))}s++}else r.push("FUNCTION_ARGUMENTS"),s++;else r.pop(),s++;else r.push("COMMENT"),s+=2;else r.pop(),s+=2;else r.push("MULTI_LINE_COMMENT"),s+=2}if(r.length>0)throw new Error("GLSL function was not parsable");return{argumentNames:n,argumentTypes:t}}},{key:"nativeFunctionReturnType",value:function(e){return C[e.match(/int|float|vec[2-4]/)[0]]}},{key:"combineKernels",value:function(e,t){e.apply(null,arguments);var n,i=t.texSize,o=i.texSize,s=i.context,a=i.threadDim;if("single"===t.precision){var u=o[0],l=Math.ceil(o[1]/4);n=new Float32Array(u*l*4*4),s.readPixels(0,0,u,4*l,s.RGBA,s.FLOAT,n)}else{var c=new Uint8Array(o[0]*o[1]*4);s.readPixels(0,0,o[0],o[1],s.RGBA,s.UNSIGNED_BYTE,c),n=new Float32Array(c.buffer)}return n=n.subarray(0,a[0]*a[1]*a[2]),1===t.output.length?n:2===t.output.length?r.splitArray(n,t.output[0]):3===t.output.length?r.splitArray(n,t.output[0]*t.output[1]).map((function(e){return r.splitArray(e,t.output[0])})):void 0}}]),t}(n),C={int:"Integer",float:"Number",vec2:"Array(2)",vec3:"Array(3)",vec4:"Array(4)"};t.exports={GLKernel:E}},{"../../utils":114,"../kernel":36,"./texture/array-2-float":16,"./texture/array-2-float-2d":14,"./texture/array-2-float-3d":15,"./texture/array-3-float":19,"./texture/array-3-float-2d":17,"./texture/array-3-float-3d":18,"./texture/array-4-float":22,"./texture/array-4-float-2d":20,"./texture/array-4-float-3d":21,"./texture/float":25,"./texture/float-2d":23,"./texture/float-3d":24,"./texture/graphical":26,"./texture/memory-optimized":30,"./texture/memory-optimized-2d":28,"./texture/memory-optimized-3d":29,"./texture/unsigned":33,"./texture/unsigned-2d":31,"./texture/unsigned-3d":32}],14:[function(e,t){var n=e("../../../utils").utils,r=e("./float");t.exports={GLTextureArray2Float2D:function(e){function t(e){var t;return(t=r.call(this,e)).type="ArrayTexture(2)",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erect2DArray2(this.renderValues(),this.output[0],this.output[1])}}]),t}(r.GLTextureFloat)}},{"../../../utils":114,"./float":25}],15:[function(e,t){var n=e("../../../utils").utils,r=e("./float");t.exports={GLTextureArray2Float3D:function(e){function t(e){var t;return(t=r.call(this,e)).type="ArrayTexture(2)",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erect3DArray2(this.renderValues(),this.output[0],this.output[1],this.output[2])}}]),t}(r.GLTextureFloat)}},{"../../../utils":114,"./float":25}],16:[function(e,t){var n=e("../../../utils").utils,r=e("./float");t.exports={GLTextureArray2Float:function(e){function t(e){var t;return(t=r.call(this,e)).type="ArrayTexture(2)",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erectArray2(this.renderValues(),this.output[0],this.output[1])}}]),t}(r.GLTextureFloat)}},{"../../../utils":114,"./float":25}],17:[function(e,t){var n=e("../../../utils").utils,r=e("./float");t.exports={GLTextureArray3Float2D:function(e){function t(e){var t;return(t=r.call(this,e)).type="ArrayTexture(3)",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erect2DArray3(this.renderValues(),this.output[0],this.output[1])}}]),t}(r.GLTextureFloat)}},{"../../../utils":114,"./float":25}],18:[function(e,t){var n=e("../../../utils").utils,r=e("./float");t.exports={GLTextureArray3Float3D:function(e){function t(e){var t;return(t=r.call(this,e)).type="ArrayTexture(3)",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erect3DArray3(this.renderValues(),this.output[0],this.output[1],this.output[2])}}]),t}(r.GLTextureFloat)}},{"../../../utils":114,"./float":25}],19:[function(e,t){var n=e("../../../utils").utils,r=e("./float");t.exports={GLTextureArray3Float:function(e){function t(e){var t;return(t=r.call(this,e)).type="ArrayTexture(3)",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erectArray3(this.renderValues(),this.output[0])}}]),t}(r.GLTextureFloat)}},{"../../../utils":114,"./float":25}],20:[function(e,t){var n=e("../../../utils").utils,r=e("./float");t.exports={GLTextureArray4Float2D:function(e){function t(e){var t;return(t=r.call(this,e)).type="ArrayTexture(4)",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erect2DArray4(this.renderValues(),this.output[0],this.output[1])}}]),t}(r.GLTextureFloat)}},{"../../../utils":114,"./float":25}],21:[function(e,t){var n=e("../../../utils").utils,r=e("./float");t.exports={GLTextureArray4Float3D:function(e){function t(e){var t;return(t=r.call(this,e)).type="ArrayTexture(4)",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erect3DArray4(this.renderValues(),this.output[0],this.output[1],this.output[2])}}]),t}(r.GLTextureFloat)}},{"../../../utils":114,"./float":25}],22:[function(e,t){var n=e("../../../utils").utils,r=e("./float");t.exports={GLTextureArray4Float:function(e){function t(e){var t;return(t=r.call(this,e)).type="ArrayTexture(4)",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erectArray4(this.renderValues(),this.output[0])}}]),t}(r.GLTextureFloat)}},{"../../../utils":114,"./float":25}],23:[function(e,t){var n=e("../../../utils").utils,r=e("./float");t.exports={GLTextureFloat2D:function(e){function t(e){var t;return(t=r.call(this,e)).type="ArrayTexture(1)",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erect2DFloat(this.renderValues(),this.output[0],this.output[1])}}]),t}(r.GLTextureFloat)}},{"../../../utils":114,"./float":25}],24:[function(e,t){var n=e("../../../utils").utils,r=e("./float");t.exports={GLTextureFloat3D:function(e){function t(e){var t;return(t=r.call(this,e)).type="ArrayTexture(1)",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erect3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}]),t}(r.GLTextureFloat)}},{"../../../utils":114,"./float":25}],25:[function(e,t){var n=e("../../../utils").utils,r=e("./index");t.exports={GLTextureFloat:function(e){function t(e){var t;return(t=r.call(this,e)).type="ArrayTexture(1)",t}a(t,e);var r=l(t);return o(t,[{key:"textureType",get:function(){return this.context.FLOAT}},{key:"renderRawOutput",value:function(){var e=this.context,t=this.size;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer()),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0);var n=new Float32Array(t[0]*t[1]*4);return e.readPixels(0,0,t[0],t[1],e.RGBA,e.FLOAT,n),n}},{key:"renderValues",value:function(){return this._deleted?null:this.renderRawOutput()}},{key:"toArray",value:function(){return n.erectFloat(this.renderValues(),this.output[0])}}]),t}(r.GLTexture)}},{"../../../utils":114,"./index":27}],26:[function(e,t){var n=e("./unsigned");t.exports={GLTextureGraphical:function(e){function t(e){var t;return(t=n.call(this,e)).type="ArrayTexture(4)",t}a(t,e);var n=l(t);return o(t,[{key:"toArray",value:function(){return this.renderValues()}}]),t}(n.GLTextureUnsigned)}},{"./unsigned":33}],27:[function(e,t){function n(e,t){e.activeTexture(e.TEXTURE15),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)}var r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"textureType",get:function(){throw new Error('"textureType" not implemented on '.concat(this.name))}},{key:"clone",value:function(){return new this.constructor(this)}},{key:"beforeMutate",value:function(){return this.texture._refs>1&&(this.newTexture(),!0)}},{key:"cloneTexture",value:function(){this.texture._refs--;var e=this.context,t=this.size,r=this.texture;this.kernel.debug&&console.warn("cloning internal texture"),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer()),n(e,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var i=e.createTexture();n(e,i),e.texImage2D(e.TEXTURE_2D,0,this.internalFormat,t[0],t[1],0,this.textureFormat,this.textureType,null),e.copyTexSubImage2D(e.TEXTURE_2D,0,0,0,0,0,t[0],t[1]),i._refs=1,this.texture=i}},{key:"newTexture",value:function(){this.texture._refs--;var e=this.context,t=this.size;this.kernel.debug&&console.warn("new internal texture");var r=e.createTexture();n(e,r),e.texImage2D(e.TEXTURE_2D,0,this.internalFormat,t[0],t[1],0,this.textureFormat,this.textureType,null),r._refs=1,this.texture=r}},{key:"clear",value:function(){if(this.texture._refs){this.texture._refs--;var e=this.context,t=this.texture=e.createTexture();n(e,t);var r=this.size;t._refs=1,e.texImage2D(e.TEXTURE_2D,0,this.internalFormat,r[0],r[1],0,this.textureFormat,this.textureType,null)}var i=this.context,o=this.texture;i.bindFramebuffer(i.FRAMEBUFFER,this.framebuffer()),i.bindTexture(i.TEXTURE_2D,o),n(i,o),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,o,0),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)}},{key:"delete",value:function(){this._deleted||(this._deleted=!0,this.texture._refs&&(this.texture._refs--,this.texture._refs)||this.context.deleteTexture(this.texture))}},{key:"framebuffer",value:function(){return this._framebuffer||(this._framebuffer=this.kernel.getRawValueFramebuffer(this.size[0],this.size[1])),this._framebuffer}}]),t}(e("../../../texture").Texture);t.exports={GLTexture:r}},{"../../../texture":113}],28:[function(e,t){var n=e("../../../utils").utils,r=e("./float");t.exports={GLTextureMemoryOptimized2D:function(e){function t(e){var t;return(t=r.call(this,e)).type="MemoryOptimizedNumberTexture",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erectMemoryOptimized2DFloat(this.renderValues(),this.output[0],this.output[1])}}]),t}(r.GLTextureFloat)}},{"../../../utils":114,"./float":25}],29:[function(e,t){var n=e("../../../utils").utils,r=e("./float");t.exports={GLTextureMemoryOptimized3D:function(e){function t(e){var t;return(t=r.call(this,e)).type="MemoryOptimizedNumberTexture",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erectMemoryOptimized3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}]),t}(r.GLTextureFloat)}},{"../../../utils":114,"./float":25}],30:[function(e,t){var n=e("../../../utils").utils,r=e("./float");t.exports={GLTextureMemoryOptimized:function(e){function t(e){var t;return(t=r.call(this,e)).type="MemoryOptimizedNumberTexture",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erectMemoryOptimizedFloat(this.renderValues(),this.output[0])}}]),t}(r.GLTextureFloat)}},{"../../../utils":114,"./float":25}],31:[function(e,t){var n=e("../../../utils").utils,r=e("./unsigned");t.exports={GLTextureUnsigned2D:function(e){function t(e){var t;return(t=r.call(this,e)).type="NumberTexture",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erect2DPackedFloat(this.renderValues(),this.output[0],this.output[1])}}]),t}(r.GLTextureUnsigned)}},{"../../../utils":114,"./unsigned":33}],32:[function(e,t){var n=e("../../../utils").utils,r=e("./unsigned");t.exports={GLTextureUnsigned3D:function(e){function t(e){var t;return(t=r.call(this,e)).type="NumberTexture",t}a(t,e);var r=l(t);return o(t,[{key:"toArray",value:function(){return n.erect3DPackedFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}]),t}(r.GLTextureUnsigned)}},{"../../../utils":114,"./unsigned":33}],33:[function(e,t){var n=e("../../../utils").utils,r=e("./index");t.exports={GLTextureUnsigned:function(e){function t(e){var t;return(t=r.call(this,e)).type="NumberTexture",t}a(t,e);var r=l(t);return o(t,[{key:"textureType",get:function(){return this.context.UNSIGNED_BYTE}},{key:"renderRawOutput",value:function(){var e=this.context;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer()),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0);var t=new Uint8Array(this.size[0]*this.size[1]*4);return e.readPixels(0,0,this.size[0],this.size[1],e.RGBA,e.UNSIGNED_BYTE,t),t}},{key:"renderValues",value:function(){return this._deleted?null:new Float32Array(this.renderRawOutput().buffer)}},{key:"toArray",value:function(){return n.erectPackedFloat(this.renderValues(),this.output[0])}}]),t}(r.GLTexture)}},{"../../../utils":114,"./index":27}],34:[function(e,t){var n=e("gl"),i=e("../web-gl/kernel").WebGLKernel,s=e("../gl/kernel-string").glKernelString,u=null,c=null,h=null,f=null,d=null,m=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"initCanvas",value:function(){return{}}},{key:"initContext",value:function(){return n(2,2,{preserveDrawingBuffer:!0})}},{key:"initExtensions",value:function(){this.extensions={STACKGL_resize_drawingbuffer:this.context.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:this.context.getExtension("STACKGL_destroy_context"),OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers")}}},{key:"build",value:function(){r(p(t.prototype),"build",this).apply(this,arguments),this.fallbackRequested||this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1])}},{key:"destroyExtensions",value:function(){this.extensions.STACKGL_resize_drawingbuffer=null,this.extensions.STACKGL_destroy_context=null,this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}},{key:"toString",value:function(){return s(this.constructor,arguments,this,"const gl = context || require('gl')(1, 1);\n","    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }\n")}},{key:"setOutput",value:function(e){return r(p(t.prototype),"setOutput",this).call(this,e),this.graphical&&this.extensions.STACKGL_resize_drawingbuffer&&this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1]),this}}],[{key:"isSupported",get:function(){return null!==u?u:(this.setupFeatureChecks(),u=null!==h)}},{key:"setupFeatureChecks",value:function(){if(c=null,f=null,"function"==typeof n)try{if(!(h=n(2,2,{preserveDrawingBuffer:!0}))||!h.getExtension)return;f={STACKGL_resize_drawingbuffer:h.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:h.getExtension("STACKGL_destroy_context"),OES_texture_float:h.getExtension("OES_texture_float"),OES_texture_float_linear:h.getExtension("OES_texture_float_linear"),OES_element_index_uint:h.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:h.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:h.getExtension("WEBGL_color_buffer_float")},d=this.getFeatures()}catch(e){console.warn(e)}}},{key:"isContextMatch",value:function(e){try{return"ANGLE"===e.getParameter(e.RENDERER)}catch(e){return!1}}},{key:"getIsTextureFloat",value:function(){return Boolean(f.OES_texture_float)}},{key:"getIsDrawBuffers",value:function(){return Boolean(f.WEBGL_draw_buffers)}},{key:"getChannelCount",value:function(){return f.WEBGL_draw_buffers?h.getParameter(f.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}},{key:"getMaxTextureSize",value:function(){return h.getParameter(h.MAX_TEXTURE_SIZE)}},{key:"testCanvas",get:function(){return c}},{key:"testContext",get:function(){return h}},{key:"features",get:function(){return d}},{key:"destroyContext",value:function(e){var t=e.getExtension("STACKGL_destroy_context");t&&t.destroy&&t.destroy()}}]),t}(i);t.exports={HeadlessGLKernel:m}},{"../gl/kernel-string":12,"../web-gl/kernel":70,gl:2}],35:[function(e,t){t.exports={KernelValue:function(){function e(e,t){var n=t.name,r=t.kernel,i=t.context,o=t.checkContext,s=t.onRequestContextHandle,a=t.onUpdateValueMismatch,u=t.origin,l=t.strictIntegers,c=t.type,h=t.tactic;if(!n)throw new Error("name not set");if(!c)throw new Error("type not set");if(!u)throw new Error("origin not set");if("user"!==u&&"constants"!==u)throw new Error('origin must be "user" or "constants" value is "'.concat(u,'"'));if(!s)throw new Error("onRequestContextHandle is not set");this.name=n,this.origin=u,this.tactic=h,this.varName="constants"===u?"constants.".concat(n):n,this.kernel=r,this.strictIntegers=l,this.type=e.type||c,this.size=e.size||null,this.index=null,this.context=i,this.checkContext=null==o||o,this.contextHandle=null,this.onRequestContextHandle=s,this.onUpdateValueMismatch=a,this.forceUploadEachRun=null}return o(e,[{key:"id",get:function(){return"".concat(this.origin,"_").concat(name)}},{key:"getSource",value:function(){throw new Error('"getSource" not defined on '.concat(this.constructor.name))}},{key:"updateValue",value:function(){throw new Error('"updateValue" not defined on '.concat(this.constructor.name))}}]),e}()}},{}],36:[function(e,t){var n=e("../utils").utils,r=e("../input").Input,i=function(){function e(e){if("object"!==m(e)){if("string"!=typeof e)throw new Error("source not a string");if(!n.isFunctionString(e))throw new Error("source not a function string")}this.useLegacyEncoder=!1,this.fallbackRequested=!1,this.onRequestFallback=null,this.argumentNames="string"==typeof e?n.getArgumentNamesFromString(e):null,this.argumentTypes=null,this.argumentSizes=null,this.argumentBitRatios=null,this.kernelArguments=null,this.kernelConstants=null,this.forceUploadKernelConstants=null,this.source=e,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.constantTypes=null,this.constantBitRatios=null,this.dynamicArguments=!1,this.dynamicOutput=!1,this.canvas=null,this.context=null,this.checkContext=null,this.gpu=null,this.functions=null,this.nativeFunctions=null,this.injectedNative=null,this.subKernels=null,this.validate=!0,this.immutable=!1,this.pipeline=!1,this.precision=null,this.tactic=null,this.plugins=null,this.returnType=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.optimizeFloatMemory=null,this.strictIntegers=!1,this.fixIntegerDivisionAccuracy=null,this.built=!1,this.signature=null}return o(e,[{key:"mergeSettings",value:function(e){for(var t in e)if(e.hasOwnProperty(t)&&this.hasOwnProperty(t)){switch(t){case"output":if(!Array.isArray(e.output)){this.setOutput(e.output);continue}break;case"functions":this.functions=[];for(var n=0;n<e.functions.length;n++)this.addFunction(e.functions[n]);continue;case"graphical":e[t]&&!e.hasOwnProperty("precision")&&(this.precision="unsigned"),this[t]=e[t];continue;case"nativeFunctions":if(!e.nativeFunctions)continue;this.nativeFunctions=[];for(var r=0;r<e.nativeFunctions.length;r++){var i=e.nativeFunctions[r];this.addNativeFunction(i.name,i.source,i)}continue}this[t]=e[t]}this.canvas||(this.canvas=this.initCanvas()),this.context||(this.context=this.initContext()),this.plugins||(this.plugins=this.initPlugins(e))}},{key:"build",value:function(){throw new Error('"build" not defined on '.concat(this.constructor.name))}},{key:"run",value:function(){throw new Error('"run" not defined on '.concat(this.constructor.name))}},{key:"initCanvas",value:function(){throw new Error('"initCanvas" not defined on '.concat(this.constructor.name))}},{key:"initContext",value:function(){throw new Error('"initContext" not defined on '.concat(this.constructor.name))}},{key:"initPlugins",value:function(){throw new Error('"initPlugins" not defined on '.concat(this.constructor.name))}},{key:"addFunction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.name&&e.source&&e.argumentTypes&&"returnType"in e)this.functions.push(e);else if("settings"in e&&"source"in e)this.functions.push(this.functionToIGPUFunction(e.source,e.settings));else{if("string"!=typeof e&&"function"!=typeof e)throw new Error("function not properly defined");this.functions.push(this.functionToIGPUFunction(e,t))}return this}},{key:"addNativeFunction",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.argumentTypes?function(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return{argumentTypes:n,argumentNames:t}}(n.argumentTypes):this.constructor.nativeFunctionArguments(t)||{};return this.nativeFunctions.push({name:e,source:t,settings:n,argumentTypes:r.argumentTypes,argumentNames:r.argumentNames,returnType:n.returnType||this.constructor.nativeFunctionReturnType(t)}),this}},{key:"setupArguments",value:function(e){if(this.kernelArguments=[],this.argumentTypes)for(var t=0;t<this.argumentTypes.length;t++)this.kernelArguments.push({type:this.argumentTypes[t]});else if(!this.argumentTypes){this.argumentTypes=[];for(var i=0;i<e.length;i++){var o=n.getVariableType(e[i],this.strictIntegers),s="Integer"===o?"Number":o;this.argumentTypes.push(s),this.kernelArguments.push({type:s})}}this.argumentSizes=new Array(e.length),this.argumentBitRatios=new Int32Array(e.length);for(var a=0;a<e.length;a++){var u=e[a];this.argumentSizes[a]=u.constructor===r?u.size:null,this.argumentBitRatios[a]=this.getBitRatio(u)}if(this.argumentNames.length!==e.length)throw new Error("arguments are miss-aligned")}},{key:"setupConstants",value:function(){this.kernelConstants=[];var e=null===this.constantTypes;if(e&&(this.constantTypes={}),this.constantBitRatios={},this.constants)for(var t in this.constants){if(e){var r=n.getVariableType(this.constants[t],this.strictIntegers);this.constantTypes[t]=r,this.kernelConstants.push({name:t,type:r})}else this.kernelConstants.push({name:t,type:this.constantTypes[t]});this.constantBitRatios[t]=this.getBitRatio(this.constants[t])}}},{key:"setOptimizeFloatMemory",value:function(e){return this.optimizeFloatMemory=e,this}},{key:"toKernelOutput",value:function(e){return e.hasOwnProperty("x")?e.hasOwnProperty("y")?e.hasOwnProperty("z")?[e.x,e.y,e.z]:[e.x,e.y]:[e.x]:e}},{key:"setOutput",value:function(e){return this.output=this.toKernelOutput(e),this}},{key:"setDebug",value:function(e){return this.debug=e,this}},{key:"setGraphical",value:function(e){return this.graphical=e,this.precision="unsigned",this}},{key:"setLoopMaxIterations",value:function(e){return this.loopMaxIterations=e,this}},{key:"setConstants",value:function(e){return this.constants=e,this}},{key:"setConstantTypes",value:function(e){return this.constantTypes=e,this}},{key:"setFunctions",value:function(e){for(var t=0;t<e.length;t++)this.addFunction(e[t]);return this}},{key:"setNativeFunctions",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];this.addNativeFunction(n.name,n.source,n)}return this}},{key:"setInjectedNative",value:function(e){return this.injectedNative=e,this}},{key:"setPipeline",value:function(e){return this.pipeline=e,this}},{key:"setPrecision",value:function(e){return this.precision=e,this}},{key:"setDimensions",value:function(e){return n.warnDeprecated("method","setDimensions","setOutput"),this.output=e,this}},{key:"setOutputToTexture",value:function(e){return n.warnDeprecated("method","setOutputToTexture","setPipeline"),this.pipeline=e,this}},{key:"setImmutable",value:function(e){return this.immutable=e,this}},{key:"setCanvas",value:function(e){return this.canvas=e,this}},{key:"setStrictIntegers",value:function(e){return this.strictIntegers=e,this}},{key:"setDynamicOutput",value:function(e){return this.dynamicOutput=e,this}},{key:"setHardcodeConstants",value:function(e){return n.warnDeprecated("method","setHardcodeConstants"),this.setDynamicOutput(e),this.setDynamicArguments(e),this}},{key:"setDynamicArguments",value:function(e){return this.dynamicArguments=e,this}},{key:"setUseLegacyEncoder",value:function(e){return this.useLegacyEncoder=e,this}},{key:"setWarnVarUsage",value:function(){return n.warnDeprecated("method","setWarnVarUsage"),this}},{key:"getCanvas",value:function(){return n.warnDeprecated("method","getCanvas"),this.canvas}},{key:"getWebGl",value:function(){return n.warnDeprecated("method","getWebGl"),this.context}},{key:"setContext",value:function(e){return this.context=e,this}},{key:"setArgumentTypes",value:function(e){if(Array.isArray(e))this.argumentTypes=e;else for(var t in this.argumentTypes=[],e)if(e.hasOwnProperty(t)){var n=this.argumentNames.indexOf(t);if(-1===n)throw new Error("unable to find argument ".concat(t));this.argumentTypes[n]=e[t]}return this}},{key:"setTactic",value:function(e){return this.tactic=e,this}},{key:"requestFallback",value:function(e){if(!this.onRequestFallback)throw new Error('"onRequestFallback" not defined on '.concat(this.constructor.name));return this.fallbackRequested=!0,this.onRequestFallback(e)}},{key:"validateSettings",value:function(){throw new Error('"validateSettings" not defined on '.concat(this.constructor.name))}},{key:"addSubKernel",value:function(e){if(null===this.subKernels&&(this.subKernels=[]),!e.source)throw new Error('subKernel missing "source" property');if(!e.property&&isNaN(e.property))throw new Error('subKernel missing "property" property');if(!e.name)throw new Error('subKernel missing "name" property');return this.subKernels.push(e),this}},{key:"destroy",value:function(){throw new Error('"destroy" called on '.concat(this.constructor.name))}},{key:"getBitRatio",value:function(e){if("single"===this.precision)return 4;if(Array.isArray(e[0]))return this.getBitRatio(e[0]);if(e.constructor===r)return this.getBitRatio(e.value);switch(e.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}},{key:"getPixels",value:function(){throw new Error('"getPixels" called on '.concat(this.constructor.name))}},{key:"checkOutput",value:function(){if(!this.output||!n.isArray(this.output))throw new Error("kernel.output not an array");if(this.output.length<1)throw new Error("kernel.output is empty, needs at least 1 value");for(var e=0;e<this.output.length;e++)if(isNaN(this.output[e])||this.output[e]<1)throw new Error("".concat(this.constructor.name,".output[").concat(e,"] incorrectly defined as `").concat(this.output[e],"`, needs to be numeric, and greater than 0"))}},{key:"prependString",value:function(){throw new Error('"prependString" called on '.concat(this.constructor.name))}},{key:"hasPrependString",value:function(){throw new Error('"hasPrependString" called on '.concat(this.constructor.name))}},{key:"toJSON",value:function(){return{settings:{output:this.output,pipeline:this.pipeline,argumentNames:this.argumentNames,argumentsTypes:this.argumentTypes,constants:this.constants,pluginNames:this.plugins?this.plugins.map((function(e){return e.name})):null,returnType:this.returnType}}}},{key:"buildSignature",value:function(e){var t=this.constructor;this.signature=t.getSignature(this,t.getArgumentTypes(this,e))}},{key:"functionToIGPUFunction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e&&"function"!=typeof e)throw new Error("source not a string or function");var r="string"==typeof e?e:e.toString(),i=[];return i=Array.isArray(t.argumentTypes)?t.argumentTypes:"object"===m(t.argumentTypes)?n.getArgumentNamesFromString(r).map((function(e){return t.argumentTypes[e]}))||[]:t.argumentTypes||[],{name:n.getFunctionNameFromString(r)||null,source:r,argumentTypes:i,returnType:t.returnType||null}}},{key:"onActivate",value:function(){}}],[{key:"isSupported",get:function(){throw new Error('"isSupported" not implemented on '.concat(this.name))}},{key:"isContextMatch",value:function(){throw new Error('"isContextMatch" not implemented on '.concat(this.name))}},{key:"getFeatures",value:function(){throw new Error('"getFeatures" not implemented on '.concat(this.name))}},{key:"destroyContext",value:function(){throw new Error('"destroyContext" called on '.concat(this.name))}},{key:"nativeFunctionArguments",value:function(){throw new Error('"nativeFunctionArguments" called on '.concat(this.name))}},{key:"nativeFunctionReturnType",value:function(){throw new Error('"nativeFunctionReturnType" called on '.concat(this.name))}},{key:"combineKernels",value:function(){throw new Error('"combineKernels" called on '.concat(this.name))}},{key:"getArgumentTypes",value:function(e,t){for(var r=new Array(t.length),i=0;i<t.length;i++){var o=t[i],s=e.argumentTypes[i];if(o.type)r[i]=o.type;else switch(s){case"Number":case"Integer":case"Float":case"ArrayTexture(1)":r[i]=n.getVariableType(o);break;default:r[i]=s}}return r}},{key:"getSignature",value:function(){throw new Error('"getSignature" not implemented on '.concat(this.name))}}]),e}();t.exports={Kernel:i}},{"../input":110,"../utils":114}],37:[function(e,t){var n="__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nvarying vec2 vTexCoord;\n\nfloat acosh(float x) {\n  return log(x + sqrt(x * x - 1.0));\n}\n\nfloat sinh(float x) {\n  return (pow(".concat(Math.E,", x) - pow(").concat(Math.E,", -x)) / 2.0;\n}\n\nfloat asinh(float x) {\n  return log(x + sqrt(x * x + 1.0));\n}\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat atanh(float x) {\n  x = (x + 1.0) / (x - 1.0);\n  if (x < 0.0) {\n    return 0.5 * log(-x);\n  }\n  return 0.5 * log(x);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat cosh(float x) {\n  return (pow(").concat(Math.E,", x) + pow(").concat(Math.E,", -x)) / 2.0; \n}\n\nfloat expm1(float x) {\n  return pow(").concat(Math.E,", x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat tanh(float x) {\n  float e = exp(2.0 * x);\n  return (e - 1.0) / (e + 1.0);\n}\n\nfloat trunc(float x) {\n  if (x >= 0.0) {\n    return floor(x); \n  } else {\n    return ceil(x);\n  }\n}\n\nvec4 _round(vec4 x) {\n  return floor(x + 0.5);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x / y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(_round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;\n  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;\n  return 0.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  if (channel == 0) return texel.r * 255.0;\n  if (channel == 1) return texel.g * 255.0;\n  if (channel == 2) return texel.b * 255.0;\n  if (channel == 3) return texel.a * 255.0;\n  return 0.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return texel.r;\n  if (channel == 1) return texel.g;\n  if (channel == 2) return texel.b;\n  if (channel == 3) return texel.a;\n  return 0.0;\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture2D(tex, st / vec2(texSize));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n  \n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nvoid color(sampler2D image) {\n  actualColor = texture2D(image, vTexCoord);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}");t.exports={fragmentShader:n}},{}],38:[function(e,t){var n=e("../../utils").utils,r=function(e){function t(e,t){var n;return n=r.call(this,e,t),t&&t.hasOwnProperty("fixIntegerDivisionAccuracy")&&(n.fixIntegerDivisionAccuracy=t.fixIntegerDivisionAccuracy),n}a(t,e);var r=l(t);return o(t,[{key:"astConditionalExpression",value:function(e,t){if("ConditionalExpression"!==e.type)throw this.astErrorOutput("Not a conditional expression",e);var n=this.getType(e.consequent),r=this.getType(e.alternate);return null===n&&null===r?(t.push("if ("),this.astGeneric(e.test,t),t.push(") {"),this.astGeneric(e.consequent,t),t.push(";"),t.push("} else {"),this.astGeneric(e.alternate,t),t.push(";"),t.push("}"),t):(t.push("("),this.astGeneric(e.test,t),t.push("?"),this.astGeneric(e.consequent,t),t.push(":"),this.astGeneric(e.alternate,t),t.push(")"),t)}},{key:"astFunction",value:function(e,t){if(this.isRootKernel)t.push("void");else{this.returnType||this.findLastReturn()&&(this.returnType=this.getType(e.body),"LiteralInteger"===this.returnType&&(this.returnType="Number"));var r=this.returnType;if(r){var o=i[r];if(!o)throw new Error("unknown type ".concat(r));t.push(o)}else t.push("void")}if(t.push(" "),t.push(this.name),t.push("("),!this.isRootKernel)for(var s=0;s<this.argumentNames.length;++s){var a=this.argumentNames[s];s>0&&t.push(", ");var u=this.argumentTypes[this.argumentNames.indexOf(a)];if(!u)throw this.astErrorOutput("Unknown argument ".concat(a," type"),e);"LiteralInteger"===u&&(this.argumentTypes[s]=u="Number");var l=i[u];if(!l)throw this.astErrorOutput("Unexpected expression",e);var c=n.sanitizeName(a);t.push("sampler2D"===l||"sampler2DArray"===l?"".concat(l," user_").concat(c,",ivec2 user_").concat(c,"Size,ivec3 user_").concat(c,"Dim"):"".concat(l," user_").concat(c))}t.push(") {\n");for(var h=0;h<e.body.body.length;++h)this.astGeneric(e.body.body[h],t),t.push("\n");return t.push("}\n"),t}},{key:"astReturnStatement",value:function(e,t){if(!e.argument)throw this.astErrorOutput("Unexpected return statement",e);this.pushState("skip-literal-correction");var n=this.getType(e.argument);this.popState("skip-literal-correction");var r=[];switch(this.returnType||(this.returnType="LiteralInteger"===n||"Integer"===n?"Number":n),this.returnType){case"LiteralInteger":case"Number":case"Float":switch(n){case"Integer":r.push("float("),this.astGeneric(e.argument,r),r.push(")");break;case"LiteralInteger":this.castLiteralToFloat(e.argument,r),"Integer"===this.getType(e)&&(r.unshift("float("),r.push(")"));break;default:this.astGeneric(e.argument,r)}break;case"Integer":switch(n){case"Float":case"Number":this.castValueToInteger(e.argument,r);break;case"LiteralInteger":this.castLiteralToInteger(e.argument,r);break;default:this.astGeneric(e.argument,r)}break;case"Array(4)":case"Array(3)":case"Array(2)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"Input":this.astGeneric(e.argument,r);break;default:throw this.astErrorOutput("unhandled return type ".concat(this.returnType),e)}return this.isRootKernel?(t.push("kernelResult = ".concat(r.join(""),";")),t.push("return;")):this.isSubKernel?(t.push("subKernelResult_".concat(this.name," = ").concat(r.join(""),";")),t.push("return subKernelResult_".concat(this.name,";"))):t.push("return ".concat(r.join(""),";")),t}},{key:"astLiteral",value:function(e,t){if(isNaN(e.value))throw this.astErrorOutput("Non-numeric literal not supported : "+e.value,e);var n=this.astKey(e);return Number.isInteger(e.value)?this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[n]="Integer",t.push("".concat(e.value))):(this.isState("casting-to-float")||this.isState("building-float"),this.literalTypes[n]="Number",t.push("".concat(e.value,".0"))):this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[n]="Integer",t.push(Math.round(e.value))):(this.literalTypes[n]="Number",t.push("".concat(e.value))),t}},{key:"astBinaryExpression",value:function(e,t){if(this.checkAndUpconvertOperator(e,t))return t;if(this.fixIntegerDivisionAccuracy&&"/"===e.operator){switch(t.push("divWithIntCheck("),this.pushState("building-float"),this.getType(e.left)){case"Integer":this.castValueToFloat(e.left,t);break;case"LiteralInteger":this.castLiteralToFloat(e.left,t);break;default:this.astGeneric(e.left,t)}switch(t.push(", "),this.getType(e.right)){case"Integer":this.castValueToFloat(e.right,t);break;case"LiteralInteger":this.castLiteralToFloat(e.right,t);break;default:this.astGeneric(e.right,t)}return this.popState("building-float"),t.push(")"),t}t.push("(");var n=this.getType(e.left)||"Number",r=this.getType(e.right)||"Number";if(!n||!r)throw this.astErrorOutput("Unhandled binary expression",e);var i=n+" & "+r;switch(i){case"Integer & Integer":this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(s[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-integer");break;case"Number & Float":case"Float & Number":case"Float & Float":case"Number & Number":this.pushState("building-float"),this.astGeneric(e.left,t),t.push(s[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-float");break;case"LiteralInteger & LiteralInteger":this.isState("casting-to-integer")||this.isState("building-integer")?(this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(s[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-integer")):(this.pushState("building-float"),this.castLiteralToFloat(e.left,t),t.push(s[e.operator]||e.operator),this.castLiteralToFloat(e.right,t),this.popState("building-float"));break;case"Integer & Float":case"Integer & Number":if((">"===e.operator||"<"===e.operator&&"Literal"===e.right.type)&&!Number.isInteger(e.right.value)){this.pushState("building-float"),this.castValueToFloat(e.left,t),t.push(s[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-float");break}if(this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(s[e.operator]||e.operator),this.pushState("casting-to-integer"),"Literal"===e.right.type){var o=[];if(this.astGeneric(e.right,o),"Integer"!==this.getType(e.right))throw this.astErrorOutput("Unhandled binary expression with literal",e);t.push(o.join(""))}else t.push("int("),this.astGeneric(e.right,t),t.push(")");this.popState("casting-to-integer"),this.popState("building-integer");break;case"Integer & LiteralInteger":this.pushState("building-integer"),this.astGeneric(e.left,t),t.push(s[e.operator]||e.operator),this.castLiteralToInteger(e.right,t),this.popState("building-integer");break;case"Number & Integer":case"Float & Integer":this.pushState("building-float"),this.astGeneric(e.left,t),t.push(s[e.operator]||e.operator),this.castValueToFloat(e.right,t),this.popState("building-float");break;case"Float & LiteralInteger":case"Number & LiteralInteger":this.pushState("building-float"),this.astGeneric(e.left,t),t.push(s[e.operator]||e.operator),this.castLiteralToFloat(e.right,t),this.popState("building-float");break;case"LiteralInteger & Float":case"LiteralInteger & Number":this.isState("casting-to-integer")?(this.pushState("building-integer"),this.castLiteralToInteger(e.left,t),t.push(s[e.operator]||e.operator),this.castValueToInteger(e.right,t),this.popState("building-integer")):(this.pushState("building-float"),this.astGeneric(e.left,t),t.push(s[e.operator]||e.operator),this.pushState("casting-to-float"),this.astGeneric(e.right,t),this.popState("casting-to-float"),this.popState("building-float"));break;case"LiteralInteger & Integer":this.pushState("building-integer"),this.castLiteralToInteger(e.left,t),t.push(s[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-integer");break;case"Boolean & Boolean":this.pushState("building-boolean"),this.astGeneric(e.left,t),t.push(s[e.operator]||e.operator),this.astGeneric(e.right,t),this.popState("building-boolean");break;default:throw this.astErrorOutput("Unhandled binary expression between ".concat(i),e)}return t.push(")"),t}},{key:"checkAndUpconvertOperator",value:function(e,t){var n=this.checkAndUpconvertBitwiseOperators(e,t);if(n)return n;var r={"%":this.fixIntegerDivisionAccuracy?"integerCorrectionModulo":"modulo","**":"pow"}[e.operator];if(!r)return null;switch(t.push(r),t.push("("),this.getType(e.left)){case"Integer":this.castValueToFloat(e.left,t);break;case"LiteralInteger":this.castLiteralToFloat(e.left,t);break;default:this.astGeneric(e.left,t)}switch(t.push(","),this.getType(e.right)){case"Integer":this.castValueToFloat(e.right,t);break;case"LiteralInteger":this.castLiteralToFloat(e.right,t);break;default:this.astGeneric(e.right,t)}return t.push(")"),t}},{key:"checkAndUpconvertBitwiseOperators",value:function(e,t){var n={"&":"bitwiseAnd","|":"bitwiseOr","^":"bitwiseXOR","<<":"bitwiseZeroFillLeftShift",">>":"bitwiseSignedRightShift",">>>":"bitwiseZeroFillRightShift"}[e.operator];if(!n)return null;switch(t.push(n),t.push("("),this.getType(e.left)){case"Number":case"Float":this.castValueToInteger(e.left,t);break;case"LiteralInteger":this.castLiteralToInteger(e.left,t);break;default:this.astGeneric(e.left,t)}switch(t.push(","),this.getType(e.right)){case"Number":case"Float":this.castValueToInteger(e.right,t);break;case"LiteralInteger":this.castLiteralToInteger(e.right,t);break;default:this.astGeneric(e.right,t)}return t.push(")"),t}},{key:"checkAndUpconvertBitwiseUnary",value:function(e,t){var n={"~":"bitwiseNot"}[e.operator];if(!n)return null;switch(t.push(n),t.push("("),this.getType(e.argument)){case"Number":case"Float":this.castValueToInteger(e.argument,t);break;case"LiteralInteger":this.castLiteralToInteger(e.argument,t);break;default:this.astGeneric(e.argument,t)}return t.push(")"),t}},{key:"castLiteralToInteger",value:function(e,t){return this.pushState("casting-to-integer"),this.astGeneric(e,t),this.popState("casting-to-integer"),t}},{key:"castLiteralToFloat",value:function(e,t){return this.pushState("casting-to-float"),this.astGeneric(e,t),this.popState("casting-to-float"),t}},{key:"castValueToInteger",value:function(e,t){return this.pushState("casting-to-integer"),t.push("int("),this.astGeneric(e,t),t.push(")"),this.popState("casting-to-integer"),t}},{key:"castValueToFloat",value:function(e,t){return this.pushState("casting-to-float"),t.push("float("),this.astGeneric(e,t),t.push(")"),this.popState("casting-to-float"),t}},{key:"astIdentifierExpression",value:function(e,t){if("Identifier"!==e.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",e);var r=this.getType(e),i=n.sanitizeName(e.name);return"Infinity"===e.name?t.push("3.402823466e+38"):"Boolean"===r&&this.argumentNames.indexOf(i)>-1?t.push("bool(user_".concat(i,")")):t.push("user_".concat(i)),t}},{key:"astForStatement",value:function(e,t){if("ForStatement"!==e.type)throw this.astErrorOutput("Invalid for statement",e);var n=[],r=[],i=[],o=[],s=null;if(e.init){var a=e.init.declarations;a.length>1&&(s=!1),this.astGeneric(e.init,n);for(var u=0;u<a.length;u++)a[u].init&&"Literal"!==a[u].init.type&&(s=!1)}else s=!1;if(e.test?this.astGeneric(e.test,r):s=!1,e.update?this.astGeneric(e.update,i):s=!1,e.body&&(this.pushState("loop-body"),this.astGeneric(e.body,o),this.popState("loop-body")),null===s&&(s=this.isSafe(e.init)&&this.isSafe(e.test)),s){var l=n.join(""),c=";"!==l[l.length-1];t.push("for (".concat(l).concat(c?";":"").concat(r.join(""),";").concat(i.join(""),"){\n")),t.push(o.join("")),t.push("}\n")}else{var h=this.getInternalVariableName("safeI");n.length>0&&t.push(n.join(""),"\n"),t.push("for (int ".concat(h,"=0;").concat(h,"<LOOP_MAX;").concat(h,"++){\n")),r.length>0&&t.push("if (!".concat(r.join(""),") break;\n")),t.push(o.join("")),t.push("\n".concat(i.join(""),";")),t.push("}\n")}return t}},{key:"astWhileStatement",value:function(e,t){if("WhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);var n=this.getInternalVariableName("safeI");return t.push("for (int ".concat(n,"=0;").concat(n,"<LOOP_MAX;").concat(n,"++){\n")),t.push("if (!"),this.astGeneric(e.test,t),t.push(") break;\n"),this.astGeneric(e.body,t),t.push("}\n"),t}},{key:"astDoWhileStatement",value:function(e,t){if("DoWhileStatement"!==e.type)throw this.astErrorOutput("Invalid while statement",e);var n=this.getInternalVariableName("safeI");return t.push("for (int ".concat(n,"=0;").concat(n,"<LOOP_MAX;").concat(n,"++){\n")),this.astGeneric(e.body,t),t.push("if (!"),this.astGeneric(e.test,t),t.push(") break;\n"),t.push("}\n"),t}},{key:"astAssignmentExpression",value:function(e,t){if("%="===e.operator)this.astGeneric(e.left,t),t.push("="),t.push("mod("),this.astGeneric(e.left,t),t.push(","),this.astGeneric(e.right,t),t.push(")");else{if("**="!==e.operator){var n=this.getType(e.left),r=this.getType(e.right);return this.astGeneric(e.left,t),t.push(e.operator),"Integer"!==n&&"Integer"===r?(t.push("float("),this.astGeneric(e.right,t),t.push(")")):this.astGeneric(e.right,t),t}this.astGeneric(e.left,t),t.push("="),t.push("pow("),this.astGeneric(e.left,t),t.push(","),this.astGeneric(e.right,t),t.push(")")}}},{key:"astBlockStatement",value:function(e,t){if(this.isState("loop-body")){this.pushState("block-body");for(var n=0;n<e.body.length;n++)this.astGeneric(e.body[n],t);this.popState("block-body")}else{t.push("{\n");for(var r=0;r<e.body.length;r++)this.astGeneric(e.body[r],t);t.push("}\n")}return t}},{key:"astVariableDeclaration",value:function(e,t){var r=e.declarations;if(!r||!r[0]||!r[0].init)throw this.astErrorOutput("Unexpected expression",e);for(var o=[],s=null,a=[],u=[],l=0;l<r.length;l++){var c=r[l],h=c.init,p=this.getDeclaration(c.id),f=this.getType(c.init),d=f;"LiteralInteger"===d&&(d="Integer"===p.suggestedType?"Integer":"Number");var m=i[d];if(!m)throw this.astErrorOutput("Markup type ".concat(d," not handled"),e);var g=[];if("Integer"===f&&"Integer"===d){if(p.valueType="Number",0===l||null===s)g.push("float ");else if(d!==s)throw new Error("Unhandled declaration");s=d,g.push("user_".concat(n.sanitizeName(c.id.name),"=")),g.push("float("),this.astGeneric(h,g),g.push(")")}else p.valueType=d,0===l||null===s?g.push("".concat(m," ")):d!==s&&(a.push(u.join(",")),u=[],g.push("".concat(m," "))),s=d,g.push("user_".concat(n.sanitizeName(c.id.name),"=")),"Number"===f&&"Integer"===d?h.left&&"Literal"===h.left.type?this.astGeneric(h,g):(g.push("int("),this.astGeneric(h,g),g.push(")")):"LiteralInteger"===f&&"Integer"===d?this.castLiteralToInteger(h,g):this.astGeneric(h,g);u.push(g.join(""))}return u.length>0&&a.push(u.join(",")),o.push(a.join(";")),t.push(o.join("")),t.push(";"),t}},{key:"astIfStatement",value:function(e,t){return t.push("if ("),this.astGeneric(e.test,t),t.push(")"),"BlockStatement"===e.consequent.type?this.astGeneric(e.consequent,t):(t.push(" {\n"),this.astGeneric(e.consequent,t),t.push("\n}\n")),e.alternate&&(t.push("else "),"BlockStatement"===e.alternate.type||"IfStatement"===e.alternate.type?this.astGeneric(e.alternate,t):(t.push(" {\n"),this.astGeneric(e.alternate,t),t.push("\n}\n"))),t}},{key:"astSwitchStatement",value:function(e,t){if("SwitchStatement"!==e.type)throw this.astErrorOutput("Invalid switch statement",e);var n=e.discriminant,r=e.cases,i=this.getType(n),o="switchDiscriminant".concat(this.astKey(e,"_"));switch(i){case"Float":case"Number":t.push("float ".concat(o," = ")),this.astGeneric(n,t),t.push(";\n");break;case"Integer":t.push("int ".concat(o," = ")),this.astGeneric(n,t),t.push(";\n")}if(1===r.length&&!r[0].test)return this.astGeneric(r[0].consequent,t),t;for(var s=!1,a=[],u=!1,l=!1,c=0;c<r.length;c++){if(r[c].test){if(0!==c&&l?s?(t.push("".concat(o," == ")),s=!1):t.push(" else if (".concat(o," == ")):(l=!0,t.push("if (".concat(o," == "))),"Integer"===i)switch(this.getType(r[c].test)){case"Number":case"Float":this.castValueToInteger(r[c].test,t);break;case"LiteralInteger":this.castLiteralToInteger(r[c].test,t)}else{if("Float"!==i)throw new Error("unhanlded");switch(this.getType(r[c].test)){case"LiteralInteger":this.castLiteralToFloat(r[c].test,t);break;case"Integer":this.castValueToFloat(r[c].test,t)}}if(!r[c].consequent||0===r[c].consequent.length){s=!0,t.push(" || ");continue}t.push(") {\n")}else{if(r.length>c+1){u=!0,this.astGeneric(r[c].consequent,a);continue}t.push(" else {\n")}this.astGeneric(r[c].consequent,t),t.push("\n}")}return u&&(t.push(" else {"),t.push(a.join("")),t.push("}")),t}},{key:"astThisExpression",value:function(e,t){return t.push("this"),t}},{key:"astMemberExpression",value:function(e,t){var r=this.getMemberExpressionDetails(e),i=r.property,o=r.name,s=r.origin,a=r.type,u=r.xProperty,l=r.yProperty,c=r.zProperty;switch(r.signature){case"value.thread.value":case"this.thread.value":if("x"!==o&&"y"!==o&&"z"!==o)throw this.astErrorOutput("Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`",e);return t.push("threadId.".concat(o)),t;case"this.output.value":if(this.dynamicOutput)switch(o){case"x":this.isState("casting-to-float")?t.push("float(uOutputDim.x)"):t.push("uOutputDim.x");break;case"y":this.isState("casting-to-float")?t.push("float(uOutputDim.y)"):t.push("uOutputDim.y");break;case"z":this.isState("casting-to-float")?t.push("float(uOutputDim.z)"):t.push("uOutputDim.z");break;default:throw this.astErrorOutput("Unexpected expression",e)}else switch(o){case"x":this.isState("casting-to-integer")?t.push(this.output[0]):t.push(this.output[0],".0");break;case"y":this.isState("casting-to-integer")?t.push(this.output[1]):t.push(this.output[1],".0");break;case"z":this.isState("casting-to-integer")?t.push(this.output[2]):t.push(this.output[2],".0");break;default:throw this.astErrorOutput("Unexpected expression",e)}return t;case"value":throw this.astErrorOutput("Unexpected expression",e);case"value[]":case"value[][]":case"value[][][]":case"value[][][][]":case"value.value":if("Math"===s)return t.push(Math[o]),t;var h=n.sanitizeName(o);switch(i){case"r":return t.push("user_".concat(h,".r")),t;case"g":return t.push("user_".concat(h,".g")),t;case"b":return t.push("user_".concat(h,".b")),t;case"a":return t.push("user_".concat(h,".a")),t}break;case"this.constants.value":if(void 0===u)switch(a){case"Array(2)":case"Array(3)":case"Array(4)":return t.push("constants_".concat(n.sanitizeName(o))),t}case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":case"this.constants.value[][][][]":break;case"fn()[]":return this.astCallExpression(e.object,t),t.push("["),t.push(this.memberExpressionPropertyMarkup(i)),t.push("]"),t;case"fn()[][]":return this.astCallExpression(e.object.object,t),t.push("["),t.push(this.memberExpressionPropertyMarkup(e.object.property)),t.push("]"),t.push("["),t.push(this.memberExpressionPropertyMarkup(e.property)),t.push("]"),t;case"[][]":return this.astArrayExpression(e.object,t),t.push("["),t.push(this.memberExpressionPropertyMarkup(i)),t.push("]"),t;default:throw this.astErrorOutput("Unexpected expression",e)}if(!1===e.computed)switch(a){case"Number":case"Integer":case"Float":case"Boolean":return t.push("".concat(s,"_").concat(n.sanitizeName(o))),t}var p="".concat(s,"_").concat(n.sanitizeName(o));switch(a){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(e.object,t),t.push("["),t.push(this.memberExpressionPropertyMarkup(u)),t.push("]");break;case"HTMLImageArray":t.push("getImage3D(".concat(p,", ").concat(p,"Size, ").concat(p,"Dim, ")),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"ArrayTexture(1)":t.push("getFloatFromSampler2D(".concat(p,", ").concat(p,"Size, ").concat(p,"Dim, ")),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"Array1D(2)":case"Array2D(2)":case"Array3D(2)":t.push("getMemoryOptimizedVec2(".concat(p,", ").concat(p,"Size, ").concat(p,"Dim, ")),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"ArrayTexture(2)":t.push("getVec2FromSampler2D(".concat(p,", ").concat(p,"Size, ").concat(p,"Dim, ")),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"Array1D(3)":case"Array2D(3)":case"Array3D(3)":t.push("getMemoryOptimizedVec3(".concat(p,", ").concat(p,"Size, ").concat(p,"Dim, ")),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"ArrayTexture(3)":t.push("getVec3FromSampler2D(".concat(p,", ").concat(p,"Size, ").concat(p,"Dim, ")),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"Array1D(4)":case"Array2D(4)":case"Array3D(4)":t.push("getMemoryOptimizedVec4(".concat(p,", ").concat(p,"Size, ").concat(p,"Dim, ")),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"ArrayTexture(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":t.push("getVec4FromSampler2D(".concat(p,", ").concat(p,"Size, ").concat(p,"Dim, ")),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"NumberTexture":case"Array":case"Array2D":case"Array3D":case"Array4D":case"Input":case"Number":case"Float":case"Integer":if("single"===this.precision)t.push("getMemoryOptimized32(".concat(p,", ").concat(p,"Size, ").concat(p,"Dim, ")),this.memberExpressionXYZ(u,l,c,t),t.push(")");else{var f="user"===s?this.lookupFunctionArgumentBitRatio(this.name,o):this.constantBitRatios[o];switch(f){case 1:t.push("get8(".concat(p,", ").concat(p,"Size, ").concat(p,"Dim, "));break;case 2:t.push("get16(".concat(p,", ").concat(p,"Size, ").concat(p,"Dim, "));break;case 4:case 0:t.push("get32(".concat(p,", ").concat(p,"Size, ").concat(p,"Dim, "));break;default:throw new Error("unhandled bit ratio of ".concat(f))}this.memberExpressionXYZ(u,l,c,t),t.push(")")}break;case"MemoryOptimizedNumberTexture":t.push("getMemoryOptimized32(".concat(p,", ").concat(p,"Size, ").concat(p,"Dim, ")),this.memberExpressionXYZ(u,l,c,t),t.push(")");break;case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":t.push("".concat(p,"[").concat(this.memberExpressionPropertyMarkup(l),"]")),l&&t.push("[".concat(this.memberExpressionPropertyMarkup(u),"]"));break;default:throw new Error('unhandled member expression "'.concat(a,'"'))}return t}},{key:"astCallExpression",value:function(e,t){if(!e.callee)throw this.astErrorOutput("Unknown CallExpression",e);var r=null,i=this.isAstMathFunction(e);if(!(r=i||e.callee.object&&"ThisExpression"===e.callee.object.type?e.callee.property.name:"SequenceExpression"!==e.callee.type||"Literal"!==e.callee.expressions[0].type||isNaN(e.callee.expressions[0].raw)?e.callee.name:e.callee.expressions[1].property.name))throw this.astErrorOutput("Unhandled function, couldn't find name",e);switch(r){case"pow":r="_pow";break;case"round":r="_round"}if(this.calledFunctions.indexOf(r)<0&&this.calledFunctions.push(r),"random"===r&&this.plugins&&this.plugins.length>0)for(var o=0;o<this.plugins.length;o++){var s=this.plugins[o];if("Math.random()"===s.functionMatch&&s.functionReplace)return t.push(s.functionReplace),t}if(this.onFunctionCall&&this.onFunctionCall(this.name,r,e.arguments),t.push(r),t.push("("),i)for(var a=0;a<e.arguments.length;++a){var u=e.arguments[a],l=this.getType(u);a>0&&t.push(", "),"Integer"===l?this.castValueToFloat(u,t):this.astGeneric(u,t)}else for(var c=this.lookupFunctionArgumentTypes(r)||[],h=0;h<e.arguments.length;++h){var p=e.arguments[h],f=c[h];h>0&&t.push(", ");var d=this.getType(p);switch(f||(this.triggerImplyArgumentType(r,h,d,this),f=d),d){case"Boolean":this.astGeneric(p,t);continue;case"Number":case"Float":if("Integer"===f){t.push("int("),this.astGeneric(p,t),t.push(")");continue}if("Number"===f||"Float"===f){this.astGeneric(p,t);continue}if("LiteralInteger"===f){this.castLiteralToFloat(p,t);continue}break;case"Integer":if("Number"===f||"Float"===f){t.push("float("),this.astGeneric(p,t),t.push(")");continue}if("Integer"===f){this.astGeneric(p,t);continue}break;case"LiteralInteger":if("Integer"===f){this.castLiteralToInteger(p,t);continue}if("Number"===f||"Float"===f){this.castLiteralToFloat(p,t);continue}if("LiteralInteger"===f){this.astGeneric(p,t);continue}break;case"Array(2)":case"Array(3)":case"Array(4)":if(f===d){if("Identifier"===p.type)t.push("user_".concat(n.sanitizeName(p.name)));else{if("ArrayExpression"!==p.type&&"MemberExpression"!==p.type&&"CallExpression"!==p.type)throw this.astErrorOutput("Unhandled argument type ".concat(p.type),e);this.astGeneric(p,t)}continue}break;case"HTMLCanvas":case"HTMLImage":case"HTMLImageArray":case"HTMLVideo":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"Array":case"Input":if(f===d){if("Identifier"!==p.type)throw this.astErrorOutput("Unhandled argument type ".concat(p.type),e);this.triggerImplyArgumentBitRatio(this.name,p.name,r,h);var m=n.sanitizeName(p.name);t.push("user_".concat(m,",user_").concat(m,"Size,user_").concat(m,"Dim"));continue}}throw this.astErrorOutput("Unhandled argument combination of ".concat(d," and ").concat(f,' for argument named "').concat(p.name,'"'),e)}return t.push(")"),t}},{key:"astArrayExpression",value:function(e,t){var n=this.getType(e),r=e.elements.length;switch(n){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":t.push("mat".concat(r,"("));break;default:t.push("vec".concat(r,"("))}for(var i=0;i<r;++i)i>0&&t.push(", "),this.astGeneric(e.elements[i],t);return t.push(")"),t}},{key:"memberExpressionXYZ",value:function(e,t,n,r){return n?r.push(this.memberExpressionPropertyMarkup(n),", "):r.push("0, "),t?r.push(this.memberExpressionPropertyMarkup(t),", "):r.push("0, "),r.push(this.memberExpressionPropertyMarkup(e)),r}},{key:"memberExpressionPropertyMarkup",value:function(e){if(!e)throw new Error("Property not set");var t=[];switch(this.getType(e)){case"Number":case"Float":this.castValueToInteger(e,t);break;case"LiteralInteger":this.castLiteralToInteger(e,t);break;default:this.astGeneric(e,t)}return t.join("")}}]),t}(e("../function-node").FunctionNode),i={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4","Matrix(2)":"mat2","Matrix(3)":"mat3","Matrix(4)":"mat4",Array2D:"sampler2D",Array3D:"sampler2D",Boolean:"bool",Float:"float",Input:"sampler2D",Integer:"int",Number:"float",LiteralInteger:"float",NumberTexture:"sampler2D",MemoryOptimizedNumberTexture:"sampler2D","ArrayTexture(1)":"sampler2D","ArrayTexture(2)":"sampler2D","ArrayTexture(3)":"sampler2D","ArrayTexture(4)":"sampler2D",HTMLVideo:"sampler2D",HTMLCanvas:"sampler2D",HTMLImage:"sampler2D",HTMLImageArray:"sampler2DArray"},s={"===":"==","!==":"!="};t.exports={WebGLFunctionNode:r}},{"../../utils":114,"../function-node":10}],39:[function(e,t){var n=e("./kernel-value/boolean").WebGLKernelValueBoolean,r=e("./kernel-value/float").WebGLKernelValueFloat,i=e("./kernel-value/integer").WebGLKernelValueInteger,o=e("./kernel-value/html-image").WebGLKernelValueHTMLImage,s=e("./kernel-value/dynamic-html-image").WebGLKernelValueDynamicHTMLImage,a=e("./kernel-value/html-video").WebGLKernelValueHTMLVideo,u=e("./kernel-value/dynamic-html-video").WebGLKernelValueDynamicHTMLVideo,l=e("./kernel-value/single-input").WebGLKernelValueSingleInput,c=e("./kernel-value/dynamic-single-input").WebGLKernelValueDynamicSingleInput,h=e("./kernel-value/unsigned-input").WebGLKernelValueUnsignedInput,p=e("./kernel-value/dynamic-unsigned-input").WebGLKernelValueDynamicUnsignedInput,f=e("./kernel-value/memory-optimized-number-texture").WebGLKernelValueMemoryOptimizedNumberTexture,d=e("./kernel-value/dynamic-memory-optimized-number-texture").WebGLKernelValueDynamicMemoryOptimizedNumberTexture,m=e("./kernel-value/number-texture").WebGLKernelValueNumberTexture,g=e("./kernel-value/dynamic-number-texture").WebGLKernelValueDynamicNumberTexture,y=e("./kernel-value/single-array").WebGLKernelValueSingleArray,v=e("./kernel-value/dynamic-single-array").WebGLKernelValueDynamicSingleArray,b=e("./kernel-value/single-array1d-i").WebGLKernelValueSingleArray1DI,x=e("./kernel-value/dynamic-single-array1d-i").WebGLKernelValueDynamicSingleArray1DI,w=e("./kernel-value/single-array2d-i").WebGLKernelValueSingleArray2DI,_=e("./kernel-value/dynamic-single-array2d-i").WebGLKernelValueDynamicSingleArray2DI,S=e("./kernel-value/single-array3d-i").WebGLKernelValueSingleArray3DI,k=e("./kernel-value/dynamic-single-array3d-i").WebGLKernelValueDynamicSingleArray3DI,T=e("./kernel-value/array2").WebGLKernelValueArray2,A=e("./kernel-value/array3").WebGLKernelValueArray3,E=e("./kernel-value/array4").WebGLKernelValueArray4,C=e("./kernel-value/unsigned-array").WebGLKernelValueUnsignedArray,L={unsigned:{dynamic:{Boolean:n,Integer:i,Float:r,Array:e("./kernel-value/dynamic-unsigned-array").WebGLKernelValueDynamicUnsignedArray,"Array(2)":T,"Array(3)":A,"Array(4)":E,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:p,NumberTexture:g,"ArrayTexture(1)":g,"ArrayTexture(2)":g,"ArrayTexture(3)":g,"ArrayTexture(4)":g,MemoryOptimizedNumberTexture:d,HTMLCanvas:s,HTMLImage:s,HTMLImageArray:!1,HTMLVideo:u},static:{Boolean:n,Float:r,Integer:i,Array:C,"Array(2)":T,"Array(3)":A,"Array(4)":E,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:h,NumberTexture:m,"ArrayTexture(1)":m,"ArrayTexture(2)":m,"ArrayTexture(3)":m,"ArrayTexture(4)":m,MemoryOptimizedNumberTexture:f,HTMLCanvas:o,HTMLImage:o,HTMLImageArray:!1,HTMLVideo:a}},single:{dynamic:{Boolean:n,Integer:i,Float:r,Array:v,"Array(2)":T,"Array(3)":A,"Array(4)":E,"Array1D(2)":x,"Array1D(3)":x,"Array1D(4)":x,"Array2D(2)":_,"Array2D(3)":_,"Array2D(4)":_,"Array3D(2)":k,"Array3D(3)":k,"Array3D(4)":k,Input:c,NumberTexture:g,"ArrayTexture(1)":g,"ArrayTexture(2)":g,"ArrayTexture(3)":g,"ArrayTexture(4)":g,MemoryOptimizedNumberTexture:d,HTMLCanvas:s,HTMLImage:s,HTMLImageArray:!1,HTMLVideo:u},static:{Boolean:n,Float:r,Integer:i,Array:y,"Array(2)":T,"Array(3)":A,"Array(4)":E,"Array1D(2)":b,"Array1D(3)":b,"Array1D(4)":b,"Array2D(2)":w,"Array2D(3)":w,"Array2D(4)":w,"Array3D(2)":S,"Array3D(3)":S,"Array3D(4)":S,Input:l,NumberTexture:m,"ArrayTexture(1)":m,"ArrayTexture(2)":m,"ArrayTexture(3)":m,"ArrayTexture(4)":m,MemoryOptimizedNumberTexture:f,HTMLCanvas:o,HTMLImage:o,HTMLImageArray:!1,HTMLVideo:a}}};t.exports={lookupKernelValueType:function(e,t,n,r){if(!e)throw new Error("type missing");if(!t)throw new Error("dynamic missing");if(!n)throw new Error("precision missing");r.type&&(e=r.type);var i=L[n][t];if(!1===i[e])return null;if(void 0===i[e])throw new Error("Could not find a KernelValue for ".concat(e));return i[e]},kernelValueMaps:L}},{"./kernel-value/array2":41,"./kernel-value/array3":42,"./kernel-value/array4":43,"./kernel-value/boolean":44,"./kernel-value/dynamic-html-image":45,"./kernel-value/dynamic-html-video":46,"./kernel-value/dynamic-memory-optimized-number-texture":47,"./kernel-value/dynamic-number-texture":48,"./kernel-value/dynamic-single-array":49,"./kernel-value/dynamic-single-array1d-i":50,"./kernel-value/dynamic-single-array2d-i":51,"./kernel-value/dynamic-single-array3d-i":52,"./kernel-value/dynamic-single-input":53,"./kernel-value/dynamic-unsigned-array":54,"./kernel-value/dynamic-unsigned-input":55,"./kernel-value/float":56,"./kernel-value/html-image":57,"./kernel-value/html-video":58,"./kernel-value/integer":60,"./kernel-value/memory-optimized-number-texture":61,"./kernel-value/number-texture":62,"./kernel-value/single-array":63,"./kernel-value/single-array1d-i":64,"./kernel-value/single-array2d-i":65,"./kernel-value/single-array3d-i":66,"./kernel-value/single-input":67,"./kernel-value/unsigned-array":68,"./kernel-value/unsigned-input":69}],40:[function(e,t){var n=e("./index").WebGLKernelValue,r=e("../../../input").Input,i=function(e){function t(){return n.apply(this,arguments)}a(t,e);var n=l(t);return o(t,[{key:"checkSize",value:function(e,t){if(this.kernel.validate){var n=this.kernel.constructor.features.maxTextureSize;if(e>n||t>n)throw e>t?new Error("Argument texture width of ".concat(e," larger than maximum size of ").concat(n," for your GPU")):e<t?new Error("Argument texture height of ".concat(t," larger than maximum size of ").concat(n," for your GPU")):new Error("Argument texture height and width of ".concat(t," larger than maximum size of ").concat(n," for your GPU"))}}},{key:"setup",value:function(){this.requestTexture(),this.setupTexture(),this.defineTexture()}},{key:"requestTexture",value:function(){this.texture=this.onRequestTexture()}},{key:"defineTexture",value:function(){var e=this.context;e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)}},{key:"setupTexture",value:function(){this.contextHandle=this.onRequestContextHandle(),this.index=this.onRequestIndex(),this.dimensionsId=this.id+"Dim",this.sizeId=this.id+"Size"}},{key:"getBitRatio",value:function(e){if(Array.isArray(e[0]))return this.getBitRatio(e[0]);if(e.constructor===r)return this.getBitRatio(e.value);switch(e.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}},{key:"destroy",value:function(){this.prevArg&&this.prevArg.delete(),this.context.deleteTexture(this.texture)}}]),t}(n);t.exports={WebGLKernelArray:i}},{"../../../input":110,"./index":59}],41:[function(e,t){var n=e("./index");t.exports={WebGLKernelValueArray2:function(e){function t(e,t){var r;return(r=n.call(this,e,t)).uploadValue=e,r}a(t,e);var n=l(t);return o(t,[{key:"getSource",value:function(e){return"constants"===this.origin?"const vec2 ".concat(this.id," = vec2(").concat(e[0],",").concat(e[1],");\n"):"uniform vec2 ".concat(this.id,";\n")}},{key:"getStringValueHandler",value:function(){return"constants"===this.origin?"":"const uploadValue_".concat(this.name," = ").concat(this.varName,";\n")}},{key:"updateValue",value:function(e){"constants"!==this.origin&&this.kernel.setUniform2fv(this.id,this.uploadValue=e)}}]),t}(n.WebGLKernelValue)}},{"./index":59}],42:[function(e,t){var n=e("./index");t.exports={WebGLKernelValueArray3:function(e){function t(e,t){var r;return(r=n.call(this,e,t)).uploadValue=e,r}a(t,e);var n=l(t);return o(t,[{key:"getSource",value:function(e){return"constants"===this.origin?"const vec3 ".concat(this.id," = vec3(").concat(e[0],",").concat(e[1],",").concat(e[2],");\n"):"uniform vec3 ".concat(this.id,";\n")}},{key:"getStringValueHandler",value:function(){return"constants"===this.origin?"":"const uploadValue_".concat(this.name," = ").concat(this.varName,";\n")}},{key:"updateValue",value:function(e){"constants"!==this.origin&&this.kernel.setUniform3fv(this.id,this.uploadValue=e)}}]),t}(n.WebGLKernelValue)}},{"./index":59}],43:[function(e,t){var n=e("./index");t.exports={WebGLKernelValueArray4:function(e){function t(e,t){var r;return(r=n.call(this,e,t)).uploadValue=e,r}a(t,e);var n=l(t);return o(t,[{key:"getSource",value:function(e){return"constants"===this.origin?"const vec4 ".concat(this.id," = vec4(").concat(e[0],",").concat(e[1],",").concat(e[2],",").concat(e[3],");\n"):"uniform vec4 ".concat(this.id,";\n")}},{key:"getStringValueHandler",value:function(){return"constants"===this.origin?"":"const uploadValue_".concat(this.name," = ").concat(this.varName,";\n")}},{key:"updateValue",value:function(e){"constants"!==this.origin&&this.kernel.setUniform4fv(this.id,this.uploadValue=e)}}]),t}(n.WebGLKernelValue)}},{"./index":59}],44:[function(e,t){e("../../../utils");var n=e("./index");t.exports={WebGLKernelValueBoolean:function(e){function t(e,t){var r;return(r=n.call(this,e,t)).uploadValue=e,r}a(t,e);var n=l(t);return o(t,[{key:"getSource",value:function(e){return"constants"===this.origin?"const bool ".concat(this.id," = ").concat(e,";\n"):"uniform bool ".concat(this.id,";\n")}},{key:"getStringValueHandler",value:function(){return"const uploadValue_".concat(this.name," = ").concat(this.varName,";\n")}},{key:"updateValue",value:function(e){"constants"!==this.origin&&this.kernel.setUniform1i(this.id,this.uploadValue=e)}}]),t}(n.WebGLKernelValue)}},{"../../../utils":114,"./index":59}],45:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"uniform ivec2 ".concat(this.sizeId),"uniform ivec3 ".concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){var n=e.width,i=e.height;this.checkSize(n,i),this.dimensions=[n,i,1],this.textureSize=[n,i],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("./html-image").WebGLKernelValueHTMLImage);t.exports={WebGLKernelValueDynamicHTMLImage:i}},{"../../../utils":114,"./html-image":57}],46:[function(e,t){var n=function(e){function t(){return n.apply(this,arguments)}a(t,e);var n=l(t);return t}(e("./dynamic-html-image").WebGLKernelValueDynamicHTMLImage);t.exports={WebGLKernelValueDynamicHTMLVideo:n}},{"./dynamic-html-image":45}],47:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"uniform ivec2 ".concat(this.sizeId),"uniform ivec3 ".concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){this.dimensions=e.dimensions,this.checkSize(e.size[0],e.size[1]),this.textureSize=e.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("./memory-optimized-number-texture").WebGLKernelValueMemoryOptimizedNumberTexture);t.exports={WebGLKernelValueDynamicMemoryOptimizedNumberTexture:i}},{"../../../utils":114,"./memory-optimized-number-texture":61}],48:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"uniform ivec2 ".concat(this.sizeId),"uniform ivec3 ".concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){this.dimensions=e.dimensions,this.checkSize(e.size[0],e.size[1]),this.textureSize=e.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("./number-texture").WebGLKernelValueNumberTexture);t.exports={WebGLKernelValueDynamicNumberTexture:i}},{"../../../utils":114,"./number-texture":62}],49:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"uniform ivec2 ".concat(this.sizeId),"uniform ivec3 ".concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){this.dimensions=n.getDimensions(e,!0),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("./single-array").WebGLKernelValueSingleArray);t.exports={WebGLKernelValueDynamicSingleArray:i}},{"../../../utils":114,"./single-array":63}],50:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"uniform ivec2 ".concat(this.sizeId),"uniform ivec3 ".concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("./single-array1d-i").WebGLKernelValueSingleArray1DI);t.exports={WebGLKernelValueDynamicSingleArray1DI:i}},{"../../../utils":114,"./single-array1d-i":64}],51:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"uniform ivec2 ".concat(this.sizeId),"uniform ivec3 ".concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("./single-array2d-i").WebGLKernelValueSingleArray2DI);t.exports={WebGLKernelValueDynamicSingleArray2DI:i}},{"../../../utils":114,"./single-array2d-i":65}],52:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"uniform ivec2 ".concat(this.sizeId),"uniform ivec3 ".concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("./single-array3d-i").WebGLKernelValueSingleArray3DI);t.exports={WebGLKernelValueDynamicSingleArray3DI:i}},{"../../../utils":114,"./single-array3d-i":66}],53:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"uniform ivec2 ".concat(this.sizeId),"uniform ivec3 ".concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){var i=f(e.size,3);this.dimensions=new Int32Array([i[0]||1,i[1]||1,i[2]||1]),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("./single-input").WebGLKernelValueSingleInput);t.exports={WebGLKernelValueDynamicSingleInput:i}},{"../../../utils":114,"./single-input":67}],54:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"uniform ivec2 ".concat(this.sizeId),"uniform ivec3 ".concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){this.dimensions=n.getDimensions(e,!0),this.textureSize=n.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);var i=this.getTransferArrayType(e);this.preUploadValue=new i(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("./unsigned-array").WebGLKernelValueUnsignedArray);t.exports={WebGLKernelValueDynamicUnsignedArray:i}},{"../../../utils":114,"./unsigned-array":68}],55:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"uniform ivec2 ".concat(this.sizeId),"uniform ivec3 ".concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){var i=f(e.size,3);this.dimensions=new Int32Array([i[0]||1,i[1]||1,i[2]||1]),this.textureSize=n.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);var o=this.getTransferArrayType(e.value);this.preUploadValue=new o(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("./unsigned-input").WebGLKernelValueUnsignedInput);t.exports={WebGLKernelValueDynamicUnsignedInput:i}},{"../../../utils":114,"./unsigned-input":69}],56:[function(e,t){e("../../../utils");var n=e("./index");t.exports={WebGLKernelValueFloat:function(e){function t(e,t){var r;return(r=n.call(this,e,t)).uploadValue=e,r}a(t,e);var n=l(t);return o(t,[{key:"getStringValueHandler",value:function(){return"const uploadValue_".concat(this.name," = ").concat(this.varName,";\n")}},{key:"getSource",value:function(e){return"constants"===this.origin?Number.isInteger(e)?"const float ".concat(this.id," = ").concat(e,".0;\n"):"const float ".concat(this.id," = ").concat(e,";\n"):"uniform float ".concat(this.id,";\n")}},{key:"updateValue",value:function(e){"constants"!==this.origin&&this.kernel.setUniform1f(this.id,this.uploadValue=e)}}]),t}(n.WebGLKernelValue)}},{"../../../utils":114,"./index":59}],57:[function(e,t){var n=e("../../../utils").utils,r=e("./array");t.exports={WebGLKernelValueHTMLImage:function(e){function t(e,t){var n;n=r.call(this,e,t);var i=e.width,o=e.height;return n.checkSize(i,o),n.dimensions=[i,o,1],n.textureSize=[i,o],n.uploadValue=e,n}a(t,e);var r=l(t);return o(t,[{key:"getStringValueHandler",value:function(){return"const uploadValue_".concat(this.name," = ").concat(this.varName,";\n")}},{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"ivec2 ".concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"ivec3 ".concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}},{key:"updateValue",value:function(e){if(e.constructor===this.initialValueConstructor){var t=this.context;t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue=e),this.kernel.setUniform1i(this.id,this.index)}else this.onUpdateValueMismatch(e.constructor)}}]),t}(r.WebGLKernelArray)}},{"../../../utils":114,"./array":40}],58:[function(e,t){var n=function(e){function t(){return n.apply(this,arguments)}a(t,e);var n=l(t);return t}(e("./html-image").WebGLKernelValueHTMLImage);t.exports={WebGLKernelValueHTMLVideo:n}},{"./html-image":57}],59:[function(e,t){var n=e("../../../utils").utils,r=e("../../kernel-value");t.exports={WebGLKernelValue:function(e){function t(e,t){var n;return(n=r.call(this,e,t)).dimensionsId=null,n.sizeId=null,n.initialValueConstructor=e.constructor,n.onRequestTexture=t.onRequestTexture,n.onRequestIndex=t.onRequestIndex,n.uploadValue=null,n.textureSize=null,n.bitRatio=null,n.prevArg=null,n}a(t,e);var r=l(t);return o(t,[{key:"id",get:function(){return"".concat(this.origin,"_").concat(n.sanitizeName(this.name))}},{key:"setup",value:function(){}},{key:"getTransferArrayType",value:function(e){if(Array.isArray(e[0]))return this.getTransferArrayType(e[0]);switch(e.constructor){case Array:case Int32Array:case Int16Array:case Int8Array:return Float32Array;case Uint8ClampedArray:case Uint8Array:case Uint16Array:case Uint32Array:case Float32Array:case Float64Array:return e.constructor}return console.warn("Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros"),e.constructor}},{key:"getStringValueHandler",value:function(){throw new Error('"getStringValueHandler" not implemented on '.concat(this.constructor.name))}},{key:"getVariablePrecisionString",value:function(){return this.kernel.getVariablePrecisionString(this.textureSize||void 0,this.tactic||void 0)}},{key:"destroy",value:function(){}}]),t}(r.KernelValue)}},{"../../../utils":114,"../../kernel-value":35}],60:[function(e,t){e("../../../utils");var n=e("./index");t.exports={WebGLKernelValueInteger:function(e){function t(e,t){var r;return(r=n.call(this,e,t)).uploadValue=e,r}a(t,e);var n=l(t);return o(t,[{key:"getStringValueHandler",value:function(){return"const uploadValue_".concat(this.name," = ").concat(this.varName,";\n")}},{key:"getSource",value:function(e){return"constants"===this.origin?"const int ".concat(this.id," = ").concat(parseInt(e),";\n"):"uniform int ".concat(this.id,";\n")}},{key:"updateValue",value:function(e){"constants"!==this.origin&&this.kernel.setUniform1i(this.id,this.uploadValue=e)}}]),t}(n.WebGLKernelValue)}},{"../../../utils":114,"./index":59}],61:[function(e,t){var n=e("../../../utils").utils,r=e("./array"),i="Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()";t.exports={WebGLKernelValueMemoryOptimizedNumberTexture:function(e){function t(e,t){var n;n=r.call(this,e,t);var i=f(e.size,2);return n.checkSize(i[0],i[1]),n.dimensions=e.dimensions,n.textureSize=e.size,n.uploadValue=e.texture,n.forceUploadEachRun=!0,n}a(t,e);var r=l(t);return o(t,[{key:"setup",value:function(){this.setupTexture()}},{key:"getStringValueHandler",value:function(){return"const uploadValue_".concat(this.name," = ").concat(this.varName,".texture;\n")}},{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"ivec2 ".concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"ivec3 ".concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}},{key:"updateValue",value:function(e){if(e.constructor===this.initialValueConstructor){if(this.checkContext&&e.context!==this.context)throw new Error("Value ".concat(this.name," (").concat(this.type,") must be from same context"));var t=this.kernel,n=this.context;if(t.pipeline)if(t.immutable)t.updateTextureArgumentRefs(this,e);else{if(t.texture&&t.texture.texture===e.texture)throw new Error(i);if(t.mappedTextures)for(var r=t.mappedTextures,o=0;o<r.length;o++)if(r[o].texture===e.texture)throw new Error(i)}n.activeTexture(this.contextHandle),n.bindTexture(n.TEXTURE_2D,this.uploadValue=e.texture),this.kernel.setUniform1i(this.id,this.index)}else this.onUpdateValueMismatch(e.constructor)}}]),t}(r.WebGLKernelArray),sameError:i}},{"../../../utils":114,"./array":40}],62:[function(e,t){var n=e("../../../utils").utils,r=e("./array").WebGLKernelArray,i=e("./memory-optimized-number-texture").sameError;t.exports={WebGLKernelValueNumberTexture:function(e){function t(e,t){var n;n=r.call(this,e,t);var i=f(e.size,2);n.checkSize(i[0],i[1]);var o=e.size,s=e.dimensions;return n.bitRatio=n.getBitRatio(e),n.dimensions=s,n.textureSize=o,n.uploadValue=e.texture,n.forceUploadEachRun=!0,n}a(t,e);var r=l(t);return o(t,[{key:"setup",value:function(){this.setupTexture()}},{key:"getStringValueHandler",value:function(){return"const uploadValue_".concat(this.name," = ").concat(this.varName,".texture;\n")}},{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"ivec2 ".concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"ivec3 ".concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}},{key:"updateValue",value:function(e){if(e.constructor===this.initialValueConstructor){if(this.checkContext&&e.context!==this.context)throw new Error("Value ".concat(this.name," (").concat(this.type,") must be from same context"));var t=this.kernel,n=this.context;if(t.pipeline)if(t.immutable)t.updateTextureArgumentRefs(this,e);else{if(t.texture&&t.texture.texture===e.texture)throw new Error(i);if(t.mappedTextures)for(var r=t.mappedTextures,o=0;o<r.length;o++)if(r[o].texture===e.texture)throw new Error(i)}n.activeTexture(this.contextHandle),n.bindTexture(n.TEXTURE_2D,this.uploadValue=e.texture),this.kernel.setUniform1i(this.id,this.index)}else this.onUpdateValueMismatch(e.constructor)}}]),t}(r)}},{"../../../utils":114,"./array":40,"./memory-optimized-number-texture":61}],63:[function(e,t){var n=e("../../../utils").utils,r=e("./array");t.exports={WebGLKernelValueSingleArray:function(e){function t(e,t){var i;return(i=r.call(this,e,t)).bitRatio=4,i.dimensions=n.getDimensions(e,!0),i.textureSize=n.getMemoryOptimizedFloatTextureSize(i.dimensions,i.bitRatio),i.uploadArrayLength=i.textureSize[0]*i.textureSize[1]*i.bitRatio,i.checkSize(i.textureSize[0],i.textureSize[1]),i.uploadValue=new Float32Array(i.uploadArrayLength),i}a(t,e);var r=l(t);return o(t,[{key:"getStringValueHandler",value:function(){return n.linesToString(["const uploadValue_".concat(this.name," = new Float32Array(").concat(this.uploadArrayLength,")"),"flattenTo(".concat(this.varName,", uploadValue_").concat(this.name,")")])}},{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"ivec2 ".concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"ivec3 ".concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}},{key:"updateValue",value:function(e){if(e.constructor===this.initialValueConstructor){var t=this.context;n.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}else this.onUpdateValueMismatch(e.constructor)}}]),t}(r.WebGLKernelArray)}},{"../../../utils":114,"./array":40}],64:[function(e,t){var n=e("../../../utils").utils,r=e("./array");t.exports={WebGLKernelValueSingleArray1DI:function(e){function t(e,t){var n;return(n=r.call(this,e,t)).bitRatio=4,n.setShape(e),n}a(t,e);var r=l(t);return o(t,[{key:"setShape",value:function(e){var t=n.getDimensions(e,!0);this.textureSize=n.getMemoryOptimizedFloatTextureSize(t,this.bitRatio),this.dimensions=new Int32Array([t[1],1,1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}},{key:"getStringValueHandler",value:function(){return n.linesToString(["const uploadValue_".concat(this.name," = new Float32Array(").concat(this.uploadArrayLength,")"),"flattenTo(".concat(this.varName,", uploadValue_").concat(this.name,")")])}},{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"ivec2 ".concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"ivec3 ".concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}},{key:"updateValue",value:function(e){if(e.constructor===this.initialValueConstructor){var t=this.context;n.flatten2dArrayTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}else this.onUpdateValueMismatch(e.constructor)}}]),t}(r.WebGLKernelArray)}},{"../../../utils":114,"./array":40}],65:[function(e,t){var n=e("../../../utils").utils,r=e("./array");t.exports={WebGLKernelValueSingleArray2DI:function(e){function t(e,t){var n;return(n=r.call(this,e,t)).bitRatio=4,n.setShape(e),n}a(t,e);var r=l(t);return o(t,[{key:"setShape",value:function(e){var t=n.getDimensions(e,!0);this.textureSize=n.getMemoryOptimizedFloatTextureSize(t,this.bitRatio),this.dimensions=new Int32Array([t[1],t[2],1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}},{key:"getStringValueHandler",value:function(){return n.linesToString(["const uploadValue_".concat(this.name," = new Float32Array(").concat(this.uploadArrayLength,")"),"flattenTo(".concat(this.varName,", uploadValue_").concat(this.name,")")])}},{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"ivec2 ".concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"ivec3 ".concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}},{key:"updateValue",value:function(e){if(e.constructor===this.initialValueConstructor){var t=this.context;n.flatten3dArrayTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}else this.onUpdateValueMismatch(e.constructor)}}]),t}(r.WebGLKernelArray)}},{"../../../utils":114,"./array":40}],66:[function(e,t){var n=e("../../../utils").utils,r=e("./array");t.exports={WebGLKernelValueSingleArray3DI:function(e){function t(e,t){var n;return(n=r.call(this,e,t)).bitRatio=4,n.setShape(e),n}a(t,e);var r=l(t);return o(t,[{key:"setShape",value:function(e){var t=n.getDimensions(e,!0);this.textureSize=n.getMemoryOptimizedFloatTextureSize(t,this.bitRatio),this.dimensions=new Int32Array([t[1],t[2],t[3]]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}},{key:"getStringValueHandler",value:function(){return n.linesToString(["const uploadValue_".concat(this.name," = new Float32Array(").concat(this.uploadArrayLength,")"),"flattenTo(".concat(this.varName,", uploadValue_").concat(this.name,")")])}},{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"ivec2 ".concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"ivec3 ".concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}},{key:"updateValue",value:function(e){if(e.constructor===this.initialValueConstructor){var t=this.context;n.flatten4dArrayTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}else this.onUpdateValueMismatch(e.constructor)}}]),t}(r.WebGLKernelArray)}},{"../../../utils":114,"./array":40}],67:[function(e,t){var n=e("../../../utils").utils,r=e("./array");t.exports={WebGLKernelValueSingleInput:function(e){function t(e,t){var i;(i=r.call(this,e,t)).bitRatio=4;var o=f(e.size,3);return i.dimensions=new Int32Array([o[0]||1,o[1]||1,o[2]||1]),i.textureSize=n.getMemoryOptimizedFloatTextureSize(i.dimensions,i.bitRatio),i.uploadArrayLength=i.textureSize[0]*i.textureSize[1]*i.bitRatio,i.checkSize(i.textureSize[0],i.textureSize[1]),i.uploadValue=new Float32Array(i.uploadArrayLength),i}a(t,e);var r=l(t);return o(t,[{key:"getStringValueHandler",value:function(){return n.linesToString(["const uploadValue_".concat(this.name," = new Float32Array(").concat(this.uploadArrayLength,")"),"flattenTo(".concat(this.varName,".value, uploadValue_").concat(this.name,")")])}},{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"ivec2 ".concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"ivec3 ".concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}},{key:"updateValue",value:function(e){if(e.constructor===this.initialValueConstructor){var t=this.context;n.flattenTo(e.value,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}else this.onUpdateValueMismatch(e.constructor)}}]),t}(r.WebGLKernelArray)}},{"../../../utils":114,"./array":40}],68:[function(e,t){var n=e("../../../utils").utils,r=e("./array");t.exports={WebGLKernelValueUnsignedArray:function(e){function t(e,t){var i;return(i=r.call(this,e,t)).bitRatio=i.getBitRatio(e),i.dimensions=n.getDimensions(e,!0),i.textureSize=n.getMemoryOptimizedPackedTextureSize(i.dimensions,i.bitRatio),i.uploadArrayLength=i.textureSize[0]*i.textureSize[1]*(4/i.bitRatio),i.checkSize(i.textureSize[0],i.textureSize[1]),i.TranserArrayType=i.getTransferArrayType(e),i.preUploadValue=new i.TranserArrayType(i.uploadArrayLength),i.uploadValue=new Uint8Array(i.preUploadValue.buffer),i}a(t,e);var r=l(t);return o(t,[{key:"getStringValueHandler",value:function(){return n.linesToString(["const preUploadValue_".concat(this.name," = new ").concat(this.TranserArrayType.name,"(").concat(this.uploadArrayLength,")"),"const uploadValue_".concat(this.name," = new Uint8Array(preUploadValue_").concat(this.name,".buffer)"),"flattenTo(".concat(this.varName,", preUploadValue_").concat(this.name,")")])}},{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"ivec2 ".concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"ivec3 ".concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}},{key:"updateValue",value:function(e){if(e.constructor===this.initialValueConstructor){var t=this.context;n.flattenTo(e,this.preUploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}else this.onUpdateValueMismatch(e.constructor)}}]),t}(r.WebGLKernelArray)}},{"../../../utils":114,"./array":40}],69:[function(e,t){var n=e("../../../utils").utils,r=e("./array");t.exports={WebGLKernelValueUnsignedInput:function(e){function t(e,t){var i;(i=r.call(this,e,t)).bitRatio=i.getBitRatio(e);var o=f(e.size,3);return i.dimensions=new Int32Array([o[0]||1,o[1]||1,o[2]||1]),i.textureSize=n.getMemoryOptimizedPackedTextureSize(i.dimensions,i.bitRatio),i.uploadArrayLength=i.textureSize[0]*i.textureSize[1]*(4/i.bitRatio),i.checkSize(i.textureSize[0],i.textureSize[1]),i.TranserArrayType=i.getTransferArrayType(e.value),i.preUploadValue=new i.TranserArrayType(i.uploadArrayLength),i.uploadValue=new Uint8Array(i.preUploadValue.buffer),i}a(t,e);var r=l(t);return o(t,[{key:"getStringValueHandler",value:function(){return n.linesToString(["const preUploadValue_".concat(this.name," = new ").concat(this.TranserArrayType.name,"(").concat(this.uploadArrayLength,")"),"const uploadValue_".concat(this.name," = new Uint8Array(preUploadValue_").concat(this.name,".buffer)"),"flattenTo(".concat(this.varName,".value, preUploadValue_").concat(this.name,")")])}},{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"ivec2 ".concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"ivec3 ".concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}},{key:"updateValue",value:function(e){if(e.constructor===this.initialValueConstructor){var t=this.context;n.flattenTo(e.value,this.preUploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}else this.onUpdateValueMismatch(value.constructor)}}]),t}(r.WebGLKernelArray)}},{"../../../utils":114,"./array":40}],70:[function(e,t){var n=e("../gl/kernel").GLKernel,i=e("../function-builder").FunctionBuilder,s=e("./function-node").WebGLFunctionNode,u=e("../../utils").utils,c=e("../../plugins/math-random-uniformly-distributed"),h=e("./fragment-shader").fragmentShader,f=e("./vertex-shader").vertexShader,d=e("../gl/kernel-string").glKernelString,g=e("./kernel-value-maps").lookupKernelValueType,y=null,v=null,b=null,x=null,w=null,_=[c],S=[],k={},T=function(e){function t(e,t){var r;return(r=n.call(this,e,t)).program=null,r.pipeline=t.pipeline,r.endianness=u.systemEndianness(),r.extensions={},r.argumentTextureCount=0,r.constantTextureCount=0,r.fragShader=null,r.vertShader=null,r.drawBuffersMap=null,r.maxTexSize=null,r.onRequestSwitchKernel=null,r.texture=null,r.mappedTextures=null,r.mergeSettings(e.settings||t),r.threadDim=null,r.framebuffer=null,r.buffer=null,r.textureCache=[],r.programUniformLocationCache={},r.uniform1fCache={},r.uniform1iCache={},r.uniform2fCache={},r.uniform2fvCache={},r.uniform2ivCache={},r.uniform3fvCache={},r.uniform3ivCache={},r.uniform4fvCache={},r.uniform4ivCache={},r}a(t,e);var n=l(t);return o(t,[{key:"initCanvas",value:function(){if("undefined"!=typeof document){var e=document.createElement("canvas");return e.width=2,e.height=2,e}if("undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(0,0)}},{key:"initContext",value:function(){var e={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e)}},{key:"initPlugins",value:function(e){var t=[],n=this.source;if("string"==typeof n)for(var r=0;r<_.length;r++){var i=_[r];n.match(i.functionMatch)&&t.push(i)}else if("object"===m(n)&&e.pluginNames)for(var o=function(n){var r=_[n];e.pluginNames.some((function(e){return e===r.name}))&&t.push(r)},s=0;s<_.length;s++)o(s);return t}},{key:"initExtensions",value:function(){this.extensions={OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:this.context.getExtension("WEBGL_color_buffer_float")}}},{key:"validateSettings",value:function(e){if(this.validate){var t=this.constructor.features;if(!0===this.optimizeFloatMemory&&!t.isTextureFloat)throw new Error("Float textures are not supported");if("single"===this.precision&&!t.isFloatRead)throw new Error("Single precision not supported");if(!this.graphical&&null===this.precision&&t.isTextureFloat&&(this.precision=t.isFloatRead?"single":"unsigned"),this.subKernels&&this.subKernels.length>0&&!this.extensions.WEBGL_draw_buffers)throw new Error("could not instantiate draw buffers extension");if(null===this.fixIntegerDivisionAccuracy?this.fixIntegerDivisionAccuracy=!t.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&t.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||0===this.output.length){if(1!==e.length)throw new Error("Auto output only supported for kernels with only one input");var n=u.getVariableType(e[0],this.strictIntegers);switch(n){case"Array":this.output=u.getDimensions(n);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=e[0].output;break;default:throw new Error("Auto output not supported for input type: "+n)}}if(this.graphical){if(2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");return"precision"===this.precision&&(this.precision="unsigned",console.warn("Cannot use graphical mode and single precision at the same time")),void(this.texSize=u.clone(this.output))}null===this.precision&&t.isTextureFloat&&(this.precision="single"),this.texSize=u.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}else this.texSize=u.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output)}},{key:"updateMaxTexSize",value:function(){var e=this.texSize,t=this.canvas;if(null===this.maxTexSize){var n=S.indexOf(t);-1===n&&(n=S.length,S.push(t),k[n]=[e[0],e[1]]),this.maxTexSize=k[n]}this.maxTexSize[0]<e[0]&&(this.maxTexSize[0]=e[0]),this.maxTexSize[1]<e[1]&&(this.maxTexSize[1]=e[1])}},{key:"setupArguments",value:function(e){var t=this;this.kernelArguments=[],this.argumentTextureCount=0;var n=null===this.argumentTypes;if(n&&(this.argumentTypes=[]),this.argumentSizes=[],this.argumentBitRatios=[],e.length<this.argumentNames.length)throw new Error("not enough arguments for kernel");if(e.length>this.argumentNames.length)throw new Error("too many arguments for kernel");for(var r=this.context,i=0,o=function(){return t.createTexture()},s=function(){return t.constantTextureCount+i++},a=function(e){t.switchKernels({type:"argumentMismatch",needed:e})},l=function(){return r.TEXTURE0+t.constantTextureCount+t.argumentTextureCount++},c=0;c<e.length;c++){var h=e[c],p=this.argumentNames[c],f=void 0;n?(f=u.getVariableType(h,this.strictIntegers),this.argumentTypes.push(f)):f=this.argumentTypes[c];var d=this.constructor.lookupKernelValueType(f,this.dynamicArguments?"dynamic":"static",this.precision,e[c]);if(null===d)return this.requestFallback(e);var m=new d(h,{name:p,type:f,tactic:this.tactic,origin:"user",context:r,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:o,onRequestIndex:s,onUpdateValueMismatch:a,onRequestContextHandle:l});this.kernelArguments.push(m),m.setup(),this.argumentSizes.push(m.textureSize),this.argumentBitRatios[c]=m.bitRatio}}},{key:"createTexture",value:function(){var e=this.context.createTexture();return this.textureCache.push(e),e}},{key:"setupConstants",value:function(e){var t=this,n=this.context;this.kernelConstants=[],this.forceUploadKernelConstants=[];var r=null===this.constantTypes;r&&(this.constantTypes={}),this.constantBitRatios={};var i=0;for(var o in this.constants){var s=this.constants[o],a=void 0;r?(a=u.getVariableType(s,this.strictIntegers),this.constantTypes[o]=a):a=this.constantTypes[o];var l=this.constructor.lookupKernelValueType(a,"static",this.precision,s);if(null===l)return this.requestFallback(e);var c=new l(s,{name:o,type:a,tactic:this.tactic,origin:"constants",context:this.context,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:function(){return t.createTexture()},onRequestIndex:function(){return i++},onRequestContextHandle:function(){return n.TEXTURE0+t.constantTextureCount++}});this.constantBitRatios[o]=c.bitRatio,this.kernelConstants.push(c),c.setup(),c.forceUploadEachRun&&this.forceUploadKernelConstants.push(c)}}},{key:"build",value:function(){if(!this.built&&(this.initExtensions(),this.validateSettings(arguments),this.setupConstants(arguments),!this.fallbackRequested&&(this.setupArguments(arguments),!this.fallbackRequested))){this.updateMaxTexSize(),this.translateSource();var e=this.pickRenderStrategy(arguments);if(e)return e;var t=this.texSize,n=this.context,r=this.canvas;n.enable(n.SCISSOR_TEST),n.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),r.width=this.maxTexSize[0],r.height=this.maxTexSize[1];for(var i=this.threadDim=Array.from(this.output);i.length<3;)i.push(1);var o=this.getVertexShader(arguments),s=n.createShader(n.VERTEX_SHADER);n.shaderSource(s,o),n.compileShader(s),this.vertShader=s;var a=this.getFragmentShader(arguments),u=n.createShader(n.FRAGMENT_SHADER);if(n.shaderSource(u,a),n.compileShader(u),this.fragShader=u,this.debug&&(console.log("GLSL Shader Output:"),console.log(a)),!n.getShaderParameter(s,n.COMPILE_STATUS))throw new Error("Error compiling vertex shader: "+n.getShaderInfoLog(s));if(!n.getShaderParameter(u,n.COMPILE_STATUS))throw new Error("Error compiling fragment shader: "+n.getShaderInfoLog(u));var l=this.program=n.createProgram();n.attachShader(l,s),n.attachShader(l,u),n.linkProgram(l),this.framebuffer=n.createFramebuffer(),this.framebuffer.width=t[0],this.framebuffer.height=t[1],this.rawValueFramebuffers={};var c=new Float32Array([-1,-1,1,-1,-1,1,1,1]),h=new Float32Array([0,0,1,0,0,1,1,1]),p=c.byteLength,f=this.buffer;f?n.bindBuffer(n.ARRAY_BUFFER,f):(f=this.buffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,f),n.bufferData(n.ARRAY_BUFFER,c.byteLength+h.byteLength,n.STATIC_DRAW)),n.bufferSubData(n.ARRAY_BUFFER,0,c),n.bufferSubData(n.ARRAY_BUFFER,p,h);var d=n.getAttribLocation(this.program,"aPos");n.enableVertexAttribArray(d),n.vertexAttribPointer(d,2,n.FLOAT,!1,0,0);var m=n.getAttribLocation(this.program,"aTexCoord");n.enableVertexAttribArray(m),n.vertexAttribPointer(m,2,n.FLOAT,!1,0,p),n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer);var g=0;for(var y in n.useProgram(this.program),this.constants)this.kernelConstants[g++].updateValue(this.constants[y]);this._setupOutputTexture(),null!==this.subKernels&&this.subKernels.length>0&&(this._mappedTextureSwitched={},this._setupSubOutputTextures()),this.buildSignature(arguments),this.built=!0}}},{key:"translateSource",value:function(){var e=i.fromKernel(this,s,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=e.getPrototypeString("kernel"),this.setupReturnTypes(e)}},{key:"setupReturnTypes",value:function(e){if(this.graphical||this.returnType||(this.returnType=e.getKernelResultType()),this.subKernels&&this.subKernels.length>0)for(var t=0;t<this.subKernels.length;t++){var n=this.subKernels[t];n.returnType||(n.returnType=e.getSubKernelResultType(t))}}},{key:"run",value:function(){var e=this.kernelArguments,t=this.texSize,n=this.forceUploadKernelConstants,r=this.context;r.useProgram(this.program),r.scissor(0,0,t[0],t[1]),this.dynamicOutput&&(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",t)),this.setUniform2f("ratio",t[0]/this.maxTexSize[0],t[1]/this.maxTexSize[1]);for(var i=0;i<n.length;i++){var o=n[i];if(o.updateValue(this.constants[o.name]),this.switchingKernels)return}for(var s=0;s<e.length;s++)if(e[s].updateValue(arguments[s]),this.switchingKernels)return;if(this.plugins)for(var a=0;a<this.plugins.length;a++){var u=this.plugins[a];u.onBeforeRun&&u.onBeforeRun(this)}if(this.graphical)return this.pipeline?(r.bindRenderbuffer(r.RENDERBUFFER,null),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),r.drawArrays(r.TRIANGLE_STRIP,0,4),this.immutable?this.texture.clone():this.texture):(r.bindRenderbuffer(r.RENDERBUFFER,null),r.bindFramebuffer(r.FRAMEBUFFER,null),void r.drawArrays(r.TRIANGLE_STRIP,0,4));r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),null!==this.subKernels&&(this.immutable&&this._replaceSubOutputTextures(),this.drawBuffers()),r.drawArrays(r.TRIANGLE_STRIP,0,4)}},{key:"drawBuffers",value:function(){this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap)}},{key:"getInternalFormat",value:function(){return this.context.RGBA}},{key:"getTextureFormat",value:function(){var e=this.context;if(this.getInternalFormat()===e.RGBA)return e.RGBA;throw new Error("Unknown internal format")}},{key:"_replaceOutputTexture",value:function(){if(this.texture.beforeMutate()||this._textureSwitched){var e=this.context;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0),this._textureSwitched=!1}}},{key:"_setupOutputTexture",value:function(){var e=this.context,t=this.texSize;if(this.texture)e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0);else{var n=this.createTexture();e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);var r=this.getInternalFormat();"single"===this.precision?e.texImage2D(e.TEXTURE_2D,0,r,t[0],t[1],0,e.RGBA,e.FLOAT,null):e.texImage2D(e.TEXTURE_2D,0,r,t[0],t[1],0,r,e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),this.texture=new this.TextureConstructor({texture:n,size:t,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}}},{key:"_replaceSubOutputTextures",value:function(){for(var e=this.context,t=0;t<this.mappedTextures.length;t++){var n=this.mappedTextures[t];(n.beforeMutate()||this._mappedTextureSwitched[t])&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t+1,e.TEXTURE_2D,n.texture,0),this._mappedTextureSwitched[t]=!1)}}},{key:"_setupSubOutputTextures",value:function(){var e=this.context;if(this.mappedTextures)for(var t=0;t<this.subKernels.length;t++)e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t+1,e.TEXTURE_2D,this.mappedTextures[t].texture,0);else{var n=this.texSize;this.drawBuffersMap=[e.COLOR_ATTACHMENT0],this.mappedTextures=[];for(var r=0;r<this.subKernels.length;r++){var i=this.createTexture();this.drawBuffersMap.push(e.COLOR_ATTACHMENT0+r+1),e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+r),e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n[0],n[1],0,e.RGBA,"single"===this.precision?e.FLOAT:e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+r+1,e.TEXTURE_2D,i,0),this.mappedTextures.push(new this.TextureConstructor({texture:i,size:n,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}}},{key:"setUniform1f",value:function(e,t){if(!this.uniform1fCache.hasOwnProperty(e)||t!==this.uniform1fCache[e]){this.uniform1fCache[e]=t;var n=this.getUniformLocation(e);this.context.uniform1f(n,t)}}},{key:"setUniform1i",value:function(e,t){if(!this.uniform1iCache.hasOwnProperty(e)||t!==this.uniform1iCache[e]){this.uniform1iCache[e]=t;var n=this.getUniformLocation(e);this.context.uniform1i(n,t)}}},{key:"setUniform2f",value:function(e,t,n){if(this.uniform2fCache.hasOwnProperty(e)){var r=this.uniform2fCache[e];if(t===r[0]&&n===r[1])return}this.uniform2fCache[e]=[t,n];var i=this.getUniformLocation(e);this.context.uniform2f(i,t,n)}},{key:"setUniform2fv",value:function(e,t){if(this.uniform2fvCache.hasOwnProperty(e)){var n=this.uniform2fvCache[e];if(t[0]===n[0]&&t[1]===n[1])return}this.uniform2fvCache[e]=t;var r=this.getUniformLocation(e);this.context.uniform2fv(r,t)}},{key:"setUniform2iv",value:function(e,t){if(this.uniform2ivCache.hasOwnProperty(e)){var n=this.uniform2ivCache[e];if(t[0]===n[0]&&t[1]===n[1])return}this.uniform2ivCache[e]=t;var r=this.getUniformLocation(e);this.context.uniform2iv(r,t)}},{key:"setUniform3fv",value:function(e,t){if(this.uniform3fvCache.hasOwnProperty(e)){var n=this.uniform3fvCache[e];if(t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2])return}this.uniform3fvCache[e]=t;var r=this.getUniformLocation(e);this.context.uniform3fv(r,t)}},{key:"setUniform3iv",value:function(e,t){if(this.uniform3ivCache.hasOwnProperty(e)){var n=this.uniform3ivCache[e];if(t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2])return}this.uniform3ivCache[e]=t;var r=this.getUniformLocation(e);this.context.uniform3iv(r,t)}},{key:"setUniform4fv",value:function(e,t){if(this.uniform4fvCache.hasOwnProperty(e)){var n=this.uniform4fvCache[e];if(t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3])return}this.uniform4fvCache[e]=t;var r=this.getUniformLocation(e);this.context.uniform4fv(r,t)}},{key:"setUniform4iv",value:function(e,t){if(this.uniform4ivCache.hasOwnProperty(e)){var n=this.uniform4ivCache[e];if(t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3])return}this.uniform4ivCache[e]=t;var r=this.getUniformLocation(e);this.context.uniform4iv(r,t)}},{key:"getUniformLocation",value:function(e){return this.programUniformLocationCache.hasOwnProperty(e)?this.programUniformLocationCache[e]:this.programUniformLocationCache[e]=this.context.getUniformLocation(this.program,e)}},{key:"_getFragShaderArtifactMap",value:function(e){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),PLUGINS:this._getPluginsString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),INJECTED_NATIVE:this._getInjectedNative(),MAIN_CONSTANTS:this._getMainConstantsString(),MAIN_ARGUMENTS:this._getMainArgumentsString(e),KERNEL:this.getKernelString(),MAIN_RESULT:this.getMainResultString(),FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}},{key:"_getVertShaderArtifactMap",value:function(){return{FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}},{key:"_getHeaderString",value:function(){return null!==this.subKernels?"#extension GL_EXT_draw_buffers : require\n":""}},{key:"_getLoopMaxString",value:function(){return this.loopMaxIterations?" ".concat(parseInt(this.loopMaxIterations),";\n"):" 1000;\n"}},{key:"_getPluginsString",value:function(){var e=this;return this.plugins?this.plugins.map((function(t){return t.source&&e.source.match(t.functionMatch)?t.source:""})).join("\n"):"\n"}},{key:"_getConstantsString",value:function(){var e=[],t=this.threadDim,n=this.texSize;return this.dynamicOutput?e.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"):e.push("ivec3 uOutputDim = ivec3(".concat(t[0],", ").concat(t[1],", ").concat(t[2],")"),"ivec2 uTexSize = ivec2(".concat(n[0],", ").concat(n[1],")")),u.linesToString(e)}},{key:"_getTextureCoordinate",value:function(){var e=this.subKernels;return null===e||e.length<1?"varying vec2 vTexCoord;\n":"out vec2 vTexCoord;\n"}},{key:"_getDecode32EndiannessString",value:function(){return"LE"===this.endianness?"":"  texel.rgba = texel.abgr;\n"}},{key:"_getEncode32EndiannessString",value:function(){return"LE"===this.endianness?"":"  texel.rgba = texel.abgr;\n"}},{key:"_getDivideWithIntegerCheckString",value:function(){return this.fixIntegerDivisionAccuracy?"float divWithIntCheck(float x, float y) {\n  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {\n    return float(int(x) / int(y));\n  }\n  return x / y;\n}\n\nfloat integerCorrectionModulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return number - (divisor * floor(divWithIntCheck(number, divisor)));\n}":""}},{key:"_getMainArgumentsString",value:function(e){for(var t=[],n=this.argumentNames,r=0;r<n.length;r++)t.push(this.kernelArguments[r].getSource(e[r]));return t.join("")}},{key:"_getInjectedNative",value:function(){return this.injectedNative||""}},{key:"_getMainConstantsString",value:function(){var e=[],t=this.constants;if(t){var n=0;for(var r in t)this.constants.hasOwnProperty(r)&&e.push(this.kernelConstants[n++].getSource(this.constants[r]))}return e.join("")}},{key:"getRawValueFramebuffer",value:function(e,t){if(this.rawValueFramebuffers[e]||(this.rawValueFramebuffers[e]={}),!this.rawValueFramebuffers[e][t]){var n=this.context.createFramebuffer();n.width=e,n.height=t,this.rawValueFramebuffers[e][t]=n}return this.rawValueFramebuffers[e][t]}},{key:"getKernelResultDeclaration",value:function(){switch(this.returnType){case"Array(2)":return"vec2 kernelResult";case"Array(3)":return"vec3 kernelResult";case"Array(4)":return"vec4 kernelResult";case"LiteralInteger":case"Float":case"Number":case"Integer":return"float kernelResult";default:if(this.graphical)return"float kernelResult";throw new Error('unrecognized output type "'.concat(this.returnType,'"'))}}},{key:"getKernelString",value:function(){var e=[this.getKernelResultDeclaration()],t=this.subKernels;if(null!==t)switch(this.returnType){case"Number":case"Float":case"Integer":for(var n=0;n<t.length;n++){var r=t[n];e.push("Integer"===r.returnType?"int subKernelResult_".concat(r.name," = 0"):"float subKernelResult_".concat(r.name," = 0.0"))}break;case"Array(2)":for(var i=0;i<t.length;i++)e.push("vec2 subKernelResult_".concat(t[i].name));break;case"Array(3)":for(var o=0;o<t.length;o++)e.push("vec3 subKernelResult_".concat(t[o].name));break;case"Array(4)":for(var s=0;s<t.length;s++)e.push("vec4 subKernelResult_".concat(t[s].name))}return u.linesToString(e)+this.translatedSource}},{key:"getMainResultGraphical",value:function(){return u.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor"])}},{key:"getMainResultPackedPixels",value:function(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error('packed output only usable with Numbers, "'.concat(this.returnType,'" specified'))}}},{key:"getMainResultKernelPackedPixels",value:function(){return u.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0] = ".concat(this.useLegacyEncoder?"legacyEncode32":"encode32","(kernelResult)")])}},{key:"getMainResultSubKernelPackedPixels",value:function(){var e=[];if(!this.subKernels)return"";for(var t=0;t<this.subKernels.length;t++)e.push("Integer"===this.subKernels[t].returnType?"  gl_FragData[".concat(t+1,"] = ").concat(this.useLegacyEncoder?"legacyEncode32":"encode32","(float(subKernelResult_").concat(this.subKernels[t].name,"))"):"  gl_FragData[".concat(t+1,"] = ").concat(this.useLegacyEncoder?"legacyEncode32":"encode32","(subKernelResult_").concat(this.subKernels[t].name,")"));return u.linesToString(e)}},{key:"getMainResultMemoryOptimizedFloats",value:function(){var e=["  index *= 4"];switch(this.returnType){case"Number":case"Integer":case"Float":for(var t=["r","g","b","a"],n=0;n<t.length;n++){var r=t[n];this.getMainResultKernelMemoryOptimizedFloats(e,r),this.getMainResultSubKernelMemoryOptimizedFloats(e,r),n+1<t.length&&e.push("  index += 1")}break;default:throw new Error("optimized output only usable with Numbers, ".concat(this.returnType," specified"))}return u.linesToString(e)}},{key:"getMainResultKernelMemoryOptimizedFloats",value:function(e,t){e.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0].".concat(t," = kernelResult"))}},{key:"getMainResultSubKernelMemoryOptimizedFloats",value:function(e,t){if(!this.subKernels)return e;for(var n=0;n<this.subKernels.length;n++)e.push("Integer"===this.subKernels[n].returnType?"  gl_FragData[".concat(n+1,"].").concat(t," = float(subKernelResult_").concat(this.subKernels[n].name,")"):"  gl_FragData[".concat(n+1,"].").concat(t," = subKernelResult_").concat(this.subKernels[n].name))}},{key:"getMainResultKernelNumberTexture",value:function(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult"]}},{key:"getMainResultSubKernelNumberTexture",value:function(){var e=[];if(!this.subKernels)return e;for(var t=0;t<this.subKernels.length;++t){var n=this.subKernels[t];e.push("Integer"===n.returnType?"  gl_FragData[".concat(t+1,"][0] = float(subKernelResult_").concat(n.name,")"):"  gl_FragData[".concat(t+1,"][0] = subKernelResult_").concat(n.name))}return e}},{key:"getMainResultKernelArray2Texture",value:function(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]"]}},{key:"getMainResultSubKernelArray2Texture",value:function(){var e=[];if(!this.subKernels)return e;for(var t=0;t<this.subKernels.length;++t)e.push("  gl_FragData[".concat(t+1,"][0] = subKernelResult_").concat(this.subKernels[t].name,"[0]"),"  gl_FragData[".concat(t+1,"][1] = subKernelResult_").concat(this.subKernels[t].name,"[1]"));return e}},{key:"getMainResultKernelArray3Texture",value:function(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]","  gl_FragData[0][2] = kernelResult[2]"]}},{key:"getMainResultSubKernelArray3Texture",value:function(){var e=[];if(!this.subKernels)return e;for(var t=0;t<this.subKernels.length;++t)e.push("  gl_FragData[".concat(t+1,"][0] = subKernelResult_").concat(this.subKernels[t].name,"[0]"),"  gl_FragData[".concat(t+1,"][1] = subKernelResult_").concat(this.subKernels[t].name,"[1]"),"  gl_FragData[".concat(t+1,"][2] = subKernelResult_").concat(this.subKernels[t].name,"[2]"));return e}},{key:"getMainResultKernelArray4Texture",value:function(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0] = kernelResult"]}},{key:"getMainResultSubKernelArray4Texture",value:function(){var e=[];if(!this.subKernels)return e;switch(this.returnType){case"Number":case"Float":case"Integer":for(var t=0;t<this.subKernels.length;++t)e.push("Integer"===this.subKernels[t].returnType?"  gl_FragData[".concat(t+1,"] = float(subKernelResult_").concat(this.subKernels[t].name,")"):"  gl_FragData[".concat(t+1,"] = subKernelResult_").concat(this.subKernels[t].name));break;case"Array(2)":for(var n=0;n<this.subKernels.length;++n)e.push("  gl_FragData[".concat(n+1,"][0] = subKernelResult_").concat(this.subKernels[n].name,"[0]"),"  gl_FragData[".concat(n+1,"][1] = subKernelResult_").concat(this.subKernels[n].name,"[1]"));break;case"Array(3)":for(var r=0;r<this.subKernels.length;++r)e.push("  gl_FragData[".concat(r+1,"][0] = subKernelResult_").concat(this.subKernels[r].name,"[0]"),"  gl_FragData[".concat(r+1,"][1] = subKernelResult_").concat(this.subKernels[r].name,"[1]"),"  gl_FragData[".concat(r+1,"][2] = subKernelResult_").concat(this.subKernels[r].name,"[2]"));break;case"Array(4)":for(var i=0;i<this.subKernels.length;++i)e.push("  gl_FragData[".concat(i+1,"][0] = subKernelResult_").concat(this.subKernels[i].name,"[0]"),"  gl_FragData[".concat(i+1,"][1] = subKernelResult_").concat(this.subKernels[i].name,"[1]"),"  gl_FragData[".concat(i+1,"][2] = subKernelResult_").concat(this.subKernels[i].name,"[2]"),"  gl_FragData[".concat(i+1,"][3] = subKernelResult_").concat(this.subKernels[i].name,"[3]"))}return e}},{key:"replaceArtifacts",value:function(e,t){return e.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\n/g,(function(e,n){if(t.hasOwnProperty(n))return t[n];throw"unhandled artifact ".concat(n)}))}},{key:"getFragmentShader",value:function(e){return null!==this.compiledFragmentShader?this.compiledFragmentShader:this.compiledFragmentShader=this.replaceArtifacts(this.constructor.fragmentShader,this._getFragShaderArtifactMap(e))}},{key:"getVertexShader",value:function(e){return null!==this.compiledVertexShader?this.compiledVertexShader:this.compiledVertexShader=this.replaceArtifacts(this.constructor.vertexShader,this._getVertShaderArtifactMap(e))}},{key:"toString",value:function(){var e=u.linesToString(["const gl = context"]);return d(this.constructor,arguments,this,e)}},{key:"destroy",value:function(e){if(this.context){for(var t in this.buffer&&this.context.deleteBuffer(this.buffer),this.framebuffer&&this.context.deleteFramebuffer(this.framebuffer),this.rawValueFramebuffers){for(var n in this.rawValueFramebuffers[t])this.context.deleteFramebuffer(this.rawValueFramebuffers[t][n]),delete this.rawValueFramebuffers[t][n];delete this.rawValueFramebuffers[t]}if(this.vertShader&&this.context.deleteShader(this.vertShader),this.fragShader&&this.context.deleteShader(this.fragShader),this.program&&this.context.deleteProgram(this.program),this.texture){this.texture.delete();var r=this.textureCache.indexOf(this.texture.texture);r>-1&&this.textureCache.splice(r,1),this.texture=null}if(this.mappedTextures&&this.mappedTextures.length){for(var i=0;i<this.mappedTextures.length;i++){var o=this.mappedTextures[i];o.delete();var s=this.textureCache.indexOf(o.texture);s>-1&&this.textureCache.splice(s,1)}this.mappedTextures=null}if(this.kernelArguments)for(var a=0;a<this.kernelArguments.length;a++)this.kernelArguments[a].destroy();if(this.kernelConstants)for(var u=0;u<this.kernelConstants.length;u++)this.kernelConstants[u].destroy();for(;this.textureCache.length>0;){var l=this.textureCache.pop();this.context.deleteTexture(l)}if(e){var c=S.indexOf(this.canvas);c>=0&&(S[c]=null,k[c]=null)}if(this.destroyExtensions(),delete this.context,delete this.canvas,this.gpu){var h=this.gpu.kernels.indexOf(this);-1!==h&&this.gpu.kernels.splice(h,1)}}}},{key:"destroyExtensions",value:function(){this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}},{key:"toJSON",value:function(){var e=r(p(t.prototype),"toJSON",this).call(this);return e.functionNodes=i.fromKernel(this,s).toJSON(),e.settings.threadDim=this.threadDim,e}}],[{key:"isSupported",get:function(){return null!==y?y:(this.setupFeatureChecks(),y=this.isContextMatch(b))}},{key:"setupFeatureChecks",value:function(){"undefined"!=typeof document?v=document.createElement("canvas"):"undefined"!=typeof OffscreenCanvas&&(v=new OffscreenCanvas(0,0)),v&&(b=v.getContext("webgl")||v.getContext("experimental-webgl"))&&b.getExtension&&(x={OES_texture_float:b.getExtension("OES_texture_float"),OES_texture_float_linear:b.getExtension("OES_texture_float_linear"),OES_element_index_uint:b.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:b.getExtension("WEBGL_draw_buffers")},w=this.getFeatures())}},{key:"isContextMatch",value:function(e){return"undefined"!=typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext}},{key:"getIsTextureFloat",value:function(){return Boolean(x.OES_texture_float)}},{key:"getIsDrawBuffers",value:function(){return Boolean(x.WEBGL_draw_buffers)}},{key:"getChannelCount",value:function(){return x.WEBGL_draw_buffers?b.getParameter(x.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}},{key:"getMaxTextureSize",value:function(){return b.getParameter(b.MAX_TEXTURE_SIZE)}},{key:"lookupKernelValueType",value:function(e,t,n,r){return g(e,t,n,r)}},{key:"testCanvas",get:function(){return v}},{key:"testContext",get:function(){return b}},{key:"features",get:function(){return w}},{key:"fragmentShader",get:function(){return h}},{key:"vertexShader",get:function(){return f}},{key:"destroyContext",value:function(e){var t=e.getExtension("WEBGL_lose_context");t&&t.loseContext()}}]),t}(n);t.exports={WebGLKernel:T}},{"../../plugins/math-random-uniformly-distributed":112,"../../utils":114,"../function-builder":9,"../gl/kernel":13,"../gl/kernel-string":12,"./fragment-shader":37,"./function-node":38,"./kernel-value-maps":39,"./vertex-shader":71}],71:[function(e,t){t.exports={vertexShader:"__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nattribute vec2 aPos;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}"}},{}],72:[function(e,t){var n="#version 300 es\n__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nin vec2 vTexCoord;\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat expm1(float x) {\n  return pow(".concat(Math.E,", x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x/y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  return texel[channel] * 255.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  index = index / 4;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return texel[channel];\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, st / vec2(texSize));\n}\n\nvec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, vec3(st / vec2(texSize), z));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n\n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}");t.exports={fragmentShader:n}},{}],73:[function(e,t){var n=e("../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"astIdentifierExpression",value:function(e,t){if("Identifier"!==e.type)throw this.astErrorOutput("IdentifierExpression - not an Identifier",e);var r=this.getType(e),i=n.sanitizeName(e.name);return"Infinity"===e.name?t.push("intBitsToFloat(2139095039)"):"Boolean"===r&&this.argumentNames.indexOf(i)>-1?t.push("bool(user_".concat(i,")")):t.push("user_".concat(i)),t}}]),t}(e("../web-gl/function-node").WebGLFunctionNode);t.exports={WebGL2FunctionNode:r}},{"../../utils":114,"../web-gl/function-node":38}],74:[function(e,t){var n=e("./kernel-value/boolean").WebGL2KernelValueBoolean,r=e("./kernel-value/float").WebGL2KernelValueFloat,i=e("./kernel-value/integer").WebGL2KernelValueInteger,o=e("./kernel-value/html-image").WebGL2KernelValueHTMLImage,s=e("./kernel-value/dynamic-html-image").WebGL2KernelValueDynamicHTMLImage,a=e("./kernel-value/html-image-array").WebGL2KernelValueHTMLImageArray,u=e("./kernel-value/dynamic-html-image-array").WebGL2KernelValueDynamicHTMLImageArray,l=e("./kernel-value/html-video").WebGL2KernelValueHTMLVideo,c=e("./kernel-value/dynamic-html-video").WebGL2KernelValueDynamicHTMLVideo,h=e("./kernel-value/single-input").WebGL2KernelValueSingleInput,p=e("./kernel-value/dynamic-single-input").WebGL2KernelValueDynamicSingleInput,f=e("./kernel-value/unsigned-input").WebGL2KernelValueUnsignedInput,d=e("./kernel-value/dynamic-unsigned-input").WebGL2KernelValueDynamicUnsignedInput,m=e("./kernel-value/memory-optimized-number-texture").WebGL2KernelValueMemoryOptimizedNumberTexture,g=e("./kernel-value/dynamic-memory-optimized-number-texture").WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,y=e("./kernel-value/number-texture").WebGL2KernelValueNumberTexture,v=e("./kernel-value/dynamic-number-texture").WebGL2KernelValueDynamicNumberTexture,b=e("./kernel-value/single-array").WebGL2KernelValueSingleArray,x=e("./kernel-value/dynamic-single-array").WebGL2KernelValueDynamicSingleArray,w=e("./kernel-value/single-array1d-i").WebGL2KernelValueSingleArray1DI,_=e("./kernel-value/dynamic-single-array1d-i").WebGL2KernelValueDynamicSingleArray1DI,S=e("./kernel-value/single-array2d-i").WebGL2KernelValueSingleArray2DI,k=e("./kernel-value/dynamic-single-array2d-i").WebGL2KernelValueDynamicSingleArray2DI,T=e("./kernel-value/single-array3d-i").WebGL2KernelValueSingleArray3DI,A=e("./kernel-value/dynamic-single-array3d-i").WebGL2KernelValueDynamicSingleArray3DI,E=e("./kernel-value/array2").WebGL2KernelValueArray2,C=e("./kernel-value/array3").WebGL2KernelValueArray3,L=e("./kernel-value/array4").WebGL2KernelValueArray4,I=e("./kernel-value/unsigned-array").WebGL2KernelValueUnsignedArray,R={unsigned:{dynamic:{Boolean:n,Integer:i,Float:r,Array:e("./kernel-value/dynamic-unsigned-array").WebGL2KernelValueDynamicUnsignedArray,"Array(2)":E,"Array(3)":C,"Array(4)":L,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:d,NumberTexture:v,"ArrayTexture(1)":v,"ArrayTexture(2)":v,"ArrayTexture(3)":v,"ArrayTexture(4)":v,MemoryOptimizedNumberTexture:g,HTMLCanvas:s,HTMLImage:s,HTMLImageArray:u,HTMLVideo:c},static:{Boolean:n,Float:r,Integer:i,Array:I,"Array(2)":E,"Array(3)":C,"Array(4)":L,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:f,NumberTexture:y,"ArrayTexture(1)":y,"ArrayTexture(2)":y,"ArrayTexture(3)":y,"ArrayTexture(4)":y,MemoryOptimizedNumberTexture:g,HTMLCanvas:o,HTMLImage:o,HTMLImageArray:a,HTMLVideo:l}},single:{dynamic:{Boolean:n,Integer:i,Float:r,Array:x,"Array(2)":E,"Array(3)":C,"Array(4)":L,"Array1D(2)":_,"Array1D(3)":_,"Array1D(4)":_,"Array2D(2)":k,"Array2D(3)":k,"Array2D(4)":k,"Array3D(2)":A,"Array3D(3)":A,"Array3D(4)":A,Input:p,NumberTexture:v,"ArrayTexture(1)":v,"ArrayTexture(2)":v,"ArrayTexture(3)":v,"ArrayTexture(4)":v,MemoryOptimizedNumberTexture:g,HTMLCanvas:s,HTMLImage:s,HTMLImageArray:u,HTMLVideo:c},static:{Boolean:n,Float:r,Integer:i,Array:b,"Array(2)":E,"Array(3)":C,"Array(4)":L,"Array1D(2)":w,"Array1D(3)":w,"Array1D(4)":w,"Array2D(2)":S,"Array2D(3)":S,"Array2D(4)":S,"Array3D(2)":T,"Array3D(3)":T,"Array3D(4)":T,Input:h,NumberTexture:y,"ArrayTexture(1)":y,"ArrayTexture(2)":y,"ArrayTexture(3)":y,"ArrayTexture(4)":y,MemoryOptimizedNumberTexture:m,HTMLCanvas:o,HTMLImage:o,HTMLImageArray:a,HTMLVideo:l}}};t.exports={kernelValueMaps:R,lookupKernelValueType:function(e,t,n,r){if(!e)throw new Error("type missing");if(!t)throw new Error("dynamic missing");if(!n)throw new Error("precision missing");r.type&&(e=r.type);var i=R[n][t];if(!1===i[e])return null;if(void 0===i[e])throw new Error("Could not find a KernelValue for ".concat(e));return i[e]}}},{"./kernel-value/array2":75,"./kernel-value/array3":76,"./kernel-value/array4":77,"./kernel-value/boolean":78,"./kernel-value/dynamic-html-image":80,"./kernel-value/dynamic-html-image-array":79,"./kernel-value/dynamic-html-video":81,"./kernel-value/dynamic-memory-optimized-number-texture":82,"./kernel-value/dynamic-number-texture":83,"./kernel-value/dynamic-single-array":84,"./kernel-value/dynamic-single-array1d-i":85,"./kernel-value/dynamic-single-array2d-i":86,"./kernel-value/dynamic-single-array3d-i":87,"./kernel-value/dynamic-single-input":88,"./kernel-value/dynamic-unsigned-array":89,"./kernel-value/dynamic-unsigned-input":90,"./kernel-value/float":91,"./kernel-value/html-image":93,"./kernel-value/html-image-array":92,"./kernel-value/html-video":94,"./kernel-value/integer":95,"./kernel-value/memory-optimized-number-texture":96,"./kernel-value/number-texture":97,"./kernel-value/single-array":98,"./kernel-value/single-array1d-i":99,"./kernel-value/single-array2d-i":100,"./kernel-value/single-array3d-i":101,"./kernel-value/single-input":102,"./kernel-value/unsigned-array":103,"./kernel-value/unsigned-input":104}],75:[function(e,t){var n=function(e){function t(){return n.apply(this,arguments)}a(t,e);var n=l(t);return t}(e("../../web-gl/kernel-value/array2").WebGLKernelValueArray2);t.exports={WebGL2KernelValueArray2:n}},{"../../web-gl/kernel-value/array2":41}],76:[function(e,t){var n=function(e){function t(){return n.apply(this,arguments)}a(t,e);var n=l(t);return t}(e("../../web-gl/kernel-value/array3").WebGLKernelValueArray3);t.exports={WebGL2KernelValueArray3:n}},{"../../web-gl/kernel-value/array3":42}],77:[function(e,t){var n=function(e){function t(){return n.apply(this,arguments)}a(t,e);var n=l(t);return t}(e("../../web-gl/kernel-value/array4").WebGLKernelValueArray4);t.exports={WebGL2KernelValueArray4:n}},{"../../web-gl/kernel-value/array4":43}],78:[function(e,t){var n=function(e){function t(){return n.apply(this,arguments)}a(t,e);var n=l(t);return t}(e("../../web-gl/kernel-value/boolean").WebGLKernelValueBoolean);t.exports={WebGL2KernelValueBoolean:n}},{"../../web-gl/kernel-value/boolean":44}],79:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2DArray ").concat(this.id),"uniform ".concat(e," ivec2 ").concat(this.sizeId),"uniform ".concat(e," ivec3 ").concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){var n=e[0],i=n.width,o=n.height;this.checkSize(i,o),this.dimensions=[i,o,e.length],this.textureSize=[i,o],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("./html-image-array").WebGL2KernelValueHTMLImageArray);t.exports={WebGL2KernelValueDynamicHTMLImageArray:i}},{"../../../utils":114,"./html-image-array":92}],80:[function(e,t){var n=e("../../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2D ").concat(this.id),"uniform ".concat(e," ivec2 ").concat(this.sizeId),"uniform ".concat(e," ivec3 ").concat(this.dimensionsId)])}}]),t}(e("../../web-gl/kernel-value/dynamic-html-image").WebGLKernelValueDynamicHTMLImage);t.exports={WebGL2KernelValueDynamicHTMLImage:r}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-html-image":45}],81:[function(e,t){e("../../../utils");var n=function(e){function t(){return n.apply(this,arguments)}a(t,e);var n=l(t);return t}(e("./dynamic-html-image").WebGL2KernelValueDynamicHTMLImage);t.exports={WebGL2KernelValueDynamicHTMLVideo:n}},{"../../../utils":114,"./dynamic-html-image":80}],82:[function(e,t){var n=e("../../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"getSource",value:function(){return n.linesToString(["uniform sampler2D ".concat(this.id),"uniform ivec2 ".concat(this.sizeId),"uniform ivec3 ".concat(this.dimensionsId)])}}]),t}(e("../../web-gl/kernel-value/dynamic-memory-optimized-number-texture").WebGLKernelValueDynamicMemoryOptimizedNumberTexture);t.exports={WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:r}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture":47}],83:[function(e,t){var n=e("../../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2D ").concat(this.id),"uniform ".concat(e," ivec2 ").concat(this.sizeId),"uniform ".concat(e," ivec3 ").concat(this.dimensionsId)])}}]),t}(e("../../web-gl/kernel-value/dynamic-number-texture").WebGLKernelValueDynamicNumberTexture);t.exports={WebGL2KernelValueDynamicNumberTexture:r}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-number-texture":48}],84:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2D ").concat(this.id),"uniform ".concat(e," ivec2 ").concat(this.sizeId),"uniform ".concat(e," ivec3 ").concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){this.dimensions=n.getDimensions(e,!0),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("../../web-gl2/kernel-value/single-array").WebGL2KernelValueSingleArray);t.exports={WebGL2KernelValueDynamicSingleArray:i}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array":98}],85:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2D ").concat(this.id),"uniform ".concat(e," ivec2 ").concat(this.sizeId),"uniform ".concat(e," ivec3 ").concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("../../web-gl2/kernel-value/single-array1d-i").WebGL2KernelValueSingleArray1DI);t.exports={WebGL2KernelValueDynamicSingleArray1DI:i}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array1d-i":99}],86:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2D ").concat(this.id),"uniform ".concat(e," ivec2 ").concat(this.sizeId),"uniform ".concat(e," ivec3 ").concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("../../web-gl2/kernel-value/single-array2d-i").WebGL2KernelValueSingleArray2DI);t.exports={WebGL2KernelValueDynamicSingleArray2DI:i}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array2d-i":100}],87:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2D ").concat(this.id),"uniform ".concat(e," ivec2 ").concat(this.sizeId),"uniform ".concat(e," ivec3 ").concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){this.setShape(e),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("../../web-gl2/kernel-value/single-array3d-i").WebGL2KernelValueSingleArray3DI);t.exports={WebGL2KernelValueDynamicSingleArray3DI:i}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array3d-i":101}],88:[function(e,t){var n=e("../../../utils").utils,i=function(e){function t(){return i.apply(this,arguments)}a(t,e);var i=l(t);return o(t,[{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2D ").concat(this.id),"uniform ".concat(e," ivec2 ").concat(this.sizeId),"uniform ".concat(e," ivec3 ").concat(this.dimensionsId)])}},{key:"updateValue",value:function(e){var i=f(e.size,3);this.dimensions=new Int32Array([i[0]||1,i[1]||1,i[2]||1]),this.textureSize=n.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),r(p(t.prototype),"updateValue",this).call(this,e)}}]),t}(e("../../web-gl2/kernel-value/single-input").WebGL2KernelValueSingleInput);t.exports={WebGL2KernelValueDynamicSingleInput:i}},{"../../../utils":114,"../../web-gl2/kernel-value/single-input":102}],89:[function(e,t){var n=e("../../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2D ").concat(this.id),"uniform ".concat(e," ivec2 ").concat(this.sizeId),"uniform ".concat(e," ivec3 ").concat(this.dimensionsId)])}}]),t}(e("../../web-gl/kernel-value/dynamic-unsigned-array").WebGLKernelValueDynamicUnsignedArray);t.exports={WebGL2KernelValueDynamicUnsignedArray:r}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-array":54}],90:[function(e,t){var n=e("../../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2D ").concat(this.id),"uniform ".concat(e," ivec2 ").concat(this.sizeId),"uniform ".concat(e," ivec3 ").concat(this.dimensionsId)])}}]),t}(e("../../web-gl/kernel-value/dynamic-unsigned-input").WebGLKernelValueDynamicUnsignedInput);t.exports={WebGL2KernelValueDynamicUnsignedInput:r}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-input":55}],91:[function(e,t){e("../../../utils");var n=function(e){function t(){return n.apply(this,arguments)}a(t,e);var n=l(t);return t}(e("../../web-gl/kernel-value/float").WebGLKernelValueFloat);t.exports={WebGL2KernelValueFloat:n}},{"../../../utils":114,"../../web-gl/kernel-value/float":56}],92:[function(e,t){var n=e("../../../utils").utils,r=e("../../web-gl/kernel-value/array");t.exports={WebGL2KernelValueHTMLImageArray:function(e){function t(e,t){var n;return(n=r.call(this,e,t)).checkSize(e[0].width,e[0].height),n.dimensions=[e[0].width,e[0].height,e.length],n.textureSize=[e[0].width,e[0].height],n}a(t,e);var r=l(t);return o(t,[{key:"defineTexture",value:function(){var e=this.context;e.activeTexture(this.contextHandle),e.bindTexture(e.TEXTURE_2D_ARRAY,this.texture),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MIN_FILTER,e.NEAREST)}},{key:"getStringValueHandler",value:function(){return"const uploadValue_".concat(this.name," = ").concat(this.varName,";\n")}},{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2DArray ").concat(this.id),"".concat(e," ivec2 ").concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"".concat(e," ivec3 ").concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}},{key:"updateValue",value:function(e){var t=this.context;t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D_ARRAY,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texImage3D(t.TEXTURE_2D_ARRAY,0,t.RGBA,e[0].width,e[0].height,e.length,0,t.RGBA,t.UNSIGNED_BYTE,null);for(var n=0;n<e.length;n++)t.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,n,e[n].width,e[n].height,1,t.RGBA,t.UNSIGNED_BYTE,this.uploadValue=e[n]);this.kernel.setUniform1i(this.id,this.index)}}]),t}(r.WebGLKernelArray)}},{"../../../utils":114,"../../web-gl/kernel-value/array":40}],93:[function(e,t){var n=e("../../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2D ").concat(this.id),"".concat(e," ivec2 ").concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"".concat(e," ivec3 ").concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}}]),t}(e("../../web-gl/kernel-value/html-image").WebGLKernelValueHTMLImage);t.exports={WebGL2KernelValueHTMLImage:r}},{"../../../utils":114,"../../web-gl/kernel-value/html-image":57}],94:[function(e,t){e("../../../utils");var n=function(e){function t(){return n.apply(this,arguments)}a(t,e);var n=l(t);return t}(e("./html-image").WebGL2KernelValueHTMLImage);t.exports={WebGL2KernelValueHTMLVideo:n}},{"../../../utils":114,"./html-image":93}],95:[function(e,t){var n=function(e){function t(){return n.apply(this,arguments)}a(t,e);var n=l(t);return o(t,[{key:"getSource",value:function(e){var t=this.getVariablePrecisionString();return"constants"===this.origin?"const ".concat(t," int ").concat(this.id," = ").concat(parseInt(e),";\n"):"uniform ".concat(t," int ").concat(this.id,";\n")}},{key:"updateValue",value:function(e){"constants"!==this.origin&&this.kernel.setUniform1i(this.id,this.uploadValue=e)}}]),t}(e("../../web-gl/kernel-value/integer").WebGLKernelValueInteger);t.exports={WebGL2KernelValueInteger:n}},{"../../web-gl/kernel-value/integer":60}],96:[function(e,t){var n=e("../../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"getSource",value:function(){var e=this.id,t=this.sizeId,r=this.textureSize,i=this.dimensionsId,o=this.dimensions,s=this.getVariablePrecisionString();return n.linesToString(["uniform sampler2D ".concat(e),"".concat(s," ivec2 ").concat(t," = ivec2(").concat(r[0],", ").concat(r[1],")"),"".concat(s," ivec3 ").concat(i," = ivec3(").concat(o[0],", ").concat(o[1],", ").concat(o[2],")")])}}]),t}(e("../../web-gl/kernel-value/memory-optimized-number-texture").WebGLKernelValueMemoryOptimizedNumberTexture);t.exports={WebGL2KernelValueMemoryOptimizedNumberTexture:r}},{"../../../utils":114,"../../web-gl/kernel-value/memory-optimized-number-texture":61}],97:[function(e,t){var n=e("../../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"getSource",value:function(){var e=this.id,t=this.sizeId,r=this.textureSize,i=this.dimensionsId,o=this.dimensions,s=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(s," sampler2D ").concat(e),"".concat(s," ivec2 ").concat(t," = ivec2(").concat(r[0],", ").concat(r[1],")"),"".concat(s," ivec3 ").concat(i," = ivec3(").concat(o[0],", ").concat(o[1],", ").concat(o[2],")")])}}]),t}(e("../../web-gl/kernel-value/number-texture").WebGLKernelValueNumberTexture);t.exports={WebGL2KernelValueNumberTexture:r}},{"../../../utils":114,"../../web-gl/kernel-value/number-texture":62}],98:[function(e,t){var n=e("../../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2D ").concat(this.id),"".concat(e," ivec2 ").concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"".concat(e," ivec3 ").concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}},{key:"updateValue",value:function(e){if(e.constructor===this.initialValueConstructor){var t=this.context;n.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}else this.onUpdateValueMismatch(e.constructor)}}]),t}(e("../../web-gl/kernel-value/single-array").WebGLKernelValueSingleArray);t.exports={WebGL2KernelValueSingleArray:r}},{"../../../utils":114,"../../web-gl/kernel-value/single-array":63}],99:[function(e,t){var n=e("../../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"updateValue",value:function(e){if(e.constructor===this.initialValueConstructor){var t=this.context;n.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}else this.onUpdateValueMismatch(e.constructor)}}]),t}(e("../../web-gl/kernel-value/single-array1d-i").WebGLKernelValueSingleArray1DI);t.exports={WebGL2KernelValueSingleArray1DI:r}},{"../../../utils":114,"../../web-gl/kernel-value/single-array1d-i":64}],100:[function(e,t){var n=e("../../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"updateValue",value:function(e){if(e.constructor===this.initialValueConstructor){var t=this.context;n.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}else this.onUpdateValueMismatch(e.constructor)}}]),t}(e("../../web-gl/kernel-value/single-array2d-i").WebGLKernelValueSingleArray2DI);t.exports={WebGL2KernelValueSingleArray2DI:r}},{"../../../utils":114,"../../web-gl/kernel-value/single-array2d-i":65}],101:[function(e,t){var n=e("../../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"updateValue",value:function(e){if(e.constructor===this.initialValueConstructor){var t=this.context;n.flattenTo(e,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}else this.onUpdateValueMismatch(e.constructor)}}]),t}(e("../../web-gl/kernel-value/single-array3d-i").WebGLKernelValueSingleArray3DI);t.exports={WebGL2KernelValueSingleArray3DI:r}},{"../../../utils":114,"../../web-gl/kernel-value/single-array3d-i":66}],102:[function(e,t){var n=e("../../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2D ").concat(this.id),"".concat(e," ivec2 ").concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"".concat(e," ivec3 ").concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}},{key:"updateValue",value:function(e){var t=this.context;n.flattenTo(e.value,this.uploadValue),t.activeTexture(this.contextHandle),t.bindTexture(t.TEXTURE_2D,this.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureSize[0],this.textureSize[1],0,t.RGBA,t.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}]),t}(e("../../web-gl/kernel-value/single-input").WebGLKernelValueSingleInput);t.exports={WebGL2KernelValueSingleInput:r}},{"../../../utils":114,"../../web-gl/kernel-value/single-input":67}],103:[function(e,t){var n=e("../../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2D ").concat(this.id),"".concat(e," ivec2 ").concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"".concat(e," ivec3 ").concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}}]),t}(e("../../web-gl/kernel-value/unsigned-array").WebGLKernelValueUnsignedArray);t.exports={WebGL2KernelValueUnsignedArray:r}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-array":68}],104:[function(e,t){var n=e("../../../utils").utils,r=function(e){function t(){return r.apply(this,arguments)}a(t,e);var r=l(t);return o(t,[{key:"getSource",value:function(){var e=this.getVariablePrecisionString();return n.linesToString(["uniform ".concat(e," sampler2D ").concat(this.id),"".concat(e," ivec2 ").concat(this.sizeId," = ivec2(").concat(this.textureSize[0],", ").concat(this.textureSize[1],")"),"".concat(e," ivec3 ").concat(this.dimensionsId," = ivec3(").concat(this.dimensions[0],", ").concat(this.dimensions[1],", ").concat(this.dimensions[2],")")])}}]),t}(e("../../web-gl/kernel-value/unsigned-input").WebGLKernelValueUnsignedInput);t.exports={WebGL2KernelValueUnsignedInput:r}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-input":69}],105:[function(e,t){var n=e("../web-gl/kernel").WebGLKernel,i=e("./function-node").WebGL2FunctionNode,s=e("../function-builder").FunctionBuilder,u=e("../../utils").utils,c=e("./fragment-shader").fragmentShader,h=e("./vertex-shader").vertexShader,f=e("./kernel-value-maps").lookupKernelValueType,d=null,m=null,g=null,y=null,v=function(e){function t(){return n.apply(this,arguments)}a(t,e);var n=l(t);return o(t,[{key:"initContext",value:function(){return this.canvas.getContext("webgl2",{alpha:!1,depth:!1,antialias:!1})}},{key:"initExtensions",value:function(){this.extensions={EXT_color_buffer_float:this.context.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear")}}},{key:"validateSettings",value:function(e){if(this.validate){var t=this.constructor.features;if("single"===this.precision&&!t.isFloatRead)throw new Error("Float texture outputs are not supported");if(this.graphical||null!==this.precision||(this.precision=t.isFloatRead?"single":"unsigned"),null===this.fixIntegerDivisionAccuracy?this.fixIntegerDivisionAccuracy=!t.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&t.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||0===this.output.length){if(1!==e.length)throw new Error("Auto output only supported for kernels with only one input");var n=u.getVariableType(e[0],this.strictIntegers);switch(n){case"Array":this.output=u.getDimensions(n);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=e[0].output;break;default:throw new Error("Auto output not supported for input type: "+n)}}if(this.graphical){if(2!==this.output.length)throw new Error("Output must have 2 dimensions on graphical mode");return"single"===this.precision&&(console.warn("Cannot use graphical mode and single precision at the same time"),this.precision="unsigned"),void(this.texSize=u.clone(this.output))}!this.graphical&&null===this.precision&&t.isTextureFloat&&(this.precision="single"),this.texSize=u.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}else this.texSize=u.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output)}},{key:"translateSource",value:function(){var e=s.fromKernel(this,i,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=e.getPrototypeString("kernel"),this.setupReturnTypes(e)}},{key:"drawBuffers",value:function(){this.context.drawBuffers(this.drawBuffersMap)}},{key:"getTextureFormat",value:function(){var e=this.context;switch(this.getInternalFormat()){case e.R32F:return e.RED;case e.RG32F:return e.RG;case e.RGBA32F:case e.RGBA:return e.RGBA;default:throw new Error("Unknown internal format")}}},{key:"getInternalFormat",value:function(){var e=this.context;if("single"===this.precision){if(this.pipeline)switch(this.returnType){case"Number":case"Float":case"Integer":return this.optimizeFloatMemory?e.RGBA32F:e.R32F;case"Array(2)":return e.RG32F;case"Array(3)":case"Array(4)":return e.RGBA32F;default:throw new Error("Unhandled return type")}return e.RGBA32F}return e.RGBA}},{key:"_setupOutputTexture",value:function(){var e=this.context;if(this.texture)e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0);else{e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer);var t=e.createTexture(),n=this.texSize;e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);var r=this.getInternalFormat();"single"===this.precision?e.texStorage2D(e.TEXTURE_2D,1,r,n[0],n[1]):e.texImage2D(e.TEXTURE_2D,0,r,n[0],n[1],0,r,e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.texture=new this.TextureConstructor({texture:t,size:n,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}}},{key:"_setupSubOutputTextures",value:function(){var e=this.context;if(this.mappedTextures)for(var t=0;t<this.subKernels.length;t++)e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t+1,e.TEXTURE_2D,this.mappedTextures[t].texture,0);else{var n=this.texSize;this.drawBuffersMap=[e.COLOR_ATTACHMENT0],this.mappedTextures=[];for(var r=0;r<this.subKernels.length;r++){var i=this.createTexture();this.drawBuffersMap.push(e.COLOR_ATTACHMENT0+r+1),e.activeTexture(e.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+r),e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);var o=this.getInternalFormat();"single"===this.precision?e.texStorage2D(e.TEXTURE_2D,1,o,n[0],n[1]):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n[0],n[1],0,e.RGBA,e.UNSIGNED_BYTE,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+r+1,e.TEXTURE_2D,i,0),this.mappedTextures.push(new this.TextureConstructor({texture:i,size:n,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}}},{key:"_getHeaderString",value:function(){return""}},{key:"_getTextureCoordinate",value:function(){var e=this.subKernels,t=this.getVariablePrecisionString(this.texSize,this.tactic);return null===e||e.length<1?"in ".concat(t," vec2 vTexCoord;\n"):"out ".concat(t," vec2 vTexCoord;\n")}},{key:"_getMainArgumentsString",value:function(e){for(var t=[],n=this.argumentNames,r=0;r<n.length;r++)t.push(this.kernelArguments[r].getSource(e[r]));return t.join("")}},{key:"getKernelString",value:function(){var e=[this.getKernelResultDeclaration()],t=this.subKernels;if(null!==t)switch(e.push("layout(location = 0) out vec4 data0"),this.returnType){case"Number":case"Float":case"Integer":for(var n=0;n<t.length;n++){var r=t[n];e.push("Integer"===r.returnType?"int subKernelResult_".concat(r.name," = 0"):"float subKernelResult_".concat(r.name," = 0.0"),"layout(location = ".concat(n+1,") out vec4 data").concat(n+1))}break;case"Array(2)":for(var i=0;i<t.length;i++)e.push("vec2 subKernelResult_".concat(t[i].name),"layout(location = ".concat(i+1,") out vec4 data").concat(i+1));break;case"Array(3)":for(var o=0;o<t.length;o++)e.push("vec3 subKernelResult_".concat(t[o].name),"layout(location = ".concat(o+1,") out vec4 data").concat(o+1));break;case"Array(4)":for(var s=0;s<t.length;s++)e.push("vec4 subKernelResult_".concat(t[s].name),"layout(location = ".concat(s+1,") out vec4 data").concat(s+1))}else e.push("out vec4 data0");return u.linesToString(e)+this.translatedSource}},{key:"getMainResultGraphical",value:function(){return u.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor"])}},{key:"getMainResultPackedPixels",value:function(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error('packed output only usable with Numbers, "'.concat(this.returnType,'" specified'))}}},{key:"getMainResultKernelPackedPixels",value:function(){return u.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = ".concat(this.useLegacyEncoder?"legacyEncode32":"encode32","(kernelResult)")])}},{key:"getMainResultSubKernelPackedPixels",value:function(){var e=[];if(!this.subKernels)return"";for(var t=0;t<this.subKernels.length;t++)e.push("Integer"===this.subKernels[t].returnType?"  data".concat(t+1," = ").concat(this.useLegacyEncoder?"legacyEncode32":"encode32","(float(subKernelResult_").concat(this.subKernels[t].name,"))"):"  data".concat(t+1," = ").concat(this.useLegacyEncoder?"legacyEncode32":"encode32","(subKernelResult_").concat(this.subKernels[t].name,")"));return u.linesToString(e)}},{key:"getMainResultKernelMemoryOptimizedFloats",value:function(e,t){e.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0.".concat(t," = kernelResult"))}},{key:"getMainResultSubKernelMemoryOptimizedFloats",value:function(e,t){if(!this.subKernels)return e;for(var n=0;n<this.subKernels.length;n++){var r=this.subKernels[n];e.push("Integer"===r.returnType?"  data".concat(n+1,".").concat(t," = float(subKernelResult_").concat(r.name,")"):"  data".concat(n+1,".").concat(t," = subKernelResult_").concat(r.name))}}},{key:"getMainResultKernelNumberTexture",value:function(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult"]}},{key:"getMainResultSubKernelNumberTexture",value:function(){var e=[];if(!this.subKernels)return e;for(var t=0;t<this.subKernels.length;++t){var n=this.subKernels[t];e.push("Integer"===n.returnType?"  data".concat(t+1,"[0] = float(subKernelResult_").concat(n.name,")"):"  data".concat(t+1,"[0] = subKernelResult_").concat(n.name))}return e}},{key:"getMainResultKernelArray2Texture",value:function(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]"]}},{key:"getMainResultSubKernelArray2Texture",value:function(){var e=[];if(!this.subKernels)return e;for(var t=0;t<this.subKernels.length;++t){var n=this.subKernels[t];e.push("  data".concat(t+1,"[0] = subKernelResult_").concat(n.name,"[0]"),"  data".concat(t+1,"[1] = subKernelResult_").concat(n.name,"[1]"))}return e}},{key:"getMainResultKernelArray3Texture",value:function(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]","  data0[2] = kernelResult[2]"]}},{key:"getMainResultSubKernelArray3Texture",value:function(){var e=[];if(!this.subKernels)return e;for(var t=0;t<this.subKernels.length;++t){var n=this.subKernels[t];e.push("  data".concat(t+1,"[0] = subKernelResult_").concat(n.name,"[0]"),"  data".concat(t+1,"[1] = subKernelResult_").concat(n.name,"[1]"),"  data".concat(t+1,"[2] = subKernelResult_").concat(n.name,"[2]"))}return e}},{key:"getMainResultKernelArray4Texture",value:function(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = kernelResult"]}},{key:"getMainResultSubKernelArray4Texture",value:function(){var e=[];if(!this.subKernels)return e;for(var t=0;t<this.subKernels.length;++t)e.push("  data".concat(t+1," = subKernelResult_").concat(this.subKernels[t].name));return e}},{key:"destroyExtensions",value:function(){this.extensions.EXT_color_buffer_float=null,this.extensions.OES_texture_float_linear=null}},{key:"toJSON",value:function(){var e=r(p(t.prototype),"toJSON",this).call(this);return e.functionNodes=s.fromKernel(this,i).toJSON(),e.settings.threadDim=this.threadDim,e}}],[{key:"isSupported",get:function(){return null!==d?d:(this.setupFeatureChecks(),d=this.isContextMatch(g))}},{key:"setupFeatureChecks",value:function(){"undefined"!=typeof document?m=document.createElement("canvas"):"undefined"!=typeof OffscreenCanvas&&(m=new OffscreenCanvas(0,0)),m&&(g=m.getContext("webgl2"))&&g.getExtension&&(g.getExtension("EXT_color_buffer_float"),g.getExtension("OES_texture_float_linear"),y=this.getFeatures())}},{key:"isContextMatch",value:function(e){return"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext}},{key:"getFeatures",value:function(){var e=this.testContext;return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),kernelMap:!0,isTextureFloat:!0,isDrawBuffers:!0,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT),lowFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT),mediumIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT),mediumFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT),highIntPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT),highFloatPrecision:e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT)})}},{key:"getIsTextureFloat",value:function(){return!0}},{key:"getChannelCount",value:function(){return g.getParameter(g.MAX_DRAW_BUFFERS)}},{key:"getMaxTextureSize",value:function(){return g.getParameter(g.MAX_TEXTURE_SIZE)}},{key:"lookupKernelValueType",value:function(e,t,n,r){return f(e,t,n,r)}},{key:"testCanvas",get:function(){return m}},{key:"testContext",get:function(){return g}},{key:"features",get:function(){return y}},{key:"fragmentShader",get:function(){return c}},{key:"vertexShader",get:function(){return h}}]),t}(n);t.exports={WebGL2Kernel:v}},{"../../utils":114,"../function-builder":9,"../web-gl/kernel":70,"./fragment-shader":72,"./function-node":73,"./kernel-value-maps":74,"./vertex-shader":106}],106:[function(e,t){t.exports={vertexShader:"#version 300 es\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nin vec2 aPos;\nin vec2 aTexCoord;\n\nout vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}"}},{}],107:[function(e,t){function n(e){e.GPU||Object.defineProperty(e,"GPU",{get:function(){return i}})}var r=e("./index"),i=r.GPU;for(var o in r)r.hasOwnProperty(o)&&"GPU"!==o&&(i[o]=r[o]);"undefined"!=typeof window&&n(window),"undefined"!=typeof self&&n(self),t.exports=r},{"./index":109}],108:[function(e,t){function r(e){if(!e)return{};var t=n({},e);return e.hasOwnProperty("floatOutput")&&(s.warnDeprecated("setting","floatOutput","precision"),t.precision=e.floatOutput?"single":"unsigned"),e.hasOwnProperty("outputToTexture")&&(s.warnDeprecated("setting","outputToTexture","pipeline"),t.pipeline=Boolean(e.outputToTexture)),e.hasOwnProperty("outputImmutable")&&(s.warnDeprecated("setting","outputImmutable","immutable"),t.immutable=Boolean(e.outputImmutable)),e.hasOwnProperty("floatTextures")&&(s.warnDeprecated("setting","floatTextures","optimizeFloatMemory"),t.optimizeFloatMemory=Boolean(e.floatTextures)),t}var i=e("gpu-mock.js").gpuMock,s=e("./utils").utils,a=(e("./backend/kernel"),e("./backend/cpu/kernel").CPUKernel),u=e("./backend/headless-gl/kernel").HeadlessGLKernel,l=e("./backend/web-gl2/kernel").WebGL2Kernel,c=e("./backend/web-gl/kernel").WebGLKernel,h=e("./kernel-run-shortcut").kernelRunShortcut,p=[u,l,c],f=["gpu","cpu"],d={headlessgl:u,webgl2:l,webgl:c},g=!0,y=function(){function e(e){if(this.canvas=(e=e||{}).canvas||null,this.context=e.context||null,this.mode=e.mode,this.Kernel=null,this.kernels=[],this.functions=[],this.nativeFunctions=[],this.injectedNative=null,"dev"!==this.mode){if(this.chooseKernel(),e.functions)for(var t=0;t<e.functions.length;t++)this.addFunction(e.functions[t]);if(e.nativeFunctions)for(var n in e.nativeFunctions)if(e.nativeFunctions.hasOwnProperty(n)){var r=e.nativeFunctions[n];this.addNativeFunction(r.name,r.source,r)}}}return o(e,[{key:"chooseKernel",value:function(){if(!this.Kernel){var e=null;if(this.context){for(var t=0;t<p.length;t++){var n=p[t];if(n.isContextMatch(this.context)){if(!n.isSupported)throw new Error("Kernel type ".concat(n.name," not supported"));e=n;break}}if(null===e)throw new Error("unknown Context")}else if(this.mode){if(this.mode in d)g&&!d[this.mode].isSupported||(e=d[this.mode]);else if("gpu"===this.mode){for(var r=0;r<p.length;r++)if(p[r].isSupported){e=p[r];break}}else"cpu"===this.mode&&(e=a);if(!e)throw new Error('A requested mode of "'.concat(this.mode,'" and is not supported'))}else{for(var i=0;i<p.length;i++)if(p[i].isSupported){e=p[i];break}e||(e=a)}this.mode||(this.mode=e.mode),this.Kernel=e}}},{key:"createKernel",value:function(e,t){function o(t){console.warn("Falling back to CPU");var n=new a(e,{argumentTypes:y.argumentTypes,constantTypes:y.constantTypes,graphical:y.graphical,loopMaxIterations:y.loopMaxIterations,constants:y.constants,dynamicOutput:y.dynamicOutput,dynamicArgument:y.dynamicArguments,output:y.output,precision:y.precision,pipeline:y.pipeline,immutable:y.immutable,optimizeFloatMemory:y.optimizeFloatMemory,fixIntegerDivisionAccuracy:y.fixIntegerDivisionAccuracy,functions:y.functions,nativeFunctions:y.nativeFunctions,injectedNative:y.injectedNative,subKernels:y.subKernels,strictIntegers:y.strictIntegers,debug:y.debug});n.build.apply(n,t);var r=n.run.apply(n,t);return y.replaceKernel(n),r}if(void 0===e)throw new Error("Missing source parameter");if("object"!==m(e)&&!s.isFunction(e)&&"string"!=typeof e)throw new Error("source parameter not a function");var u=this.kernels;if("dev"===this.mode){var l=i(e,r(t));return u.push(l),l}e="function"==typeof e?e.toString():e;var c={},p=r(t)||{};t&&"object"===m(t.argumentTypes)&&(p.argumentTypes=Object.keys(t.argumentTypes).map((function(e){return t.argumentTypes[e]})));var f=n({context:this.context,canvas:this.canvas,functions:this.functions,nativeFunctions:this.nativeFunctions,injectedNative:this.injectedNative,gpu:this,validate:g,onRequestFallback:o,onRequestSwitchKernel:function t(n,r,i){i.debug&&console.warn("Switching kernels");var s=null;if(i.signature&&!c[i.signature]&&(c[i.signature]=i),i.dynamicOutput)for(var a=n.length-1;a>=0;a--){var l=n[a];"outputPrecisionMismatch"===l.type&&(s=l.needed)}var h=i.constructor,p=h.getArgumentTypes(i,r),f=h.getSignature(i,p),d=c[f];if(d)return d.onActivate(i),d;var m=c[f]=new h(e,{argumentTypes:p,constantTypes:i.constantTypes,graphical:i.graphical,loopMaxIterations:i.loopMaxIterations,constants:i.constants,dynamicOutput:i.dynamicOutput,dynamicArgument:i.dynamicArguments,context:i.context,canvas:i.canvas,output:s||i.output,precision:i.precision,pipeline:i.pipeline,immutable:i.immutable,optimizeFloatMemory:i.optimizeFloatMemory,fixIntegerDivisionAccuracy:i.fixIntegerDivisionAccuracy,functions:i.functions,nativeFunctions:i.nativeFunctions,injectedNative:i.injectedNative,subKernels:i.subKernels,strictIntegers:i.strictIntegers,debug:i.debug,gpu:i.gpu,validate:g,returnType:i.returnType,tactic:i.tactic,onRequestFallback:o,onRequestSwitchKernel:t,texture:i.texture,mappedTextures:i.mappedTextures,drawBuffersMap:i.drawBuffersMap});return m.build.apply(m,r),y.replaceKernel(m),u.push(m),m}},p),d=new this.Kernel(e,f),y=h(d);return this.canvas||(this.canvas=d.canvas),this.context||(this.context=d.context),u.push(d),y}},{key:"createKernelMap",value:function(){var e,t,n=m(arguments[arguments.length-2]);if("function"===n||"string"===n?(e=arguments[arguments.length-2],t=arguments[arguments.length-1]):e=arguments[arguments.length-1],"dev"!==this.mode&&(!this.Kernel.isSupported||!this.Kernel.features.kernelMap)&&this.mode&&f.indexOf(this.mode)<0)throw new Error("kernelMap not supported on ".concat(this.Kernel.name));var i=r(t);if(t&&"object"===m(t.argumentTypes)&&(i.argumentTypes=Object.keys(t.argumentTypes).map((function(e){return t.argumentTypes[e]}))),Array.isArray(arguments[0])){i.subKernels=[];for(var o=arguments[0],a=0;a<o.length;a++){var u=o[a].toString(),l=s.getFunctionNameFromString(u);i.subKernels.push({name:l,source:u,property:a})}}else{i.subKernels=[];var c=arguments[0];for(var h in c)if(c.hasOwnProperty(h)){var p=c[h].toString(),d=s.getFunctionNameFromString(p);i.subKernels.push({name:d||h,source:p,property:h})}}return this.createKernel(e,i)}},{key:"combineKernels",value:function(){var e=arguments[arguments.length-1];if("cpu"===arguments[0].kernel.constructor.mode)return e;for(var t=arguments[0].canvas,n=arguments[0].context,r=arguments.length-1,i=0;i<r;i++)arguments[i].setCanvas(t).setContext(n).setPipeline(!0);return function(){var t=e.apply(this,arguments);return t.toArray?t.toArray():t}}},{key:"setFunctions",value:function(e){return this.functions=e,this}},{key:"setNativeFunctions",value:function(e){return this.nativeFunctions=e,this}},{key:"addFunction",value:function(e,t){return this.functions.push({source:e,settings:t}),this}},{key:"addNativeFunction",value:function(e,t,r){if(this.kernels.length>0)throw new Error('Cannot call "addNativeFunction" after "createKernels" has been called.');return this.nativeFunctions.push(n({name:e,source:t},r)),this}},{key:"injectNative",value:function(e){return this.injectedNative=e,this}},{key:"destroy",value:function(){var e=this;return new Promise((function(t,n){e.kernels||t(),setTimeout((function(){try{for(var r=0;r<e.kernels.length;r++)e.kernels[r].destroy(!0);var i=e.kernels[0];i&&(i.kernel&&(i=i.kernel),i.constructor.destroyContext&&i.constructor.destroyContext(e.context))}catch(e){n(e)}t()}),0)}))}}],[{key:"disableValidation",value:function(){g=!1}},{key:"enableValidation",value:function(){g=!0}},{key:"isGPUSupported",get:function(){return p.some((function(e){return e.isSupported}))}},{key:"isKernelMapSupported",get:function(){return p.some((function(e){return e.isSupported&&e.features.kernelMap}))}},{key:"isOffscreenCanvasSupported",get:function(){return"undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas||"undefined"!=typeof importScripts}},{key:"isWebGLSupported",get:function(){return c.isSupported}},{key:"isWebGL2Supported",get:function(){return l.isSupported}},{key:"isHeadlessGLSupported",get:function(){return u.isSupported}},{key:"isCanvasSupported",get:function(){return"undefined"!=typeof HTMLCanvasElement}},{key:"isGPUHTMLImageArraySupported",get:function(){return l.isSupported}},{key:"isSinglePrecisionSupported",get:function(){return p.some((function(e){return e.isSupported&&e.features.isFloatRead&&e.features.isTextureFloat}))}}]),e}();t.exports={GPU:y,kernelOrder:p,kernelTypes:f}},{"./backend/cpu/kernel":8,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/kernel":70,"./backend/web-gl2/kernel":105,"./kernel-run-shortcut":111,"./utils":114,"gpu-mock.js":4}],109:[function(e,t){var n=e("./gpu").GPU,r=e("./alias").alias,i=e("./utils").utils,o=e("./input"),s=o.Input,a=o.input,u=e("./texture").Texture,l=e("./backend/function-builder").FunctionBuilder,c=e("./backend/function-node").FunctionNode,h=e("./backend/cpu/function-node").CPUFunctionNode,p=e("./backend/cpu/kernel").CPUKernel,f=e("./backend/headless-gl/kernel").HeadlessGLKernel,d=e("./backend/web-gl/function-node").WebGLFunctionNode,m=e("./backend/web-gl/kernel").WebGLKernel,g=e("./backend/web-gl/kernel-value-maps").kernelValueMaps,y=e("./backend/web-gl2/function-node").WebGL2FunctionNode,v=e("./backend/web-gl2/kernel").WebGL2Kernel,b=e("./backend/web-gl2/kernel-value-maps").kernelValueMaps,x=e("./backend/gl/kernel").GLKernel,w=e("./backend/kernel").Kernel,_=e("./backend/function-tracer").FunctionTracer,S=e("./plugins/math-random-uniformly-distributed");t.exports={alias:r,CPUFunctionNode:h,CPUKernel:p,GPU:n,FunctionBuilder:l,FunctionNode:c,HeadlessGLKernel:f,Input:s,input:a,Texture:u,utils:i,WebGL2FunctionNode:y,WebGL2Kernel:v,webGL2KernelValueMaps:b,WebGLFunctionNode:d,WebGLKernel:m,webGLKernelValueMaps:g,GLKernel:x,Kernel:w,FunctionTracer:_,plugins:{mathRandom:S}}},{"./alias":5,"./backend/cpu/function-node":6,"./backend/cpu/kernel":8,"./backend/function-builder":9,"./backend/function-node":10,"./backend/function-tracer":11,"./backend/gl/kernel":13,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/function-node":38,"./backend/web-gl/kernel":70,"./backend/web-gl/kernel-value-maps":39,"./backend/web-gl2/function-node":73,"./backend/web-gl2/kernel":105,"./backend/web-gl2/kernel-value-maps":74,"./gpu":108,"./input":110,"./plugins/math-random-uniformly-distributed":112,"./texture":113,"./utils":114}],110:[function(e,t){var n=function(){function t(e,t){this.value=e,Array.isArray(t)?this.size=t:(this.size=new Int32Array(3),this.size=t.z?new Int32Array([t.x,t.y,t.z]):t.y?new Int32Array([t.x,t.y]):new Int32Array([t.x]));var n=f(this.size,3),r=n[0],i=n[1],o=n[2];if(o){if(this.value.length!==r*i*o)throw new Error("Input size ".concat(this.value.length," does not match ").concat(r," * ").concat(i," * ").concat(o," = ").concat(i*r*o))}else if(i){if(this.value.length!==r*i)throw new Error("Input size ".concat(this.value.length," does not match ").concat(r," * ").concat(i," = ").concat(i*r))}else if(this.value.length!==r)throw new Error("Input size ".concat(this.value.length," does not match ").concat(r))}return o(t,[{key:"toArray",value:function(){var t=e("./utils").utils,n=f(this.size,3),r=n[0],i=n[1],o=n[2];return o?t.erectMemoryOptimized3DFloat(this.value.subarray?this.value:new Float32Array(this.value),r,i,o):i?t.erectMemoryOptimized2DFloat(this.value.subarray?this.value:new Float32Array(this.value),r,i):this.value}}]),t}();t.exports={Input:n,input:function(e,t){return new n(e,t)}}},{"./utils":114}],111:[function(e,t){function n(e,t){if(t.kernel)t.kernel=e;else{for(var n=r.allPropertiesOf(e),i=function(r){var i=n[r];if("_"===i[0]&&"_"===i[1])return"continue";"function"==typeof e[i]?t[i]="add"===i.substring(0,3)||"set"===i.substring(0,3)?function(){return t.kernel[i].apply(t.kernel,arguments),t}:function(){return t.kernel[i].apply(t.kernel,arguments)}:(t.__defineGetter__(i,(function(){return t.kernel[i]})),t.__defineSetter__(i,(function(e){t.kernel[i]=e})))},o=0;o<n.length;o++)i(o);t.kernel=e}}var r=e("./utils").utils;t.exports={kernelRunShortcut:function(e){var t=function(){return e.build.apply(e,arguments),t=function(){var t=e.run.apply(e,arguments);if(e.switchingKernels){var n=e.resetSwitchingKernels(),i=e.onRequestSwitchKernel(n,arguments,e);r.kernel=e=i,t=i.run.apply(i,arguments)}return e.renderKernels?e.renderKernels():e.renderOutput?e.renderOutput():t},t.apply(e,arguments)},r=function(){return t.apply(e,arguments)};return r.exec=function(){var e=arguments,n=this;return new Promise((function(r,i){try{r(t.apply(n,e))}catch(e){i(e)}}))},r.replaceKernel=function(t){n(e=t,r)},n(e,r),r}}},{"./utils":114}],112:[function(e,t){t.exports={name:"math-random-uniformly-distributed",onBeforeRun:function(e){e.setUniform1f("randomSeed1",Math.random()),e.setUniform1f("randomSeed2",Math.random())},functionMatch:"Math.random()",functionReplace:"nrand(vTexCoord)",functionReturnType:"Number",source:"// https://www.shadertoy.com/view/4t2SDh\n//note: uniformly distributed, normalized rand, [0,1]\nhighp float randomSeedShift = 1.0;\nhighp float slide = 1.0;\nuniform highp float randomSeed1;\nuniform highp float randomSeed2;\n\nhighp float nrand(highp vec2 n) {\n  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);\n  randomSeedShift = result;\n  if (randomSeedShift > 0.5) {\n    slide += 0.00009; \n  } else {\n    slide += 0.0009;\n  }\n  return result;\n}"}},{}],113:[function(e,t){t.exports={Texture:function(){function e(e){var t=e.texture,n=e.size,r=e.dimensions,i=e.output,o=e.context,s=e.type,a=void 0===s?"NumberTexture":s,u=e.kernel,l=e.internalFormat,c=e.textureFormat;if(!i)throw new Error('settings property "output" required.');if(!o)throw new Error('settings property "context" required.');if(!t)throw new Error('settings property "texture" required.');if(!u)throw new Error('settings property "kernel" required.');this.texture=t,t._refs?t._refs++:t._refs=1,this.size=n,this.dimensions=r,this.output=i,this.context=o,this.kernel=u,this.type=a,this._deleted=!1,this.internalFormat=l,this.textureFormat=c}return o(e,[{key:"toArray",value:function(){throw new Error("Not implemented on ".concat(this.constructor.name))}},{key:"clone",value:function(){throw new Error("Not implemented on ".concat(this.constructor.name))}},{key:"delete",value:function(){throw new Error("Not implemented on ".concat(this.constructor.name))}},{key:"clear",value:function(){throw new Error("Not implemented on ".concat(this.constructor.name))}}]),e}()}},{}],114:[function(e,t){var n=e("acorn"),r=e("./input").Input,i=e("./texture").Texture,o=/function ([^(]*)/,s=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,a=/([^\s,]+)/g,u={systemEndianness:function(){return p},getSystemEndianness:function(){var e=new ArrayBuffer(4),t=new Uint32Array(e),n=new Uint8Array(e);if(t[0]=3735928559,239===n[0])return"LE";if(222===n[0])return"BE";throw new Error("unknown endianness")},isFunction:function(e){return"function"==typeof e},isFunctionString:function(e){return"string"==typeof e&&"function"===e.slice(0,8).toLowerCase()},getFunctionNameFromString:function(e){var t=o.exec(e);return t&&0!==t.length?t[1].trim():null},getFunctionBodyFromString:function(e){return e.substring(e.indexOf("{")+1,e.lastIndexOf("}"))},getArgumentNamesFromString:function(e){var t=e.replace(s,""),n=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(a);return null===n&&(n=[]),n},clone:function(e){if(null===e||"object"!==m(e)||e.hasOwnProperty("isActiveClone"))return e;var t=e.constructor();for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e.isActiveClone=null,t[n]=u.clone(e[n]),delete e.isActiveClone);return t},isArray:function(e){return!isNaN(e.length)},getVariableType:function(e,t){if(u.isArray(e))return e.length>0&&"IMG"===e[0].nodeName?"HTMLImageArray":"Array";switch(e.constructor){case Boolean:return"Boolean";case Number:return t&&Number.isInteger(e)?"Integer":"Float";case i:return e.type;case r:return"Input"}switch(e.nodeName){case"IMG":case"CANVAS":return"HTMLImage";case"VIDEO":return"HTMLVideo"}return e.hasOwnProperty("type")?e.type:"Unknown"},getKernelTextureSize:function(e,t){var n=f(t,3),r=n[0],i=n[1],o=(r||1)*(i||1)*(n[2]||1);return e.optimizeFloatMemory&&"single"===e.precision&&(r=o=Math.ceil(o/4)),i>1&&r*i===o?new Int32Array([r,i]):u.closestSquareDimensions(o)},closestSquareDimensions:function(e){for(var t=Math.sqrt(e),n=Math.ceil(t),r=Math.floor(t);n*r<e;)n--,r=Math.ceil(e/n);return new Int32Array([r,Math.ceil(e/r)])},getMemoryOptimizedFloatTextureSize:function(e,t){var n=u.roundTo((e[0]||1)*(e[1]||1)*(e[2]||1)*(e[3]||1),4);return u.closestSquareDimensions(n/t)},getMemoryOptimizedPackedTextureSize:function(e,t){var n=f(e,3),r=u.roundTo((n[0]||1)*(n[1]||1)*(n[2]||1),4);return u.closestSquareDimensions(r/(4/t))},roundTo:function(e,t){return Math.floor((e+t-1)/t)*t},getDimensions:function(e,t){var n;if(u.isArray(e)){for(var o=[],s=e;u.isArray(s);)o.push(s.length),s=s[0];n=o.reverse()}else if(e instanceof i)n=e.output;else{if(!(e instanceof r))throw new Error("Unknown dimensions of ".concat(e));n=e.size}if(t)for(n=Array.from(n);n.length<3;)n.push(1);return new Int32Array(n)},flatten2dArrayTo:function(e,t){for(var n=0,r=0;r<e.length;r++)t.set(e[r],n),n+=e[r].length},flatten3dArrayTo:function(e,t){for(var n=0,r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)t.set(e[r][i],n),n+=e[r][i].length},flatten4dArrayTo:function(e,t){for(var n=0,r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)for(var o=0;o<e[r][i].length;o++)t.set(e[r][i][o],n),n+=e[r][i][o].length},flattenTo:function(e,t){u.isArray(e[0])?u.isArray(e[0][0])?u.isArray(e[0][0][0])?u.flatten4dArrayTo(e,t):u.flatten3dArrayTo(e,t):u.flatten2dArrayTo(e,t):t.set(e)},splitArray:function(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(new e.constructor(e.buffer,4*r+e.byteOffset,t));return n},getAstString:function(e,t){var n=Array.isArray(e)?e:e.split(/\r?\n/g),r=t.loc.start,i=t.loc.end,o=[];if(r.line===i.line)o.push(n[r.line-1].substring(r.column,i.column));else{o.push(n[r.line-1].slice(r.column));for(var s=r.line;s<i.line;s++)o.push(n[s]);o.push(n[i.line-1].slice(0,i.column))}return o.join("\n")},allPropertiesOf:function(e){var t=[];do{t.push.apply(t,Object.getOwnPropertyNames(e))}while(e=Object.getPrototypeOf(e));return t},linesToString:function(e){return e.length>0?e.join(";\n")+";\n":"\n"},warnDeprecated:function(e,t,n){n?console.warn("You are using a deprecated ".concat(e,' "').concat(t,'". It has been replaced with "').concat(n,'". Fixing, but please upgrade as it will soon be removed.')):console.warn("You are using a deprecated ".concat(e,' "').concat(t,'". It has been removed. Fixing, but please upgrade as it will soon be removed.'))},flipPixels:function(e,t,n){for(var r=n/2|0,i=4*t,o=new Uint8ClampedArray(4*t),s=e.slice(0),a=0;a<r;++a){var u=a*i,l=(n-a-1)*i;o.set(s.subarray(u,u+i)),s.copyWithin(u,l,l+i),s.set(o,l)}return s},erectPackedFloat:function(e,t){return e.subarray(0,t)},erect2DPackedFloat:function(e,t,n){for(var r=new Array(n),i=0;i<n;i++){var o=i*t;r[i]=e.subarray(o,o+t)}return r},erect3DPackedFloat:function(e,t,n,r){for(var i=new Array(r),o=0;o<r;o++){for(var s=new Array(n),a=0;a<n;a++){var u=o*n*t+a*t;s[a]=e.subarray(u,u+t)}i[o]=s}return i},erectMemoryOptimizedFloat:function(e,t){return e.subarray(0,t)},erectMemoryOptimized2DFloat:function(e,t,n){for(var r=new Array(n),i=0;i<n;i++){var o=i*t;r[i]=e.subarray(o,o+t)}return r},erectMemoryOptimized3DFloat:function(e,t,n,r){for(var i=new Array(r),o=0;o<r;o++){for(var s=new Array(n),a=0;a<n;a++){var u=o*n*t+a*t;s[a]=e.subarray(u,u+t)}i[o]=s}return i},erectFloat:function(e,t){for(var n=new Float32Array(t),r=0,i=0;i<t;i++)n[i]=e[r],r+=4;return n},erect2DFloat:function(e,t,n){for(var r=new Array(n),i=0,o=0;o<n;o++){for(var s=new Float32Array(t),a=0;a<t;a++)s[a]=e[i],i+=4;r[o]=s}return r},erect3DFloat:function(e,t,n,r){for(var i=new Array(r),o=0,s=0;s<r;s++){for(var a=new Array(n),u=0;u<n;u++){for(var l=new Float32Array(t),c=0;c<t;c++)l[c]=e[o],o+=4;a[u]=l}i[s]=a}return i},erectArray2:function(e,t){for(var n=new Array(t),r=4*t,i=0,o=0;o<r;o+=4)n[i++]=e.subarray(o,o+2);return n},erect2DArray2:function(e,t,n){for(var r=new Array(n),i=4*t,o=0;o<n;o++){for(var s=new Array(t),a=o*i,u=0,l=0;l<i;l+=4)s[u++]=e.subarray(l+a,l+a+2);r[o]=s}return r},erect3DArray2:function(e,t,n,r){for(var i=4*t,o=new Array(r),s=0;s<r;s++){for(var a=new Array(n),u=0;u<n;u++){for(var l=new Array(t),c=s*i*n+u*i,h=0,p=0;p<i;p+=4)l[h++]=e.subarray(p+c,p+c+2);a[u]=l}o[s]=a}return o},erectArray3:function(e,t){for(var n=new Array(t),r=4*t,i=0,o=0;o<r;o+=4)n[i++]=e.subarray(o,o+3);return n},erect2DArray3:function(e,t,n){for(var r=4*t,i=new Array(n),o=0;o<n;o++){for(var s=new Array(t),a=o*r,u=0,l=0;l<r;l+=4)s[u++]=e.subarray(l+a,l+a+3);i[o]=s}return i},erect3DArray3:function(e,t,n,r){for(var i=4*t,o=new Array(r),s=0;s<r;s++){for(var a=new Array(n),u=0;u<n;u++){for(var l=new Array(t),c=s*i*n+u*i,h=0,p=0;p<i;p+=4)l[h++]=e.subarray(p+c,p+c+3);a[u]=l}o[s]=a}return o},erectArray4:function(e,t){for(var n=new Array(e),r=4*t,i=0,o=0;o<r;o+=4)n[i++]=e.subarray(o,o+4);return n},erect2DArray4:function(e,t,n){for(var r=4*t,i=new Array(n),o=0;o<n;o++){for(var s=new Array(t),a=o*r,u=0,l=0;l<r;l+=4)s[u++]=e.subarray(l+a,l+a+4);i[o]=s}return i},erect3DArray4:function(e,t,n,r){for(var i=4*t,o=new Array(r),s=0;s<r;s++){for(var a=new Array(n),u=0;u<n;u++){for(var l=new Array(t),c=s*i*n+u*i,h=0,p=0;p<i;p+=4)l[h++]=e.subarray(p+c,p+c+4);a[u]=l}o[s]=a}return o},flattenFunctionToString:function(e,t){var r=t.findDependency,i=t.thisLookup,o=t.flattened;o||(o=t.flattened={});var s=n.parse(e),a=[],l=0,c=function e(t){if(Array.isArray(t)){for(var n=[],o=0;o<t.length;o++)n.push(e(t[o]));return n.join("")}switch(t.type){case"Program":return e(t.body)+("VariableDeclaration"===t.body[0].type?";":"");case"FunctionDeclaration":return"function ".concat(t.id.name,"(").concat(t.params.map(e).join(", "),") ").concat(e(t.body));case"BlockStatement":var s=[];l+=2;for(var c=0;c<t.body.length;c++){var h=e(t.body[c]);h&&s.push(" ".repeat(l)+h,";\n")}return l-=2,"{\n".concat(s.join(""),"}");case"VariableDeclaration":var p=u.normalizeDeclarations(t).map(e).filter((function(e){return null!==e}));return p.length<1?"":"".concat(t.kind," ").concat(p.join(","));case"VariableDeclarator":return t.init.object&&"ThisExpression"===t.init.object.type?i(t.init.property.name,!0)?"".concat(t.id.name," = ").concat(e(t.init)):null:"".concat(t.id.name," = ").concat(e(t.init));case"CallExpression":if("subarray"===t.callee.property.name)return"".concat(e(t.callee.object),".").concat(e(t.callee.property),"(").concat(t.arguments.map((function(t){return e(t)})).join(", "),")");if("gl"===t.callee.object.name||"context"===t.callee.object.name)return"".concat(e(t.callee.object),".").concat(e(t.callee.property),"(").concat(t.arguments.map((function(t){return e(t)})).join(", "),")");if("ThisExpression"===t.callee.object.type)return a.push(r("this",t.callee.property.name)),"".concat(t.callee.property.name,"(").concat(t.arguments.map((function(t){return e(t)})).join(", "),")");if(t.callee.object.name){var f=r(t.callee.object.name,t.callee.property.name);return null===f?"".concat(t.callee.object.name,".").concat(t.callee.property.name,"(").concat(t.arguments.map((function(t){return e(t)})).join(", "),")"):(a.push(f),"".concat(t.callee.property.name,"(").concat(t.arguments.map((function(t){return e(t)})).join(", "),")"))}if("MemberExpression"===t.callee.object.type)return"".concat(e(t.callee.object),".").concat(t.callee.property.name,"(").concat(t.arguments.map((function(t){return e(t)})).join(", "),")");throw new Error("unknown ast.callee");case"ReturnStatement":return"return ".concat(e(t.argument));case"BinaryExpression":return"(".concat(e(t.left)).concat(t.operator).concat(e(t.right),")");case"UnaryExpression":return t.prefix?"".concat(t.operator," ").concat(e(t.argument)):"".concat(e(t.argument)," ").concat(t.operator);case"ExpressionStatement":return"".concat(e(t.expression));case"SequenceExpression":return"(".concat(e(t.expressions),")");case"ArrowFunctionExpression":return"(".concat(t.params.map(e).join(", "),") => ").concat(e(t.body));case"Literal":return t.raw;case"Identifier":return t.name;case"MemberExpression":return"ThisExpression"===t.object.type?i(t.property.name):t.computed?"".concat(e(t.object),"[").concat(e(t.property),"]"):e(t.object)+"."+e(t.property);case"ThisExpression":return"this";case"NewExpression":return"new ".concat(e(t.callee),"(").concat(t.arguments.map((function(t){return e(t)})).join(", "),")");case"ForStatement":return"for (".concat(e(t.init),";").concat(e(t.test),";").concat(e(t.update),") ").concat(e(t.body));case"AssignmentExpression":return"".concat(e(t.left)).concat(t.operator).concat(e(t.right));case"UpdateExpression":return"".concat(e(t.argument)).concat(t.operator);case"IfStatement":return"if (".concat(e(t.test),") ").concat(e(t.consequent));case"ThrowStatement":return"throw ".concat(e(t.argument));case"ObjectPattern":return t.properties.map(e).join(", ");case"ArrayPattern":return t.elements.map(e).join(", ");case"DebuggerStatement":return"debugger;";case"ConditionalExpression":return"".concat(e(t.test),"?").concat(e(t.consequent),":").concat(e(t.alternate));case"Property":if("init"===t.kind)return e(t.key)}throw new Error("unhandled ast.type of ".concat(t.type))}(s);if(a.length>0){for(var h=[],p=0;p<a.length;p++){var f=a[p];o[f]||(o[f]=!0),f&&h.push(u.flattenFunctionToString(f,t)+"\n")}return h.join("")+c}return c},normalizeDeclarations:function(e){if("VariableDeclaration"!==e.type)throw new Error('Ast is not of type "VariableDeclaration"');for(var t=[],n=0;n<e.declarations.length;n++){var r=e.declarations[n];if(r.id&&"ObjectPattern"===r.id.type&&r.id.properties)for(var i=r.id.properties,o=0;o<i.length;o++){var s=i[o];if("ObjectPattern"===s.value.type&&s.value.properties)for(var a=0;a<s.value.properties.length;a++){var u=s.value.properties[a];if("Property"!==u.type)throw new Error("unexpected state");t.push({type:"VariableDeclarator",id:{type:"Identifier",name:u.key.name},init:{type:"MemberExpression",object:{type:"MemberExpression",object:r.init,property:{type:"Identifier",name:s.key.name},computed:!1},property:{type:"Identifier",name:u.key.name},computed:!1}})}else{if("Identifier"!==s.value.type)throw new Error("unexpected state");t.push({type:"VariableDeclarator",id:{type:"Identifier",name:s.value&&s.value.name?s.value.name:s.key.name},init:{type:"MemberExpression",object:r.init,property:{type:"Identifier",name:s.key.name},computed:!1}})}}else if(r.id&&"ArrayPattern"===r.id.type&&r.id.elements)for(var l=r.id.elements,c=0;c<l.length;c++){var h=l[c];if("Identifier"!==h.type)throw new Error("unexpected state");t.push({type:"VariableDeclarator",id:{type:"Identifier",name:h.name},init:{type:"MemberExpression",object:r.init,property:{type:"Literal",value:c,raw:c.toString(),start:h.start,end:h.end},computed:!0}})}else t.push(r)}return t},splitHTMLImageToRGB:function(e,t){var n=e.createKernel((function(e){return 255*e[this.thread.y][this.thread.x].r}),{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),r=e.createKernel((function(e){return 255*e[this.thread.y][this.thread.x].g}),{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),i=e.createKernel((function(e){return 255*e[this.thread.y][this.thread.x].b}),{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),o=e.createKernel((function(e){return 255*e[this.thread.y][this.thread.x].a}),{output:[t.width,t.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),s=[n(t),r(t),i(t),o(t)];return s.rKernel=n,s.gKernel=r,s.bKernel=i,s.aKernel=o,s.gpu=e,s},splitRGBAToCanvases:function(e,t,n,r){var i=e.createKernel((function(e){this.color(e[this.thread.y][this.thread.x].r/255,0,0,255)}),{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});i(t);var o=e.createKernel((function(e){this.color(0,e[this.thread.y][this.thread.x].g/255,0,255)}),{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});o(t);var s=e.createKernel((function(e){this.color(0,0,e[this.thread.y][this.thread.x].b/255,255)}),{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});s(t);var a=e.createKernel((function(e){this.color(255,255,255,e[this.thread.y][this.thread.x].a/255)}),{output:[n,r],graphical:!0,argumentTypes:{v:"Array2D(4)"}});return a(t),[i.canvas,o.canvas,s.canvas,a.canvas]},getMinifySafeName:function(e){try{var t=n.parse("const value = ".concat(e.toString())).body[0].declarations[0].init;return t.body.name||t.body.body[0].argument.name}catch(e){throw new Error("Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }")}},sanitizeName:function(e){return l.test(e)&&(e=e.replace(l,"S_S")),c.test(e)?e=e.replace(c,"U_U"):h.test(e)&&(e=e.replace(h,"u_u")),e}},l=/\$/,c=/__/,h=/_/,p=u.getSystemEndianness();t.exports={utils:u}},{"./input":110,"./texture":113,acorn:1}]},{},[107])(107)},"object"===m(t)&&void 0!==e?e.exports=v():void 0===(y="function"==typeof(g=v)?g.apply(t,[]):g)||(e.exports=y)},my7b:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.whileStatement=t.ifStatement=t.variableDeclarator=t.variableDeclaration=t.arrowFunctionExpression=t.blockExpression=t.functionDeclaration=t.functionDeclarationExpression=t.primitive=t.unaryExpression=t.binaryExpression=t.assignmentExpression=t.arrayExpression=t.conditionalExpression=t.mutateToConditionalExpression=t.logicalExpression=t.mutateToMemberExpression=t.mutateToReturnStatement=t.mutateToExpressionStatement=t.mutateToAssignmentExpression=t.mutateToCallExpression=t.objectExpression=t.property=t.returnStatement=t.program=t.blockStatement=t.functionExpression=t.blockArrowFunction=t.expressionStatement=t.callExpression=t.constantDeclaration=t.declaration=t.memberExpression=t.literal=t.identifier=t.locationDummyNode=t.getVariableDecarationName=void 0;t.getVariableDecarationName=function(e){return e.declarations[0].id.name};t.locationDummyNode=function(e,n){return t.literal("Dummy",{start:{line:e,column:n},end:{line:e,column:n}})};t.identifier=function(e,t){return{type:"Identifier",name:e,loc:t}};t.literal=function(e,t){return{type:"Literal",value:e,loc:t}};t.memberExpression=function(e,n){return{type:"MemberExpression",object:e,computed:"number"==typeof n,optional:!1,property:"number"==typeof n?t.literal(n):t.identifier(n)}};t.declaration=function(e,n,r,i){return{type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:t.identifier(e),init:r}],kind:n,loc:i}};t.constantDeclaration=function(e,n,r){return t.declaration(e,"const",n,r)};t.callExpression=function(e,t,n){return{type:"CallExpression",callee:e,arguments:t,optional:!1,loc:n}};t.expressionStatement=function(e){return{type:"ExpressionStatement",expression:e}};t.blockArrowFunction=function(e,n,r){return{type:"ArrowFunctionExpression",expression:!1,generator:!1,params:e,body:Array.isArray(n)?t.blockStatement(n):n,loc:r}};t.functionExpression=function(e,n,r){return{type:"FunctionExpression",id:null,async:!1,generator:!1,params:e,body:Array.isArray(n)?t.blockStatement(n):n,loc:r}};t.blockStatement=function(e){return{type:"BlockStatement",body:e}};t.program=function(e){return{type:"Program",sourceType:"module",body:e}};t.returnStatement=function(e,t){return{type:"ReturnStatement",argument:e,loc:t}};t.property=function(e,n){return{type:"Property",method:!1,shorthand:!1,computed:!1,key:t.identifier(e),value:n,kind:"init"}};t.objectExpression=function(e){return{type:"ObjectExpression",properties:e}};t.mutateToCallExpression=function(e,t,n){e.type="CallExpression",e.callee=t,e.arguments=n};t.mutateToAssignmentExpression=function(e,t,n){e.type="AssignmentExpression",e.operator="=",e.left=t,e.right=n};t.mutateToExpressionStatement=function(e,t){e.type="ExpressionStatement",e.expression=t};t.mutateToReturnStatement=function(e,t){e.type="ReturnStatement",e.argument=t};t.mutateToMemberExpression=function(e,t,n){e.type="MemberExpression",e.object=t,e.property=n,e.computed=!1};t.logicalExpression=function(e,t,n,r){return{type:"LogicalExpression",operator:e,left:t,right:n,loc:r}};t.mutateToConditionalExpression=function(e,t,n,r){e.type="ConditionalExpression",e.test=t,e.consequent=n,e.alternate=r};t.conditionalExpression=function(e,t,n,r){return{type:"ConditionalExpression",test:e,consequent:t,alternate:n,loc:r}};t.arrayExpression=function(e){return{type:"ArrayExpression",elements:e}};t.assignmentExpression=function(e,t){return{type:"AssignmentExpression",operator:"=",left:e,right:t}};t.binaryExpression=function(e,t,n,r){return{type:"BinaryExpression",operator:e,left:t,right:n,loc:r}};t.unaryExpression=function(e,t,n){return{type:"UnaryExpression",operator:e,prefix:!0,argument:t,loc:n}};t.primitive=function(e){return void 0===e?t.identifier("undefined"):t.literal(e)};t.functionDeclarationExpression=function(e,t,n,r){return{type:"FunctionExpression",id:e,params:t,body:n,loc:r}};t.functionDeclaration=function(e,t,n,r){return{type:"FunctionDeclaration",id:e,params:t,body:n,loc:r}};t.blockExpression=function(e,t){return{type:"BlockExpression",body:e,loc:t}};t.arrowFunctionExpression=function(e,t,n){return{type:"ArrowFunctionExpression",expression:"BlockStatement"!==t.type,generator:!1,params:e,body:t,loc:n}};t.variableDeclaration=function(e,t){return{type:"VariableDeclaration",kind:"const",declarations:e,loc:t}};t.variableDeclarator=function(e,t,n){return{type:"VariableDeclarator",id:e,init:t,loc:n}};t.ifStatement=function(e,t,n,r){return{type:"IfStatement",test:e,consequent:t,alternate:n,loc:r}};t.whileStatement=function(e,t,n){return{type:"WhileStatement",test:t,body:e,loc:n}}},n428:function(e,t,n){e.exports=n("hBZP").EventEmitter},neqR:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listPrelude=void 0,t.listPrelude='\n\n/**\n * recurses down the list and checks that it ends with the empty list null\n * @param {value} xs - given candidate\n * @returns {boolean} indicating whether {xs} is a list\n */\n\nfunction is_list(xs) {\n  return is_null(xs) || (is_pair(xs) && is_list(tail(xs)));\n}\n\n// equal computes the structural equality\n// over its arguments\n\nfunction equal(xs, ys) {\n  return is_pair(xs)\n  ? (is_pair(ys) &&\n    equal(head(xs), head(ys)) &&\n    equal(tail(xs), tail(ys)))\n  : is_null(xs)\n  ? is_null(ys)\n  : is_number(xs)\n  ? (is_number(ys) && xs === ys)\n  : is_boolean(xs)\n  ? (is_boolean(ys) && ((xs && ys) || (!xs && !ys)))\n  : is_string(xs)\n  ? (is_string(ys) && xs === ys)\n  : is_undefined(xs)\n  ? is_undefined(ys)\n  : // we know now that xs is a function\n    (is_function(ys) && xs === ys);\n}\n\n\n// returns the length of a given argument list\n// assumes that the argument is a list\n\nfunction $length(xs, acc) {\n    return is_null(xs) ? acc : $length(tail(xs), acc + 1);\n}\nfunction length(xs) {\n  return $length(xs, 0);\n}\n\n// map applies first arg f, assumed to be a unary function,\n// to the elements of the second argument, assumed to be a list.\n// f is applied element-by-element:\n// map(f, list(1, 2)) results in list(f(1), f(2))\n\nfunction $map(f, xs, acc) {\n    return is_null(xs)\n           ? reverse(acc)\n           : $map(f, tail(xs), pair(f(head(xs)), acc));\n}\nfunction map(f, xs) {\n    return $map(f, xs, null);\n}\n\n// build_list takes a a function fun as first argument, \n// and a nonnegative integer n as second argument,\n// build_list returns a list of n elements, that results from\n// applying fun to the numbers from 0 to n-1.\n\nfunction $build_list(i, fun, already_built) {\n    return i < 0 ? already_built : $build_list(i - 1, fun, pair(fun(i), already_built));\n}\n\nfunction build_list(fun, n) {\n  return $build_list(n - 1, fun, null);\n}\n\n// for_each applies first arg fun, assumed to be a unary function,\n// to the elements of the second argument, assumed to be a list.\n// fun is applied element-by-element:\n// for_each(fun, list(1, 2)) results in the calls fun(1) and fun(2).\n// for_each returns true.\n\nfunction for_each(fun, xs) {\n  if (is_null(xs)) {\n    return true;\n  } else {\n    fun(head(xs));\n    return for_each(fun, tail(xs));\n  }\n}\n\n// list_to_string returns a string that represents the argument list.\n// It applies itself recursively on the elements of the given list.\n// When it encounters a non-list, it applies to_string to it.\n\nfunction $list_to_string(xs, cont) {\n    return is_null(xs)\n        ? cont("null")\n        : is_pair(xs)\n        ? $list_to_string(\n              head(xs),\n              x => $list_to_string(\n                       tail(xs),\n                       y => cont("[" + x + "," + y + "]")))\n        : cont(stringify(xs));\n}\n\nfunction list_to_string(xs) {\n    return $list_to_string(xs, x => x);\n}\n\n// reverse reverses the argument, assumed to be a list\n\nfunction $reverse(original, reversed) {\n    return is_null(original)\n           ? reversed\n           : $reverse(tail(original), pair(head(original), reversed));\n}\n\nfunction reverse(xs) {\n    return $reverse(xs, null);\n}\n\n// append first argument, assumed to be a list, to the second argument.\n// In the result null at the end of the first argument list\n// is replaced by the second argument, regardless what the second\n// argument consists of.\n\nfunction $append(xs, ys, cont) {\n    return is_null(xs)\n           ? cont(ys)\n           : $append(tail(xs), ys, zs => cont(pair(head(xs), zs)));\n}\n\nfunction append(xs, ys) {\n    return $append(xs, ys, xs => xs);\n}\n\n// member looks for a given first-argument element in the\n// second argument, assumed to be a list. It returns the first\n// postfix sublist that starts with the given element. It returns null if the\n// element does not occur in the list\n\nfunction member(v, xs) {\n  return is_null(xs)\n         ? null\n\t : v === head(xs)\n\t ? xs\n\t : member(v, tail(xs));\n}\n\n// removes the first occurrence of a given first-argument element\n// in second-argument, assmed to be a list. Returns the original\n// list if there is no occurrence.\n\nfunction $remove(v, xs, acc) {\n  return is_null(xs)\n         ? append(reverse(acc), xs)\n         : v === head(xs)\n         ? append(reverse(acc), tail(xs))\n         : $remove(v, tail(xs), pair(head(xs), acc));\n}\n\nfunction remove(v, xs) {\n    return $remove(v, xs, null);\n}\n\n// Similar to remove, but removes all instances of v\n// instead of just the first\n\nfunction $remove_all(v, xs, acc) {\n  return is_null(xs)\n         ? append(reverse(acc), xs)\n         : v === head(xs)\n         ? $remove_all(v, tail(xs), acc)\n         : $remove_all(v, tail(xs), pair(head(xs), acc));\n}\n\nfunction remove_all(v, xs) {\n    return $remove_all(v, xs, null);\n}\n\n// filter returns the sublist of elements of the second argument\n// (assumed to be a list), for which the given predicate function\n// returns true.\n\nfunction $filter(pred, xs, acc) {\n  return is_null(xs)\n    ? reverse(acc)\n    : pred(head(xs))\n    ? $filter(pred, tail(xs), pair(head(xs), acc))\n    : $filter(pred, tail(xs), acc);\n}\n\nfunction filter(pred, xs) {\n    return $filter(pred, xs, null);\n}\n\n// enumerates numbers starting from start, assumed to be a number,\n// using a step size of 1, until the number exceeds end, assumed\n// to be a number\n\nfunction $enum_list(start, end, acc) {\n  return start > end\n         ? reverse(acc)\n         : $enum_list(start + 1, end, pair(start, acc));\n}\n\nfunction enum_list(start, end) {\n    return $enum_list(start, end, null);\n}\n\n// Returns the item in xs (assumed to be a list) at index n,\n// assumed to be a nonnegative integer.\n// Note: the first item is at position 0\n\nfunction list_ref(xs, n) {\n  return n === 0\n         ? head(xs)\n         : list_ref(tail(xs), n - 1);\n}\n\n// accumulate applies an operation op (assumed to be a binary function)\n// to elements of sequence (assumed to be a list) in a right-to-left order.\n// first apply op to the last element and initial, resulting in r1, then to\n// the  second-last element and r1, resulting in r2, etc, and finally\n// to the first element and r_n-1, where n is the length of the\n// list.\n// accumulate(op, zero, list(1, 2, 3)) results in\n// op(1, op(2, op(3, zero)))\n\nfunction $accumulate(f, initial, xs, cont) {\n    return is_null(xs)\n           ? cont(initial)\n           : $accumulate(f, initial, tail(xs), x => cont(f(head(xs), x)));\n}\n\nfunction accumulate(f, initial, xs) {\n  return $accumulate(f, initial, xs, x => x);\n}\n'},nfnL:function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},nrnY:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"===r(e)},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"===r(e)&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===r(e)||void 0===e},t.isBuffer=n("zkTx").Buffer.isBuffer},pCvA:function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":t(window))&&(n=window)}e.exports=n},"pFN/":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,n){var i;return i=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==r(i)?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return u[e]}var s;Object.defineProperty(t,"__esModule",{value:!0}),t.stringifyProgram=t.getName=void 0;var a=n("Ib16"),u=(i(s={},a.OpCodes.NOP,"NOP   "),i(s,a.OpCodes.LDCI,"LDCI  "),i(s,a.OpCodes.LGCI,"LGCI  "),i(s,a.OpCodes.LDCF32,"LDCF32"),i(s,a.OpCodes.LGCF32,"LGCF32"),i(s,a.OpCodes.LDCF64,"LDCF64"),i(s,a.OpCodes.LGCF64,"LGCF64"),i(s,a.OpCodes.LDCB0,"LDCB0 "),i(s,a.OpCodes.LDCB1,"LDCB1 "),i(s,a.OpCodes.LGCB0,"LGCB0 "),i(s,a.OpCodes.LGCB1,"LGCB1 "),i(s,a.OpCodes.LGCU,"LGCU  "),i(s,a.OpCodes.LGCN,"LGCN  "),i(s,a.OpCodes.LGCS,"LGCS  "),i(s,a.OpCodes.POPG,"POPG  "),i(s,a.OpCodes.POPB,"POPB  "),i(s,a.OpCodes.POPF,"POPF  "),i(s,a.OpCodes.ADDG,"ADDG  "),i(s,a.OpCodes.ADDF,"ADDF  "),i(s,a.OpCodes.SUBG,"SUBG  "),i(s,a.OpCodes.SUBF,"SUBF  "),i(s,a.OpCodes.MULG,"MULG  "),i(s,a.OpCodes.MULF,"MULF  "),i(s,a.OpCodes.DIVG,"DIVG  "),i(s,a.OpCodes.DIVF,"DIVF  "),i(s,a.OpCodes.MODG,"MODG  "),i(s,a.OpCodes.MODF,"MODF  "),i(s,a.OpCodes.NEGG,"NEGG  "),i(s,a.OpCodes.NEGF,"NEGF  "),i(s,a.OpCodes.NOTG,"NOTG  "),i(s,a.OpCodes.NOTB,"NOTB  "),i(s,a.OpCodes.LTG,"LTG   "),i(s,a.OpCodes.LTF,"LTF   "),i(s,a.OpCodes.GTG,"GTG   "),i(s,a.OpCodes.GTF,"GTF   "),i(s,a.OpCodes.LEG,"LEG   "),i(s,a.OpCodes.LEF,"LEF   "),i(s,a.OpCodes.GEG,"GEG   "),i(s,a.OpCodes.GEF,"GEF   "),i(s,a.OpCodes.EQG,"EQG   "),i(s,a.OpCodes.EQF,"EQF   "),i(s,a.OpCodes.EQB,"EQB   "),i(s,a.OpCodes.NEQG,"NEQG  "),i(s,a.OpCodes.NEQF,"NEQF  "),i(s,a.OpCodes.NEQB,"NEQB  "),i(s,a.OpCodes.NEWC,"NEWC  "),i(s,a.OpCodes.NEWA,"NEWA  "),i(s,a.OpCodes.LDLG,"LDLG  "),i(s,a.OpCodes.LDLF,"LDLF  "),i(s,a.OpCodes.LDLB,"LDLB  "),i(s,a.OpCodes.STLG,"STLG  "),i(s,a.OpCodes.STLB,"STLB  "),i(s,a.OpCodes.STLF,"STLF  "),i(s,a.OpCodes.LDPG,"LDPG  "),i(s,a.OpCodes.LDPF,"LDPF  "),i(s,a.OpCodes.LDPB,"LDPB  "),i(s,a.OpCodes.STPG,"STPG  "),i(s,a.OpCodes.STPB,"STPB  "),i(s,a.OpCodes.STPF,"STPF  "),i(s,a.OpCodes.LDAG,"LDAG  "),i(s,a.OpCodes.LDAB,"LDAB  "),i(s,a.OpCodes.LDAF,"LDAF  "),i(s,a.OpCodes.STAG,"STAG  "),i(s,a.OpCodes.STAB,"STAB  "),i(s,a.OpCodes.STAF,"STAF  "),i(s,a.OpCodes.BRT,"BRT   "),i(s,a.OpCodes.BRF,"BRF   "),i(s,a.OpCodes.BR,"BR    "),i(s,a.OpCodes.JMP,"JMP   "),i(s,a.OpCodes.CALL,"CALL  "),i(s,a.OpCodes.CALLT,"CALLT "),i(s,a.OpCodes.CALLP,"CALLP "),i(s,a.OpCodes.CALLTP,"CALLTP"),i(s,a.OpCodes.CALLV,"CALLV "),i(s,a.OpCodes.CALLTV,"CALLTV"),i(s,a.OpCodes.RETG,"RETG  "),i(s,a.OpCodes.RETF,"RETF  "),i(s,a.OpCodes.RETB,"RETB  "),i(s,a.OpCodes.RETU,"RETU  "),i(s,a.OpCodes.RETN,"RETN  "),i(s,a.OpCodes.DUP,"DUP   "),i(s,a.OpCodes.NEWENV,"NEWENV"),i(s,a.OpCodes.POPENV,"POPENV"),i(s,a.OpCodes.NEWCP,"NEWCP "),i(s,a.OpCodes.NEWCV,"NEWCV "),i(s,a.OpCodes.NEGG,"NEGG  "),i(s,a.OpCodes.NEGF,"NEGF  "),i(s,a.OpCodes.NEQG,"NEQG  "),i(s,a.OpCodes.NEQF,"NEQF  "),i(s,a.OpCodes.NEQB,"NEQB  "),i(s,a.OpCodes.ARRAY_LEN,"ARR_LEN"),i(s,a.OpCodes.DISPLAY,"DISPLAY"),i(s,a.OpCodes.DRAW_DATA,"DRAW_DATA"),i(s,a.OpCodes.ERROR,"ERROR"),i(s,a.OpCodes.IS_ARRAY,"IS_ARRAY"),i(s,a.OpCodes.IS_BOOL,"IS_BOOL"),i(s,a.OpCodes.IS_FUNC,"IS_FUNC"),i(s,a.OpCodes.IS_NULL,"IS_NULL"),i(s,a.OpCodes.IS_NUMBER,"IS_NUM"),i(s,a.OpCodes.IS_STRING,"IS_STR"),i(s,a.OpCodes.IS_UNDEFINED,"IS_UNDEF"),i(s,a.OpCodes.MATH_ABS,"MATH_ABS"),i(s,a.OpCodes.MATH_ACOS,"MATH_ACOS"),i(s,a.OpCodes.MATH_ACOSH,"MATH_ACOSH"),i(s,a.OpCodes.MATH_ASINH,"MATH_ASINH"),i(s,a.OpCodes.MATH_ATAN,"MATH_ATAN"),i(s,a.OpCodes.MATH_ATAN2,"MATH_ATAN2"),i(s,a.OpCodes.MATH_ATANH,"MATH_ATANH"),i(s,a.OpCodes.MATH_CBRT,"MATH_CBRT"),i(s,a.OpCodes.MATH_CEIL,"MATH_CEIL"),i(s,a.OpCodes.MATH_CLZ32,"MATH_CLZ32"),i(s,a.OpCodes.MATH_COS,"MATH_COS"),i(s,a.OpCodes.MATH_COSH,"MATH_COSH"),i(s,a.OpCodes.MATH_EXP,"MATH_EXP"),i(s,a.OpCodes.MATH_EXPM1,"MATH_EXPM1"),i(s,a.OpCodes.MATH_FLOOR,"MATH_FLOOR"),i(s,a.OpCodes.MATH_FROUND,"MATH_FROUND"),i(s,a.OpCodes.MATH_HYPOT,"MATH_HYPOT"),i(s,a.OpCodes.MATH_IMUL,"MATH_IMUL"),i(s,a.OpCodes.MATH_LOG,"MATH_LOG"),i(s,a.OpCodes.MATH_LOG1P,"MATH_LOG1P"),i(s,a.OpCodes.MATH_LOG2,"MATH_LOG2"),i(s,a.OpCodes.MATH_LOG10,"MATH_LOG10"),i(s,a.OpCodes.MATH_MAX,"MATH_MAX"),i(s,a.OpCodes.MATH_MIN,"MATH_MIN"),i(s,a.OpCodes.MATH_POW,"MATH_POW"),i(s,a.OpCodes.MATH_RANDOM,"MATH_RANDOM"),i(s,a.OpCodes.MATH_ROUND,"MATH_ROUND"),i(s,a.OpCodes.MATH_SIGN,"MATH_SIGN"),i(s,a.OpCodes.MATH_SIN,"MATH_SIN"),i(s,a.OpCodes.MATH_SINH,"MATH_SINH"),i(s,a.OpCodes.MATH_SQRT,"MATH_SQRT"),i(s,a.OpCodes.MATH_TAN,"MATH_TAN"),i(s,a.OpCodes.MATH_TANH,"MATH_TANH"),i(s,a.OpCodes.MATH_TRUNC,"MATH_TRUNC"),i(s,a.OpCodes.PARSE_INT,"PARSE_INT"),i(s,a.OpCodes.RUNTIME,"RUNTIME"),i(s,a.OpCodes.STREAM,"STREAM"),i(s,a.OpCodes.STRINGIFY,"STRINGIFY"),i(s,a.OpCodes.PROMPT,"PROMPT"),i(s,a.OpCodes.EXECUTE,"EXEC  "),i(s,a.OpCodes.TEST_AND_SET,"T&S   "),i(s,a.OpCodes.CLEAR,"CLEAR "),s);t.getName=o,t.stringifyProgram=function(e){var t=e[1],n="";n+="Entry function: "+e[0]+"\n";for(var r=0;r<t.length;r++){for(var i=t[r],s="#"+r+":\nStack Size: "+i[0]+"\nEnv Size: "+i[1]+"\nNum Args: "+i[2]+"\n",a=0;a<i[3].length;a++){s+=a;var u=i[3][a];s+=": "+o(u[0]);for(var l=1;l<u.length;l++)s+=" "+u[l];s+="\n"}n+=s+"\n"}return n}},pRMk:function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return s(e,t,n)}var o=n("zkTx"),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=i),i.prototype=Object.create(s.prototype),r(s,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=s(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},pyAK:function(){},sOO9:function(e,t,n){(function(e){var r=n("ANQQ"),i=n("3mKH"),o=n("1hwd"),s=n("HrKg"),a=n("Jmra"),u=t;u.request=function(t,n){t="string"==typeof t?a.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",s=t.protocol||i,u=t.hostname||t.host,l=t.port,c=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?s+"//"+u:"")+(l?":"+l:"")+c,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new r(t);return n&&h.on("response",n),h},u.get=function(e,t){var n=u.request(e,t);return n.end(),n},u.ClientRequest=r,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=s,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n("pCvA"))},soc2:function(e,t,n){"use strict";function r(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(p.isEncoding===f||!f(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=s,this.end=a,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=u,this.end=l,t=3;break;default:return this.write=c,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(t)}function i(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,n=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"ï¿½";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"ï¿½";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"ï¿½"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function a(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function c(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}var p=n("pRMk").Buffer,f=p.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=r,r.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},r.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½":t},r.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=i(t[r]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--r<n||-2===o?0:(o=i(t[r]))>=0?(o>0&&(e.lastNeed=o-2),o):--r<n||-2===o?0:(o=i(t[r]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},sqee:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NoDeclareMutableError=void 0;var s=n("j0Aj"),a=n("QyX9"),u=["let","var"],l=function(){function e(e){this.node=e,this.type=a.ErrorType.SYNTAX,this.severity=a.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"Mutable variable declaration using keyword "+"'".concat(this.node.kind,"'")+" is not allowed."}},{key:"elaborate",value:function(){var e=this.node.declarations[0].id.name,t=s.generate(this.node.declarations[0].init);return'Use keyword "const" instead, to declare a constant:\n\n\tconst '.concat(e," = ").concat(t,";")}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.NoDeclareMutableError=l,t.default={name:"no-declare-mutable",disableOn:3,checkers:{VariableDeclaration:function(e){return u.includes(e.kind)?[new l(e)]:[]}}}},tV8f:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}var s;Object.defineProperty(t,"__esModule",{value:!0}),t.ForStatmentMustHaveAllParts=void 0;var a=n("QyX9"),u=n("zZ3m"),l=function(){function e(e,t){this.node=e,this.missingParts=t,this.type=a.ErrorType.SYNTAX,this.severity=a.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"Missing ".concat(this.missingParts.join(", ")," expression").concat(1===this.missingParts.length?"":"s"," in for statement.")}},{key:"elaborate",value:function(){return u.stripIndent(s||(e=["\n      This for statement requires all three parts (initialiser, test, update) to be present.\n    "],t||(t=e.slice(0)),s=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))));var e,t}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.ForStatmentMustHaveAllParts=l,t.default={name:"for-statement-must-have-all-parts",checkers:{ForStatement:function(e){var t=["init","test","update"].filter((function(t){return null===e[t]}));return t.length>0?[new l(e,t)]:[]}}}},"u+Ul":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}var s;Object.defineProperty(t,"__esModule",{value:!0}),t.NoIfWithoutElseError=void 0;var a=n("j0Aj"),u=n("QyX9"),l=n("zZ3m"),c=function(){function e(e){this.node=e,this.type=u.ErrorType.SYNTAX,this.severity=u.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return'Missing "else" in "if-else" statement.'}},{key:"elaborate",value:function(){return l.stripIndent(s||(e=['\n      This "if" block requires corresponding "else" block which will be\n      evaluated when ',' expression evaluates to false.\n\n      Later in the course we will lift this restriction and allow "if" without\n      else.\n    '],t||(t=e.slice(0)),s=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))),a.generate(this.node.test));var e,t}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.NoIfWithoutElseError=c,t.default={name:"no-if-without-else",disableOn:3,checkers:{IfStatement:function(e){return e.alternate?[]:[new c(e)]}}}},ud1U:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}var s;Object.defineProperty(t,"__esModule",{value:!0}),t.NoHolesInArrays=void 0;var a=n("QyX9"),u=n("zZ3m"),l=function(){function e(e){this.node=e,this.type=a.ErrorType.SYNTAX,this.severity=a.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return"No holes are allowed in array literals."}},{key:"elaborate",value:function(){return u.stripIndent(s||(e=["\n      No holes (empty slots with no content inside) are allowed in array literals.\n      You probably have an extra comma, which creates a hole.\n    "],t||(t=e.slice(0)),s=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))));var e,t}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.NoHolesInArrays=l,t.default={name:"no-holes-in-arrays",checkers:{ArrayExpression:function(e){return e.elements.some((function(e){return null===e}))?[new l(e)]:[]}}}},upWy:function(e,t,n){"use strict";(function(t){e.exports=void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick((function(){e.apply(null,o)}))}}}:t}).call(this,n("5IsQ"))},w6cD:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function a(e,t){if(/Maximum call stack/.test(e.toString())){for(var n=t.runtime.environments,r=[],i=0,o=0;i<u.MaximumStackLimitExceeded.MAX_CALLS_TO_SHOW&&o<n.length;o++)n[o].callExpression&&(r.unshift(n[o].callExpression),i++);t.errors.push(new u.MaximumStackLimitExceeded(t.runtime.nodes[0],r))}}Object.defineProperty(t,"__esModule",{value:!0}),t.PreemptiveScheduler=t.NonDetScheduler=t.AsyncScheduler=void 0;var u=n("JFiO"),l=n("A6L2");t.AsyncScheduler=function(){function e(){}return o(e,[{key:"run",value:function(e,t){var n=this;return new Promise((function(r){t.runtime.isRunning=!0;var i=e.next();try{for(;!i.done;)i=e.next(),t.runtime.break&&(l.saveState(t,e,n),i.done=!0)}catch(e){r({status:"error"})}finally{t.runtime.isRunning=!1}r(t.runtime.break?{status:"suspended",it:e,scheduler:n,context:t}:{status:"finished",context:t,value:i.value})}))}}]),e}(),t.NonDetScheduler=function(){function e(){}return o(e,[{key:"run",value:function(e,t){var n=this;return new Promise((function(r){try{var i=e.next();r(i.done?{status:"finished",context:t,value:i.value}:{status:"suspended-non-det",it:e,scheduler:n,context:t,value:i.value})}catch(e){a(e,t),r({status:"error"})}finally{t.runtime.isRunning=!1}}))}}]),e}(),t.PreemptiveScheduler=function(){function e(e){this.steps=e}return o(e,[{key:"run",value:function(e,t){var n=this;return new Promise((function(r){t.runtime.isRunning=!0;var i=!1,o=e.next(),s=setInterval((function(){var u=0;try{for(;!o.done&&u<n.steps;)u++,o=e.next(),(i=t.runtime.break&&t.runtime.debuggerOn)&&(o.done=!0);l.saveState(t,e,n)}catch(e){a(e,t),t.runtime.isRunning=!1,clearInterval(s),r({status:"error"})}o.done&&(t.runtime.isRunning=!1,clearInterval(s),r(i?{status:"suspended",it:e,scheduler:n,context:t}:{status:"finished",context:t,value:o.value}))}))}))}}]),e}()},w7gO:function(e,t,n){function r(e){if("string"==typeof e&&(e=o.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}var i=n("sOO9"),o=n("Jmra"),s=e.exports;for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a]);s.request=function(e,t){return e=r(e),i.request.call(this,e,t)},s.get=function(e,t){return e=r(e),i.get.call(this,e,t)}},wfEq:function(e){e.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},xTpk:function(e,t,n){"use strict";function r(e,t){e.emit("error",t)}var i=n("upWy");e.exports={destroy:function(e,t){var n=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(i.nextTick(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},xhom:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(null!==e){if(t&&"Untypable"!==e.typability)try{e.inferredType=v(e.inferredType,t),e.typability="Typed"}catch(t){!f(t)||t instanceof F.InternalCyclicReferenceError||U.push(new F.TypeError(e,t))}else e.inferredType=I(j),j++;switch(e.type){case"Program":case"BlockStatement":e.body.forEach((function(e){c(e,t)}));break;case"UnaryExpression":c(e.argument,t);break;case"LogicalExpression":case"BinaryExpression":case"AssignmentExpression":c(e.left,t),c(e.right,t);break;case"ExpressionStatement":c(e.expression,t);break;case"WhileStatement":c(e.test,t),c(e.body,t);break;case"ForStatement":c(e.init,t),c(e.test,t),c(e.update,t),c(e.body,t);break;case"ConditionalExpression":case"IfStatement":c(e.test,t),c(e.consequent,t),e.alternate&&c(e.alternate,t);break;case"CallExpression":c(e.callee,t),e.arguments.forEach((function(e){c(e,t)}));break;case"ReturnStatement":c(e.argument,t);break;case"VariableDeclaration":c(e.declarations[0].init,t);break;case"ArrowFunctionExpression":e.params.forEach((function(e){c(e,t)})),c(e.body,t);break;case"FunctionDeclaration":var n=e;if(t)try{n.functionInferredType=v(n.functionInferredType,t)}catch(t){t instanceof F.InternalCyclicReferenceError?U.push(new $.CyclicReferenceError(e)):f(t)&&U.push(new F.TypeError(e,t))}else n.functionInferredType=I(j);j++,n.params.forEach((function(e){c(e,t)})),c(n.body,t);break;case"ArrayExpression":e.elements.forEach((function(e){return c(e,t)}));break;case"MemberExpression":c(e.object,t),c(e.property,t);break;default:return}}}function h(e){return"pair"===e.kind}function p(e){return function(e){return"list"===e.kind}(e)?e.elementType:null}function f(e){return e instanceof F.InternalTypeError}function d(e,t){switch(e.kind){case"primitive":return e;case"list":return{kind:"list",elementType:d(e.elementType,t)};case"array":return{kind:"array",elementType:d(e.elementType,t)};case"pair":return{kind:"pair",headType:d(e.headType,t),tailType:d(e.tailType,t)};case"variable":return t[e.name];case"function":return o(o({},e),{parameterTypes:e.parameterTypes.map((function(e){return d(e,t)})),returnType:d(e.returnType,t)})}}function m(e,t){var n=i(e);return t.forEach((function(e){-1===n.findIndex((function(t){return t.name===e.name}))&&n.push(e)})),n}function g(e){switch(e.kind){case"primitive":return[];case"list":case"array":return g(e.elementType);case"pair":return m(g(e.headType),g(e.tailType));case"variable":return[e];case"function":return m(e.parameterTypes.reduce((function(e,t){return m(e,g(t))}),[]),g(e.returnType))}}function y(e){var t=e.polyType,n=g(t),r={};return n.forEach((function(e){var t;r[e.name]=(t=j,j++,o(o({},e),{name:"T".concat(t)}))})),d(t,r)}function v(e,t){switch(e.kind){case"primitive":return e;case"pair":var n=v(e.headType,t),r=v(e.tailType,t);return"list"===r.kind&&n===p(r)?O(n):M(n,r);case"list":return{kind:"list",elementType:v(e.elementType,t)};case"array":return{kind:"array",elementType:v(e.elementType,t)};case"variable":var i,s=a(t);try{for(s.s();!(i=s.n()).done;){var u=i.value,l=u[0],c=u[1];if(l.name===e.name){if(b(c,l.name)){if(h(c)&&l===c.tailType)return{kind:"list",elementType:c.headType};if("variable"===l.kind&&l===p(c))return{kind:"list",elementType:l};throw new F.InternalCyclicReferenceError(e.name)}return v(u[1],t)}}}catch(e){s.e(e)}finally{s.f()}return e;case"function":return o(o({},e),{parameterTypes:e.parameterTypes.map((function(e){return v(e,t)})),returnType:v(e.returnType,t)})}}function b(e,t){switch(e.kind){case"primitive":return!1;case"pair":return b(e.headType,t)||b(e.tailType,t);case"array":case"list":return b(e.elementType,t);case"variable":return e.name===t;case"function":return e.parameterTypes.some((function(e){return b(e,t)}))||b(e.returnType,t)}}function x(e,t){var n=s(t,2),r=n[0],i=n[1];if("primitive"===r.kind&&"primitive"===i.kind&&r.name===i.name)return e;if("variable"!==r.kind&&"variable"===i.kind)return x(e,[i,r]);if("variable"===r.kind){if(("primitive"===(i=v(i,e)).kind||"variable"===i.kind)&&r.name===i.name)return e;if("pair"===i.kind&&r===i.tailType)x(e,[r,O(i.headType)]);else{if("pair"===i.kind&&"list"===i.tailType.kind){var o=x(e,[i.headType,p(i.tailType)]);return x(o,[r,O(i.headType)])}if(b(i,r.name))throw new F.InternalCyclicReferenceError(r.name)}if(function(e,t){return"addable"===e.constraint&&"variable"!==t.kind&&!("primitive"===t.kind&&("string"===t.name||"number"===t.name))}(r,i))throw new F.UnifyError(r,i);return function(e,t,n){var r,i=a(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o[0].name===e.name)return x(t,[n,o[1]])}}catch(e){i.e(e)}finally{i.f()}return"variable"===n.kind&&"addable"===e.constraint&&"none"===n.constraint&&(n.constraint=e.constraint),e!==n&&t.push([e,n]),t}(r,e,v(i,e))}if("function"===r.kind&&"function"===i.kind){if(r.parameterTypes.length!==i.parameterTypes.length)throw new F.InternalDifferentNumberArgumentsError(i.parameterTypes.length,r.parameterTypes.length);for(var u=e,l=0;l<r.parameterTypes.length;l++)u=x(u,[r.parameterTypes[l],i.parameterTypes[l]]);return u=x(u,[r.returnType,i.returnType])}if("pair"===r.kind&&"pair"===i.kind){var c=x(e,[r.headType,i.headType]);return x(c,[r.tailType,i.tailType])}if("list"===r.kind&&"list"===i.kind)return x(e,[r.elementType,i.elementType]);if("list"===r.kind&&"pair"===i.kind)return x(e,[i,M(r.elementType,r)]);if("list"===i.kind&&"pair"===r.kind)return x(e,[r,M(i.elementType,i)]);if("array"===r.kind&&"array"===i.kind)return x(e,[r.elementType,i.elementType]);throw new F.UnifyError(r,i)}function w(e){switch(e.type){case"IfStatement":return w(e.consequent)||w(e.alternate);case"BlockStatement":return e.body.some((function(e){return w(e)}));case"ForStatement":case"WhileStatement":return w(e.body);case"ReturnStatement":return!0;default:return!1}}function _(e){switch(e.type){case"ExpressionStatement":return!0;case"IfStatement":return _(e.consequent)||_(e.alternate);case"BlockStatement":return e.body.some((function(e){return _(e)}));case"ForStatement":case"WhileStatement":return _(e.body);default:return!1}}function S(e,t){var n=e.body.length-1;if(t){for(var r=n;r>=0;r--)if(_(e.body[r]))return r;return n}return e.body.findIndex((function(e,t){return t===n||w(e)}))}function k(e,t){for(var n=t.length-1;n>=0;n--)if(t[n].typeMap.has(e))return t[n].typeMap.get(e)}function T(e,t,n){n[n.length-1].typeMap.set(e,t)}function A(e,t,n){n[n.length-1].declKindMap.set(e,t)}function E(e){e.push({typeMap:new Map,declKindMap:new Map})}function C(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{return function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=e.inferredType;switch(e.type){case"UnaryExpression":var u=k("-"===e.operator?z:e.operator,t),l=e.argument,c=l.inferredType,h=[],p=C(l,t,n);h.push(v(l.inferredType,p));try{p=x(p,[P(c,s),u])}catch(t){if(t instanceof F.UnifyError)return U.push(new $.InvalidArgumentTypesError(e,[l],u.parameterTypes,h)),p}return p;case"LogicalExpression":case"BinaryExpression":var f=k(e.operator,t),d="forall"===f.kind?y(f):f,m=e.left,g=m.inferredType,b=e.right,w=b.inferredType,_=[m,b],L=n,R=[];_.forEach((function(e){L=C(e,t,L),R.push(v(e.inferredType,L))}));try{L=x(n,[P(g,w,s),d])}catch(t){if(t instanceof F.UnifyError)U.push(new $.InvalidArgumentTypesError(e,_,d.parameterTypes,R))}return L;case"ExpressionStatement":return C(e.expression,t,x(n,[s,K]));case"ReturnStatement":var M=e.argument;return C(M,t,x(n,[s,M.inferredType]));case"WhileStatement":var B=e.test,q=B.inferredType,X=e.body,Y=x(n,[s,X.inferredType]);try{Y=x(Y=C(B,t,Y),[q,G])}catch(t){t instanceof F.UnifyError&&U.push(new $.InvalidTestConditionError(e,t.RHS))}return C(X,t,Y,o);case"ForStatement":var Q=e.init,Z=e.test,J=Z.inferredType,ee=e.body,te=e.update,ne=x(n,[s,ee.inferredType]);if(E(t),"VariableDeclaration"===Q.type&&"var"!==Q.kind&&"Identifier"===Q.declarations[0].id.type){var re=Q.declarations[0].id.name;T(re,Q.declarations[0].init.inferredType,t),A(re,Q.kind,t),ne=C(Q,t,ne),T(re,N(v(Q.declarations[0].init.inferredType,ne)),t)}else ne=C(Q,t,ne);try{ne=x(ne=C(Z,t,ne),[J,G])}catch(t){t instanceof F.UnifyError&&U.push(new $.InvalidTestConditionError(e,t.RHS))}ne=C(te,t,ne);var ie=C(ee,t,ne,o);return t.pop(),ie;case"Program":case"BlockStatement":E(t);var oe,se=a(e.body);try{for(se.s();!(oe=se.n()).done;){var ae=oe.value;if("ImportDeclaration"===ae.type){var ue,le=a(ae.specifiers);try{for(le.s();!(ue=le.n()).done;){var ce=ue.value;"ImportSpecifier"===ce.type&&"Identifier"===ce.imported.type&&(T(ce.imported.name,N(I("T1")),t),A(ce.imported.name,"const",t))}}catch(e){le.e(e)}finally{le.f()}}}}catch(e){se.e(e)}finally{se.f()}for(var he=e.body.length-1,pe=S(e,o),fe=-1,de=!1,me=he,ge=[];me>=0;){var ye=e.body[me];"FunctionDeclaration"!==ye.type&&"VariableDeclaration"!==ye.type||(de||(de=!0,fe=me),ge.push(ye)),me--}ge.forEach((function(e){if("FunctionDeclaration"===e.type&&null!==e.id){var n=e.id.name;T(n,e.functionInferredType,t),A(n,"const",t)}else if("VariableDeclaration"===e.type&&"var"!==e.kind&&"Identifier"===e.declarations[0].id.type){var r=e.declarations[0].id.name;T(r,e.declarations[0].init.inferredType,t),A(r,e.kind,t)}}));for(var ve=e.body[pe],be=x(n,[s,o&&"ExpressionStatement"===ve.type?ve.expression.inferredType:ve.inferredType]),xe=0;xe<=fe;xe++)be=xe===pe?C(e.body[xe],t,be,o):C(e.body[xe],t,be);ge.forEach((function(e){"FunctionDeclaration"===e.type&&null!==e.id?T(e.id.name,N(v(e.functionInferredType,be)),t):"VariableDeclaration"===e.type&&"Identifier"===e.declarations[0].id.type&&T(e.declarations[0].id.name,N(v(e.declarations[0].init.inferredType,be)),t)}));for(var we=fe+1;we<=he;we++){var _e=e.body[we];be=we===pe?C(_e,t,be,o):C(_e,t,be)}return"BlockStatement"===e.type&&t.pop(),be;case"Literal":var Se=e.value,ke=r(Se);if(null===Se)return x(n,[s,O(I(j++))]);if("number"===ke)return x(n,[s,W]);if("boolean"===ke)return x(n,[s,G]);if("string"===ke)return x(n,[s,H]);throw Error("Unexpected literal type");case"Identifier":var Te=e.name,Ae=k(Te,t);return void 0!==Ae?x(n,"forall"===Ae.kind?[s,y(Ae)]:[s,Ae]):(U.push(new $.UndefinedIdentifierError(e,Te)),n);case"ConditionalExpression":case"IfStatement":var Ee=e.test,Ce=Ee.inferredType,Le=e.consequent,Ie=Le.inferredType,Re=e.alternate,Me=Re.inferredType,Oe=x(n,[s,Ie]);try{Oe=x(Oe=C(Ee,t,Oe),[Ce,G])}catch(t){t instanceof F.UnifyError&&U.push(new $.InvalidTestConditionError(e,t.RHS))}Oe=C(Le,t,Oe,o);try{Oe=x(Oe=C(Re,t,Oe,o),[Ie,Me])}catch(t){t instanceof F.UnifyError&&U.push(new $.ConsequentAlternateMismatchError(e,t.RHS,t.LHS))}return Oe;case"ArrowFunctionExpression":E(t);var Ne=e.params,De=Ne.map((function(e){return e.inferredType})),Pe=e.body;De.push(Pe.inferredType);var Fe=x(n,[s,P.apply(void 0,i(De))]);Ne.forEach((function(e){T(e.name,e.inferredType,t)}));var $e=C(Pe,t,Fe);return t.pop(),$e;case"VariableDeclaration":return C(e.declarations[0].init,t,x(n,[s,K]));case"FunctionDeclaration":var Ve=e,Be=x(n,[s,K]);E(t);var ze=Ve.functionInferredType,je=e.params,Ue=je.map((function(e){return e.inferredType})),Ge=e.body;Ue.push(Ge.inferredType),Be=x(Be,[ze,P.apply(void 0,i(Ue))]),je.forEach((function(e){T(e.name,e.inferredType,t)}));var We=C(Ge,t,Be);return t.pop(),We;case"CallExpression":var He=e.callee,Ke=He.inferredType,qe=e.arguments,Xe=qe.map((function(e){return e.inferredType}));Xe.push(s);var Ye=n;Ye=C(He,t,Ye);var Qe=v(He.inferredType,Ye),Ze=[];qe.forEach((function(e){Ye=C(e,t,Ye),Ze.push(v(e.inferredType,Ye))}));try{Ye=x(n,[P.apply(void 0,i(Xe)),Ke])}catch(t){if(t instanceof F.UnifyError)if("function"===Qe.kind)U.push(new $.InvalidArgumentTypesError(e,qe,Qe.parameterTypes,Ze));else U.push(new $.CallingNonFunctionType(e,Qe));else t instanceof F.InternalDifferentNumberArgumentsError&&U.push(new $.DifferentNumberArgumentsError(e,t.numExpectedArgs,t.numReceived))}return Ye;case"AssignmentExpression":var Je=e.left,et=e.right,tt=et.inferredType,nt=Je.inferredType,rt=x(n,[s,tt]);if(rt=C(et,t,rt),"Identifier"===Je.type&&"const"===function(e,t){for(var n=t.length-1;n>=0;n--)if(t[n].declKindMap.has(e))return t[n].declKindMap.get(e)}(Je.name,t))return U.push(new $.ReassignConstError(e)),rt;rt=C(Je,t,rt);try{return x(rt,[tt,nt])}catch(t){t instanceof F.UnifyError&&U.push("Identifier"===Je.type?new $.DifferentAssignmentError(e,v(nt,rt),v(tt,rt)):new $.ArrayAssignmentError(e,D(v(nt,rt)),D(v(tt,rt))))}return rt;case"ArrayExpression":var it=n,ot=e.elements;ot.forEach((function(e){it=C(e,t,it)}));var st=I(j++);return it=x(it,[s,D(st)]),ot.forEach((function(t){try{it=x(it,[st,t.inferredType])}catch(n){n instanceof F.UnifyError&&U.push(new $.ArrayAssignmentError(e,v(e.inferredType,it),D(v(t.inferredType,it))))}})),it;case"MemberExpression":var at=e.object.name,ut=e.property,lt=ut.inferredType,ct=C(ut,t,n),ht=k(at,t),pt="forall"===ht.kind?y(ht):v(ht,ct);if("array"!==pt.kind)throw new F.InternalTypeError("Expected ".concat(at," to be an array, got ").concat(V.typeToString(pt)));var ft=pt.elementType;try{ct=x(n,[lt,W])}catch(t){t instanceof F.UnifyError&&U.push(new $.InvalidArrayIndexType(e,v(lt,ct)))}return x(ct,[s,ft]);default:return x(n,[s,K])}}(e,t,n,o)}catch(t){if(t instanceof F.InternalCyclicReferenceError)return U.push(new $.CyclicReferenceError(e)),n;throw t}}function L(e){return{kind:"primitive",name:e}}function I(e){return{kind:"variable",name:"T".concat(e),constraint:"none"}}function R(e){return{kind:"variable",name:"".concat(e),constraint:"addable"}}function M(e,t){return{kind:"pair",headType:e,tailType:t}}function O(e){return{kind:"list",elementType:e}}function N(e){return{kind:"forall",polyType:e}}function D(e){return{kind:"array",elementType:e}}function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{kind:"function",parameterTypes:t.slice(0,-1),returnType:t.slice(-1)[0]}}Object.defineProperty(t,"__esModule",{value:!0}),t.createTypeEnvironment=t.tForAll=t.tVar=t.typeCheck=void 0;var F=n("KZ+V"),$=n("RZxB"),V=n("GFFv"),B=n("f9Fa"),z="-_1",j=0,U=[];t.typeCheck=function(e,t){function n(e){j=0,U=[];var n=t.typeEnvironment;if(t.chapter>=3&&3===n.length){var r,i=n[2].typeMap,o=a(ie);try{for(o.s();!(r=o.n()).done;){var u=s(r.value,2);i.set(u[0],u[1])}}catch(e){o.e(e)}finally{o.f()}}var l=[];c(e);try{C(e,n,l,!0)}catch(e){}return c(e,l),[e,U]}var r,i=a(t.unTypecheckedCode);try{for(i.s();!(r=i.n()).done;){n(B.typedParse(r.value,t))}}catch(e){i.e(e)}finally{i.f()}return t.unTypecheckedCode=[],n(e)},t.tVar=I,t.tForAll=N;var G=L("boolean"),W=L("number"),H=L("string"),K=L("undefined"),q=[["Infinity",W],["NaN",W],["undefined",K],["math_E",W],["math_LN2",W],["math_LN10",W],["math_LOG2E",W],["math_LOG10E",W],["math_PI",W],["math_SQRT1_2",W],["math_SQRT2",W],["is_boolean",N(P(I("T"),G))],["is_number",N(P(I("T"),G))],["is_string",N(P(I("T"),G))],["is_undefined",N(P(I("T"),G))],["math_abs",P(W,W)],["math_acos",P(W,W)],["math_acosh",P(W,W)],["math_asin",P(W,W)],["math_asinh",P(W,W)],["math_atan",P(W,W)],["math_atan2",P(W,W,W)],["math_atanh",P(W,W)],["math_cbrt",P(W,W)],["math_ceil",P(W,W)],["math_clz32",P(W,W)],["math_cos",P(W,W)],["math_cosh",P(W,W)],["math_exp",P(W,W)],["math_expm1",P(W,W)],["math_floor",P(W,W)],["math_fround",P(W,W)],["math_hypot",N(I("T"))],["math_imul",P(W,W,W)],["math_log",P(W,W)],["math_log1p",P(W,W)],["math_log2",P(W,W)],["math_log10",P(W,W)],["math_max",N(I("T"))],["math_min",N(I("T"))],["math_pow",P(W,W,W)],["math_random",P(W)],["math_round",P(W,W)],["math_sign",P(W,W)],["math_sin",P(W,W)],["math_sinh",P(W,W)],["math_sqrt",P(W,W)],["math_tan",P(W,W)],["math_tanh",P(W,W)],["math_trunc",P(W,W)],["parse_int",P(H,W,W)],["prompt",P(H,H)],["get_time",P(W)],["stringify",N(P(I("T"),H))],["display",N(I("T"))],["error",N(I("T"))]],X=I("headType"),Y=I("tailType"),Q=[["pair",N(P(X,Y,M(X,Y)))],["head",N(P(M(X,Y),X))],["tail",N(P(M(X,Y),Y))],["is_pair",N(P(I("T"),G))],["is_null",N(P(M(X,Y),G))]],Z=[["set_head",N(P(M(X,Y),X,K))],["set_tail",N(P(M(X,Y),Y,K))]],J=[["is_array",N(P(I("T"),G))],["array_length",N(P(D(I("T")),W))]],ee=[["list",N(I("T1"))]],te=[[z,P(W,W)],["!",P(G,G)],["&&",N(P(G,I("T"),I("T")))],["||",N(P(G,I("T"),I("T")))],["<",N(P(R("A"),R("A"),G))],["<=",N(P(R("A"),R("A"),G))],[">",N(P(R("A"),R("A"),G))],[">=",N(P(R("A"),R("A"),G))],["+",N(P(R("A"),R("A"),R("A")))],["%",P(W,W,W)],["-",P(W,W,W)],["*",P(W,W,W)],["/",P(W,W,W)]],ne=[["===",N(P(R("A"),R("A"),G))],["!==",N(P(R("A"),R("A"),G))]],re=[["===",N(P(I("T1"),I("T2"),G))],["!==",N(P(I("T1"),I("T2"),G))]],ie=[["is_stream",N(P(I("T1"),G))],["list_to_stream",N(P(O(I("T1")),I("T2")))],["stream_to_list",N(P(I("T1"),O(I("T2"))))],["stream_length",N(P(I("T1"),W))],["stream_map",N(P(I("T1"),I("T2")))],["build_stream",N(P(W,P(W,I("T1")),I("T2")))],["stream_for_each",N(P(P(I("T1"),I("T2")),G))],["stream_reverse",N(P(I("T1"),I("T1")))],["stream_append",N(P(I("T1"),I("T1"),I("T1")))],["stream_member",N(P(I("T1"),I("T2"),I("T2")))],["stream_remove",N(P(I("T1"),I("T2"),I("T2")))],["stream_remove_all",N(P(I("T1"),I("T2"),I("T2")))],["stream_filter",N(P(P(I("T1"),G),I("T2"),I("T2")))],["enum_stream",N(P(W,W,I("T1")))],["integers_from",N(P(W,I("T1")))],["eval_stream",N(P(I("T1"),W,O(I("T2"))))],["stream_ref",N(P(I("T1"),W,I("T2")))]];t.createTypeEnvironment=function(e){var t=[].concat(q,te);return e>=2&&t.push.apply(t,Q.concat(ee)),t.push.apply(t,e>=3?re.concat(Z,J):ne),[{typeMap:new Map(t),declKindMap:new Map(t.map((function(e){return[e[0],"const"]})))}]}},"z1+4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generatePrimitiveFunctionCode=t.CONSTANT_PRIMITIVES=t.EXTERNAL_PRIMITIVES=t.BINARY_PRIMITIVES=t.UNARY_PRIMITIVES=t.NULLARY_PRIMITIVES=t.INTERNAL_FUNCTIONS=t.VARARGS_NUM_ARGS=t.PRIMITIVE_FUNCTION_NAMES=t.vmPrelude=void 0;var r=n("Ib16"),i=n("g0lB");t.vmPrelude="\n// 0\nfunction _accumulate(f, initial, xs) {\n  return is_null(xs) ? initial : f(head(xs), accumulate(f, initial, tail(xs)));\n}\n\n// 1\nfunction _append(xs, ys) {\n  return is_null(xs) ? ys : pair(head(xs), append(tail(xs), ys));\n}\n\n// 2 placeholder\nfunction _array_length(arr) {}\n\n// 3\nfunction _build_list(fun, n) {\n  function build(i, fun, already_built) {\n    return i < 0 ? already_built : build(i - 1, fun, pair(fun(i), already_built));\n  }\n  return build(n - 1, fun, null);\n}\n\n// 4\nfunction _build_stream(n, fun) {\n  function build(i) {\n    return i >= n\n      ? null\n      : pair(fun(i),\n        () => build(i + 1));\n  }\n  return build(0);\n}\n\n// 5 custom\n// replace MODG opcode (25) with display opcode\n// change number of arguments to varargs (-1)\nfunction _display(args) {\n  // display(args[0], args[1]);\n  // compile this instead for easier replacing\n  return args[0] % args[1];\n}\n\n// 6 placeholder\nfunction _draw_data(args) {}\n\n// 7\nfunction _enum_list(start, end) {\n  return start > end ? null : pair(start, enum_list(start + 1, end));\n}\n\n// 8\nfunction _enum_stream(start, end) {\n  return start > end\n    ? null\n    : pair(start,\n      () => enum_stream(start + 1, end));\n}\n\n// 9\nfunction _equal(x, y) {\n  return is_pair(x) && is_pair(y) ? equal(head(x), head(y)) && equal(tail(x), tail(y)) : x === y;\n}\n\n// 10 custom\n// replace MODG opcode (25) with error opcode\n// change number of arguments to varargs (-1)\nfunction _error(args) {\n  // error(args[0], args[1]);\n  // compile this instead for easier replacing\n  return args[0] % args[1];\n}\n\n// 11\nfunction _eval_stream(s, n) {\n  return n === 0\n    ? null\n    : pair(head(s),\n      eval_stream(stream_tail(s),\n        n - 1));\n}\n\n// 12\nfunction _filter(pred, xs) {\n  return is_null(xs)\n    ? xs\n    : pred(head(xs))\n    ? pair(head(xs), filter(pred, tail(xs)))\n    : filter(pred, tail(xs));\n}\n\n// 13\nfunction _for_each(fun, xs) {\n  if (is_null(xs)) {\n    return true;\n  } else {\n    fun(head(xs));\n    return for_each(fun, tail(xs));\n  }\n}\n\n// 14\nfunction _head(xs) {\n  if (!is_pair(xs)) {\n    error('head(xs) expects a pair as argument xs, but encountered ' + stringify(xs));\n  } else {\n    return xs[0];\n  }\n}\n\n// 15\nfunction _integers_from(n) {\n  return pair(n,\n    () => integers_from(n + 1));\n}\n\n// 16 placeholder\nfunction _is_array(x) {}\n\n// 17 placeholder\nfunction _is_boolean(x) {}\n\n// 18 placeholder\nfunction _is_function(x) {}\n\n// 19\nfunction _is_list(xs) {\n  return is_null(xs) || (is_pair(xs) && is_list(tail(xs)));\n}\n\n// 20 placeholder\nfunction _is_null(x) {}\n\n// 21 placeholder\nfunction _is_number(x) {}\n\n// 22\nfunction _is_pair(x) {\n  return is_array(x) && array_length(x) === 2;\n}\n\n// 23\nfunction _is_stream(xs) {\n  return is_null(xs) || (is_pair(xs) && is_stream(stream_tail(xs)));\n}\n\n// 24 placeholder\nfunction _is_string(x) {}\n\n// 25 placeholder\nfunction _is_undefined(x) {}\n\n// 26\nfunction _length(xs) {\n  return is_null(xs) ? 0 : 1 + length(tail(xs));\n}\n\n// 27 custom\n// change number of arguments to varargs (-1)\nfunction _list(args) {\n  let i = array_length(args) - 1;\n  let p = null;\n  while (i >= 0) {\n    p = pair(args[i], p);\n    i = i - 1;\n  }\n  return p;\n}\n\n// 28\nfunction _list_ref(xs, n) {\n  return n === 0 ? head(xs) : list_ref(tail(xs), n - 1);\n}\n\n// 29\nfunction _list_to_stream(xs) {\n  return is_null(xs)\n    ? null\n    : pair(head(xs),\n      () => list_to_stream(tail(xs)));\n}\n\n// 30\nfunction _list_to_string(xs) {\n    return is_null(xs)\n        ? \"null\"\n        : is_pair(xs)\n            ? \"[\" + list_to_string(head(xs)) + \",\" +\n                list_to_string(tail(xs)) + \"]\"\n            : stringify(xs);\n}\n\n// 31\nfunction _map(f, xs) {\n  return is_null(xs) ? null : pair(f(head(xs)), map(f, tail(xs)));\n}\n\n// 32 placeholder\nfunction _math_abs(xs) {}\n\n// 33 placeholder\nfunction _math_acos(xs) {}\n\n// 34 placeholder\nfunction _math_acosh(xs) {}\n\n// 35 placeholder\nfunction _math_asin(xs) {}\n\n// 36 placeholder\nfunction _math_asinh(xs) {}\n\n// 37 placeholder\nfunction _math_atan(xs) {}\n\n// 38 placeholder\nfunction _math_atan2(xs) {}\n\n// 39 placeholder\nfunction _math_atanh(xs) {}\n\n// 40 placeholder\nfunction _math_cbrt(xs) {}\n\n// 41 placeholder\nfunction _math_ceil(xs) {}\n\n// 42 placeholder\nfunction _math_clz32(xs) {}\n\n// 43 placeholder\nfunction _math_cos(xs) {}\n\n// 44 placeholder\nfunction _math_cosh(xs) {}\n\n// 45 placeholder\nfunction _math_exp(xs) {}\n\n// 46 placeholder\nfunction _math_expm1(xs) {}\n\n// 47 placeholder\nfunction _math_floor(xs) {}\n\n// 48 placeholder\nfunction _math_fround(xs) {}\n\n// 49 custom\n// can't think of a way to deal with math_hypot\n// without incurring a lot of redundant function calls\n// so just using the ... operator instead on the machine\n// change number of arguments to varargs (-1)\n// replace NOTG opcode with MATH_HYPOT opcode\nfunction _math_hypot(args) {\n  // compile this instead for easier replacing\n  return !args;\n}\n\n// 50 placeholder\nfunction _math_imul(xs) {}\n\n// 51 placeholder\nfunction _math_log(xs) {}\n\n// 52 placeholder\nfunction _math_log1p(xs) {}\n\n// 53 placeholder\nfunction _math_log2(xs) {}\n\n// 54 placeholder\nfunction _math_log10(xs) {}\n\n// 55 custom\n// replace MODG opcode (25) with math_max opcode\n// change number of arguments to varargs (-1)\nfunction _math_max(args) {\n  let i = array_length(args) - 1;\n  let x = -Infinity;\n  while (i >= 0) {\n    // x = math_max(args[i],x)\n    // compile this instead for easier replacing\n    x = args[i] % x;\n    i = i - 1;\n  }\n  return x;\n}\n\n// 56 custom\n// replace MODG opcode (25) with math_max opcode\n// change number of arguments to varargs (-1)\nfunction _math_min(args) {\n  let i = array_length(args) - 1;\n  let x = Infinity;\n  while (i >= 0) {\n    // x = math_min(args[i],x)\n    // compile this instead for easier replacing\n    x = args[i] % x;\n    i = i - 1;\n  }\n  return x;\n}\n\n// 57 placeholder\nfunction _math_pow(xs) {}\n\n// 58 placeholder\nfunction _math_random(xs) {}\n\n// 59 placeholder\nfunction _math_round(xs) {}\n\n// 60 placeholder\nfunction _math_sign(xs) {}\n\n// 61 placeholder\nfunction _math_sin(xs) {}\n\n// 62 placeholder\nfunction _math_sinh(xs) {}\n\n// 63 placeholder\nfunction _math_sqrt(xs) {}\n\n// 64 placeholder\nfunction _math_tan(xs) {}\n\n// 65 placeholder\nfunction _math_tanh(xs) {}\n\n// 66 placeholder\nfunction _math_trunc(xs) {}\n\n// 67\nfunction _member(v, xs) {\n  return is_null(xs) ? null : v === head(xs) ? xs : member(v, tail(xs));\n}\n\n// 68\nfunction _pair(x, y) {\n  return [x, y];\n}\n\n// 69 placeholder\nfunction _parse_int(x,y) {}\n\n// 70\nfunction _remove(v, xs) {\n  return is_null(xs) ? null : v === head(xs) ? tail(xs) : pair(head(xs), remove(v, tail(xs)));\n}\n\n// 71\nfunction _remove_all(v, xs) {\n  return is_null(xs)\n    ? null\n    : v === head(xs)\n    ? remove_all(v, tail(xs))\n    : pair(head(xs), remove_all(v, tail(xs)));\n}\n\n// 72\nfunction _reverse(xs) {\n  function rev(original, reversed) {\n    return is_null(original) ? reversed : rev(tail(original), pair(head(original), reversed));\n  }\n  return rev(xs, null);\n}\n\n// 73 placeholder\nfunction _get_time(x) {}\n\n// 74\nfunction _set_head(xs,x) {\n  if (!is_pair(xs)) {\n    error('set_head(xs) expects a pair as argument xs, but encountered ' + stringify(xs));\n  } else {\n    xs[0] = x;\n  }\n}\n\n// 75\nfunction _set_tail(xs, x) {\n  if (!is_pair(xs)) {\n    error('set_tail(xs) expects a pair as argument xs, but encountered ' + stringify(xs));\n  } else {\n    xs[1] = x;\n  }\n}\n\n// 76 custom\n// change number of arguments to varargs (-1)\nfunction _stream(args) {\n  let i = array_length(args) - 1;\n  let p = null;\n  while (i >= 0) {\n    p = pair(args[i], p);\n    i = i - 1;\n  }\n  return list_to_stream(p);\n}\n\n// 77\nfunction _stream_append(xs, ys) {\n  return is_null(xs)\n    ? ys\n    : pair(head(xs),\n      () => stream_append(stream_tail(xs), ys));\n}\n\n// 78\nfunction _stream_filter(p, s) {\n  return is_null(s)\n    ? null\n    : p(head(s))\n      ? pair(head(s),\n        () => stream_filter(p, stream_tail(s)))\n      : stream_filter(p, stream_tail(s));\n}\n\n// 79\nfunction _stream_for_each(fun, xs) {\n    if (is_null(xs)) {\n      return true;\n    } else {\n      fun(head(xs));\n      return stream_for_each(fun, stream_tail(xs));\n    }\n}\n\n// 80\nfunction _stream_length(xs) {\n  return is_null(xs)\n    ? 0\n    : 1 + stream_length(stream_tail(xs));\n}\n\n// 81\nfunction _stream_map(f, s) {\n  return is_null(s)\n    ? null\n    : pair(f(head(s)),\n      () => stream_map(f, stream_tail(s)));\n}\n\n// 82\nfunction _stream_member(x, s) {\n  return is_null(s)\n    ? null\n    : head(s) === x\n      ? s\n      : stream_member(x, stream_tail(s));\n}\n\n// 83\nfunction _stream_ref(s, n) {\n  return n === 0\n    ? head(s)\n    : stream_ref(stream_tail(s), n - 1);\n}\n\n// 84\nfunction _stream_remove(v, xs) {\n  return is_null(xs)\n    ? null\n    : v === head(xs)\n      ? stream_tail(xs)\n      : pair(head(xs),\n        () => stream_remove(v, stream_tail(xs)));\n}\n\n// 85\nfunction _stream_remove_all(v, xs) {\n  return is_null(xs)\n    ? null\n    : v === head(xs)\n      ? stream_remove_all(v, stream_tail(xs))\n      : pair(head(xs), () => stream_remove_all(v, stream_tail(xs)));\n}\n\n// 86\nfunction _stream_reverse(xs) {\n  function rev(original, reversed) {\n    return is_null(original)\n      ? reversed\n      : rev(stream_tail(original),\n        pair(head(original), () => reversed));\n  }\n  return rev(xs, null);\n}\n\n// 87\nfunction _stream_tail(xs) {\n  if (!is_pair(xs)) {\n    error('stream_tail(xs) expects a pair as argument xs, but encountered ' + stringify(xs));\n  } else if (!is_function(xs[1])) {\n    error('stream_tail(xs) expects a function as the tail of the argument pair xs, ' +\n      'but encountered ' + stringify(xs[1]));\n  } else {\n    return xs[1]();\n  }\n}\n\n// 88\nfunction _stream_to_list(xs) {\n  return is_null(xs)\n    ? null\n    : pair(head(xs), stream_to_list(stream_tail(xs)));\n}\n\n// 89\nfunction _tail(xs) {\n  if (!is_pair(xs)) {\n    error('tail(xs) expects a pair as argument xs, but encountered ' + stringify(xs));\n  } else {\n    return xs[1];\n  }\n}\n\n// 90 placeholder\nfunction _stringify(x) {}\n\n// 91 custom\n// change number of args to varargs\n// replace NOTG opcode with PROMPT opcode\nfunction _prompt(args) {\n  if (array_length(args) === 0) {\n    const p = '';\n    return !p;\n  } else {\n    return !args[0];\n  }\n}\n\n// hack to make the call to Program easier, just replace the index 92 (number of primitive functions + 2)\n(() => 0)();\n",t.PRIMITIVE_FUNCTION_NAMES=["accumulate","append","array_length","build_list","build_stream","display","draw_data","enum_list","enum_stream","equal","error","eval_stream","filter","for_each","head","integers_from","is_array","is_boolean","is_function","is_list","is_null","is_number","is_pair","is_stream","is_string","is_undefined","length","list","list_ref","list_to_stream","list_to_string","map","math_abs","math_acos","math_acosh","math_asin","math_asinh","math_atan","math_atan2","math_atanh","math_cbrt","math_ceil","math_clz32","math_cos","math_cosh","math_exp","math_expm1","math_floor","math_fround","math_hypot","math_imul","math_log","math_log1p","math_log2","math_log10","math_max","math_min","math_pow","math_random","math_round","math_sign","math_sin","math_sinh","math_sqrt","math_tan","math_tanh","math_trunc","member","pair","parse_int","remove","remove_all","reverse","get_time","set_head","set_tail","stream","stream_append","stream_filter","stream_for_each","stream_length","stream_map","stream_member","stream_ref","stream_remove","stream_remove_all","stream_reverse","stream_tail","stream_to_list","tail","stringify","prompt"],t.VARARGS_NUM_ARGS=-1,t.INTERNAL_FUNCTIONS=[["test_and_set",r.default.TEST_AND_SET,1,!0],["clear",r.default.CLEAR,1,!1],["concurrent_execute",r.default.EXECUTE,t.VARARGS_NUM_ARGS,!1]];var o=[["display",r.default.MODG,r.default.DISPLAY],["error",r.default.MODG,r.default.ERROR],["math_max",r.default.MODG,r.default.MATH_MAX],["math_min",r.default.MODG,r.default.MATH_MIN],["math_hypot",r.default.NOTG,r.default.MATH_HYPOT],["list"],["draw_data"],["stream"],["prompt",r.default.NOTG,r.default.PROMPT]];t.NULLARY_PRIMITIVES=[["math_random",r.default.MATH_RANDOM,Math.random],["get_time",r.default.RUNTIME,i.get_time]],t.UNARY_PRIMITIVES=[["array_length",r.default.ARRAY_LEN],["is_array",r.default.IS_ARRAY],["is_boolean",r.default.IS_BOOL],["is_function",r.default.IS_FUNC],["is_null",r.default.IS_NULL],["is_number",r.default.IS_NUMBER],["is_string",r.default.IS_STRING],["is_undefined",r.default.IS_UNDEFINED],["math_abs",r.default.MATH_ABS,Math.abs],["math_acos",r.default.MATH_ACOS,Math.acos],["math_acosh",r.default.MATH_ACOSH,Math.acosh],["math_asin",r.default.MATH_ASIN,Math.asin],["math_asinh",r.default.MATH_ASINH,Math.asinh],["math_atan",r.default.MATH_ATAN,Math.atan],["math_atanh",r.default.MATH_ATANH,Math.atanh],["math_cbrt",r.default.MATH_CBRT,Math.cbrt],["math_ceil",r.default.MATH_CEIL,Math.ceil],["math_clz32",r.default.MATH_CLZ32,Math.clz32],["math_cos",r.default.MATH_COS,Math.cos],["math_cosh",r.default.MATH_COSH,Math.cosh],["math_exp",r.default.MATH_EXP,Math.exp],["math_expm1",r.default.MATH_EXPM1,Math.expm1],["math_floor",r.default.MATH_FLOOR,Math.floor],["math_fround",r.default.MATH_FROUND,Math.fround],["math_log",r.default.MATH_LOG,Math.log],["math_log1p",r.default.MATH_LOG1P,Math.log1p],["math_log2",r.default.MATH_LOG2,Math.log2],["math_log10",r.default.MATH_LOG10,Math.log10],["math_round",r.default.MATH_ROUND,Math.round],["math_sign",r.default.MATH_SIGN,Math.sign],["math_sin",r.default.MATH_SIN,Math.sin],["math_sinh",r.default.MATH_SINH,Math.sinh],["math_sqrt",r.default.MATH_SQRT,Math.sqrt],["math_tan",r.default.MATH_TAN,Math.tan],["math_tanh",r.default.MATH_TANH,Math.tanh],["math_trunc",r.default.MATH_TRUNC,Math.trunc],["stringify",r.default.STRINGIFY]],t.BINARY_PRIMITIVES=[["math_atan2",r.default.MATH_ATAN2,Math.atan2],["math_imul",r.default.MATH_IMUL,Math.imul],["math_pow",r.default.MATH_POW,Math.pow],["parse_int",r.default.PARSE_INT,i.parse_int]],t.EXTERNAL_PRIMITIVES=[["display",r.default.DISPLAY],["error",r.default.ERROR],["prompt",r.default.PROMPT]],t.CONSTANT_PRIMITIVES=[["undefined",void 0],["Infinity",1/0],["NaN",NaN],["math_E",Math.E],["math_LN2",Math.LN2],["math_LN10",Math.LN10],["math_LOG2E",Math.LOG2E],["math_LOG10E",Math.LOG10E],["math_PI",Math.PI],["math_SQRT1_2",Math.SQRT1_2],["math_SQRT2",Math.SQRT2]],t.generatePrimitiveFunctionCode=function(e){var n=e[1],i=[],s=new Map;t.PRIMITIVE_FUNCTION_NAMES.forEach((function(e,t){s.set(e,t)})),t.NULLARY_PRIMITIVES.forEach((function(e){return i.push([s.get(e[0]),[1,0,0,[[e[1]],[r.default.RETG]]]])})),t.UNARY_PRIMITIVES.forEach((function(e){return i.push([s.get(e[0]),[1,1,1,[[r.default.LDLG,0],[e[1]],[r.default.RETG]]]])})),t.BINARY_PRIMITIVES.forEach((function(e){return i.push([s.get(e[0]),[2,2,2,[[r.default.LDLG,0],[r.default.LDLG,1],[e[1]],[r.default.RETG]]]])})),i.forEach((function(e){n[e[0]+1]=e[1]})),o.forEach((function(e){var r=s.get(e[0]),i=e[1],o=e[2];n[r+1][2]=t.VARARGS_NUM_ARGS,void 0!==i&&void 0!==o&&n[r+1][3].forEach((function(e){e[0]===i&&(e[0]=o)}))}))}},zABw:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NoVarError=void 0;var s=n("j0Aj"),a=n("QyX9"),u=function(){function e(e){this.node=e,this.type=a.ErrorType.SYNTAX,this.severity=a.ErrorSeverity.ERROR}var t,n,r;return t=e,(n=[{key:"location",get:function(){return this.node.loc}},{key:"explain",value:function(){return'Variable declaration using "var" is not allowed.'}},{key:"elaborate",value:function(){var e=this.node.declarations[0].id.name,t=s.generate(this.node.declarations[0].init);return'Use keyword "let" instead, to declare a variable:\n\n\tlet '.concat(e," = ").concat(t,";")}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.NoVarError=u,t.default={name:"no-var",checkers:{VariableDeclaration:function(e){return"var"===e.kind?[new u(e)]:[]}}}},zZ3m:function(e,t){"use strict";function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return"string"==typeof e?e:t.reduce((function(t,n,r){return t+n+e[r+1]}),e[0])}Object.defineProperty(t,"__esModule",{value:!0}),t.simplify=t.stripIndent=t.oneLine=void 0,t.oneLine=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,n).replace(/(?:\n(?:\s*))+/g," ").trim()},t.stripIndent=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var s=i(e,r),a=s.match(/^[^\S\n]*(?=\S)/gm),u=a&&Math.min.apply(Math,n(a.map((function(e){return e.length}))));return u?s.replace(new RegExp("^.{".concat(u,"}"),"gm"),"").trim():s.trim()},t.simplify=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;if(e.length<t)return e;var n=Math.ceil(t-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...").length/2);return e.slice(0,n)+" ... "+e.slice(n)}},zkTx:function(e,t,n){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=o.prototype:(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return s(this,e,t,n)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);o.TYPED_ARRAY_SUPPORT?(e=t).__proto__=o.prototype:e=l(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n);e=i(e,r);var s=e.write(t,n);s!==r&&(e=e.slice(0,s));return e}(e,t,n):function(e,t){if(o.isBuffer(t)){var n=0|c(t.length);return 0===(e=i(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?i(e,0):l(e,t);if("Buffer"===t.type&&z(t.data))return l(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(a(t),e=i(e,t<0?0:0|c(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t){var n=t.length<0?0:0|c(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function c(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function h(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return P(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(r)return P(e).length;t=(""+t).toLowerCase(),r=!0}}function p(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function f(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function d(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var s,a=1,u=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,u/=2,l/=2,n/=2}if(i){var c=-1;for(s=n;s<u;s++)if(o(e,s)===o(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*a}else-1!==c&&(s-=s-c),c=-1}else for(n+l>u&&(n=u-l),s=n;s>=0;s--){for(var h=!0,p=0;p<l;p++)if(o(e,s+p)!==o(t,p)){h=!1;break}if(h)return s}return-1}function g(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function y(e,t,n,r){return $(P(t,e.length-n),e,n,r)}function v(e,t,n,r){return $(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return v(e,t,n,r)}function x(e,t,n,r){return $(F(t),e,n,r)}function w(e,t,n,r){return $(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(t,e.length-n),e,n,r)}function _(e,t,n){return V.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,l=e[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:s=e[i+2],128==(192&(o=e[i+1]))&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:s=e[i+2],a=e[i+3],128==(192&(o=e[i+1]))&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(r.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=j)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=j));return n}(r)}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=D(e[o]);return i}function E(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function C(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function M(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(e,t,n,r,i){return i||M(e,0,n,4),B.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,i){return i||M(e,0,n,8),B.write(e,t,n,r,52,8),n+8}function D(e){return e<16?"0"+e.toString(16):e.toString(16)}function P(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(e){return V.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}var V=n("KlUR"),B=n("FaXh"),z=n("kah5");t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return s(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return function(e,t,n,r){return a(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}(null,e,t,n)},o.allocUnsafe=function(e){return u(null,e)},o.allocUnsafeSlow=function(e){return u(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},o.byteLength=h,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):p.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(s,a),l=this.slice(r,i),c=e.slice(t,n),h=0;h<u;++h)if(l[h]!==c[h]){s=l[h],a=c[h];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return d(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return d(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;o.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),o.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=o.prototype;else{var i=t-e;n=new o(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+e]}return n},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),B.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),B.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),B.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),B.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,s=r-n;if(this===e&&n<t&&t<r)for(i=s-1;i>=0;--i)e[i+t]=this[i+n];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=o.isBuffer(e)?e:P(new o(e,r).toString()),u=a.length;for(s=0;s<n-t;++s)this[s+t]=a[s%u]}return this};var U=/[^+\/0-9A-Za-z-_]/g}).call(this,n("pCvA"))}});
//# sourceMappingURL=bundle.6c83c.js.map